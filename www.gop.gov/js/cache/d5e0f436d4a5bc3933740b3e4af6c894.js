if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,d){var b,a;for(b=(d||0),a=this.length;b<a;b+=1){if(this[b]===c){return b}}return -1}}function stripOverviewCookiePath(c){var b=c.split("/"),a;for(a=b.length-1;a>=0;a-=1){if(a>4||!jQuery.isNumeric(b[a])){delete b[a]}else{break}}if(b.join("")!==""){c=b.join("/");while(c.charAt(c.length-1)==="/"){c=c.substr(0,c.length-1)}}return c}function setOverviewCookie(a,g){var f="overview_hidden",e=$.cookie(f),d=[],b=-1;a=stripOverviewCookiePath(a);if(e){d=JSON.parse(e)}try{b=d.indexOf(a)}catch(c){b=-1;d=[]}if(b!==-1){if(!g){d.splice(b,1)}}else{if(g){d.push(a)}}if(d.length>0){e=JSON.stringify(d)}else{e=null}$.cookie(f,e,{path:"/",secure:(window.location.protocol==="https:")})};
(function(a){a(".overview_wrapper").ready(function(){a(".overview_label a.toggle_button").click(function(b){b.preventDefault();var d=false,c;if(a(".overview_wrapper").css("display")==="none"){a(".overview_label").removeClass("off");a(".overview_label a.toggle_button").html("Hide Overview <i></i>")}else{a(".overview_label").addClass("off");a(".overview_label a.toggle_button").html("Show Overview <i></i>");d=true}a(".overview_wrapper.bill").slideToggle();if(d){c="closed"}else{c="open"}a(document).trigger("overviewStateChanged",c);setOverviewCookie(window.location.pathname,d)});a(".overview_toggle a").click(function(b){b.preventDefault();var c=false;if(a(".overview_wrapper").css("display")==="none"){a(".overview_toggle").removeClass("off");a(".overview_toggle a").text("Hide Overview")}else{a(".overview_toggle").addClass("off");a(".overview_toggle a").text("Show Overview");c=true}a(".overview_wrapper").slideToggle();setOverviewCookie(window.location.pathname,c)})})}(jQuery));
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
(function defineMustache(b,a){if(typeof exports==="object"&&exports&&typeof exports.nodeName!=="string"){a(exports)}else{if(typeof define==="function"&&define.amd){define(["exports"],a)}else{b.Mustache={};a(b.Mustache)}}}(this,function mustacheFactory(F){var x=Object.prototype.toString;var y=Array.isArray||function d(Q){return x.call(Q)==="[object Array]"};function u(Q){return typeof Q==="function"}function L(Q){return y(Q)?"array":typeof Q}function i(Q){return Q.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function J(R,Q){return R!=null&&typeof R==="object"&&(Q in R)}var o=RegExp.prototype.test;function c(R,Q){return o.call(R,Q)}var s=/\S/;function E(Q){return !c(s,Q)}var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function z(Q){return String(Q).replace(/[&<>"'`=\/]/g,function R(S){return q[S]})}var t=/\s*/;var C=/\s+/;var l=/\s*=/;var N=/\s*\}/;var r=/#|\^|\/|>|\{|&|=|!/;function e(aj,Y){if(!aj){return[]}var aa=[];var Z=[];var V=[];var ak=false;var ah=false;function ag(){if(ak&&!ah){while(V.length){delete Z[V.pop()]}}else{V=[]}ak=false;ah=false}var ac,X,ai;function W(al){if(typeof al==="string"){al=al.split(C,2)}if(!y(al)||al.length!==2){throw new Error("Invalid tags: "+al)}ac=new RegExp(i(al[0])+"\\s*");X=new RegExp("\\s*"+i(al[1]));ai=new RegExp("\\s*"+i("}"+al[1]))}W(Y||F.tags);var S=new a(aj);var T,R,ab,ae,U,Q;while(!S.eos()){T=S.pos;ab=S.scanUntil(ac);if(ab){for(var af=0,ad=ab.length;af<ad;++af){ae=ab.charAt(af);if(E(ae)){V.push(Z.length)}else{ah=true}Z.push(["text",ae,T,T+1]);T+=1;if(ae==="\n"){ag()}}}if(!S.scan(ac)){break}ak=true;R=S.scan(r)||"name";S.scan(t);if(R==="="){ab=S.scanUntil(l);S.scan(l);S.scanUntil(X)}else{if(R==="{"){ab=S.scanUntil(ai);S.scan(N);S.scanUntil(X);R="&"}else{ab=S.scanUntil(X)}}if(!S.scan(X)){throw new Error("Unclosed tag at "+S.pos)}U=[R,ab,T,S.pos];Z.push(U);if(R==="#"||R==="^"){aa.push(U)}else{if(R==="/"){Q=aa.pop();if(!Q){throw new Error('Unopened section "'+ab+'" at '+T)}if(Q[1]!==ab){throw new Error('Unclosed section "'+Q[1]+'" at '+T)}}else{if(R==="name"||R==="{"||R==="&"){ah=true}else{if(R==="="){W(ab)}}}}}Q=aa.pop();if(Q){throw new Error('Unclosed section "'+Q[1]+'" at '+S.pos)}return m(p(Z))}function p(V){var R=[];var T,Q;for(var S=0,U=V.length;S<U;++S){T=V[S];if(T){if(T[0]==="text"&&Q&&Q[0]==="text"){Q[1]+=T[1];Q[3]=T[3]}else{R.push(T);Q=T}}}return R}function m(V){var X=[];var U=X;var W=[];var R,T;for(var Q=0,S=V.length;Q<S;++Q){R=V[Q];switch(R[0]){case"#":case"^":U.push(R);W.push(R);U=R[4]=[];break;case"/":T=W.pop();T[5]=R[2];U=W.length>0?W[W.length-1][4]:X;break;default:U.push(R)}}return X}function a(Q){this.string=Q;this.tail=Q;this.pos=0}a.prototype.eos=function K(){return this.tail===""};a.prototype.scan=function O(S){var R=this.tail.match(S);if(!R||R.index!==0){return""}var Q=R[0];this.tail=this.tail.substring(Q.length);this.pos+=Q.length;return Q};a.prototype.scanUntil=function I(S){var R=this.tail.search(S),Q;switch(R){case -1:Q=this.tail;this.tail="";break;case 0:Q="";break;default:Q=this.tail.substring(0,R);this.tail=this.tail.substring(R)}this.pos+=Q.length;return Q};function M(R,Q){this.view=R;this.cache={".":this.view};this.parent=Q}M.prototype.push=function G(Q){return new M(Q,this)};M.prototype.lookup=function j(T){var R=this.cache;var V;if(R.hasOwnProperty(T)){V=R[T]}else{var U=this,W,S,Q=false;while(U){if(T.indexOf(".")>0){V=U.view;W=T.split(".");S=0;while(V!=null&&S<W.length){if(S===W.length-1){Q=J(V,W[S])}V=V[W[S++]]}}else{V=U.view[T];Q=J(U.view,T)}if(Q){break}U=U.parent}R[T]=V}if(u(V)){V=V.call(this.view)}return V};function k(){this.cache={}}k.prototype.clearCache=function A(){this.cache={}};k.prototype.parse=function v(S,R){var Q=this.cache;var T=Q[S];if(T==null){T=Q[S]=e(S,R)}return T};k.prototype.render=function B(T,Q,S){var U=this.parse(T);var R=(Q instanceof M)?Q:new M(Q);return this.renderTokens(U,R,S,T)};k.prototype.renderTokens=function n(X,Q,V,Z){var T="";var S,R,Y;for(var U=0,W=X.length;U<W;++U){Y=undefined;S=X[U];R=S[0];if(R==="#"){Y=this.renderSection(S,Q,V,Z)}else{if(R==="^"){Y=this.renderInverted(S,Q,V,Z)}else{if(R===">"){Y=this.renderPartial(S,Q,V,Z)}else{if(R==="&"){Y=this.unescapedValue(S,Q)}else{if(R==="name"){Y=this.escapedValue(S,Q)}else{if(R==="text"){Y=this.rawValue(S)}}}}}}if(Y!==undefined){T+=Y}}return T};k.prototype.renderSection=function w(S,Q,V,Y){var Z=this;var U="";var W=Q.lookup(S[1]);function R(aa){return Z.render(aa,Q,V)}if(!W){return}if(y(W)){for(var T=0,X=W.length;T<X;++T){U+=this.renderTokens(S[4],Q.push(W[T]),V,Y)}}else{if(typeof W==="object"||typeof W==="string"||typeof W==="number"){U+=this.renderTokens(S[4],Q.push(W),V,Y)}else{if(u(W)){if(typeof Y!=="string"){throw new Error("Cannot use higher-order sections without the original template")}W=W.call(Q.view,Y.slice(S[3],S[5]),R);if(W!=null){U+=W}}else{U+=this.renderTokens(S[4],Q,V,Y)}}}return U};k.prototype.renderInverted=function b(S,R,Q,U){var T=R.lookup(S[1]);if(!T||(y(T)&&T.length===0)){return this.renderTokens(S[4],R,Q,U)}};k.prototype.renderPartial=function H(S,R,Q){if(!Q){return}var T=u(Q)?Q(S[1]):Q[S[1]];if(T!=null){return this.renderTokens(this.parse(T),R,Q,T)}};k.prototype.unescapedValue=function g(R,Q){var S=Q.lookup(R[1]);if(S!=null){return S}};k.prototype.escapedValue=function D(R,Q){var S=Q.lookup(R[1]);if(S!=null){return F.escape(S)}};k.prototype.rawValue=function f(Q){return Q[1]};F.name="mustache.js";F.version="2.2.1";F.tags=["{{","}}"];var P=new k();F.clearCache=function A(){return P.clearCache()};F.parse=function v(R,Q){return P.parse(R,Q)};F.render=function B(S,Q,R){if(typeof S!=="string"){throw new TypeError('Invalid template! Template should be a "string" but "'+L(S)+'" was given as the first argument for mustache#render(template, view, partials)')}return P.render(S,Q,R)};F.to_html=function h(T,R,S,U){var Q=F.render(T,R,S);if(u(U)){U(Q)}else{return Q}};F.escape=z;F.Scanner=a;F.Context=M;F.Writer=k}));
(function(a){if(!a.congress){a.congress={}}a.widget("ui.dialog",a.extend({},a.ui.dialog.prototype,{_title:function(b){if(!this.options.title){b.html("&#160;")}else{b.html(this.options.title)}}}));a.congress.Alert=function(c,b){var d=this;d.options={type:null,id:null,loggedIn:false,hasAlert:false,buttonDivId:null,buttonText:null,buttonTextIfLoggedIn:null,buttonTextIfHasAlert:null,buttonTextIfHasDialog:null,infoText:null,dialogDivId:null,titleText:null,titleTextIfLoggedIn:null,titleTextIfHasAlert:null,editAlertDialogTitle:'Track Changes - Choose one or more (Optional) <small><a href="/help/alerts/">Help</a></small>',showEditDialogue:"false",hideEditLink:"true",networkError:"Network error, please try again later.",countLimitReached:"false",cannotAddNewAlertDialogMessage:"",cannotAddNewAlertDialogTitle:""};d.$buttonContainer=a(c);d.$button=null;d.$dialogDiv=null;d.dialogTitle=null;a.congress.Alert.object=d;d.templateFiles={confirmation:"/js/saved-search/templates/_confirmation.html",editAlert:"/js/alerts/templates/_editAlert.html",overLimitAlert:"/js/alerts/templates/_overLimitAlert.html",editCommitteeAlertPreferences:"/js/alerts/templates/_editCommitteeAlertPreferences.html",editBillAlertPreferences:"/js/alerts/templates/_editBillAlertPreferences.html",editSingleMemberAlertPreferences:"/js/alerts/templates/_editSingleMemberAlertPreferences.html"};d.templates={};d.confirmationFadeOutDelay=3000;d.userExistingSelections=[];d.createAlert=function(){d.options.countLimitReached=false;var h="",f="",i="",g=[],e=a("a.get-alert-link");if(e!==undefined){d.options.countLimitReached=e[0].classList.contains("count-limit-reached");h=a("a.get-alert-link")[0].id;g=h.split("-"),f=g[1],i=g[2]}if(d.options.countLimitReached==="true"&&f==="SAVED_SEARCH"&&g[0]==="getAlert"){d.showOverLimitAlertDialog()}else{d.ajax("/alert/create","POST",function(j,l,k){switch(j.status){case"error":d.showErrors(d.$dialogDiv.parent().find("span.ui-dialog-title").attr("id"),j.errors);break;case"exception":default:d.showErrors(d.$dialogDiv.parent().find("span.ui-dialog-title").attr("id"),[d.options.networkError]);break;case"success":d.hideDialog();d.options.hasAlert=true;if(j.countLimitReached!==undefined){d.options.countLimitReached=j.countLimitReached.toString()}if(d.options.type=="TREATY"&&d.options.loggedIn){d.showConfirmationDialog("confirmationDialog","You will receive email updates for this Treaty Document.")}else{d.showConfirmationDialog("confirmationDialog",d.options.alertMessageText)}d.reInit();d.showAlert();break}})}};d.deleteAlert=function(){d.ajax("/alert/delete","POST",function(e,g,f){switch(e.status){case"error":d.showErrors(d.$dialogDiv.attr("id"),e.errors);break;case"exception":default:d.showErrors(d.$dialogDiv.attr("id"),[d.options.networkError]);break;case"success":d.hideDialog();if(e.countLimitReached!==undefined){d.options.countLimitReached=e.countLimitReached.toString()}if(e){d.resetAlertLinksProperty("cancel-to-get")}d.reInit();d.showAlert();break}})};d.showErrors=function(e,f){if(f===undefined||f.length==0){f=[d.options.networkError]}a("#"+e+" .errors").html(f.join("<br>")).css("color","red")};d.hideErrors=function(e){a("#"+e+" .errors").html("")};d.showEditAlertDialog=function(g){g.preventDefault();var e=g.target,h=a(e),k=d.options.editAlertDialogTitle,j=h.attr("id"),i=j.split("-"),f=i[1],l=i[2];if(f==="SAVED_SEARCH"&&e.classList.contains("count-limit-reached")&&i[0]==="getAlert"){d.showOverLimitAlertDialog(g)}else{d.userExistingSelections=[];d.showLoadIcon();a.ajax({timeout:3000,url:"/alert/fetch-user-preferences",data:{savedSearchId:l},success:function(m){d.hideLoadIcon();var n={userPreferences:m};d.showAlertDialog(h,k,d.templates.editAlert,n,function(o,p){d.toggleAllFields();d.bind(".ui-widget-overlay","click",function(q){d.hideDialog(q,"editAlertDialog")});d.bind(".ui-dialog-titlebar-close","click",function(q){d.hideDialog(q,"editAlertDialog")});d.bind(".dialog-close","click",function(q){d.hideDialog(q,"editAlertDialog")});d.bind("#editAlertButton","click",function(q){q.preventDefault();d.editAlert(f,l,h,"editAlertDialog")})})},error:function(m,o,n){d.hideLoadIcon()}})}};d.toggleAllFields=function(){d.toggleConfirmAlertsButtonEnabled();var f="input[name=alertOptions]";var e=a(f).length===a(f+":checked").length;if(e){a("#ssCheckAll").prop("checked",true)}a(f).click(function(){d.toggleConfirmAlertsButtonEnabled();e=a(f).length===a(f+":checked").length;if(e){a("#ssCheckAll").prop("checked",true)}else{a("#ssCheckAll").prop("checked",false)}});a("#ssCheckAll").click(function(){a(f).prop("checked",a("#ssCheckAll").prop("checked"));d.toggleConfirmAlertsButtonEnabled()})};d.toggleConfirmAlertsButtonEnabled=function(){var f="editAlertDialog";d.hideErrors(f);var e="input[name=alertOptions]";var g=a(e+":checked").length>0;if(g){a("a.confirm-alert").removeClass("disabled")}else{if(d.options.type==="BILL"){a("a.confirm-alert").addClass("disabled")}}};d.showAlertDialog=function(h,i,f,g,e){var j=Mustache.to_html(f,g);a(j).dialog({autoOpen:true,dialogClass:"congress_dialog congress-default-modal",title:i,modal:true,resizable:true,width:690,open:e})};d.editAlert=function(g,i,h,e){d.hideErrors(e);var f=a("input:checkbox[name=alertOptions]:checked").map(function(){return a(this).val()}).get();d.showLoadIcon();a.ajax({timeout:3000,url:"/alert/edit",method:"GET",cache:false,data:{type:g,savedSearchId:i,trackOptions:f},success:function(k,l,j){d.hideLoadIcon();switch(k.status){case"success":if(k.countLimitReached!==undefined){d.options.countLimitReached=k.countLimitReached.toString()}d.hideDialog(null,e);d.showConfirmationDialog("confirmationDialog","You will receive an alert whenever your search results change.");if(k){d.resetAlertLinksProperty("get-to-cancel")}d.reInit();d.showAlert();break;case"error":d.showErrors(e,k.errors);break;case"exception":default:d.showErrors(e,[d.options.networkError]);break}},error:function(j,l,k){d.hideLoadIcon();d.showErrors(e,[d.options.networkError])}})};d.resetAlertLinksProperty=function(f){var e=window.location.pathname.split("/");if(f==="get-to-cancel"){d.options.hasAlert=true;d.options.hideEditLink="false";if(e[1]==="quick-search"||e[1]==="advanced-search"){d.options.hideEditLink="true"}}else{if(f==="cancel-to-get"){d.options.hasAlert=false;if(d.options.showEditDialogue==="true"){d.options.hideEditLink="false"}else{d.options.hideEditLink="null"}}}};d.ajax=function(g,f,e){d.showLoadIcon();a.ajax({timeout:3000,url:g,method:f,cache:false,data:{type:d.options.type,id:d.options.id},success:function(i,j,h){d.hideLoadIcon();e(i,j,h)},error:function(h,j,i){d.hideLoadIcon();d.handleError(h,j,i)}})};d.handleError=function(e,g,f){};d.showDialog=function(g){if(g&&g.preventDefault){g.preventDefault()}var e=g.target,h=a(e),j=h.attr("id"),i=[],f="",k="";if(j!==undefined){i=j.split("-"),f=i[1],k=i[2]}if(f==="SAVED_SEARCH"&&e.classList.contains("count-limit-reached")&&i[0]==="getAlert"){d.showOverLimitAlertDialog(g)}else{d.$dialogDiv.dialog({autoOpen:true,draggable:false,dialogClass:"congress-default-modal alerts-modal-dialog",modal:true,open:function(l,m){d.bind(d.$dialogDiv.find("a.dialog-close"),"click",d.hideDialog);d.bind(".ui-widget-overlay","click",d.hideDialog);d.bind(".alerts-account-link","click",d.accountLinkClickHandler)},close:function(l,m){d.hideDialog(l)},title:d.dialogTitle})}};d.accountLinkClickHandler=function(f){f.preventDefault();let urlParams=new URLSearchParams(window.location.search);urlParams.set("dogetalerts",btoa(d.options.buttonDivId));const e=window.location.pathname+"?"+urlParams.toString();a.cookie("post-authentication-url",e,{path:"/",secure:(window.location.protocol==="https:")});window.location.href=f.target.href};d.hideDialog=function(f,e){if(f!=undefined){f.preventDefault()}if(typeof e!=="undefined"){a("#"+e).dialog("destroy")}else{d.$dialogDiv.dialog("close");d.$button.blur()}};d.showConfirmationDialog=function(h,g){var f=true;var i=Mustache.to_html(d.templates.confirmation,{message:g,bshow:f}),e=a(i);e.dialog({autoOpen:true,dialogClass:"congress-default-modal alerts-modal-dialog",title:'<h2 style="margin:0em;">Confirmed</h2>',modal:false,resizable:false,open:function(j,k){d.bind(e.parent().find(".ui-dialog-titlebar-close"),"click",function(){e.dialog("destroy")});d.bind(e.parent().find("#closeConfirmDialog"),"click",function(){e.dialog("close")})},close:function(j,k){e.dialog("close")}})};d.bind=function(e,g,f){if(typeof e=="string"){e=a(e)}e.off(g).on(g,f)};d.populateButtonDiv=function(){var h="",e="",i=d.options.id,g=d.options.type,f=d.options.hideEditLink;d.$button=a('<a class="" href="#" />'),d.$buttonEdit=a('<a class="" href="#" />');if(d.options.loggedIn){if(d.options.hasAlert){h=d.options.buttonTextIfHasAlert;d.$button=a('<a id="removeAlert-'+g+"-"+i+'" class="remove-alert-link-'+i+'" href="#" />');if(f==="false"){e=d.options.buttonTextIfHasDialog;d.$buttonEdit=a('<a id="editAlert-'+g+"-"+i+'" class="edit-alert-link" href="#" />')}}else{h=d.options.buttonTextIfLoggedIn;d.$button=a('<a id="getAlert-'+g+"-"+i+'" class="get-alert-link" href="#" />')}}else{h=d.options.buttonText}if(d.options.type=="BILL"&&d.options.loggedIn){if(h==="Get alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showBillAlertPreferencesDialog);d.$buttonContainer.html(d.$button);d.$buttonContainer.css("display","inline")}else{if(h==="Cancel Alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showDialog);d.$buttonContainer.html(d.$button);if(f==="false"){d.$buttonEdit.html(e);d.bind(d.$buttonEdit,"click",d.showBillAlertPreferencesDialog);d.$buttonContainer.append(" | ",d.$buttonEdit)}if(f==="true"){d.$buttonContainer.css("display","none")}else{d.$buttonContainer.css("display","inline")}}}}else{if(d.options.type=="COMMITTEE"&&d.options.loggedIn){if(h==="Get alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showCommitteeAlertPreferencesDialog);d.$buttonContainer.html(d.$button);d.$buttonContainer.css("display","inline")}else{if(h==="Cancel Alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showDialog);d.$buttonContainer.html(d.$button);if(f==="false"){d.$buttonEdit.html(e);d.bind(d.$buttonEdit,"click",d.showCommitteeAlertPreferencesDialog);d.$buttonContainer.append(" | ",d.$buttonEdit)}if(f==="true"){d.$buttonContainer.css("display","none")}else{d.$buttonContainer.css("display","inline")}}}}else{if(d.options.type=="MEMBER"&&d.options.loggedIn){if(h==="Get alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showMemberAlertPreferencesDialog);d.$buttonContainer.html(d.$button);d.$buttonContainer.css("display","inline")}else{if(h==="Cancel Alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showDialog);d.$buttonContainer.html(d.$button);if(f==="false"){d.$buttonEdit.html(e);d.bind(d.$buttonEdit,"click",d.showMemberAlertPreferencesDialog);d.$buttonContainer.append(" | ",d.$buttonEdit)}if(f==="true"){d.$buttonContainer.css("display","none")}else{d.$buttonContainer.css("display","inline")}}}}else{if(h==="Cancel Alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showDialog);d.$buttonContainer.html(d.$button);if(d.options.infoText){d.$buttonContainer.append(" "+d.options.infoText)}if(e==="Edit Alerts"){if(f==="false"){d.$buttonEdit.html(e);d.bind(d.$buttonEdit,"click",d.showEditAlertDialog);d.$buttonContainer.append(" | ",d.$buttonEdit)}}if(f==="true"){d.$buttonContainer.css("display","none")}else{d.$buttonContainer.css("display","inline")}}else{if(h==="Cancel Alerts"){d.$button.html(h);d.bind(d.$button,"click",d.showDialog);d.$buttonContainer.html(d.$button);if(d.options.infoText){d.$buttonContainer.append(" "+d.options.infoText)}if(e==="Edit Alerts"){if(f==="false"){d.$buttonEdit.html(e);d.bind(d.$buttonEdit,"click",d.showEditAlertDialog);d.$buttonContainer.append(" | ",d.$buttonEdit)}}if(f==="true"){d.$buttonContainer.css("display","none")}else{d.$buttonContainer.css("display","inline")}}else{if(f==="null"){d.$button.html(h);d.bind(d.$button,"click",d.showDialog);d.$buttonContainer.html(d.$button);if(d.options.infoText){d.$buttonContainer.append(" "+d.options.infoText)}d.$buttonContainer.css("display","inline")}else{d.$button.html(h);if(d.options.loggedIn){d.bind(d.$button,"click",d.showEditAlertDialog)}else{d.bind(d.$button,"click",d.showDialog)}d.$buttonContainer.html(d.$button);d.$buttonContainer.css("display","inline")}}}}}}};d.showCommitteeAlertPreferencesDialog=function(e){e.preventDefault();a.when(d.getCommitteeAlertPreferences(),d.getTemplate("editCommitteeAlertPreferences")).then(function(f,g){d.showAlertDialog(a(e.target),d.options.editAlertDialogTitle,d.templates.editCommitteeAlertPreferences,f[0],function(h,i){d.toggleAllFields();d.bind(".ui-widget-overlay","click",function(j){d.hideDialog(j,"editAlertDialog")});d.bind(".ui-dialog-titlebar-close","click",function(j){d.hideDialog(j,"editAlertDialog")});d.bind(".dialog-close","click",function(j){d.hideDialog(j,"editAlertDialog")});d.bind("#confirmCommitteeAlert","click",function(j){j.preventDefault();d.saveCommitteeAlert()})})})};d.showBillAlertPreferencesDialog=function(e){e.preventDefault();a.when(d.getBillAlertPreferences(),d.getTemplate("editBillAlertPreferences")).then(function(f,g){var h=f[0];h.confirmButtonText="Confirm Alerts";d.showAlertDialog(a(e.target),d.options.editAlertDialogTitle,d.templates.editBillAlertPreferences,h,function(i,j){d.toggleAllFields();d.bind(".ui-widget-overlay","click",function(k){d.hideDialog(k,"editAlertDialog")});d.bind(".ui-dialog-titlebar-close","click",function(k){d.hideDialog(k,"editAlertDialog")});d.bind(".dialog-close","click",function(k){d.hideDialog(k,"editAlertDialog")});d.bind("#confirmBillAlertButton","click",function(k){k.preventDefault();d.saveBillAlert()})})})};d.showMemberAlertPreferencesDialog=function(e){e.preventDefault();a.when(d.getMemberAlertPreferences(),d.getTemplate("editSingleMemberAlertPreferences")).then(function(f,g){d.showAlertDialog(a(e.target),"Member Activity Alerts",d.templates.editSingleMemberAlertPreferences,f[0],function(h,i){d.toggleAllFields();d.bind(".ui-widget-overlay","click",function(j){d.hideDialog(j,"editAlertDialog")});d.bind(".ui-dialog-titlebar-close","click",function(j){d.hideDialog(j,"editAlertDialog")});d.bind(".dialog-close","click",function(j){d.hideDialog(j,"editAlertDialog")});d.bind("#confirmSingleMemberAlert","click",function(j){j.preventDefault();d.saveMemberAlert()})})})};d.getCommitteeAlertPreferences=function(){d.showLoadIcon();return a.ajax({timeout:3000,url:"/alert/fetch-committee-alert-user-preferences",cache:false,data:{committeeId:d.options.id},error:d.handleError,complete:function(e,f){d.hideLoadIcon()}})};d.getBillAlertPreferences=function(){d.showLoadIcon();return a.ajax({timeout:3000,url:"/alert/fetch-bill-alert-user-preferences",cache:false,data:{billId:d.options.id},error:d.handleError,complete:function(e,f){d.hideLoadIcon()}})};d.getMemberAlertPreferences=function(){d.showLoadIcon();return a.ajax({timeout:3000,url:"/alert/fetch-single-member-alert-user-preferences",cache:false,data:{memberId:d.options.id},error:d.handleError,complete:function(e,f){d.hideLoadIcon()}})};d.saveCommitteeAlert=function(){var e="editAlertDialog";d.hideErrors(e);var f=a("input:checkbox[name=alertOptions]:checked").map(function(){return a(this).val()}).get();d.showLoadIcon();a.ajax({timeout:3000,url:"/alert/save-committee-alert",method:"POST",cache:false,data:{committeeId:d.options.id,preferences:JSON.stringify(f)},success:function(h,i,g){switch(h.status){case"success":d.options.hasAlert=true;d.hideDialog(null,e);d.showConfirmationDialog("confirmationDialog","You will receive an alert whenever your search results change.");d.reInit();d.showAlert();break;case"error":d.showErrors(e,h.errors);break;case"exception":default:d.showErrors(e,[d.options.networkError]);break}},error:d.handleError,complete:function(g,i,h){d.hideLoadIcon()}})};d.saveBillAlert=function(){var e="editAlertDialog";d.hideErrors(e);if(a("a.confirm-alert").hasClass("disabled")){d.showErrors(e,["Please select one or more parameters."]);return}var f=a("input:checkbox[name=alertOptions]:checked").map(function(){return a(this).val()}).get();d.showLoadIcon();a.ajax({timeout:3000,url:"/alert/save-bill-alert",method:"POST",cache:false,data:{billId:d.options.id,preferences:JSON.stringify(f)},success:function(h,i,g){switch(h.status){case"success":d.options.hasAlert=true;d.hideDialog(null,e);d.showConfirmationDialog("confirmationDialog","You will receive an alert for the updates you selected for this bill.");d.reInit();d.showAlert();break;case"error":d.showErrors(e,h.errors);break;case"exception":default:d.showErrors(e,[d.options.networkError]);break}},error:d.handleError,complete:function(g,i,h){d.hideLoadIcon()}})};d.saveMemberAlert=function(){var e="editAlertDialog";d.hideErrors(e);var f=a("input:checkbox[name=alertOptions]:checked").map(function(){return a(this).val()}).get();d.showLoadIcon();a.ajax({timeout:3000,url:"/alert/save-single-member-alert",method:"POST",cache:false,data:{memberId:d.options.id,preferences:JSON.stringify(f)},success:function(h,i,g){switch(h.status){case"success":d.options.hasAlert=true;d.hideDialog(null,e);d.showConfirmationDialog("confirmationDialog","You will receive an alert whenever Member Activity changes.");d.reInit();d.showAlert();break;case"error":d.showErrors(e,h.errors);break;case"exception":default:d.showErrors(e,[d.options.networkError]);break}},error:d.handleError,complete:function(g,i,h){d.hideLoadIcon()}})};d.showOverLimitAlertDialog=function(f){if(f&&f.preventDefault){f.preventDefault()}var g=d.options.cannotAddNewAlertDialogTitle,e=d.options.cannotAddNewAlertDialogMessage;var h=Mustache.to_html(d.templates.overLimitAlert,{message:e});a(h).dialog({autoOpen:true,dialogClass:"congress_dialog congress-default-modal",title:g,modal:true,resizable:true,width:690,open:function(){d.bind(".ui-widget-overlay","click",function(i){d.hideDialog(i,"overLimitAlertDialog")});d.bind(".ui-dialog-titlebar-close","click",function(i){d.hideDialog(i,"overLimitAlertDialog")});d.bind(".dialog-close","click",function(i){d.hideDialog(i,"overLimitAlertDialog")});d.bind("#goButton","click",function(i){i.preventDefault();d.hideDialog(i,"overLimitAlertDialog");window.location="/alerts"})}})};d.populateDialogDiv=function(){var i=a("<div />"),e,f=d.options.hideEditLink;d.$dialogDiv=a('<div class="congress_dialog alert-dialog" style="display:none"></div>');d.$dialogDiv.attr("id",d.options.dialogDivId);if(d.options.loggedIn){if(d.options.hasAlert){d.dialogTitle=d.options.titleTextIfHasAlert;i.addClass("button-wrapper");i.append('<a class="button dialog-close" href="#">No, keep it.</a> &nbsp; ');e=a('<button class="button primary" />');e.html("Cancel it");d.bind(e,"click",d.deleteAlert);i.append(e)}else{if(f==="null"){var g='<div class="alerts-modal-content"><div class="errors"></div>'+d.options.alertMessageText+"</div>";d.dialogTitle=d.options.titleTextIfLoggedIn+d.options.titleTextAddendum+d.options.alertSourceType+"?"+g;i.addClass("button-wrapper");e=a('<button class="button primary" />');e.html("Confirm Alerts");d.bind(e,"click",d.createAlert);i.append(e)}}}else{var h=d.options.titleText+d.options.titleTextAddendum+d.options.alertSourceType;d.dialogTitle=h+' <a class="alerts-account-link" href="/account/signin">sign in</a> or <a class="alerts-account-link" href="/account/register">create an account</a>.';i.addClass("alerts-modal-heading");i.append('<div class="alerts-modal-content"><div class="errors"></div>'+d.options.alertMessageText+"</div>")}d.$dialogDiv.html("");d.$dialogDiv.append('<div class="errors"></div>');d.$dialogDiv.append(i)};d.resetGetAlertsLinks=function(){var e=a("a.get-alert-link");if(e.length){e.each(function(g,f){var j=f.innerHTML,h=f.id,k=h.split("-")[2];if(d.options.countLimitReached==="true"){f.classList.add("count-limit-reached")}else{f.classList.remove("count-limit-reached")}})}};d.reInit=function(){d.populateButtonDiv();d.populateDialogDiv();d.resetGetAlertsLinks()};d.getTemplate=function(e){if(d.templates[e]){return}return a.ajax({timeout:3000,url:d.templateFiles[e],success:function(f){d.templates[e]=f}})};d.checkForAlert=function(){return a.ajax({timeout:3000,url:"/alert/check-for-alert",cache:false,data:{type:d.options.type,id:d.options.id}})};d.init=function(){d.options=a.extend({},d.options,b);a.when(d.checkForAlert(),d.getTemplate("confirmation"),d.getTemplate("editAlert"),d.getTemplate("overLimitAlert")).then(function(e,i,h,g){if(!e[0].alertsEnabled){d.hideAlert()}else{if(!e[0].userLoggedIn){d.options.loggedIn=false;d.options.hasAlert=false}else{if(!e[0].userHasAlert){d.options.loggedIn=true;d.options.hasAlert=false}else{d.options.loggedIn=true;d.options.hasAlert=true}}d.reInit();d.showAlert();const f=new URLSearchParams(window.location.search);if(d.options.loggedIn&&!d.options.hasAlert&&f.has("dogetalerts")&&atob(f.get("dogetalerts"))===d.options.buttonDivId){d.$button.trigger("click")}}},function(e,h,g,f){d.hideAlert()});a(window).off("resize").on("resize",function(e){if((d.$dialogDiv.dialog("instance")!=undefined&&d.$dialogDiv.dialog("isOpen")===true)){d.$dialogDiv.dialog("option","position",{my:"center",at:"center",of:window})}if((a("#editAlertDialog").dialog("instance")!=undefined&&a("#editAlertDialog").dialog("isOpen")===true)){a("#editAlertDialog").dialog("option","position",{my:"center",at:"center",of:window})}});a(window).on("update-saved-searches-count",function(e,f){if(f.countLimitReached!==undefined){d.options.countLimitReached=f.countLimitReached.toString()}d.resetGetAlertsLinks()})};d.hideAlert=function(){a(".alert-link-wrapper").css("display","none");a(".alert-link-container").css("display","none");a(".alert-pipe").css("display","none")};d.showAlert=function(){a(".alert-link-wrapper").css("display","inline-block");a(".alert-link-container").css("display","inline");a(".alert-pipe").css("display","inline")};d.showLoadIcon=function(){a(".actionLoaderWrapper").css("display","block")};d.hideLoadIcon=function(){a(".actionLoaderWrapper").css("display","none")};d.init()};a.fn.congress_Alert=function(b){return this.each(function(){return new a.congress.Alert(this,b)})}}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.AccountLink=function(c,b){var d=this;d.$el=a(c);d.options={accountLandingUrl:null,accountRegisterUrl:null,accountSignInUrl:null,checkForUserUrl:null,debugging:false,logoutUrl:null,passwordResetUrl:null,savedSearchesUrl:null};d.templateFiles={disabled:"/js/account-link/templates/disabled.html",loggedInDialog:"/js/account-link/templates/loggedInDialog.html",loginLink:"/js/account-link/templates/loginLink.html",notLoggedInDialog:"/js/account-link/templates/notLoggedInDialog.html",usernameLink:"/js/account-link/templates/usernameLink.html"};d.templates={};d.getTemplate=function(e){return a.ajax({url:d.templateFiles[e],success:function(f){d.templates[e]=f}})};d.checkForUser=function(){return a.ajax({url:d.options.checkForUserUrl,cache:false})};d.init=function(e){d.options=a.extend({},d.options,e);a.when(d.checkForUser(),d.getTemplate("disabled"),d.getTemplate("loggedInDialog"),d.getTemplate("loginLink"),d.getTemplate("notLoggedInDialog"),d.getTemplate("usernameLink")).then(function(h,k,j,i,g,f){if(h[0].accountsEnabled!==true){d.accountsDisabled()}else{if(h[0].username){d.userIsLoggedIn(h[0].username,h[0].canCreateAlerts)}else{d.notLoggedIn()}}},function(h,k,j,i,g,f){d.accountsDisabled()})};d.accountsDisabled=function(){d.$el.html(Mustache.to_html(d.templates.disabled))};d.userIsLoggedIn=function(g,e){d.$el.html(Mustache.to_html(d.templates.usernameLink,{username:g}));var f=Mustache.to_html(d.templates.loggedInDialog,{accountLandingUrl:d.options.accountLandingUrl,canCreateAlerts:e,savedSearchesUrl:d.options.savedSearchesUrl,logoutUrl:d.options.logoutUrl});a(f).dialog({autoOpen:false,draggable:false,modal:true,dialogClass:"signed-in-box-wrapper",minHeight:"none",position:{my:"right top",at:"right bottom",of:a(".signed-in-link")},open:function(h,i){a(".ui-widget-overlay").click(function(j){j.preventDefault();a(".signed-in-box").dialog("close")})}});a(".signed-in-link").attr("href","#");a(".signed-in-link").click(function(i){var h;i.preventDefault();h=window.location.pathname+window.location.search;a.cookie("post-authentication-url",h,{path:"/",secure:(window.location.protocol==="https:")});a(".signed-in-box").dialog("open")});a(".signed-in-close-link").click(function(h){h.preventDefault();a(".signed-in-box").dialog("close")})};d.notLoggedIn=function(){d.$el.html(Mustache.to_html(d.templates.loginLink,{accountSignInUrl:d.options.accountSignInUrl}));var e=Mustache.to_html(d.templates.notLoggedInDialog,{accountSignInUrl:d.options.accountSignInUrl,accountRegisterUrl:d.options.accountRegisterUrl,currentUrl:window.location.href,debugging:d.options.debugging,passwordResetUrl:d.options.passwordResetUrl});a(e).dialog({autoOpen:false,draggable:false,modal:true,dialogClass:"sign-in-box-wrapper",position:{my:"right top",at:"right bottom",of:a(".sign-in-link")},open:function(f,g){setTimeout(function(){a("#loginemailaddress").focus()},1);a(".ui-widget-overlay").click(function(h){h.preventDefault();a(".sign-in-box").dialog("close")})}});a(".sign-in-link").attr("href","#");a(".sign-in-link").click(function(g){g.preventDefault();var f=window.location.pathname+window.location.search;a.cookie("post-authentication-url",f,{path:"/",secure:(window.location.protocol==="https:")});a(".sign-in-box").dialog("open")});a(".sign-in-close-link").click(function(f){f.preventDefault();a(".sign-in-box").dialog("close")})};d.init(b)};a.fn.congress_AccountLink=function(b){return this.each(function(){return new a.congress.AccountLink(this,b)})}}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.PreviousNext=function(c,b){var d=this;d.$el=a(c);d.options={params:null,route:null,overview:null,additional:null};d.templateFiles={links:"/js/previous-next/templates/links.html"};d.templates={};d.getTemplate=function(e){if(d.templates[e]){return}return a.ajax({url:d.templateFiles[e],success:function(f){d.templates[e]=f}})};d.checkForPreviousNext=function(){return a.ajax({url:"/search/previous-next-urls",data:{params:d.options.params,route:d.options.route,overview:d.options.overview,additional:d.options.additional},cache:false})};d.init=function(e){d.hideLinks();d.options=a.extend({},d.options,e);d.bootstrap();a(document).on("pageSortChanged",function(g,f){d.changeAdditionalParameter("pageSort",f)});a(document).on("overviewStateChanged",function(g,f){if(f==="closed"){d.changeOverview(true)}else{d.changeOverview(false)}});a(document).on("facetItemChanged",function(f,g){let newRoute=d.options.route;switch(g){case"facetItemActionCategoryMajorActions":newRoute="billActions";break;case"facetItemActionCategoryAllActions":newRoute="billAllActionsWithoutAmendments";break;case"facetItemActionCategoryAllActionsIncludingFloorAmendments":newRoute="billAllActions";break}if(newRoute!==d.options.route){d.options.route=newRoute;d.bootstrap()}})};d.bootstrap=function(){a.when(d.checkForPreviousNext(),d.getTemplate("links")).then(function(f,e){if(f[0].showLinks){if(f[0].quickSearch){a(window).trigger("previous-next-quick-search-results")}d.addLinksToDom(f[0]);d.showLinks()}},function(f,e){d.hideLinks()})};d.addLinksToDom=function(e){d.$el.html(Mustache.to_html(d.templates.links,e))};d.hideLinks=function(){d.$el.css("display","none")};d.showLinks=function(){d.$el.css("display","block")};d.changeAdditionalParameter=function(e,f){if(!d.options.additional){d.options.additional={}}if(f){d.options.additional[e]=f}else{delete d.options.additional[e]}d.bootstrap()};d.changeOverview=function(e){d.options.overview=e;d.bootstrap()};d.init(b)};a.fn.congress_PreviousNext=function(b){return this.each(function(){return new a.congress.PreviousNext(this,b)})}}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.LAC=function(c,b){var d=this;d.$el=a(c);d.options={checkUrl:null};d.lacCheck=function(e){return a.ajax({url:d.options.checkUrl,data:{lac:JSON.stringify(e)},cache:false})};d.init=function(g){d.options=a.extend({},d.options,g);var e=a(".lac[data-lac]"),f={};if(e.length){e.each(function(i,k){var h=a(k),j=h.attr("data-lac"),l=h.attr("data-tokens");if(!f[j]){f[j]=[]}if(!l){l=""}f[j].push(l)});a.when(d.lacCheck(f)).then(function(j){for(var i in j){var h=j[i];a('.lac[data-lac="'+i+'"]').each(function(l,m){var k=a(m);if(h[l]){k.replaceWith(h[l])}else{k.remove()}})}},function(){e.each(function(h,i){a(i).remove()})})}};d.init(b)};a.fn.congress_LAC=function(b){return this.each(function(){return new a.congress.LAC(this,b)})}}(jQuery));
(function(a){if(!a.congress){a.congress={}}a.congress.ShareTool=function(c,b){var d=this;d.$el=a(c);d.surveyContentUrl=b.surveyContentUrl;d.logClickUrl=b.logClickUrl;d.logClickAppId=b.logClickAppId;d.citationFooter=b.citationFooterMsg;d.searchFormPostId=b.searchFormPostId;d.searchFormPostUpdated=false;d.templateFiles={citation:"/js/share-tool/templates/citation.html",share:"/js/share-tool/templates/share.html",survey:"/js/share-tool/templates/survey.html"};d.shareDialog;d.surveyDialog;d.citationDialog;d.dialogWidth="510px";d.citationData=false;d.shortenUrl=b.shortenUrl;d.shortUrl="";d.SHARE_SHORT_URL_TIP=b.SHARE_SHORT_URL_TIP;d.toolTipsInitialized=false;d.getTemplate=function(e){return a.ajax({url:d.templateFiles[e]})};d.print=function(e){e.preventDefault();d.closeShareDialog();d.closeSurveyDialog();d.closeCitationDialog();window.print()};d.citation=function(e){e.preventDefault();d.logClick("view_citation");d.closeShareDialog();d.closeSurveyDialog();if(!d.citationDialog){a.when(d.getTemplate("citation")).then(function(f){d.citationDialog=a(Mustache.to_html(f,{footerMessage:d.citationFooter})).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getCitationLink()),open:function(g,h){a(this).find("a.locshare-dialog-close").off("click").on("click",function(i){i.preventDefault();d.citationDialog.dialog("close")});a(this).find("#locshare_copy_bb").off("click").on("click",d.citeBBFormat);a(this).find("#locshare_copy_apa").off("click").on("click",d.citeAPAFormat);a(this).find("#locshare_copy_mla").off("click").on("click",d.citeMLAFormat);a(this).find("#locshare_copy_cmos").off("click").on("click",d.citeCMOSFormat)},close:function(g,h){d.getCitationLink().focus()}})},function(f){})}else{d.citationDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getCitationLink()))}};d.share=function(e){e.preventDefault();d.logClick("view_save_share");d.closeSurveyDialog();d.closeCitationDialog();if(!d.shareDialog){a.when(d.getTemplate("share"),d.getShortUrl()).then(function(f,g){let currentUrl=window.location.origin+window.location.pathname;let showShortUrlCopyOption=false;if(d.shortUrl!=""){currentUrl=d.shortUrl;showShortUrlCopyOption=true}d.shareDialog=a(Mustache.to_html(f[0],{pageTitle:encodeURIComponent(document.title),currentUrl:currentUrl,showShortUrlCopyOption:showShortUrlCopyOption,SHARE_SHORT_URL_TIP:d.SHARE_SHORT_URL_TIP})).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getShareLink()),open:function(h,i){if(!d.toolTipsInitialized){initializeToolTips();d.toolTipsInitialized=true}a(this).find("a.locshare-dialog-close").off("click").on("click",function(j){j.preventDefault();d.shareDialog.dialog("close")});a(this).find('a[href="#locshare/share/addfavorite"]').off("click").on("click",d.saveToMyBrowserButtonClick);a(this).find("#locshare_email_submit").off("click").on("click",d.emailSubmitClick);a(this).find("#share-copy-button").off("click").on("click",d.shareCopyButtonClick)},close:function(h,i){d.getShareLink().focus()}}).tabs()},function(f){})}else{d.shareDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getShareLink()))}};d.getShortUrl=function(){if(d.shortenUrl){return a.ajax({type:"POST",url:"/share/get-short-url",data:{url:window.location.href,params:[],method:"GET"},success:function(e){d.shortUrl=e}})}};d.saveToMyBrowserButtonClick=function(e){e.preventDefault();d.logClick("save_browser");if(window.sidebar&&window.sidebar.addPanel){window.sidebar.addPanel(document.title,window.location.href,"")}else{if(window.external&&("AddFavorite" in window.external)){window.external.AddFavorite(location.href,document.title)}else{if(window.opera&&window.print){this.title=document.title;return true}else{alert("Press "+(navigator.userAgent.toLowerCase().indexOf("mac")!=-1?"Command/Cmd":"CTRL")+" + D to bookmark this page.")}}}};d.emailSubmitClick=function(i){i.preventDefault();let currentUrl=window.location.origin+window.location.pathname;if(d.shortUrl!=""){currentUrl=d.shortUrl}var k=d.shareDialog.find("#from_name"),f=k.val().replace(/[&\/\\#,+()$|~%.":*?<>{}!@^&*]/g,"").replace(/\s+/g," ").trim(),h=d.shareDialog.find("#locshare_from_name_error"),g=f+" has shared a link from the Library of Congress",j="%0D%0A",e=document.title+j+j+encodeURIComponent(currentUrl)+j+j;if(f==""){k.val("");k.addClass("locshare-error");h.css("display","block")}else{k.removeClass("locshare-error");h.css("display","none");window.location.href="mailto:?subject="+g+"&body="+e}};d.shareCopyButtonClick=function(f){f.preventDefault();try{d.copyToClipboard(a("#share-copy-short-url").val());a("#share-copy-button").html("Copied").addClass("new-share-button-clicked")}catch(e){}};d.survey=function(e){e.preventDefault();d.closeShareDialog();if(!d.surveyDialog){a.when(d.getSurveyContent(),d.getTemplate("survey")).then(function(g,f){d.surveyDialog=a(f[0].replace('<div class="locshare-dialog-loading"></div>',g[0])).dialog({draggable:false,resizable:false,width:d.dialogWidth,dialogClass:"locshare-dialog locshare-subscribe-arrow",position:d.getDialogPositionConfig(d.getSurveyLink()),open:function(h,i){a(this).find("a.locshare-dialog-close").off("click").on("click",function(j){j.preventDefault();d.surveyDialog.dialog("close")})},close:function(h,i){d.getSurveyLink().focus()}})},function(g,f){})}else{d.surveyDialog.dialog("open").dialog("option","position",d.getDialogPositionConfig(d.getSurveyLink()))}};d.closeCitationDialog=function(){if(d.citationDialog&&d.citationDialog.dialog("isOpen")){d.citationDialog.dialog("close")}};d.closeShareDialog=function(){if(d.shareDialog&&d.shareDialog.dialog("isOpen")){d.shareDialog.dialog("close")}};d.closeSurveyDialog=function(){if(d.surveyDialog&&d.surveyDialog.dialog("isOpen")){d.surveyDialog.dialog("close")}};d.getSurveyContent=function(){return a.ajax({url:d.surveyContentUrl,cache:false})};d.getPrintLink=function(){return d.$el.find('a[href="#print"]')};d.getShareLink=function(){return d.$el.find('a[href="#share"]')};d.getSurveyLink=function(){return d.$el.find('a[href="#survey"]')};d.getCitationLink=function(){return d.$el.find('a[href="#citation"]')};d.getDialogPositionConfig=function(e){return{my:"left top",at:"left bottom",of:e,collision:"flip none"}};d.logClick=function(e){a.ajax({url:d.logClickUrl,method:"POST",data:{action:e,app_id:d.logClickAppId,download_link_label:null,embed_detail:null,embed_type:null,link:window.location.href,object_type:"page",target:null,title:document.title},complete:function(f,g){}})};d.copyToClipboard=function(g){var e=document.createRange(),f=window.getSelection();f.removeAllRanges();var h=document.createElement("div");h.setAttribute("style","-webkit-user-select: text !important");h.textContent=g;document.body.appendChild(h);e.selectNodeContents(h);f.addRange(e);document.execCommand("copy");f.removeAllRanges();h.textContent="";document.body.removeChild(h)};d.copyToClipboardMLA=function(i){var e,m="",j="",h="",l="";e=document.createElement("div");e.id="divCopy";e.setAttribute("style","-webkit-user-select: text !important");m=e;e.attachShadow&&(m=e.attachShadow({mode:"open"}));var k=i.split("<i>Congress.gov</i>");j=document.createElement("span");j.setAttribute("style","font-style: italic;");j.innerText="Congress.gov";var f=document.createElement("span");f.append(k[0],j,k[1]);m.appendChild(f);document.body.appendChild(e);try{l=document.getSelection();if(l){l.removeAllRanges();h=document.createRange();h.selectNodeContents(f);l.addRange(h)}document.execCommand("copy");l.removeAllRanges();document.body.removeChild(e);m.removeChild(f)}catch(g){}};d.getMetaDataFromCurrentPage=function(){if(!d.citationData){const h=document.querySelector("title");const g=document.querySelector('meta[name="dc.title"]');const e=document.querySelector('meta[name="dc.date"]');const j=document.querySelector('meta[name="dc.number"]');const i=document.querySelector('meta[name="dc.congress"]');const f=new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});d.citationData={siteTitle:h?h.innerHTML:"",title:g?g.content:"",date:e?e.content:f,number:j?j.content:"",congress:i?i.content:"",url:window.location.origin+window.location.pathname}}return d.citationData};d.formatCitationData=function(h,i){var g="";var j=h.title.trim();var f=j.slice(-1);switch(i){case"locshare_copy_bb":g=(f!=".")?j:j.slice(0,-1);g+=h.number?", "+h.number:"";g+=h.congress?", "+h.congress:"";g+=h.date?" ("+new Date(h.date).getFullYear()+")":"";g+=h.url?", "+h.url+".":".";break;case"locshare_copy_apa":g=(f!=".")?j:j.slice(0,-1);var e=h.date?new Date(h.date):"";if(e){g+=". ("+e.getFullYear()+", "+e.toLocaleString("default",{month:"long"})+" "+e.getDate()+"). "}g+=h.url?h.url:"";break;case"locshare_copy_mla":g='"';g+=(f!=".")?j:j.slice(0,-1);g+='."';g+=" <i>Congress.gov</i>, Library of Congress";var e=h.date?new Date(h.date):"";if(e){g+=", "+e.getDate()+" "+e.toLocaleString("default",{month:"long"})+" "+e.getFullYear()}g+=h.url?", "+h.url+".":".";break;case"locshare_copy_cmos":g='Congress.gov. "';g+=(f!=".")?j:j.slice(0,-1);g+='." ';var e=h.date?new Date(h.date):"";if(e){g+=e.toLocaleString("default",{month:"long"})+" "+e.getDate()+", "+e.getFullYear()}g+=h.url?". "+h.url+".":".";break;default:break}return g};d.citeBBFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboard(e)}catch(f){}};d.citeAPAFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboard(e)}catch(f){}};d.citeMLAFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboardMLA(e)}catch(f){}};d.citeCMOSFormat=function(g){g.preventDefault();var h="",e="";try{h=d.getMetaDataFromCurrentPage();e=d.formatCitationData(h,g.target.id);d.copyToClipboard(e)}catch(f){}};d.init=function(){d.getPrintLink().click(d.print);d.getShareLink().click(d.share);d.getSurveyLink().click(d.survey);d.getCitationLink().click(d.citation);a(window).on("solr-results:updated",function(){d.closeShareDialog();d.closeSurveyDialog();d.closeCitationDialog();if(d.shareDialog){d.shareDialog.remove();d.shareDialog=false}d.shortUrl="";d.toolTipsInitialized=false})};d.init()};a.fn.ShareTool=function(b){return this.each(function(){return new a.congress.ShareTool(this,b)})}}(jQuery));
(function(a){a.extend({UserPreferences:function(){this.initialize=function(){return this};this.set=function(b,c){return a.cookie(b,c,{path:"/",secure:(window.location.protocol==="https:")})};this.get=function(c,b){if(typeof a.cookie(c)==="undefined"){return b}return a.cookie(c)};return this.initialize()}})})(jQuery);
function initializeToolTips(){$(".cdg-tooltip").uitooltip({position:{my:"center bottom",at:"center top-5"},content:function(){return $(this).prop("title")},show:null,close:function(a,b){b.tooltip.hover(function(){$(this).stop(true).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})})}})}$(document).ready(function(){$.widget.bridge("uitooltip",$.ui.tooltip);initializeToolTips();$(window).bind("solr-results:updated",function(){initializeToolTips()})});
