// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var c,h,d,n=function(){return"undefined"!==typeof w&&"function"!==typeof w?w:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),m=function(){},e=function(ia){for(var Ea in ia)return 0;return 1},g={}.toString,f=function(ia){return"[object Function]"==g.call(ia)},p=function(ia){return"[object String]"==g.call(ia)},r=function(ia){return"[object Array]"==g.call(ia)},t=function(ia,Ea){if(ia)for(var La=0;La<ia.length;)Ea(ia[La++])},l=function(ia,Ea){for(var La in Ea)ia[La]=
Ea[La];return ia},q=function(ia,Ea){return l(Error(ia),{src:"dojoLoader",info:Ea})},x=1,A=function(){return"_"+x++},u=function(ia,Ea,La){return V(ia,Ea,La,0,u)},w=n,z=w.document,k=z&&z.createElement("DiV"),v=u.has=function(ia){return f(y[ia])?y[ia]=y[ia](w,z,k):y[ia]},y=v.cache=b.hasCache;f(a)&&(a=a(n));v.add=function(ia,Ea,La,Oa){(void 0===y[ia]||Oa)&&(y[ia]=Ea);return La&&v(ia)};v.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);v("host-webworker")&&
(l(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(ia,Ea){try{importScripts(ia),Ea()}catch(La){console.info("failed to load resource ("+ia+")"),console.error(La)}}});for(var B in a.has)v.add(B,a.has[B],0,1);var C=0,L=[],M=0,G=m,E=m;u.isXdUrl=m;u.initSyncLoader=function(ia,Ea,La){M||(M=ia,G=Ea,E=La);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:L,modules:za,execQ:P,getModule:ab,injectModule:ya,setArrived:Aa,signal:N,finishExec:Eb,execModule:Ab,dojoRequirePlugin:M,getLegacyMode:function(){return C},guardCheckComplete:ma}};if(v("dom")||v("host-webworker")){var F=location.protocol,H=location.host;u.isXdUrl=function(ia){return/^\./.test(ia)?!1:/^\/\//.test(ia)?!0:(ia=ia.match(/^([^\/:]+:)\/+([^\/]+)/))&&(ia[1]!=F||H&&ia[2]!=H)};v.add("dojo-force-activex-xhr",v("host-browser")&&!z.addEventListener&&"file:"==window.location.protocol);
if(v("dojo-force-activex-xhr")){var R=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(d=0;3>d;)try{var J=R[d++];new ActiveXObject(J);break}catch(ia){}var K=function(){return new ActiveXObject(J)}}else K=function(){return new XMLHttpRequest};u.getXhr=K;v.add("dojo-gettext-api",1);u.getText=function(ia,Ea,La){var Oa=K();Oa.open("GET",Ha(ia),!1);Oa.send(null);if(200==Oa.status||!location.host&&!Oa.status)La&&La(Oa.responseText,Ea);else throw q("xhrFailed",Oa.status);return Oa.responseText}}u.eval=
function(ia,Ea){};var Q={},N=u.signal=function(ia,Ea){ia=Q[ia];t(ia&&ia.slice(0),function(La){La.apply(null,r(Ea)?Ea:[Ea])})},U=u.on=function(ia,Ea){var La=Q[ia]||(Q[ia]=[]);La.push(Ea);return{remove:function(){for(var Oa=0;Oa<La.length;Oa++)if(La[Oa]===Ea){La.splice(Oa,1);break}}}},Z=[],fa={},pa=[],xa={},ra=u.map={},qa=[],za={},Da="",sa={},X={},aa={},ha=0;if(!v("foreign-loader"))var I=function(ia,Ea){Ea=!1!==Ea;var La,Oa;for(La in X){var Za=X[La];if(Oa=La.match(/^url:(.+)/))sa["url:"+ta(Oa[1],ia)]=
Za;else if("*now"==La)var fb=Za;else"*noref"!=La&&(Oa=Sa(La,ia,!0),sa[Oa.mid]=sa["url:"+Oa.url]=Za)}fb&&fb(O(ia));Ea&&(X={})};var T=function(ia){return ia.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Ea){return"\\"+Ea})},da=function(ia,Ea){Ea.splice(0,Ea.length);for(var La in ia)Ea.push([La,ia[La],new RegExp("^"+T(La)+"(/|$)"),La.length]);Ea.sort(function(Oa,Za){return Za[3]-Oa[3]});return Ea},la=function(ia,Ea){t(ia,function(La){Ea.push([p(La[0])?new RegExp("^"+T(La[0])+"$"):La[0],La[1]])})},
ua=function(ia){var Ea=ia.name;Ea||(Ea=ia,ia={name:Ea});ia=l({main:"main"},ia);ia.location=ia.location?ia.location:Ea;ia.packageMap&&(ra[Ea]=ia.packageMap);ia.main.indexOf("./")||(ia.main=ia.main.substring(2));xa[Ea]=ia},Y=[],ea=function(ia,Ea,La){for(var Oa in ia){"waitSeconds"==Oa&&(u.waitms=1E3*(ia[Oa]||0));"cacheBust"==Oa&&(Da=ia[Oa]?p(ia[Oa])?ia[Oa]:(new Date).getTime()+"":"");if("baseUrl"==Oa||"combo"==Oa)u[Oa]=ia[Oa];if("async"==Oa){var Za=ia[Oa];u.legacyMode=C=p(Za)&&/sync|legacyAsync/.test(Za)?
Za:Za?!1:"sync";u.async=!C}ia[Oa]!==y&&(u.rawConfig[Oa]=ia[Oa],"has"!=Oa&&v.add("config-"+Oa,ia[Oa],0,Ea))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(Oa in ia.has)v.add(Oa,ia.has[Oa],0,Ea);t(ia.packages,ua);for(var fb in ia.packagePaths)t(ia.packagePaths[fb],function(pb){var Ib=fb+"/"+pb;p(pb)&&(pb={name:pb});pb.location=Ib;ua(pb)});da(l(ra,ia.map),qa);t(qa,function(pb){pb[1]=da(pb[1],[]);"*"==pb[0]&&(qa.star=pb)});da(l(fa,ia.paths),pa);la(ia.aliases,Z);if(!v("foreign-loader")){if(Ea)Y.push({config:ia.config});
else for(Oa in ia.config)Ea=ab(Oa,La),Ea.config=l(Ea.config||{},ia.config[Oa]);ia.cache&&(I(),X=ia.cache,I(0,!!ia.cache["*noref"]))}N("config",[ia,u.rawConfig])};u.rawConfig={};ea(b,1);ea(a,1);ea(aa,1);if(!v("foreign-loader"))var ja=function(ia){ma(function(){t(ia.deps,ya)})},V=function(ia,Ea,La,Oa,Za){var fb;if(p(ia)){if((fb=ab(ia,Oa,!0))&&fb.executed)return fb.result;throw q("undefinedModule",ia);}r(ia)||(ea(ia,0,Oa),ia=Ea,Ea=La);if(r(ia))if(ia.length){La="require*"+A();for(var pb,Ib=[],Ob=0;Ob<
ia.length;)pb=ia[Ob++],Ib.push(ab(pb,Oa));fb=l(Na("",La,0,""),{injected:2,deps:Ib,def:Ea||m,require:Oa?Oa.require:u,gc:1});za[fb.mid]=fb;ja(fb);var Rb=Bb&&"sync"!=C;ma(function(){Ab(fb,Rb)});fb.executed||P.push(fb);na()}else Ea&&Ea();return Za},O=function(ia){if(!ia)return u;var Ea=ia.require;Ea||(Ea=function(La,Oa,Za){return V(La,Oa,Za,ia,Ea)},ia.require=l(Ea,u),Ea.module=ia,Ea.toUrl=function(La){return ta(La,ia)},Ea.toAbsMid=function(La){return nb(La,ia)},Ea.syncLoadNls=function(La){La=Sa(La,ia);
var Oa=za[La.mid];if(!Oa||!Oa.executed)if(Ta=sa[La.mid]||sa["url:"+La.url])bb(Ta),Oa=za[La.mid];return Oa&&Oa.executed&&Oa.result});return Ea},P=[],W=[],ca={},oa=function(ia){ia.injected=1;ca[ia.mid]=1;ia.url&&(ca[ia.url]=ia.pack||1);ib()},Aa=function(ia){ia.injected=2;delete ca[ia.mid];ia.url&&delete ca[ia.url];e(ca)&&(hb(),"xd"==C&&(C="sync"))},Ga=u.idle=function(){return!W.length&&e(ca)&&!P.length&&!Bb};var Fa=function(ia,Ea){if(Ea)for(var La=0;La<Ea.length;La++)if(Ea[La][2].test(ia))return Ea[La];
return 0},Pa=function(ia){var Ea=[];for(ia=ia.replace(/\\/g,"/").split("/");ia.length;){var La=ia.shift();if(".."==La&&Ea.length&&".."!=Oa){Ea.pop();var Oa=Ea[Ea.length-1]}else"."!=La&&Ea.push(Oa=La)}return Ea.join("/")},Na=function(ia,Ea,La,Oa){var Za=u.isXdUrl(Oa);return{pid:ia,mid:Ea,pack:La,url:Oa,executed:0,def:0,isXd:Za,isAmd:!!(Za||xa[ia]&&xa[ia].isAmd)}},Qa=function(ia,Ea,La,Oa,Za,fb,pb,Ib,Ob,Rb){var Kb,Wb,Fb;var Sb=/^\./.test(ia);if(/(^\/)|(:)|(\.js$)/.test(ia)||Sb&&!Ea)return Na(0,ia,0,
ia);ia=Pa(Sb?Ea.mid+"/../"+ia:ia);if(/^\./.test(ia))throw q("irrationalPath",ia);Rb||Sb||!fb.star||(Fb=Fa(ia,fb.star[1]));!Fb&&Ea&&(Fb=(Fb=Fa(Ea.mid,fb))&&Fa(ia,Fb[1]));Fb&&(ia=Fb[1]+ia.substring(Fb[3]));Ea=(c=ia.match(/^([^\/]+)(\/(.+))?$/))?c[1]:"";(Kb=La[Ea])?ia=Ea+"/"+(Wb=c[3]||Kb.main):Ea="";var Tb=0;t(Ib,function(Pb){var Xb=ia.match(Pb[0]);Xb&&0<Xb.length&&(Tb=f(Pb[1])?ia.replace(Pb[0],Pb[1]):Pb[1])});if(Tb)return Qa(Tb,0,La,Oa,Za,fb,pb,Ib,Ob);if(La=Oa[ia])return Ob?Na(La.pid,La.mid,La.pack,
La.url):Oa[ia];Oa=(Fb=Fa(ia,pb))?Fb[1]+ia.substring(Fb[3]):Ea?("/"===Kb.location.slice(-1)?Kb.location.slice(0,-1):Kb.location)+"/"+Wb:ia;/(^\/)|(:)/.test(Oa)||(Oa=Za+Oa);return Na(Ea,ia,Kb,Pa(Oa+".js"))},Sa=function(ia,Ea,La){return Qa(ia,Ea,xa,za,u.baseUrl,qa,pa,Z,void 0,La)};if(!v("foreign-loader"))var Ya=function(ia,Ea,La){return ia.normalize?ia.normalize(Ea,function(Oa){return nb(Oa,La)}):nb(Ea,La)},cb=0,ab=function(ia,Ea,La){var Oa;if(Oa=ia.match(/^(.+?)!(.*)$/)){var Za=ab(Oa[1],Ea,La);"sync"!=
C||Za.executed||(ya(Za),2!==Za.injected||Za.executed||ma(function(){Ab(Za)}),Za.executed?Gb(Za):P.unshift(Za));5!==Za.executed||Za.load||Gb(Za);Za.load?(Oa=Ya(Za,Oa[2],Ea),ia=Za.mid+"!"+(Za.dynamic?++cb+"!":"")+Oa):(Oa=Oa[2],ia=Za.mid+"!"+ ++cb+"!waitingForPlugin");ia={plugin:Za,mid:ia,req:O(Ea),prid:Oa}}else ia=Sa(ia,Ea);return za[ia.mid]||!La&&(za[ia.mid]=ia)};var nb=u.toAbsMid=function(ia,Ea){return Sa(ia,Ea).mid},ta=u.toUrl=function(ia,Ea){Ea=Sa(ia+"/x",Ea);var La=Ea.url;return Ha(0===Ea.pid?
ia:La.substring(0,La.length-5))};if(!v("foreign-loader"))var Ba={injected:2,executed:5,def:3,result:3},Ra=function(ia){return za[ia]=l({mid:ia},Ba)},$a=Ra("require"),gb=Ra("exports"),qb=Ra("module"),ub={},ob=0,Gb=function(ia){var Ea=ia.result;ia.dynamic=Ea.dynamic;ia.normalize=Ea.normalize;ia.load=Ea.load;return ia},Lb=function(ia){var Ea={};t(ia.loadQ,function(Za){var fb=Ya(ia,Za.prid,Za.req.module),pb=ia.dynamic?Za.mid.replace(/waitingForPlugin$/,fb):ia.mid+"!"+fb;fb=l(l({},Za),{mid:pb,prid:fb,
injected:0});za[pb]&&za[pb].injected||Ca(za[pb]=fb);Ea[Za.mid]=za[pb];Aa(Za);delete za[Za.mid]});ia.loadQ=0;var La=function(Za){for(var fb=Za.deps||[],pb=0;pb<fb.length;pb++)(Za=Ea[fb[pb].mid])&&(fb[pb]=Za)},Oa;for(Oa in za)La(za[Oa]);t(P,La)},Eb=function(ia){u.trace("loader-finish-exec",[ia.mid]);ia.executed=5;ia.defOrder=ob++;t(ia.provides,function(Ea){Ea()});ia.loadQ&&(Gb(ia),Lb(ia));for(d=0;d<P.length;)P[d]===ia?P.splice(d,1):d++;/^require\*/.test(ia.mid)&&delete za[ia.mid]},Hb=[],Ab=function(ia,
Ea){if(4===ia.executed)return u.trace("loader-circular-dependency",[Hb.concat(ia.mid).join("-\x3e")]),!ia.def||Ea?ub:ia.cjs&&ia.cjs.exports;if(!ia.executed){if(!ia.def)return ub;var La=ia.mid,Oa=ia.deps||[],Za,fb=[],pb=0;for(ia.executed=4;Za=Oa[pb++];){Za=Za===$a?O(ia):Za===gb?ia.cjs.exports:Za===qb?ia.cjs:Ab(Za,Ea);if(Za===ub)return ia.executed=0,u.trace("loader-exec-module",["abort",La]),ub;fb.push(Za)}u.trace("loader-run-factory",[ia.mid]);Ea=ia.def;L.unshift(ia);fb=f(Ea)?Ea.apply(null,fb):Ea;
ia.result=void 0===fb&&ia.cjs?ia.cjs.exports:fb;L.shift(ia);Eb(ia)}return ia.result},Bb=0,ma=function(ia){try{Bb++,ia()}catch(Ea){throw Ea;}finally{Bb--}Ga()&&N("idle",[])},na=function(){Bb||ma(function(){G();for(var ia,Ea,La=0;La<P.length;)ia=ob,Ea=P[La],Ab(Ea),ia!=ob?(G(),La=0):La++})};var Ha="function"==typeof a.fixupUrl?a.fixupUrl:function(ia){ia+="";return ia+(Da?(/\?/.test(ia)?"\x26":"?")+Da:"")};void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",1);var Ca=function(ia){var Ea=
ia.plugin;5!==Ea.executed||Ea.load||Gb(Ea);var La=function(Oa){ia.result=Oa;Aa(ia);Eb(ia);na()};Ea.load?Ea.load(ia.prid,ia.req,La):Ea.loadQ?Ea.loadQ.push(ia):(Ea.loadQ=[ia],P.unshift(Ea),ya(Ea))},Ta=0,bb=function(ia,Ea){v("config-stripStrict")&&(ia=ia.replace(/(["'])use strict\1/g,""));ia===Ta?Ta.call(null):u.eval(ia,v("dojo-loader-eval-hint-url")?Ea.url:Ea.mid)},ya=function(ia){var Ea=ia.mid,La=ia.url;if(!(ia.executed||ia.injected||ca[Ea]||ia.url&&(ia.pack&&ca[ia.url]===ia.pack||1==ca[ia.url])))if(oa(ia),
ia.plugin)Ca(ia);else{var Oa=function(){eb(ia);if(2!==ia.injected){if(v("dojo-enforceDefine")){N("error",q("noDefine",ia));return}Aa(ia);l(ia,Ba);u.trace("loader-define-nonmodule",[ia.url])}C?!L.length&&na():na()};if(Ta=sa[Ea]||sa["url:"+ia.url])u.trace("loader-inject",["cache",ia.mid,La]),bb(Ta,ia),Oa();else{if(C)if(ia.isXd)"sync"==C&&(C="xd");else if(!ia.isAmd||"sync"==C){u.trace("loader-inject",["xhr",ia.mid,La,"sync"!=C]);u.getText(La,"sync"!=C,function(Za){if("sync"==C){L.unshift(ia);bb(Za,ia);
L.shift();eb(ia);ia.cjs||(Aa(ia),Eb(ia));if(ia.finish){Za=Ea+"*finish";var fb=ia.finish;delete ia.finish;Ja(Za,["dojo",("dojo/require!"+fb.join(",")).replace(/\./g,"/")],function(pb){t(fb,function(Ib){pb.require(Ib)})});P.unshift(ab(Za))}Oa()}else(Za=E(ia,Za))?(bb(Za,ia),Oa()):u.injectUrl(Ha(La),Oa,ia)});return}u.trace("loader-inject",["script",ia.mid,La]);u.injectUrl(Ha(La),Oa,ia)}}},Va=function(ia,Ea,La){u.trace("loader-define-module",[ia.mid,Ea]);var Oa=ia.mid;if(2===ia.injected)return N("error",
q("multipleDefine",ia)),ia;l(ia,{deps:Ea,def:La,cjs:{id:ia.mid,uri:ia.url,exports:ia.result={},setExports:function(fb){ia.cjs.exports=fb},config:function(){return ia.config}}});for(var Za=0;Ea[Za];Za++)Ea[Za]=ab(Ea[Za],ia);C&&!ca[Oa]&&(ja(ia),P.push(ia),na());Aa(ia);f(La)||Ea.length||(ia.result=La,Eb(ia));return ia},eb=function(ia,Ea){for(var La=[],Oa,Za;W.length;)Za=W.shift(),Ea&&(Za[0]=Ea.shift()),Oa=Za[0]&&ab(Za[0])||ia,La.push([Oa,Za[1],Za[2]]);I(ia);t(La,function(fb){ja(Va.apply(null,fb))})},
hb=m,ib=m;v("dom");if(v("dom")){var Ma=function(ia,Ea,La,Oa){ia.addEventListener(Ea,Oa,!1);return function(){ia.removeEventListener(Ea,Oa,!1)}},Xa=Ma(window,"load","onload",function(){u.pageLoaded=1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(ia){}Xa()});var wa=z.getElementsByTagName("script");for(d=0;!ha;)/^dojo/.test((h=wa[d++])&&h.type)||(ha=h);u.injectUrl=function(ia,Ea,La){La=La.node=z.createElement("script");var Oa=Ma(La,"load","onreadystatechange",function(fb){fb=fb||window.event;
var pb=fb.target||fb.srcElement;if("load"===fb.type||/complete|loaded/.test(pb.readyState))Oa(),Za(),Ea&&Ea()}),Za=Ma(La,"error","onerror",function(fb){Oa();Za();N("error",q("scriptError: "+ia,[ia,fb]))});La.type="text/javascript";La.charset="utf-8";La.src=ia;ha.parentNode.insertBefore(La,ha);return La}}u.log=m;u.trace=m;if(v("foreign-loader"))Ja=m;else{var Ja=function(ia,Ea,La){var Oa=arguments.length,Za=["require","exports","module"],fb=[0,ia,Ea];1==Oa?fb=[0,f(ia)?Za:[],ia]:2==Oa&&p(ia)?fb=[ia,
f(Ea)?Za:[],Ea]:3==Oa&&(fb=[ia,Ea,La]);u.trace("loader-define",fb.slice(0,2));(Oa=fb[0]&&ab(fb[0]))&&!ca[Oa.mid]?ja(Va(Oa,fb[1],fb[2])):W.push(fb)};Ja.amd={vendor:"dojotoolkit.org"}}l(l(u,b.loaderPatch),a.loaderPatch);U("error",function(ia){try{if(console.error(ia),ia instanceof Error){for(var Ea in ia)console.log(Ea+":",ia[Ea]);console.log(".")}}catch(La){}});l(u,{uid:A,cache:sa,packs:xa});if(!w.define&&(w.define=Ja,w.require=u,!v("foreign-loader"))){t(Y,function(ia){ea(ia)});var Ua=aa.deps||a.deps||
b.deps,xb=aa.callback||a.callback||b.callback;u.boot=Ua||xb?[Ua||[],xb]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t,
l,q,x,A,u){h=class extends u.TablesMixin(A.LayersMixin(n.EventedMixin(h))){constructor(w){super(w);this.allLayers=new d({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:z=>"layers"in z?z.layers:null});this.allTables=q.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new d({getCollections:()=>[this.allLayers],itemFilterFunction:t.isEditableLayer});this.ground=new c;this._basemapCache=l.createCache()}destroy(){l.destroyCache(this._basemapCache);
this._basemapCache=null;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.basemap=m.destroyMaybe(this.basemap);m.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(w){return l.ensureType(w,this._basemapCache)}castGround(w){w=x.ensureType(w);return null==w?this._get("ground"):w}findLayerById(w){return this.allLayers.find(z=>z.id===w)}findTableById(w){return this.allTables.find(z=>z.id===w)}};a.__decorate([e.property({readOnly:!0,dependsOn:[]})],h.prototype,
"allLayers",void 0);a.__decorate([e.property({readOnly:!0})],h.prototype,"allTables",void 0);a.__decorate([e.property({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],h.prototype,"basemap",void 0);a.__decorate([g.cast("basemap")],h.prototype,"castBasemap",null);a.__decorate([e.property({readOnly:!0})],h.prototype,"editableLayers",void 0);a.__decorate([e.property({type:c,nonNullable:!0})],h.prototype,"ground",void 0);a.__decorate([g.cast("ground")],h.prototype,"castGround",null);
a.__decorate([e.property()],h.prototype,"undoRedo",void 0);return h=a.__decorate([r.subclass("esri.Map")],h)})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){var b="function"===typeof SuppressedError?SuppressedError:function(c,h,d){d=Error(d);return d.name="SuppressedError",d.error=c,d.suppressed=h,d};a.__addDisposableResource=function(c,h,d){if(null!==h&&void 0!==h){if("object"!==typeof h&&"function"!==typeof h)throw new TypeError("Object expected.");var n;if(d){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");
var m=h[Symbol.asyncDispose]}if(void 0===m){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");m=h[Symbol.dispose];d&&(n=m)}if("function"!==typeof m)throw new TypeError("Object not disposable.");n&&(m=function(){try{n.call(this)}catch(e){return Promise.reject(e)}});c.stack.push({value:h,dispose:m,async:d})}else d&&c.stack.push({async:!0});return h};a.__awaiter=function(c,h,d,n){function m(e){return e instanceof d?e:new d(function(g){g(e)})}return new (d||=Promise)(function(e,
g){function f(t){try{r(n.next(t))}catch(l){g(l)}}function p(t){try{r(n["throw"](t))}catch(l){g(l)}}function r(t){t.done?e(t.value):m(t.value).then(f,p)}r((n=n.apply(c,h||[])).next())})};a.__decorate=function(c,h,d,n){var m=arguments.length,e=3>m?h:null===n?n=Object.getOwnPropertyDescriptor(h,d):n,g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)e=Reflect.decorate(c,h,d,n);else for(var f=c.length-1;0<=f;f--)if(g=c[f])e=(3>m?g(e):3<m?g(h,d,e):g(h,d))||e;return 3<m&&e&&Object.defineProperty(h,
d,e),e};a.__disposeResources=function(c){function h(e){c.error=c.hasError?new b(e,c.error,"An error was suppressed during disposal."):e;c.hasError=!0}function d(){for(;n=c.stack.pop();)try{if(!n.async&&1===m)return m=0,c.stack.push(n),Promise.resolve().then(d);if(n.dispose){var e=n.dispose.call(n.value);if(n.async)return m|=2,Promise.resolve(e).then(d,function(g){h(g);return d()})}else m|=1}catch(g){h(g)}if(1===m)return c.hasError?Promise.reject(c.error):Promise.resolve();if(c.hasError)throw c.error;
}var n,m=0;return d()};a.__param=function(c,h){return function(d,n){h(d,n,c)}}})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y){var B;let C=0;n=B=class extends n.JSONSupportMixin(e){constructor(G){super(G);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+C++;this.baseLayers=new h;this.referenceLayers=new h;const E=F=>{F.parent&&F.parent!==this&&"remove"in F.parent&&F.parent.remove(F);F.parent=this;"elevation"===F.type&&f.getLogger(this).error(`Layer '${F.title}, id:${F.id}' of type '${F.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",F=>E(F.item)),this.referenceLayers.on("after-add",F=>E(F.item)),this.baseLayers.on("after-remove",F=>{F.item.parent=null}),this.referenceLayers.on("after-remove",F=>{F.item.parent=null})])}initialize(){this.when().catch(G=>{f.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,G)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var G=this.baseLayers.toArray();for(const E of G)E.destroy();
G=this.referenceLayers.toArray();for(const E of G)E.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=p.destroyMaybe(this.portalItem)}normalizeCtorArgs(G){G&&"resourceInfo"in G&&(this._set("resourceInfo",G.resourceInfo),G={...G},delete G.resourceInfo);return G}set baseLayers(G){this._set("baseLayers",d.referenceSetter(G,this._get("baseLayers")))}_writeBaseLayers(G,E,F){const H=[];G&&(F={...F,layerContainerType:"basemap"},this.baseLayers.forEach(R=>{R=y.getLayerJSON(R,
F.webmap?F.webmap.getLayerJSONFromResourceInfo(R):null,F);null!=R&&H.push(R)}),this.referenceLayers.forEach(R=>{const J=y.getLayerJSON(R,F.webmap?F.webmap.getLayerJSONFromResourceInfo(R):null,F);null!=J&&("scene"!==R.type&&(J.isReference=!0),H.push(J))}));E.baseMapLayers=H}set referenceLayers(G){this._set("referenceLayers",d.referenceSetter(G,this._get("referenceLayers")))}writeTitle(G,E){E.title=G||"Basemap"}load(G){this.addResolvingPromise(this._loadFromSource(G));return Promise.resolve(this)}loadAll(){return g.loadAll(this,
G=>{G(this.baseLayers,this.referenceLayers)})}clone(){const G={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(E=>m.isClonable(E)?E.clone():E),referenceLayers:this.referenceLayers.map(E=>m.isClonable(E)?E.clone():E)};this.loaded&&(G.loadStatus="loaded");return(new B({resourceInfo:this.resourceInfo})).set(G)}read(G,E){this.resourceInfo||this._set("resourceInfo",{data:G,context:E});super.read(G,E)}write(G,E){G=G||{};E?.origin||(E={origin:"web-map",...E});super.write(G,
E);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(G.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(F=>{F=m.clone(F);F.url&&t.isProtocolRelative(F.url)&&(F.url=`https:${F.url}`);F.templateUrl&&t.isProtocolRelative(F.templateUrl)&&(F.templateUrl=`https:${F.templateUrl}`);return F}));return G}async _loadFromSource(G){const {resourceInfo:E,portalItem:F,style:H}=this;r.throwIfAborted(G);const R=[];E?(R.push(this._loadLayersFromJSON(E.data,E.context?E.context.url:null,G)),E.data.id&&!E.data.title&&
R.push(k.getBasemapTitle(E.data.id).then(J=>{J&&this.read({title:J},E.context)}))):F?R.push(this._loadFromItem(F,G)):H&&R.push(this._loadFromStylesService(H,G));await Promise.all(R)}async _loadLayersFromJSON(G,E,F){const H=this.resourceInfo?.context,R=this.portalItem?.portal||H?.portal||null,J=M[H?.origin||""]??"web-map",{populateOperationalLayers:K}=await new Promise((N,U)=>a(["./layers/support/layersCreator"],N,U)),Q=[];r.throwIfAborted(F);if(G.baseMapLayers&&Array.isArray(G.baseMapLayers)){E={context:{...H,
origin:J,url:E,portal:R,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const N=U=>"web-scene"===J&&"ArcGISSceneServiceLayer"===U.layerType||U.isReference;F=K(this.baseLayers,G.baseMapLayers.filter(U=>!N(U)),E);Q.push(F);G=K(this.referenceLayers,G.baseMapLayers.filter(N),E);Q.push(G)}await Promise.allSettled(Q)}async _loadFromItem(G,E){const F=await (await G.load(E)).fetchData("json",E),H=t.urlToObject(G.itemUrl??"");this._set("resourceInfo",{data:F.baseMap??{},context:{origin:L[G.type||
""]??"web-map",portal:G.portal||w.getDefault(),url:H}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:F.spatialReference},this.resourceInfo.context);this.read({title:G.title,thumbnailUrl:G.thumbnailUrl},{origin:"portal-item",portal:G.portal||w.getDefault(),url:H});return this._loadLayersFromJSON(this.resourceInfo.data,H,E)}async _loadFromStylesService(G,E){var F=`${G.serviceUrl}/${G.id}`;const H=(await c(F,{query:{language:G.getLanguageParamValue(),places:G.places,
worldview:G.worldview,token:G.apiKey},signal:E?.signal})).data;F=t.urlToObject(F);this._set("resourceInfo",{data:H.baseMap??{},context:{origin:"web-map",url:F}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:H.spatialReference},this.resourceInfo.context);await this._loadLayersFromJSON(this.resourceInfo.data,F,E);if(G.apiKey)for(const R of[...this.baseLayers,...this.referenceLayers])"apiKey"in R&&(R.apiKey=G.apiKey)}static fromId(G){return(G=k.esriBasemapDefinitions[G])?
G.itemId?new B({portalItem:{id:G.itemId,portal:{url:"https://www.arcgis.com"}}}):B.fromJSON(G,{origin:G.is3d?"web-scene":"web-map"}):null}};b.__decorate([l.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(G,E,F,H){this._writeBaseLayers(G,E,H)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:h}},writer(G,E,F,H){this._writeBaseLayers(G,E,H)}}}}}})],n.prototype,"baseLayers",null);b.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],
n.prototype,"id",void 0);b.__decorate([l.property({type:z})],n.prototype,"portalItem",void 0);b.__decorate([l.property()],n.prototype,"referenceLayers",null);b.__decorate([l.property({readOnly:!0})],n.prototype,"resourceInfo",void 0);b.__decorate([l.property({type:u})],n.prototype,"spatialReference",void 0);b.__decorate([l.property({type:v})],n.prototype,"style",void 0);b.__decorate([l.property()],n.prototype,"thumbnailUrl",void 0);b.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],
n.prototype,"title",void 0);b.__decorate([A.writer("title")],n.prototype,"writeTitle",null);n=B=b.__decorate([x.subclass("esri.Basemap")],n);const L={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},M={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return n})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){async function r(Q,N){Q instanceof URL&&(Q=Q.toString());N?.query instanceof URLSearchParams&&(N.query=e.queryToObject(N.query.toString().replaceAll("+"," ")));var U=e.isDataProtocol(Q);const Z=e.isBlobProtocol(Q);Z||U||(Q=e.normalize(Q));const fa={url:Q,requestOptions:{...N}};N=qa=>({data:qa,getAllHeaders:J,getHeader:J,httpStatus:200,requestOptions:fa.requestOptions,url:fa.url});var pa=e.getInterceptor(Q,G.internalInterceptors);if(pa&&(pa=await k(pa,fa),null!=pa))return N(pa);
if(pa=e.getInterceptor(Q)){Q=await k(pa,fa);if(null!=Q)return N(Q);pa.after||pa.error||(pa=null)}Q=fa.url;N=fa.requestOptions;if("image"===N.responseType&&(d("host-webworker")||d("host-node")))throw q("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),fa);if("head"===N.method){if(N.body)throw q("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),fa);if(U||Z)throw q("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),
fa);}await x();if(M)return M.execute(Q,N);const xa=new AbortController,ra=m.onAbort(N,()=>xa.abort());U=await B({controller:xa,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:pa,params:fa,redoRequest:!1,useIdentity:G.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1}).finally(()=>ra?.remove());pa?.after?.(U);return U}function t(Q){(Q=e.getOrigin(Q))&&!r._corsServers.includes(Q)&&r._corsServers.push(Q)}function l(Q){Q=e.getOrigin(Q);return!Q||Q.endsWith(".arcgis.com")||
r._corsServers.includes(Q)||e.isTrustedServer(Q)}function q(Q,N,U,Z){let fa="Error";const pa={url:U.url,requestOptions:U.requestOptions,getAllHeaders:J,getHeader:J,ssl:!1};if(N instanceof h)return N.details?(N.details=n.clone(N.details),N.details.url=U.url,N.details.requestOptions=U.requestOptions):N.details=pa,N;if(N){U=Z&&(()=>Array.from(Z.headers));const xa=Z&&(qa=>Z.headers.get(qa)),ra=N.message;ra&&(fa=ra);U&&xa&&(pa.getAllHeaders=U,pa.getHeader=xa);pa.httpStatus=(null!=N.httpCode?N.httpCode:
N.code)||Z?.status||0;pa.subCode=N.subcode;pa.messageCode=N.messageCode;pa.messages="string"===typeof N.details?[N.details]:N.details;pa.raw=K in N?N[K]:N}return m.isAbortError(N)?m.createAbortError():new h(Q,fa,pa)}async function x(){d("host-webworker")&&!M&&(M=await new Promise((Q,N)=>a(["./core/workers/request"],Q,N)))}async function A(){c.id||await new Promise((Q,N)=>a(["./identity/IdentityManager"],U=>Q(Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}))),
N))}async function u(Q){const N=Q.params.url,U=Q.params.requestOptions,Z=Q.controller.signal,fa=U.body;let pa=null,xa=null;E&&"HTMLFormElement"in globalThis&&(fa instanceof FormData?pa=fa:fa instanceof HTMLFormElement&&(pa=new FormData(fa)));"string"===typeof fa&&(xa=fa);Q.fetchOptions={cache:U.cacheBust?"no-cache":"default",credentials:"same-origin",headers:U.headers||{},method:"head"===U.method?"HEAD":"GET",mode:"cors",priority:G.priority,redirect:"follow",signal:Z};if(pa||xa)Q.fetchOptions.body=
pa||xa;"anonymous"===U.authMode&&(Q.useIdentity=!1);Q.hasToken=!!(/token=/i.test(N)||U.query?.token||pa?.get("token"));!Q.hasToken&&f.isApiKeyApplicable(N)&&(U.query||(U.query={}),U.query.token=b.apiKey,Q.hasToken=!0);if(Q.useIdentity&&!Q.hasToken&&!Q.credentialToken&&!w(N)&&!m.isAborted(Z)){let ra;"immediate"===U.authMode?(await A(),ra=await c.id.getCredential(N,{signal:Z}),Q.credential=ra):"no-prompt"===U.authMode?(await A(),ra=await c.id.getCredential(N,{prompt:!1,signal:Z}).catch(()=>{}),Q.credential=
ra):c.id&&(ra=c.id.findCredential(N));ra&&(Q.credentialToken=ra.token,Q.useSSL=!!ra.ssl)}}function w(Q){return R.some(N=>N.test(Q))}async function z(Q){let N=Q.params.url;const U=Q.params.requestOptions,Z=Q.fetchOptions??{},fa=e.isBlobProtocol(N)||e.isDataProtocol(N),pa=U.responseType||"json";var xa=fa?0:null!=U.timeout?U.timeout:G.timeout,ra=!1;if(!fa){Q.useSSL&&(N=e.toHTTPS(N));var qa={...U.query};Q.credentialToken&&(qa.token=Q.credentialToken);ra=e.objectToQuery(qa);d("esri-url-encodes-apostrophe")&&
(ra=ra.replaceAll("'","%27"));const sa=N.length+1+ra.length;let X;ra="delete"===U.method||"post"===U.method||"put"===U.method||!!U.body||sa>G.maxUrlLength;const aa=U.useProxy||!!e.getProxyRule(N);if(aa){const ha=e.getProxyUrl(N);X=ha.path;!ra&&X.length+1+sa>G.maxUrlLength&&(ra=!0);ha.query&&(qa={...ha.query,...qa})}if("HEAD"===Z.method&&(ra||aa)){if(ra){if(sa>G.maxUrlLength)throw q("request:invalid-parameters",Error("URL exceeds maximum length"),Q.params);throw q("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),
Q.params);}if(aa)throw q("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),Q.params);}ra?(Z.method="delete"===U.method?"DELETE":"put"===U.method?"PUT":"POST",U.body?N=e.addQueryParameters(N,qa):(Z.body=e.objectToQuery(qa),Z.headers||(Z.headers={}),Z.headers["Content-Type"]="application/x-www-form-urlencoded")):N=e.addQueryParameters(N,qa);aa&&(Q.useProxy=!0,N=`${X}?${N}`);qa.token&&E&&Z.body instanceof FormData&&!g.isSecureProxyService(N)&&Z.body.set("token",qa.token);U.hasOwnProperty("withCredentials")?
Q.withCredentials=U.withCredentials:e.hasSameOrigin(N,e.getAppUrl())||(e.isTrustedServer(N)?Q.withCredentials=!0:c.id&&c.id.findServerInfo(N)?.webTierAuth&&(Q.withCredentials=!0));Q.withCredentials&&(Z.credentials="include",p.isNoCorsRequestRequired(N)&&await p.sendNoCorsRequest(ra?e.addQueryParameters(N,qa):N))}qa=0;let za=!1;0<xa&&(qa=setTimeout(()=>{za=!0;Q.controller.abort()},xa));xa=void 0;let Da;try{if("native-request-init"===U.responseType)Da=Z,Da.url=N,U.signal?Da.signal=U.signal:delete Da.signal;
else if("image"!==U.responseType||"default"!==Z.cache||"GET"!==Z.method||ra||v(U.headers)||!fa&&!Q.useProxy&&G.proxyUrl&&!l(N))if(r._beforeFetch&&await r._beforeFetch(N,Z),xa=await fetch(N,Z),r._afterFetch&&await r._afterFetch(xa),Q.useProxy||t(N),"native"===U.responseType)Da=xa;else{if("HEAD"!==Z.method)if(xa.ok){switch(pa){case "array-buffer":Da=await xa.arrayBuffer();break;case "blob":case "image":Da=await xa.blob();break;default:Da=await xa.text()}qa&&(clearTimeout(qa),qa=0);if("json"===pa||"xml"===
pa||"document"===pa)if(Da)switch(pa){case "json":Da=JSON.parse(Da);break;case "xml":Da=y(Da,"application/xml");break;case "document":Da=y(Da,"text/html")}else Da=null;if(Da){if("array-buffer"===pa||"blob"===pa){const sa=xa.headers.get("Content-Type");if(sa&&/application\/json|text\/plain/i.test(sa)&&750>=Da["blob"===pa?"size":"byteLength"])try{const X=await (new Response(Da)).json();X.error&&(Da=X)}catch{}}"image"===pa&&Da instanceof Blob&&(Da=await L(URL.createObjectURL(Da),Q,!0))}}else{Da=await xa.text();
try{Da=JSON.parse(Da)}catch{}}}else Da=await L(N,Q)}catch(sa){if("AbortError"===sa.name){if(za)throw p.createTimeoutError();throw m.createAbortError("Request canceled");}if(!xa&&sa instanceof TypeError&&G.proxyUrl&&!U.body&&"delete"!==U.method&&"head"!==U.method&&"post"!==U.method&&"put"!==U.method&&!Q.useProxy&&!l(N))Q.redoRequest=!0,e.addProxyRule({proxyUrl:G.proxyUrl,urlPrefix:e.getOrigin(N)??""});else throw sa;}finally{qa&&clearTimeout(qa)}return[xa,Da]}async function k(Q,N){if(null!=Q.responseData)return Q.responseData;
Q.headers&&(N.requestOptions.headers={...N.requestOptions.headers,...Q.headers});Q.query&&(N.requestOptions.query={...N.requestOptions.query,...Q.query});if(Q.before){let U,Z;try{Z=await Q.before(N)}catch(fa){U=q("request:interceptor",fa,N)}if(Z instanceof Error||Z instanceof h)U=q("request:interceptor",Z,N);if(U)throw Q.error&&Q.error(U),U;return Z}}function v(Q){if(Q)for(const N of Object.getOwnPropertyNames(Q))if(Q[N])return!0;return!1}function y(Q,N){let U;try{U=(new DOMParser).parseFromString(Q,
N)}catch{}if(!U||U.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return U}async function B(Q){await u(Q);let N;try{do[N,U]=await z(Q);while(!await C(Q,N,U))}catch(pa){var U=q("request:server",pa,Q.params,N);U.details.ssl=Q.useSSL;Q.interceptor?.error&&Q.interceptor.error(U);throw U;}var Z=Q.params.url;U&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Z)&&(Q.hasToken||Q.credentialToken||!U.user?.username||e.isTrustedServer(Z)||(Z=e.getOrigin(Z,!0))&&G.trustedServers.push(Z),
Array.isArray(U.authorizedCrossOriginNoCorsDomains)&&p.registerNoCorsDomains(U.authorizedCrossOriginNoCorsDomains));var fa=Q.credential;fa&&c.id&&(Z=c.id.findServerInfo(fa.server)?.owningSystemUrl)&&(Z=Z.replace(/\/?$/,"/sharing"),(fa=c.id.findCredential(Z,fa.userId))&&-1===c.id._getIdenticalSvcIdx(Z,fa)&&fa.resources.unshift(Z));return{data:U,getAllHeaders:N?()=>Array.from(N.headers):J,getHeader:N?pa=>N.headers.get(pa):J,httpStatus:N?.status??200,requestOptions:Q.params.requestOptions,ssl:Q.useSSL,
url:Q.params.url}}async function C(Q,N,U){if(Q.redoRequest)return Q.redoRequest=!1;var Z=Q.params.requestOptions;if(!N||"native"===Z.responseType||"native-request-init"===Z.responseType)return!0;let fa;U&&(U.error&&"object"===typeof U.error?fa=U.error:"error"===U.status&&Array.isArray(U.messages)&&(fa={...U},fa[K]=U,fa.details=U.messages));if(!fa&&!N.ok)throw fa=Error(`Unable to load ${N.url} status: ${N.status}`),fa[K]=U,fa;let pa;N=null;let xa;fa&&(pa=Number(fa.code),N=fa.hasOwnProperty("subcode")?
Number(fa.subcode):null,xa=fa.messageCode,xa=xa?.toUpperCase());Z=Z.authMode;if(403===pa&&(4===N||fa.message?.toLowerCase().includes("ssl")&&!fa.message.toLowerCase().includes("permission"))){if(!Q.useSSL)return Q.useSSL=!0,!1}else if(!(Q.hasToken||!Q.useIdentity||"no-prompt"===Z&&498!==pa||void 0===pa||!F.has(pa)||w(Q.params.url)||403===pa&&(xa&&H.has(xa)||!(null==N||2===N&&Q.credentialToken)))){await A();try{const ra=await c.id.getCredential(Q.params.url,{error:q("request:server",fa,Q.params),prompt:"no-prompt"!==
Z,signal:Q.controller.signal,token:Q.credentialToken});Q.credential=ra;Q.credentialToken=ra.token;Q.useSSL=Q.useSSL||ra.ssl;return!1}catch(ra){if("no-prompt"===Z)return Q.credential=void 0,Q.credentialToken=void 0,!1;fa=ra}}if(fa)throw fa;return!0}function L(Q,N,U=!1){const Z=N.controller.signal,fa=new Image;fa.crossOrigin=N.withCredentials?"use-credentials":"anonymous";fa.alt="";fa.fetchPriority=G.priority;fa.src=Q;return p.loadImageAsync(fa,Q,U,Z)}let M;const G=b.request,E="FormData"in globalThis,
F=new Set([499,498,403,401]),H=new Set(["COM_0056","COM_0057","SB_0008"]),R=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],J=()=>null,K=Symbol();r._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];r._beforeFetch=void 0;r._afterFetch=void 0;return r})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,c){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",
geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,
httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],internalInterceptors:[],maxUrlLength:2E3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62E3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(c.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,
b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(c){return"function"===typeof b[c]?b[c]=b[c](globalThis):b[c]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(c,h,d,n)=>{if(n||void 0===b[c])b[c]=h;d&&a(c)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",
!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);a.add("esri-cim-animations-enable-status","enabled");a.add("esri-cim-animations-spotlight",!1);a.add("esri-cim-animations-freeze-time",!1);a.add("enable-feature:multiple-highlights",!1);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var c="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&
window.document===document;a.add("host-browser",c);a.add("dom",c);if(a("host-browser")){var h=navigator;c=h.userAgent;var d=h.appVersion;h=parseFloat(d);a.add("edge",parseFloat(c.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(c.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(c.split("Chrome/")[1])||void 0);a.add("safari",!d.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(d.split("Version/")[1]));a.add("mac",d.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(c)){d=
RegExp.$1.replace(/P/,"p");var n=/OS ([\d_]+)/.test(c)?RegExp.$1:"1";n=parseFloat(n.replace(/_/,".").replaceAll("_",""));a.add(d,n);a.add("ios",n)}a("webkit")||(c.includes("Gecko")&&!a("edge")&&a.add("mozilla",h),a("mozilla")&&a.add("ff",parseFloat(c.split("Firefox/")[1]||c.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var c=navigator.userAgent;const h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(c);c=/iPhone/i.test(c);h&&a.add("esri-mobile",h);c&&
a.add("esri-iPhone",c);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",!1);a.add("esri-shared-array-buffer",()=>{const h=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!h});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics",
"Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-fast-triangulation-enabled",!0);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",!0);a.add("featurelayer-snapshot-point-min-threshold",
8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-query-max-depth",4);a.add("featurelayer-query-pausing-enabled",!1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-essential-goto-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",
24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const h=new Image;h.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';h.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",
!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const h=window.document.createElement("a");h.href="?'";return h.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function c(n,m){if(null==n&&null==m)return!1;if(null==n||null==m)return!0;if("object"===typeof n){if(Array.isArray(n)){if(n.length!==m.length)return!0;for(var e=0;e<n.length;e++)if(c(n[e],m[e]))return!0;return!1}if(Object.keys(n).length!==Object.keys(m).length)return!0;
for(e in n)if(c(n[e],m[e]))return!0;return!1}return n!==m}function h(n,m,e){for(const g of n){if(null==e)return;if(!(g in e))if(m)e[g]={};else return;e=e[g]}return e}function d(n,m,e){return m?Object.keys(m).reduce((g,f)=>{let p=g[f],r=m[f];if(p===r)return g;if(void 0===p)return g[f]=b.clone(r),g;if(Array.isArray(r)||Array.isArray(g))p=p?Array.isArray(p)?g[f]=p.slice():g[f]=[p]:g[f]=[],r&&(Array.isArray(r)||(r=[r]),e?r.forEach(t=>{p.includes(t)||p.push(t)}):g[f]=r.slice());else if(r&&"object"===typeof r)g[f]=
d(p,r,e);else if(!g.hasOwnProperty(f)||m.hasOwnProperty(f))g[f]=r;return g},n||{}):n}a.deepMerge=function(n,m,e=!1){return d(n,m,e)};a.getDeepValue=function(n,m){if(null!=m)return m[n]||h(n.split("."),!1,m)};a.notDeepEqual=c;a.setDeepValue=function(n,m,e){const g=n.split(".");n=g.pop();(e=h(g,!0,e))&&n&&(e[n]=m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,c){function h(t,l){let q;if(l)for(q in t)t.hasOwnProperty(q)&&
(void 0===t[q]?delete t[q]:t[q]instanceof Object&&h(t[q],!0));else for(q in t)t.hasOwnProperty(q)&&void 0===t[q]&&delete t[q];return t}function d(t){if(!t||"object"!==typeof t||"function"===typeof t)return t;var l=p(t);if(null!=l)return l;if(m(t))return t.clone();if(e(t))return t.map(d);if(g(t))return t.clone();l={};for(const q of Object.getOwnPropertyNames(t))l[q]=d(t[q]);return l}function n(t){if(!t||"object"!==typeof t||"function"===typeof t||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;
var l=p(t);if(null!=l)return l;if(e(t)){let q=!0;t=t.map(x=>{const A=n(x);null!=x&&null==A&&(q=!1);return A});return q?t:null}if(m(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(!g(t)){l=new (Object.getPrototypeOf(t).constructor);for(const q of Object.getOwnPropertyNames(t)){const x=t[q],A=n(x);if(null!=x&&null==A)return null;l[q]=A}return l}return null}function m(t){return"function"===typeof t.clone}function e(t){return"function"===typeof t.map&&"function"===typeof t.forEach}
function g(t){return"function"===typeof t.notifyChange&&"function"===typeof t.watch}function f(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;t=Object.getPrototypeOf(t);return null===t||t===Object.prototype}function p(t){if(c.isInt8Array(t)||c.isUint8Array(t)||c.isUint8ClampedArray(t)||c.isInt16Array(t)||c.isUint16Array(t)||c.isInt32Array(t)||c.isUint32Array(t)||c.isFloat32Array(t)||c.isFloat64Array(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof
ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){var l=new Map;for(const [q,x]of t)l.set(q,d(x));return l}if(t instanceof Set){l=new Set;for(const q of t)l.add(d(q));return l}return null}function r(t,l){if(null===t||null===l)return!1;const q=Object.keys(t);if(null===l||Object.keys(l).length!==q.length)return!1;for(const x of q)if(t[x]!==l[x]||!Object.prototype.hasOwnProperty.call(l,x))return!1;return!0}a.clone=d;a.equals=function(t,l){return t===l||"number"===typeof t&&isNaN(t)&&"number"===
typeof l&&isNaN(l)||"function"===typeof t?.getTime&&"function"===typeof l?.getTime&&t.getTime()===l.getTime()||!1};a.equalsShallow=function(t,l){if(t===l)return!0;if(null===t||void 0===t||"string"===typeof t)return t===l;if("number"===typeof t)return t===l||"number"===typeof l&&isNaN(t)&&isNaN(l);if(t instanceof Date)return l instanceof Date&&t.getTime()===l.getTime();if(Array.isArray(t))return Array.isArray(l)&&b.equals(t,l);if(t instanceof Set){var q;if(q=l instanceof Set)a:if(t.size!==l.size)q=
!1;else{for(const x of t)if(!l.has(x)){q=!1;break a}q=!0}return q}if(t instanceof Map){if(q=l instanceof Map)a:if(t.size!==l.size)q=!1;else{for(const [x,A]of t)if(t=l.get(x),t!==A||void 0===t&&!l.has(x)){q=!1;break a}q=!0}return q}return f(t)?f(l)&&r(t,l):!1};a.fixJson=h;a.isAccessorLike=g;a.isClonable=m;a.isPlainObject=f;a.tryClone=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,b){function c(r){return r}
function h(r,t=c){if(r&&0!==r.length){var l=r[0],q=t(l);for(let x=1;x<r.length;++x){const A=r[x],u=Number(t(A));u>q&&(q=u,l=A)}return l}}function d(r,t,l,q){q=q||g;var x=Math.max(0,q.last-10);for(let A=x;A<l;++A)if(r[A]===t)return q.last=A;l=Math.min(x,l);for(x=0;x<l;++x)if(r[x]===t)return q.last=x;return-1}function n(r){return r?(p.seed=r,()=>p.getFloat()):Math.random}const m=1/1.5;class e{constructor(){this.last=0}}const g=new e,f=new Set,p=new b;a.PositionHint=e;a.addMany=function(r,t){if(!t)return r;
for(const l of t)r.push(l);return r};a.binaryIndexOf=function(r,t,l){const q=r.length;let x=0;for(var A=q-1;x<A;){const u=x+Math.floor((A-x)/2);t>r[u]?x=u+1:A=u}A=r[x];return l?t>=r[q-1]?-1:A===t?x:x-1:A===t?x:-1};a.difference=function(r,t,l){let q,x;l?(q=t.filter(A=>!r.some(u=>l(u,A))),x=r.filter(A=>!t.some(u=>l(u,A)))):(q=t.filter(A=>!r.includes(A)),x=r.filter(A=>!t.includes(A)));return{added:q,removed:x}};a.emptyArray=[];a.equals=function(r,t,l){if(null==r&&null==t)return!0;if(null==r||null==t||
r.length!==t.length)return!1;if(l)for(let q=0;q<r.length;q++){if(!l(r[q],t[q]))return!1}else for(l=0;l<r.length;l++)if(r[l]!==t[l])return!1;return!0};a.filterInPlace=function(r,t){let l=0;for(let q=0;q<r.length;++q){const x=r[q];t(x,q)&&(r[l]=x,l++)}r.length=l};a.getRandomNumberGenerator=n;a.indexOf=d;a.intersect=function(r,t,l){return r&&t?l?r.filter(q=>-1<t.findIndex(x=>l(q,x))):r.filter(q=>t.includes(q)):[]};a.isArrayLike=function(r){return r&&"number"===typeof r.length};a.isSome=function(r,t){return null!=
r};a.max=h;a.min=function(r,t=c){return h(r,l=>-t(l))};a.pickRandom=function(r,t,l){const q=r.length;if(t>=q)return r.slice();l=n(l);const x=new Set,A=[];for(;A.length<t;){const u=Math.floor(l()*q);x.has(u)||(x.add(u),A.push(r[u]))}return A};a.range=function(r,t){void 0===t&&(t=r,r=0);const l=Array(t-r);for(let q=r;q<t;q++)l[q-r]=q;return l};a.reallocGrowthFactor=1.5;a.reallocShrinkFactor=m;a.reallocShrinkThreshold=.5;a.remove=function(r,t){const l=r.indexOf(t);return-1!==l?(r.splice(l,1),t):null};
a.removeUnordered=function(r,t,l,q){const x=null==l?r.length:l;q=d(r,t,x,q);if(-1!==q)return r[q]=r[x-1],null==l&&r.pop(),t};a.removeUnorderedMany=function(r,t,l=r.length,q=t.length,x,A){if(0===q||0===l)return l;f.clear();for(let u=0;u<q;++u)f.add(t[u]);x=x||g;t=Math.max(0,x.last-10);for(q=t;q<l;++q)if(f.has(r[q])&&(A?.push(r[q]),f.delete(r[q]),r[q]=r[l-1],--l,--q,0===f.size||0===l))return f.clear(),l;for(q=0;q<t;++q)if(f.has(r[q])&&(A?.push(r[q]),f.delete(r[q]),r[q]=r[l-1],--l,--q,0===f.size||0===
l))return f.clear(),l;f.clear();return l};a.shuffle=function(r,t){t=n(t);for(let l=r.length-1;0<l;l--){const q=Math.floor(t()*(l+1)),x=r[l];r[l]=r[q];r[q]=x}return r};a.splitIntoChunks=function(r,t){const l=r.length;if(0===l)return[];const q=[];for(let x=0;x<l;x+=t)q.push(r.slice(x,x+t));return q};a.unique=function(r,t){return t?r.filter((l,q,x)=>x.findIndex(t.bind(null,l))===q):Array.from(new Set(r))};a.update=function(r,t){let l=r.length!==t.length;l&&(r.length=t.length);for(let q=0;q<t.length;++q)r[q]!==
t[q]&&(r[q]=t[q],l=!0);return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,c){return Math.round(this.getFloatRange(b,c))}getFloatRange(b,c){c-=b;const h=this.getInt()/a._m;return b+h*c}}a._m=2147483647;a._a=48271;a._c=0;return a})},
"esri/core/typedArrayUtil":function(){define(["exports","./byteSizeEstimations","./has"],function(a,b,c){function h(l){return"Int8Array"===l?.constructor?.name}function d(l){return"Uint8Array"===l?.constructor?.name}function n(l){return"Uint8ClampedArray"===l?.constructor?.name}function m(l){return"Int16Array"===l?.constructor?.name}function e(l){return"Uint16Array"===l?.constructor?.name}function g(l){return"Int32Array"===l?.constructor?.name}function f(l){return"Uint32Array"===l?.constructor?.name}
function p(l){return"Float32Array"===l?.constructor?.name}function r(l){return"Float64Array"===l?.constructor?.name}function t(l){return!("buffer"in l)}a.estimateSize=function(...l){return l.reduce((q,x)=>q+(x?t(x)?b.estimateFixedArraySize(x,b.estimateNumberByteSize()):x.byteLength+145:0),0)};a.isArray=t;a.isArrayBuffer=function(l){return l instanceof ArrayBuffer};a.isFloat=function(l){return r(l)||p(l)};a.isFloat32Array=p;a.isFloat64Array=r;a.isInt16Array=m;a.isInt32Array=g;a.isInt8Array=h;a.isSigned=
function(l){return r(l)||p(l)||g(l)||m(l)||h(l)};a.isUint16Array=e;a.isUint32Array=f;a.isUint8Array=d;a.isUint8ClampedArray=n;a.maximumValue=function(l){return r(l)?1.79769E308:p(l)?3.402823E38:f(l)?4294967295:e(l)?65535:d(l)||n(l)?255:g(l)?2147483647:m(l)?32767:h(l)?127:256};a.nativeArrayMaxSize=1024;a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(a){function b(d){return 32+d.length}
function c(d){if(!d)return 0;if(Array.isArray(d)){var n=d.length;if(0===n||"number"===typeof d[0])d=32+8*n;else{var m=16;for(let e=0;e<n;e++)m+=h(d[e]);d=m}return d}m=32;for(n in d)d.hasOwnProperty(n)&&(m+=h(d[n]));return m}function h(d){switch(typeof d){case "object":return c(d);case "string":return b(d);case "number":return 16;case "boolean":return 4;default:return 8}}a.estimateAttributesObjectSize=function(d){if(!d)return 0;let n=32;for(const m in d)if(d.hasOwnProperty(m)){const e=d[m];switch(typeof e){case "string":n+=
b(e);break;case "number":n+=16;break;case "boolean":n+=4}}return n};a.estimateFixedArraySize=function(d,n){return 16+d.length*n};a.estimateNestedObjectSize=c;a.estimateNumberByteSize=function(){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,c,h,d){let n;(n=Symbol).dispose??(n.dispose=Symbol("Symbol.dispose"));let m;(m=Symbol).asyncDispose??
(m.asyncDispose=Symbol("Symbol.asyncDispose"));b.id=void 0;c("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}});if(!c("host-webworker")){console.debug(`Using ArcGIS Maps SDK for JavaScript ${"4.31"} [Date: ${d.buildDate}, Revision: ${d.commitHash.slice(0,8)}]`);let e;"function"===typeof globalThis.require&&(e=globalThis.require);const g=p=>{if(!e)return Promise.reject("global AMD `require` function not found");const r=
p.startsWith("@arcgis/core/")?p.replace("@arcgis/core/","esri/").replace(/.js$/,""):p;return new Promise(t=>e([r],t))},f=p=>{var r;var t=(r=globalThis.$arcgis.importMap?.imports)&&p in r?r[p]:null;t?(r=!0,p=t):r=p.startsWith("/")||p.startsWith("./")||p.startsWith("../")||h.isAbsolute(p);return r?import(p):g(p)};Object.defineProperty(globalThis.$arcgis,"import",{configurable:!1,enumerable:!0,writable:!1,value:p=>Array.isArray(p)?Promise.all(p.map(f)):f(p)})}b.buildDate=d.buildDate;b.revision=d.commitHash;
b.addTokenParameter=function(e){const g=b.id?.findCredential(e);return g?.token?h.addQueryParameter(e,"token",g.token):e};b.fullVersion="4.31";b.setId=function(e){b.id=e};b.version="4.31";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),function(a,b,c,h,d,n,m,e){function g(O){if(!O)return null;const P={path:null,query:null},
W=new ha(O),ca=O.indexOf("?");null===W.query?P.path=O:(P.path=O.slice(0,ca),P.query=f(W.query));W.fragment&&(P.hash=W.fragment,null===W.query&&(P.path=P.path.slice(0,P.path.length-(W.fragment.length+1))));return P}function f(O){var P=O.split("\x26");O={};for(const ca of P){if(!ca)continue;var W=ca.indexOf("\x3d");0>W?(P=decodeURIComponent(ca),W=""):(P=decodeURIComponent(ca.slice(0,W)),W=decodeURIComponent(ca.slice(W+1)));let oa=O[P];"string"===typeof oa&&(oa=O[P]=[oa]);Array.isArray(oa)?oa.push(W):
O[P]=W}return O}function p(O,P){return O?P&&"function"===typeof P?Object.keys(O).map(W=>encodeURIComponent(W)+"\x3d"+encodeURIComponent(P(W,O[W]))).join("\x26"):Object.keys(O).map(W=>{const ca=O[W];if(null==ca)return"";const oa=encodeURIComponent(W)+"\x3d";return(W=P?.[W])?oa+encodeURIComponent(W(ca)):Array.isArray(ca)?ca.map(Aa=>d.isSerializable(Aa)?oa+encodeURIComponent(JSON.stringify(Aa)):oa+encodeURIComponent(Aa)).join("\x26"):d.isSerializable(ca)?oa+encodeURIComponent(JSON.stringify(ca)):oa+
encodeURIComponent(ca)}).filter(W=>W).join("\x26"):""}function r(O=!1){let P,W=pa.proxyUrl;if("string"===typeof O){if(P=H(O),O=q(O))W=O.proxyUrl}else P=!!O;if(!W)throw n.getLogger("esri.core.urlUtils").warn("esri/config: esriConfig.request.proxyUrl is not set."),new h("urlUtils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");P&&Q()&&(W=K(W));return g(W)}function t(O){const P=O.indexOf("?");-1!==P?(Y.path=O.slice(0,P),Y.query=O.slice(P+1)):(Y.path=O,Y.query=null);return Y}function l(O){O=
t(O).path;O=U(O);O=N(O,!0);return O=O.toLowerCase()}function q(O){const P=pa.proxyRules;O=l(O);for(let W=0;W<P.length;W++)if(0===O.indexOf(P[W].urlPrefix))return P[W]}function x(O){O=w(O);const P=O.indexOf("/sharing");return 0<P?O.slice(0,P):O.replace(/\/+$/,"")}function A(O,P,W=!1){if(!O||!P)return!1;O=fa(O);P=fa(P);return!W&&O.scheme!==P.scheme||null==O.host||null==P.host?!1:O.host.toLowerCase()===P.host.toLowerCase()&&O.port===P.port}function u(O,P=ua,W){if(E(O))return W?.preserveProtocolRelative?
O:"http"===da.scheme&&da.authority===k(O).slice(2)?`http:${O}`:`https:${O}`;if(!F(O)){W=z;if("/"===O[0]){var ca=P.indexOf("//");ca=P.indexOf("/",ca+2);P=-1===ca?P:P.slice(0,ca)}return W(P,O)}return O}function w(O){O=O.trim();O=u(O);if(/^https?:\/\//i.test(O)){const P=t(O);O=P.path.replaceAll(/\/{2,}/g,"/");O=O.replace("/","//");P.query&&(O+=`?${P.query}`)}O=O.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return O=Z(O)}function z(...O){var P=O.filter(c.isSome);if(P?.length){O=[];if(v(P[0])){var W=
P[0],ca=W.indexOf("//");-1!==ca&&(O.push(W.slice(0,ca+1)),J(P[0])&&(O[0]+="/"),P[0]=W.slice(ca+2))}else"/"===P[0][0]&&O.push("");P=P.reduce((oa,Aa)=>Aa?oa.concat(Aa.split("/")):oa,[]);for(W=0;W<P.length;W++)ca=P[W],".."===ca&&0<O.length&&".."!==O[O.length-1]?O.pop():(!ca&&W===P.length-1||ca&&("."!==ca||0===O.length))&&O.push(ca);return O.join("/")}}function k(O,P=!1){if(null==O||y(O)||B(O))return null;var W=O.indexOf("://");if(-1===W&&E(O))W=2;else if(-1!==W)W+=3;else return null;W=O.indexOf("/",
W);-1!==W&&(O=O.slice(0,W));P&&(O=N(O,!0));return O}function v(O){return E(O)||F(O)}function y(O){return null!=O&&"blob:"===O.slice(0,5)}function B(O){return null!=O&&"data:"===O.slice(0,5)}function C(O){O=L(O);return O?.isBase64?e.base64ToArrayBuffer(O.data):null}function L(O){O=O.match(ea);if(!O)return null;const [,P,W,ca]=O;return{mediaType:P,isBase64:!!W,data:ca}}function M(O){const P=C(O);if(!P)return null;O=L(O);return new Blob([P],{type:O.mediaType})}function G(O,P){if(!O)return!1;const W=
document.createElement("a");if(!("download"in W))return!1;O=URL.createObjectURL(O);W.download=P;W.href=O;W.style.display="none";document.body.appendChild(W);W.click();document.body.removeChild(W);URL.revokeObjectURL(O);return!0}function E(O){return null!=O&&"/"===O[0]&&"/"===O[1]}function F(O){return null!=O&&xa.test(O)}function H(O){return null!=O&&qa.test(O)||"https"===da.scheme&&E(O)}function R(O){return null!=O&&ra.test(O)||"http"===da.scheme&&E(O)}function J(O){return null!=O&&za.test(O)}function K(O){return E(O)?
`https:${O}`:O.replace(ra,"https:")}function Q(){return"https"===da.scheme}function N(O,P=!1){if(E(O))return O.slice(2);O=O.replace(xa,"");P&&1<O.length&&"/"===O[0]&&"/"===O[1]&&(O=O.slice(2));return O}function U(O){return O.endsWith("/")?O:`${O}/`}function Z(O){const P=pa.httpsDomains;if(!R(O))return O;const W=O.indexOf("/",7);let ca;ca=-1===W?O:O.slice(0,W);ca=ca.toLowerCase().slice(7);if(Da.test(ca))if(ca.endsWith(":80"))ca=ca.slice(0,-3),O=O.replace(":80","");else return O;if("http"===da.scheme&&
ca===da.authority&&!sa.test(O))return O;if(Q()&&ca===da.authority||P&&P.some(oa=>ca===oa||ca.endsWith(`.${oa}`))||Q()&&!q(O))O=K(O);return O}function fa(O){if("string"===typeof O)return new ha(u(O));O.scheme||(O.scheme=da.scheme);return O}const pa=b.request,xa=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ra=/^\s*http:/i,qa=/^\s*https:/i,za=/^\s*file:/i,Da=/:\d+$/,sa=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,X=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),aa=RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");
class ha{constructor(O=""){this.uri=O;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;O=this.uri.match(X);this.scheme=O[2]||(O[1]?"":null);this.authority=O[4]||(O[3]?"":null);this.path=O[5];this.query=O[7]||(O[6]?"":null);this.fragment=O[9]||(O[8]?"":null);null!=this.authority&&(O=this.authority.match(aa),this.user=O[3]||null,this.password=O[4]||null,this.host=O[6]||O[7],this.port=O[9]||null)}toString(){return this.uri}}const I={},T=new ha(b.applicationUrl);
let da=T;const la=function(){var O=da.path;O=O.slice(0,O.lastIndexOf("/")+1);return`${`${da.scheme}://${da.host}${null!=da.port?`:${da.port}`:""}`}${O}`}();let ua=la;const Y={path:"",query:""},ea=/^data:(.*?)(;base64)?,(.*)$/,ja=/([^.]*)\.([^/]*)$/,V=/(^data:image\/svg|\.svg$)/i;a.Url=ha;a.addProxy=function(O,P=!1){const W=q(O);var ca=void 0;if(W){var oa=t(W.proxyUrl);ca=oa.path;oa=oa.query?f(oa.query):null}else P&&(oa=r(O),ca=oa.path,oa=oa.query);ca&&(P=g(O),O=ca+"?"+P.path,(ca=p({...oa,...P.query}))&&
(O=`${O}?${ca}`));return O};a.addProxyRule=function(O){O={proxyUrl:O.proxyUrl,urlPrefix:l(O.urlPrefix)};const P=pa.proxyRules,W=O.urlPrefix;let ca=P.length;for(let oa=0;oa<P.length;oa++){const Aa=P[oa].urlPrefix;if(0===W.indexOf(Aa)){if(W.length===Aa.length)return-1;ca=oa;break}0===Aa.indexOf(W)&&(ca=oa+1)}P.splice(ca,0,O);return ca};a.addQueryParameter=function(O,P,W){O=g(O);const ca=O.query||{};ca[P]=String(W);return`${O.path}?${p(ca)}`};a.addQueryParameters=function(O,P){if(!P)return O;O=g(O);
const W=O.query||{};for(const [ca,oa]of Object.entries(P))null!=oa&&(W[ca]=oa);return(P=p(W))?`${O.path}?${P}`:O.path};a.base64UrlEncode=function(O){return e.arrayBufferToBase64(O).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(O){return(await fetch(O)).blob()};a.changeDomain=function(O,P,W){if(!(P&&W&&O&&v(O)))return O;const ca=O.indexOf("//");var oa=O.indexOf("/",ca+2);const Aa=O.indexOf(":",ca+2);oa=Math.min(0>oa?O.length:oa,0>Aa?O.length:Aa);if(O.slice(ca+
2,oa).toLowerCase()!==P.toLowerCase())return O;P=O.slice(0,ca+2);O=O.slice(oa);return`${P}${W}${O}`};a.dataComponents=L;a.dataToArrayBuffer=C;a.dataToBlob=M;a.downloadBlobAsFile=function(O,P){G(O,P)};a.downloadDataAsFile=function(O,P){(O=M(O))&&G(O,P)};a.ensureTrailingSlash=U;a.getAppBaseUrl=()=>ua;a.getAppUrl=()=>da;a.getFilename=function(O,P){if(!O)return"";O=g(O).path.replace(/\/+$/,"");O=O.slice(O.lastIndexOf("/")+1);if(!P?.length)return O;P=new RegExp(`\\.(${P.join("|")})$`,"i");return O.replace(P,
"")};a.getInterceptor=function(O,P=pa.interceptors){const W=ca=>null==ca||ca instanceof RegExp&&ca.test(O)||"string"===typeof ca&&O.startsWith(ca);if(P)for(const ca of P)if(Array.isArray(ca.urls)){if(ca.urls.some(W))return ca}else if(W(ca.urls))return ca;return null};a.getOrigin=k;a.getPathExtension=function(O){return null==O?null:(O=O.match(ja))?O[2]:null};a.getProxyRule=q;a.getProxyUrl=r;a.hasProtocol=F;a.hasSameCanonicalArcGISOnlinePortal=function(O,P){if(!O||!P)return!1;O=x(O);P=x(P);O=m.parseKnownArcGISOnlineDomain(O);
P=m.parseKnownArcGISOnlineDomain(P);return null!=O&&null!=P?O.portalHostname===P.portalHostname:!1};a.hasSameCanonicalPortal=function(O,P){if(!O||!P)return!1;O=x(O);P=x(P);const W=m.parseKnownArcGISOnlineDomain(O),ca=m.parseKnownArcGISOnlineDomain(P);return null!=W&&null!=ca?W.portalHostname===ca.portalHostname:null!=W||null!=ca?!1:A(O,P,!0)};a.hasSameOrigin=A;a.hasSamePortal=function(O,P){O=x(O);P=x(P);return N(O)===N(P)};a.isAbsolute=v;a.isAppHTTPS=Q;a.isBlobProtocol=y;a.isDataProtocol=B;a.isHTTPSProtocol=
H;a.isProtocolRelative=E;a.isSVG=function(O){return V.test(O)};a.isTrustedServer=function(O){if("string"===typeof O)if(v(O))O=fa(O);else return!0;if(A(O,da))return!0;const P=pa.trustedServers||[];for(let ca=0;ca<P.length;ca++){var W=P[ca];I[W]||(F(W)||E(W)?I[W]=[new ha(u(W))]:I[W]=[new ha(`http://${W}`),new ha(`https://${W}`)]);W=I[W];for(let oa=0;oa<W.length;oa++)if(A(O,W[oa]))return!0}return!1};a.join=z;a.makeAbsolute=u;a.makeData=function(O){return O.isBase64?`data:${O.mediaType};base64,${O.data}`:
`data:${O.mediaType},${O.data}`};a.makeRelative=function(O,P=ua,W){if(null==O||!v(O))return O;var ca=w(O),oa=ca.toLowerCase();P=w(P).toLowerCase().replace(/\/+$/,"");if((W=W?w(W).toLowerCase().replace(/\/+$/,""):null)&&0!==P.indexOf(W))return O;const Aa=(Pa,Na,Qa)=>{Qa=Pa.indexOf(Na,Qa);return-1===Qa?Pa.length:Qa};let Ga=Aa(oa,"/",oa.indexOf("//")+2),Fa=-1;for(;oa.slice(0,Ga+1)===P.slice(0,Ga)+"/";){Fa=Ga+1;if(Ga===oa.length)break;Ga=Aa(oa,"/",Ga+1)}if(-1===Fa||W&&Fa<W.length)return O;O=ca.slice(Fa);
ca=P.slice(Fa-1).replaceAll(/[^/]+/g,"").length;if(0<ca)for(oa=0;oa<ca;oa++)O=`../${O}`;else O=`./${O}`;return O};a.normalize=w;a.objectToQuery=p;a.parseData=async function(O){return"string"===typeof O?L(O)??{data:O}:new Promise((P,W)=>{const ca=new FileReader;ca.readAsDataURL(O);ca.onload=()=>P(L(ca.result));ca.onerror=oa=>W(oa)})};a.queryToObject=f;a.removeFile=function(O){let P=0;if(v(O)){var W=O.indexOf("//");-1!==W&&(P=W+2)}W=O.lastIndexOf("/");return W<P?O:O.slice(0,W+1)};a.removeQueryParameter=
function(O,P){const {path:W,query:ca}=g(O);if(!ca)return O;delete ca[P];return(O=p(ca))?`${W}?${O}`:W};a.removeQueryParameters=function(O,P){O=g(O);const W=Object.keys(O.query||{});0<W.length&&P&&P.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${W.join(", ")}.`);return O.path};a.removeTrailingSlash=function(O){return O.replace(/\/+$/,"")};a.splitPathExtension=function(O){if(null==O)return null;const P=O.match(ja);return P?{path:P[1],
extension:P[2]}:{path:O,extension:null}};a.test={setAppUrl:O=>da=O,setAppBaseUrl:O=>ua=O,restoreUrls:()=>{da=T;ua=la}};a.toHTTP=function(O){return E(O)?`http:${O}`:O.replace(qa,"http:")};a.toHTTPS=K;a.trustedServersUrlCache=I;a.urlToObject=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],function(a,b,c){class h extends c{constructor(d,n,m){super(d,n,m)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,
details:JSON.parse(JSON.stringify(this.details,(d,n)=>{if(n&&"object"===typeof n&&"function"===typeof n.toJSON)return n;try{return a.clone(n)}catch(m){return"[object]"}}))}}catch(d){throw b.getLogger("esri.core.Error").error(d),d;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(d){return new h(d.name,d.message,d.details)}}h.prototype.type="error";return h})},"esri/core/Logger":function(){define(["../config","./has","./string"],function(a,b,c){function h(e,g,...f){console[e](`[${g}]`,
...f)}function d(...e){return c.numericHash(JSON.stringify(e,(g,f)=>"object"!==typeof f||Array.isArray(f)?f:"[Object]"))}const n={info:0,warn:1,error:2,none:3};class m{constructor(e){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=e.level&&(this.level=e.level);null!=e.writer&&(this.writer=e.writer);this._module=e.module;m._loggers.set(this.module,this);e=this.module.lastIndexOf(".");-1!==e&&(this._parent=m.getLogger(this.module.slice(0,
e)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",
...e)}get test(){}static get test(){}static getLogger(e){e="string"!==typeof e?e.declaredClass:e;return m._loggers.get(e)||new m({module:e})}_log(e,g,...f){if(this._matchLevel(e)){if("always"!==g&&!m._throttlingDisabled){const p=d(f),r=this._loggedMessages[e].get(p);if("once"===g&&null!=r||"oncePerTick"===g&&r&&r>=m._tickCounter)return;this._loggedMessages[e].set(p,m._tickCounter);m._scheduleTickCounterIncrement()}for(const p of a.log.interceptors)if(p(e,this.module,...f))return;this._inheritedWriter()(e,
this.module,...f)}}_parentWithMember(e,g){let f=this;for(;null!=f;){const p=f[e];if(null!=p)return p;f=f.parent}return g}_inheritedWriter(){return this._parentWithMember("writer",h)}_matchLevel(e){return n[this._parentWithMember("level",a.log.level||"warn")]<=n[e]}static _scheduleTickCounterIncrement(){m._tickCounterScheduled||(m._tickCounterScheduled=!0,Promise.resolve().then(()=>{m._tickCounter++;m._tickCounterScheduled=!1}))}}m._loggers=new Map;m._tickCounter=0;m._tickCounterScheduled=!1;m._throttlingDisabled=
!1;return m})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function c(n){return null==n?"":n}const h=/\{([^}]+)\}/g;let d;a.escapeRegExpString=function(n,m){return n.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,e=>m?.includes(e)?e:`\\${e}`)};a.numericHash=function(n){let m=0;for(let e=0;e<n.length;e++)m=(m<<5)-m+n.charCodeAt(e),m|=0;return m};a.replace=function(n,m){return m?n.replaceAll(h,"object"===typeof m?(e,g)=>c(b.getDeepValue(g,m)):(e,g)=>c(m(g))):n};a.safeToString=function(n,
...m){let e=n[0];for(let g=0;g<m.length;++g)e+=m[g]+n[g+1];return e};a.stripHTML=function(n){d??=new DOMParser;return d.parseFromString(n||"","text/html").body.innerText||""};a.templateHasKey=function(n,m){return(new RegExp(`{${m}}`,"ig")).test(n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Message":function(){define(["./object"],function(a){function b(h,d){return h.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,m)=>{if(""===m)return"$";n=a.getDeepValue(m,d);return(null==
n?"":n).toString()})}class c{constructor(h,d,n){this.name=h;this.details=n;this.message=(d&&b(d,n))??""}toString(){return"["+this.name+"]: "+this.message}}return c})},"esri/core/JSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){const f=p=>{p=class extends p{constructor(...r){super(...r);
r=m.getProperties(this);const t=r.store,l=new h.DefaultsStore;r.store=l;d.setupConstructedDefaults(r,t,l)}read(r,t){n.read(this,r,t)}write(r,t){return e.write(this,r??{},t)}toJSON(r){return this.write({},r)}static fromJSON(r,t){if(r){if(r.declaredClass)throw Error("JSON object is already hydrated");var l=new this;l.read(r,t);r=l}else r=null;return r}};p=b.__decorate([g.subclass("esri.core.JSONSupport")],p);p.prototype.toJSON.isDefaultToJSON=!0;return p};a.JSONSupport=class extends f(c){};a.JSONSupport=
b.__decorate([g.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=f;a.isSerializable=function(p){return p&&"object"===typeof p&&"toJSON"in p&&"function"===typeof p.toJSON};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){function q(k){if(null==k)return{value:k};if(Array.isArray(k))return{type:[k[0]],value:null};switch(typeof k){case "object":return k.constructor?.__accessorMetadata__||k instanceof Date?{type:k.constructor,value:k}:k;case "boolean":return{type:Boolean,value:k};case "string":return{type:String,value:k};case "number":return{type:Number,value:k};case "function":return{type:k,value:null}}}const x=Symbol("Accessor-Handles"),A=Symbol("Accessor-Initialized");class u{static createSubclass(k=
{}){if(Array.isArray(k))throw Error("Multi-inheritance unsupported since 4.16");const {properties:v,declaredClass:y,constructor:B}=k;delete k.declaredClass;delete k.properties;delete k.constructor;const C=this;class L extends C{constructor(...M){super(...M);this.inherited=null;B&&B.apply(this,M)}}e.getPropertiesMetadata(L.prototype);for(const M in k){const G=k[M];L.prototype[M]="function"===typeof G?function(...E){const F=this.inherited;this.inherited=function(...R){if(C.prototype[M])return C.prototype[M].apply(this,
R)};let H=void 0;try{H=G.apply(this,E)}catch(R){throw this.inherited=F,R;}this.inherited=F;return H}:k[M]}for(const M in v)k=q(v[M]),t.property(k)(L.prototype,M);return l.subclass(y)(L)}static freeze(k){k instanceof u?k.__accessor__.mutable=!1:Object.freeze(k);return k}static isFrozen(k){return k instanceof u?!k.__accessor__.mutable:Object.isFrozen(k)}constructor(...k){this[w]=null;this[z]=!1;if(this.constructor===u)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
const v=new g(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:v});0<k.length&&(v.ctorArgs=this.normalizeCtorArgs?.apply(this,k)??k[0]);p.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(){const k=this.__accessor__,v=k.ctorArgs;k.initialize();v&&(this.set(v),k.ctorArgs=null);k.constructed();this.initialize();this[A]=!0}initialize(){}[d.beforeDestroySymbol](){this[x]=h.destroyMaybe(this[x])}destroy(){this.destroyed||(r.removeTarget(this),this.__accessor__.destroy(),
p.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[A]}get destroyed(){return this.__accessor__?.lifecycle===m.Lifecycle.DESTROYED||!1}commitProperty(k){n.get(this,k)}get(k){a.deprecatedFunction(c.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"});
return n.get(this,k)}hasOwnProperty(k){return this.__accessor__?this.__accessor__.has(k):Object.prototype.hasOwnProperty.call(this,k)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(k,v){f.set(this,k,v);return this}watch(k,v,y){return r.watch(this,k,v,y)}addHandles(k,v){if(this.destroyed){k=Array.isArray(k)?k:[k];for(const y of k)y.remove()}else(this[x]??(this[x]=new b)).add(k,v)}removeHandles(k){this[x]?.remove(k)}removeAllHandles(){this[x]?.removeAll()}removeHandlesReference(k){this[x]?.removeReference(k)}hasHandles(k){return!0===
this[x]?.has(k)}_override(k,v){void 0===v?this.__accessor__.clearOverride(k):this.__accessor__.override(k,v)}_clearOverride(k){return this.__accessor__.clearOverride(k)}_overrideIfSome(k,v){null==v?this.__accessor__.clearOverride(k):this.__accessor__.override(k,v)}_isOverridden(k){return this.__accessor__.isOverridden(k)}notifyChange(k){this.__accessor__.notifyChange(k)}_get(k){return this.__accessor__.internalGet(k)}_set(k,v){this.__accessor__.internalSet(k,v);return this}}var w=x;var z=A;return u})},
"esri/core/deprecate":function(){define(["exports","./has"],function(a,b){function c(n,m,e=!1){const g=`\ud83d\uded1 DEPRECATED - ${m}`;e?(e=d.get(n),e||(e=new Set,d.set(n,e)),e.has(m)||(e.add(m),n.warn(g))):n.warn(g)}function h(n,m,e={}){if(b("esri-deprecation-warnings")){const {replacement:g,version:f,see:p,warnOnce:r}=e;g&&(m+=`\n\t\ud83d\udee0\ufe0f Replacement: ${g}`);f&&(m+=`\n\t\u2699\ufe0f Version: ${f}`);p&&(m+=`\n\t\ud83d\udd17 See ${p} for more details.`);c(n,m,r)}}const d=new WeakMap;
a.deprecated=h;a.deprecatedConstructorSignature=function(n,m,e={}){b("esri-deprecation-warnings")&&h(n,`Multiple argument constructor: ${m}`,{warnOnce:!0,replacement:`new ${m}({ <your properties here> })`,...e})};a.deprecatedFunction=function(n,m,e={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=e;h(n,`Function: ${(g?g+"::":"")+m+"()"}`,e)}};a.deprecatedModule=function(n,m,e={}){b("esri-deprecation-warnings")&&h(n,`Module: ${m}`,e)};a.deprecatedProperty=function(n,m,e={}){if(b("esri-deprecation-warnings")){const {moduleName:g}=
e;h(n,`Property: ${(g?g+"::":"")+m}`,e)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){function b(h){for(const d of h)d instanceof c?d.removeAll():d.remove()}class c{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let h=0;this._groups.forEach(d=>{h+=d.length});return h}add(h,d){if(a.isIterable(h)){d=this._getOrCreateGroup(d);for(const n of h)null!=n&&(n.remove||n instanceof c)&&d.push(n)}else null!=
h&&(h.remove||h instanceof c)&&this._getOrCreateGroup(d).push(h);return this}forEach(h,d){if("function"===typeof h)this._groups.forEach(n=>n.forEach(h));else{const n=this._getGroup(h);n&&d&&n.forEach(d)}}has(h){return this._groups.has(h||"_default_")}remove(h){if("string"!==typeof h&&a.isIterable(h)){for(const d of h)this.remove(d);return this}if(!this.has(h))return this;b(this._getGroup(h));this._groups.delete(h||"_default_");return this}removeAll(){this._groups.forEach(b);this._groups.clear();return this}removeReference(h){this._groups.delete(h);
return this}_getOrCreateGroup(h){if(this.has(h))return this._getGroup(h);const d=[];this._groups.set(h||"_default_",d);return d}_getGroup(h){return this._groups.get(h||"_default_")}}return c})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const c=[];return function*(){yield*c;for(const h of b)c.push(h),yield h}};a.find=function(b,c){for(const h of b)if(null!=h&&c(h))return h};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){a.abortMaybe=function(b){b?.abort();return null};a.assertIsSome=function(b,c){if(null==b)throw Error(c??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,c,h){return null!=b&&null!=c?null!=h?h(b,c):b.equals(c):b===c};a.mappedFind=function(b,c){let h=void 0;b.some((d,n)=>{h=c(d,
n);return null!=h});return h??void 0};a.maybeProperty=function(b,c){return b?.[c]};a.releaseMaybe=function(b){b?.release();return null};a.removeMaybe=function(b){b?.remove();return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports",
"./utils"],function(a,b){function c(n,m){n="?"===n[n.length-1]?n.slice(0,-1):n;if(null!=m.getItemAt||Array.isArray(m)){var e=parseInt(n,10);if(!isNaN(e))return Array.isArray(m)?m[e]:m.at(e)}e=b.getProperties(m);return b.isPropertyDeclared(e,n)?e.get(n):m[n]}function h(n,m,e){if(null==n)return n;if((n=c(m[e],n))||!(e<m.length-1))return e===m.length-1?n:h(n,m,e+1)}function d(n,m,e=0){return"string"!==typeof m||m.includes(".")?h(n,b.pathToArray(m),e):c(m,n)}a.exists=function(n,m){return void 0!==d(m,
n)};a.get=function(n,m){return d(n,m)};a.valueOf=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang"],function(a,b,c){function h(g){return g.__accessor__??null}function d(g,f,p){return f?Object.keys(f).reduce((r,t)=>{let l=null;var q="merge";p&&(l=p.path?`${p.path}.${t}`:t,q=p.policy(l));if("replace"===q||"replace-arrays"===q&&Array.isArray(r[t]))return r[t]=f[t],r;if(void 0===r[t])return r[t]=
c.clone(f[t]),r;let x=r[t];q=f[t];if(x===q)return r;if(Array.isArray(q)||Array.isArray(r))x=x?Array.isArray(x)?r[t]=x.slice():r[t]=[x]:r[t]=[],q&&(Array.isArray(q)||(q=[q]),q.forEach(A=>{x.includes(A)||x.push(A)}));else if(q&&"object"===typeof q)if(p){const A=p.path;p.path=l;r[t]=d(x,q,p);p.path=A}else r[t]=d(x,q,null);else if(!r.hasOwnProperty(t)||f.hasOwnProperty(t))r[t]=q;return r},g||{}):g}function n(g){return Array.isArray(g)?g:g.split(".")}function m(g){return g.includes(",")?g.split(",").map(f=>
f.trim()):[g.trim()]}function e(g){if(Array.isArray(g)){const f=[];for(const p of g)f.push(...m(p));return f}return m(g)}a.getDependsInfo=function(g,f){const p=h(g);return p?p.getDependsInfo(g,f,""):""};a.getProperties=h;a.isPropertyDeclared=function(g,f){return null!=g?.metadata?.[f]};a.merge=function(g,f,p){return p?d(g,f,{policy:p,path:""}):d(g,f,null)};a.parse=function(g,f,p,r){f=e(f);return 1!==f.length?(f=f.map(t=>r(g,t,p)),b.handlesGroup(f)):r(g,f[0],p)};a.parseConditionalPath=function(g){if(!g.includes("?"))return null;
g=n(g);const f=Array(g.length);for(let p=0;p<g.length;p++){const r=g[p];f[p]="?"===r[r.length-1];f[p]&&(g[p]=r.slice(0,-1))}return{fullPath:g.join("."),conditional:f}};a.pathToArray=n;a.pathToStringOrArray=function(g){return!g||"string"===typeof g&&!g.includes(".")?g:n(g)};a.splitPath=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(d){return d?{remove(){d&&(d(),d=void 0)}}:h}function c(d){d.forEach(n=>n?.remove())}
const h={remove:()=>{}};a.abortHandle=function(d){return b(()=>d?.abort())};a.asyncHandle=function(d,n){let m=!1,e=null;d.then(g=>{m?g.remove():e=g});return b(()=>{m=!0;null!=e?e.remove():null!=n&&(n.abort(),n=null)})};a.destroyHandle=function(d){return b(null!=d?()=>d.destroy():void 0)};a.disposable=function(d){return{[Symbol.dispose](){d.remove()}}};a.drainHandles=function(d){c(d);d.length=0};a.handlesGroup=function(d){return b(()=>c(d))};a.makeHandle=b;a.refHandle=function(d){return b(()=>d()?.remove())};
a.removeHandles=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";b[b.DESTROYED=3]="DESTROYED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],
function(a,b,c){function h(m){let e=m.constructor.__accessorMetadata__;const g=Object.prototype.hasOwnProperty.call(m.constructor,"__accessorMetadata__");if(!e)e={},Object.defineProperty(m.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});else if(!g){e=Object.create(e);for(const f in e)e[f]=b.clone(e[f]);Object.defineProperty(m.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}return m.constructor.__accessorMetadata__}function d(m){return n.test(m)?
"replace":"merge"}const n=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=h;a.getPropertyMetadata=function(m,e){m=h(m);let g=m[e];g||=m[e]={};return g};a.mergeProperty=function(m,e){return c.merge(m,e,d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags ./tracking/TrackingTarget".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){class r{constructor(q){this.host=q;this.propertiesByName=new Map;this.ctorArgs=null;this.lifecycle=d.Lifecycle.INITIALIZING;this.store=new e.Store;this.mutable=!0;this._origin=m.OriginId.USER;q=this.host.constructor.__accessorMetadata__;for(const x in q){const A=new n.Property(x,q[x]);this.propertiesByName.set(x,A)}this.metadata=q}initialize(){this.lifecycle=d.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=d.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=d.Lifecycle.DESTROYED;
this.propertiesByName.forEach(q=>q.destroy())}get initialized(){return this.lifecycle!==d.Lifecycle.INITIALIZING}get(q){const x=this.propertiesByName.get(q);if(x.metadata.get)return x.getComputed(this);this.mutable&&g.trackAccess(x);const A=this.store;return A.has(q)?A.get(q):x.metadata.value}originOf(q){const x=this.store.originOf(q);return void 0===x&&(q=this.propertiesByName.get(q),void 0!==q&&q.flags&f.Flags.HasDefaultValue)?"defaults":m.idToName(x)}has(q){return this.propertiesByName.has(q)&&
this.store.has(q)}keys(){return[...this.propertiesByName.keys()]}internalGet(q){const x=this.propertiesByName.get(q);if(void 0!==x)return this.store.has(q)?this.store.get(q):x.metadata.value}internalSet(q,x){q=this.propertiesByName.get(q);void 0!==q&&this._internalSet(q,x)}getDependsInfo(q,x,A){const u=this.propertiesByName.get(x);if(void 0===u)return"";var w=new p.TrackingTarget;const z=g.runTracked(w,()=>u.metadata.get?.call(q)),k=q.declaredClass.split(".").pop();x=`${A}${k}.${x}: ${z}\n`;w=w.accessed??
new Set;if(0===w.size)return x;A+="  ";for(const v of w)v instanceof n.Property&&(x+=`${A}${v.propertyName}: undefined\n`);return x}setAtOrigin(q,x,A){q=this.propertiesByName.get(q);if(void 0!==q)return this._setAtOrigin(q,x,A)}isOverridden(q){q=this.propertiesByName.get(q);return void 0!==q&&!!(q.flags&f.Flags.Overridden)}clearOverride(q){(q=this.propertiesByName.get(q))&&q.flags&f.Flags.Overridden&&(q.flags&=~f.Flags.Overridden,q.notifyChange())}override(q,x){q=this.propertiesByName.get(q);if(!(void 0===
q||null==x&&q.flags&f.Flags.NonNullable)){var A=q.metadata.cast;if(A){x=this._cast(A,x);const {valid:u,value:w}=x;l.release(x);if(!u)return;x=w}q.flags|=f.Flags.Overridden;this._internalSet(q,x)}}set(q,x){q=this.propertiesByName.get(q);if(!(void 0===q||null==x&&q.flags&f.Flags.NonNullable)){var A=q.metadata.cast;if(A){x=this._cast(A,x);const {valid:u,value:w}=x;l.release(x);if(!u)return;x=w}(A=q.metadata.set)?A.call(this.host,x):this._internalSet(q,x)}}setDefaultOrigin(q){this._origin=m.nameToId(q)}getDefaultOrigin(){return m.idToName(this._origin)}notifyChange(q){q=
this.propertiesByName.get(q);void 0!==q&&q.notifyChange()}invalidate(q){q=this.propertiesByName.get(q);void 0!==q&&q.invalidate()}commit(q){q=this.propertiesByName.get(q);void 0!==q&&q.commit()}_internalSet(q,x){this._setAtOrigin(q,x,this.lifecycle!==d.Lifecycle.INITIALIZING?this._origin:m.OriginId.DEFAULTS)}_setAtOrigin(q,x,A){const u=this.store,w=q.propertyName;u.has(w,A)&&b.equals(x,u.get(w))&&~q.flags&f.Flags.Overridden&&A===u.originOf(w)||(q.invalidate(),u.set(w,x,A),q.commit(),g.initializeDependencyTracking(this.host,
q))}_cast(q,x){const A=l.acquire();A.valid=!0;A.value=x;q&&(A.value=q.call(this.host,x,A));return A}}class t{constructor(){this.value=null;this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const l=new h(t);return r})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,c,h,d=1,n=0){this._ctor=b;this._acquireFunction=c;this._releaseFunction=h;this.allocationSize=d;this._pool=Array(n);this._initialSize=n;for(b=0;b<n;b++)this._pool[b]=new this._ctor;this.allocationSize=
Math.max(d,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var c=new this._ctor;else{if(0===this._pool.length){c=this.allocationSize;for(let h=0;h<c;h++)this._pool[h]=new this._ctor}c=this._pool.pop()}this._acquireFunction?this._acquireFunction(c,...b):c?.acquire&&"function"===typeof c.acquire&&c.acquire(...b);return c}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=
this._pool.length)){for(let c=b;c<this._pool.length;++c)this._dispose(this._pool[c]);this._pool.length=b}}_dispose(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define("exports ./ObservableBase ./PropertyOrigin ./tracking ./tracking/Flags ./tracking/TrackingTarget".split(" "),function(a,b,c,h,d,n){class m extends b.ObservableBase{constructor(e,g){super();this.propertyName=e;this.metadata=g;this.trackingTarget=
new n.TrackingTarget(this);this.flags=0;this.flags=d.Flags.Dirty|(g.nonNullable?d.Flags.NonNullable:0)|(g.hasOwnProperty("value")?d.Flags.HasDefaultValue:0)|(void 0===g.get?d.Flags.DepTrackingInitialized:0)|(void 0===g.dependsOn?d.Flags.AutoTracked:0)}destroy(){if(this.flags&d.Flags.Dirty)this.onCommitted();super.destroy();this.trackingTarget.destroy()}getComputed(e){e.mutable&&h.trackAccess(this);var g=e.store;const f=this.propertyName;var p=this.flags;const r=g.get(f);if(p&d.Flags.Computing||~p&
d.Flags.Dirty&&g.has(f))return r;this.flags|=d.Flags.Computing;e=e.host;p&d.Flags.AutoTracked?p=h.runTracked(this.trackingTarget,this.metadata.get,e):(h.trackExplicitDependencies(e,this),p=this.metadata.get.call(e));this.flags|=d.Flags.DepTrackingInitialized;g.set(f,p,c.OriginId.COMPUTED);g=g.get(f);g===r?this.flags&=~d.Flags.Dirty:h.runUntracked(this.commit,this);this.flags&=~d.Flags.Computing;return g}notifyChange(){this.onInvalidated();this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=
~d.Flags.Dirty;this.onCommitted()}onInvalidated(){~this.flags&d.Flags.Overridden&&(this.flags|=d.Flags.Dirty);const e=this._observers;if(e&&0<e.length)for(const g of e)g.onInvalidated()}onCommitted(){var e=this._observers;if(e&&0<e.length){e=e.slice();for(const g of e)g.onCommitted()}}}a.Property=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,c){class h{constructor(){this._observers=
null;this.destroyed=!1}observe(n){if(this.destroyed||n.destroyed)return d;null==this._observers&&(this._observers=[]);const m=this._observers;let e=!1,g=!1;const f=m.length;for(let p=0;p<f;++p){const r=m[p];if(r.destroyed)g=!0;else if(r===n){e=!0;break}}e||(m.push(n),g&&this._removeDestroyedObservers());return new c.ObservationHandle(m,n)}_removeDestroyedObservers(){const n=this._observers;if(n&&0!==n.length){var m=n.length,e=0;for(let g=0;g<m;++g){for(;g+e<m;)if(n[g+e].destroyed)++e;else break;if(0<
e)if(g+e<m)n[g]=n[g+e];else break}n.length=m-e}}destroy(){if(!this.destroyed){this.destroyed=!0;var n=this._observers;if(null!=n){for(const m of n)m.onCommitted();this._observers=null}}}}const d=b.makeHandle();a.ObservableBase=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){class c{constructor(h,d){this._observers=h;this._observer=d}remove(){b.remove(this._observers,
this._observer)}}a.ObservationHandle=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],function(a){function b(d){switch(d){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;
default:return null}}function c(d){switch(d){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(d){d[d.DEFAULTS=0]="DEFAULTS";d[d.COMPUTED=1]="COMPUTED";d[d.SERVICE=2]="SERVICE";d[d.PORTAL_ITEM=3]="PORTAL_ITEM";d[d.WEB_SCENE=4]="WEB_SCENE";
d[d.WEB_MAP=5]="WEB_MAP";d[d.LINK_CHART=6]="LINK_CHART";d[d.USER=7]="USER"})(a.OriginId||(a.OriginId={}));const h=a.OriginId.USER+1;a.idToName=c;a.idToReadableName=function(d){return c(d)};a.idToWritableName=function(d){return c(d)};a.nameToId=b;a.originIdNum=h;a.readableNameToId=function(d){return b(d)};a.writableNameToId=function(d){return b(d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define("exports ../has ../Logger ./utils ./tracking/Flags ./tracking/TrackingTarget".split(" "),
function(a,b,c,h,d,n){function m(z){x.onAccessed(z)}function e(z,k,v){if(A)return g(z,k,v);let y=null;x=z;q.push(z);y=k.call(v);f();return y}function g(z,k,v){const y=A;A=!0;x=z;q.push(z);z=null;try{z=k.call(v)}catch(B){u&&c.getLogger("esri.core.accessorSupport.tracking").error(B)}f();A=y;return z}function f(){var z=q.length;if(1<z){const k=q.pop();x=q[z-2];k.onTrackingEnd()}else 1===z?(z=q.pop(),x=l,z.onTrackingEnd()):x=l}function p(z,k){if(!(k.flags&d.Flags.DepTrackingInitialized)){k.flags|=d.Flags.DepTrackingInitialized;
var v=u;u=!1;k.flags&d.Flags.AutoTracked?g(k.trackingTarget,k.metadata.get,z):r(z,k);u=v}}function r(z,k){k.flags&d.Flags.ExplicitlyTracking||(k.flags|=d.Flags.ExplicitlyTracking,g(k.trackingTarget,()=>{var v=k.metadata.dependsOn||w;for(const y of v)if("string"!==typeof y||y.includes(".")){v=h.pathToArray(y);for(let B=0,C=z;B<v.length&&null!=C&&"object"===typeof C;++B)C=t(C,v[B],B!==v.length-1)}else t(z,y,!1)}),k.flags&=~d.Flags.ExplicitlyTracking)}function t(z,k,v){k="?"===k[k.length-1]?k.slice(0,
-1):k;if(null!=z.getItemAt||Array.isArray(z)){var y=parseInt(k,10);if(!isNaN(y))return Array.isArray(z)?z[y]:z.at(y)}if(y=h.getProperties(z))if(y=y.propertiesByName.get(k))m(y),p(z,y);return v?z[k]:void 0}const l=new n.TrackingTarget,q=[];let x=l,A=!1,u=!1;const w=[];a.initializeDependencyTracking=p;a.runTracked=e;a.runTrackedNoThrow=g;a.runUntracked=function(z,k){return e(l,z,k)};a.trackAccess=m;a.trackExplicitDependencies=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],
function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overridden=2]="Overridden";b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/TrackingTarget":function(){define(["exports"],function(a){class b{constructor(c){this._handles=
this.accessed=void 0;this._observer=c}destroy(){this.accessed?.clear();this.clear()}onAccessed(c){null!=this._observer&&c!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(c))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach(c=>{this._handles.push(c.observe(this._observer))}),this.accessed.clear()))}clear(){if(null!=this._handles){for(let c=0;c<this._handles.length;++c)this._handles[c].remove();
this._handles.length=0}}}a.TrackingTarget=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){class h{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(d){const n=new h;this._values.forEach((m,e)=>{d&&d.has(e)||n.set(e,b.clone(m))});return n}get(d){return this._values.get(d)}originOf(){return c.OriginId.USER}keys(){return[...this._values.keys()]}set(d,
n){this._values.set(d,n)}delete(d){this._values.delete(d)}has(d){return this._values.has(d)}forEach(d){this._values.forEach(d)}}a.Store=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,b,c,h,d){function n(m,e,g){if(m&&e)if("object"===typeof e)for(var f of Object.getOwnPropertyNames(e))n(m,f,e[f]);else if(e.includes("."))e=e.split("."),f=e.splice(-1,1)[0],n(d.get(m,e),f,
g);else{f=m.__accessor__;if(null!=f&&c("esri-unknown-property-errors")&&null==f.metadata[e])throw new b("set:unknown-property","setting unknown property '"+e+"' on instance of "+f.host.declaredClass);m[e]=g}}a.set=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],function(a){let b;a.InterceptorCollectAction=void 0;(function(c){c[c.Ignore=0]="Ignore";c[c.Destroy=1]="Destroy";c[c.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||
(a.InterceptorCollectAction={}));a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(c){b=c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./interfaces ./trackingUtils ./utils".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r){function t(M){B.delete(M);B.add(M);C||=n.schedule(q)}function l(M){if(!M.removed){var G=
M.oldValue,E=M.getValue();M.equals(G,E)||(M.oldValue=E,M.notify(E,G))}}function q(){let M=10;for(;C&&M--;){C=null;const G=x(),E=y.acquire();for(const F of G){const H=F.uid;l(F);H===F.uid&&F.removed&&E.push(F)}for(const F of B)F.removed&&(E.push(F),B.delete(F));for(const F of E)v.pool.release(F);y.release(E);y.release(G);L.forEach(F=>F())}}function x(){const M=y.acquire();M.length=B.size;let G=0;for(const E of B)M[G]=E,++G;B.clear();return M}function A(M,G,E){let F=r.parse(M,G,E,(H,R,J)=>{let K,Q,
N=p.reactionDeferred(()=>g.valueOf(H,R),(U,Z)=>{H.__accessor__?.lifecycle===f.Lifecycle.DESTROYED||K&&K.uid!==Q?F.remove():(K||(K=v.acquireUntracked(U,J,Z,H,R),Q=K.uid),t(K))});return c.makeHandle(()=>{N.remove();K&&(K.uid!==Q||K.removed||(K.removed=!0,t(K)),K=null);F=N=null})});return F}function u(M,G,E){const F=r.parse(M,G,E,(H,R,J)=>{let K=!1;return p.reaction(()=>g.valueOf(H,R),(Q,N)=>{H.__accessor__.lifecycle===f.Lifecycle.DESTROYED?F.remove():K||(K=!0,h.equals(N,Q)||J.call(H,Q,N,R,H),K=!1)})});
return F}function w(M,G,E){let F,H,R=p.reactionDeferred(M,(J,K)=>{F&&F.uid!==H?R.remove():(F||(F=v.acquireTracked(J,G,K,E),H=F.uid),t(F))});return c.makeHandle(()=>{R.remove();F&&(F.uid!==H||F.removed||(F.removed=!0,t(F)),F=null);R=null})}function z(M,G,E){let F=!1;return p.reaction(M,(H,R)=>{F||(F=!0,E(R,H)||G(H,R),F=!1)})}var k;(function(M){M[M.Untracked=0]="Untracked";M[M.Tracked=1]="Tracked"})(k||={});class v{constructor(){this.uid=e.generateUID();this.removed=!1;this.equals=this.path=this.target=
this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(M,G,E,F,H){return this.pool.acquire(k.Untracked,M,G,E,F,H,h.equals)}static acquireTracked(M,G,E,F){return this.pool.acquire(k.Tracked,M,G,E,null,null,F)}notify(M,G){this.type===k.Untracked?this.callback.call(this.target,M,G,this.path,this.target):this.callback.call(null,M,G,void 0,void 0)}acquire(M,G,E,F,H,R,J){this.uid=e.generateUID();this.removed=!1;this.type=M;this.oldValue=G;this.callback=E;this.getValue=F;this.target=
H;this.path=R;this.equals=J}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=e.generateUID();this.removed=!0}}v.pool=new d.ReentrantObjectPool(v);const y=new b,B=new Set;let C;const L=new Set;a.afterDispatch=function(M){L.add(M);return c.makeHandle(()=>L.delete(M))};a.dispatch=q;a.isValueInUse=function(M){return m.someSet(B,G=>G.oldValue===M)};a.removeTarget=function(M){for(const G of B.values())G.target===M&&(G.removed=!0)};a.watch=function(M,G,E,F=!1){return M.__accessor__&&
M.__accessor__.lifecycle!==f.Lifecycle.DESTROYED?F?u(M,G,E):A(M,G,E):c.makeHandle()};a.watchTracked=function(M,G,E=!1,F=h.equalsShallow){return E?z(M,G,F):w(M,G,F)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(d){d.length=0}class c{constructor(d=50,n=50){this._pool=new a(Array,void 0,b,n,d)}acquire(){return this._pool.acquire()}release(d){this._pool.release(d)}prune(){this._pool.prune(0)}static acquire(){return h.acquire()}static release(d){return h.release(d)}static prune(){h.prune()}}
const h=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class c extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...h){h=super.acquire(...h);this._set.delete(h);return h}release(h){h&&!this._set.has(h)&&(super.release(h),this._set.add(h))}_dispose(h){this._set.delete(h);super._dispose(h)}}a.ReentrantObjectPool=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,c,h,d,n){function m(G){G=new q(G);z.push(G);y.willDispatch||(y.willDispatch=!0,b.nextTick(p));return G}function e(G){G=new l(G);k.push(G);null==B&&(x=performance.now(),B=requestAnimationFrame(g));return new v(G)}function g(){const G=performance.now();B=null;B=0<k.length?requestAnimationFrame(g):null;y.executeFrameTasks(G)}function f(){k.forAll(G=>{G.removed&&
C.push(G)});k.removeUnorderedMany(C.data,C.length);C.clear()}function p(){for(;z.length;){const G=z.shift();G.isActive&&G.callback()}y.willDispatch=!1}function r(G=1,E){const F=d.createResolver(),H=()=>{d.isAborted(E)?F.reject(d.createAbortError()):0===G?F():(--G,b.nextTick(()=>H()))};H();return F.promise}function t(G){return r(1,G)}class l{constructor(G){this.phases=G;this.paused=!1;this.ticks=-1;this.removed=!1}}class q{constructor(G){this.callback=G;this.isActive=!0}remove(){this.isActive=!1}}
let x=0,A=0;const u={time:n.Milliseconds(0),deltaTime:n.Milliseconds(0),elapsedFrameTime:n.Milliseconds(0),frameDuration:n.Milliseconds(0)},w="prepare preRender render postRender update finish".split(" "),z=[],k=new h;class v{constructor(G){this._task=G}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const y={frameTasks:k,willDispatch:!1,clearFrameTasks:function(G=!1){k.forAll(E=>{E.removed=!0});G&&f()},dispatch:p,executeFrameTasks:function(G){const E=n.Milliseconds(G-
x);x=G;var F=0<A?A:1E3/60;const H=Math.max(0,E-F);u.time=G;u.frameDuration=n.Milliseconds(F-H);for(let R=0;R<w.length;R++){F=performance.now();const J=w[R];k.forAll(K=>{K.paused||K.removed||(0===R&&K.ticks++,K.phases[J]&&(u.elapsedFrameTime=n.Milliseconds(performance.now()-G),u.deltaTime=0===K.ticks?n.Milliseconds(0):E,K.phases[J]?.call(K,u)))});L[R].push(performance.now()-F)}f();M.push(performance.now()-G)},reschedule:function(){null!=B&&(cancelAnimationFrame(B),B=requestAnimationFrame(g))}};let B=
null;const C=new h,L=w.map(G=>new c(G)),M=new c("total");a.FrameTaskHandle=v;a.addFrameTask=e;a.debug=y;a.performanceInfo=L;a.performanceTotal=M;a.schedule=m;a.setFrameDuration=function(G){A=Math.max(0,G)};a.waitAnimationFrame=async function(G){await t(G);await new Promise(E=>requestAnimationFrame(()=>{G?.aborted||E()}))};a.waitRender=function(){const G=d.createResolver(),E=e({postRender:()=>{E.remove();m(G)}});return G.promise};a.waitTick=t;a.waitTicks=r;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(c){b.push(c);1===b.length&&queueMicrotask(()=>{const h=b.slice();b.length=0;for(const d of h)d()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,c=30){this.name=b;this._counter=0;this._samples=Array(c)}push(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}set(b){null!=
b&&(this._samples[this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,c)=>b-c)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,c)=>b+c,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils","./HeapSort"],function(a,b){function c(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}class h{constructor(d){this.data=
[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new a.PositionHint;d&&(d.initialSize&&(this.data=Array(d.initialSize)),d.allocator&&(this._allocator=d.allocator),void 0!==d.deallocator&&(this._deallocator=d.deallocator),d.shrink&&(this._shrink=()=>c(this)))}toArray(){return this.data.slice(0,this.length)}filter(d){const n=[];for(let m=0;m<this._length;m++){const e=this.data[m];d(e)&&n.push(e)}return n}at(d){d=Math.trunc(d)||0;0>d&&(d+=this._length);
if(!(0>d||d>=this._length))return this.data[d]}includes(d,n){d=this.data.indexOf(d,n);return-1!==d&&d<this.length}get length(){return this._length}set length(d){if(d>this._length)if(this._allocator)for(;this._length<d;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=d;else{if(this._deallocator)for(let n=d;n<this._length;++n)this.data[n]=this._deallocator(this.data[n]);this._length=d;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(d){this.data[this._length++]=
d}pushArray(d,n=d.length){for(let m=0;m<n;m++)this.data[this._length++]=d[m]}fill(d,n){for(let m=0;m<n;m++)this.data[this._length++]=d}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const d=this.data[this._length];++this._length;return d}unshift(d){this.data.unshift(d);this._length++;c(this)}pop(){if(0!==this.length){var d=this.data[this.length-1];--this.length;this._shrink();return d}}remove(d){const n=a.indexOf(this.data,d,this.length,this._hint);if(-1!==
n)return this.data.splice(n,1),--this.length,d}removeUnordered(d){return this.removeUnorderedIndex(a.indexOf(this.data,d,this.length,this._hint))}removeUnorderedIndex(d){if(!(d>=this.length||0>d))return this.swapElements(d,this.length-1),this.pop()}removeUnorderedMany(d,n=d.length,m){this.length=a.removeUnorderedMany(this.data,d,this.length,n,this._hint,m);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(d,n){if(!(d>=
this.length||n>=this.length||d===n)){var m=this.data[d];this.data[d]=this.data[n];this.data[n]=m}}sort(d){b.sort(this.data,0,this.length,d)}iterableSort(d){return b.iterableSort(this.data,0,this.length,d)}some(d,n){for(let m=0;m<this.length;++m)if(d.call(n,this.data[m],m,this.data))return!0;return!1}find(d,n){const {data:m,length:e}=this;for(let g=0;g<e;++g)if(d.call(n,m[g]))return m[g]}filterInPlace(d,n){let m=0;for(let e=0;e<this._length;++e){const g=this.data[e];d.call(n,g,e,this.data)&&(this.data[e]=
this.data[m],this.data[m]=g,m++)}if(this._deallocator)for(d=m;d<this._length;d++)this.data[d]=this._deallocator(this.data[d]);this._length=m;this._shrink();return this}forAll(d,n){const {data:m,length:e}=this;for(let g=0;g<e;++g)d.call(n,m[g],g,m)}forEach(d,n){this.data.slice(0,this.length).forEach(d,n)}map(d,n){const m=Array(this.length);for(let e=0;e<this.length;++e)m[e]=d.call(n,this.data[e],e,this.data);return m}reduce(d,n){for(let m=0;m<this.length;++m)n=d(n,this.data[m],m,this.data);return n}has(d){const n=
this.length,m=this.data;for(let e=0;e<n;++e)if(m[e]===d)return!0;return!1}*[Symbol.iterator](){for(let d=0;d<this.length;d++)yield this.data[d]}}return h})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const c=(d,n,m,e)=>{let g=n;const f=m>>>1,p=d[g-1];for(;n<=f;){n=g<<1;n<m&&0>e(d[n-1],d[n])&&++n;const r=d[n-1];if(0>=e(r,p))break;d[g-1]=r;g=n}d[g-1]=p},h=(d,n)=>d<n?-1:d>n?1:0;b.sort=function(d,n,m,e){void 0===n&&(n=0);void 0===m&&(m=d.length);void 0===e&&(e=h);for(var g=m>>>
1;g>n;g--)c(d,g,m,e);g=n+1;for(--m;m>n;m--){const f=d[n];d[n]=d[m];d[m]=f;c(d,g,m,e)}};b.iterableSort=function*(d,n,m,e){void 0===n&&(n=0);void 0===m&&(m=d.length);void 0===e&&(e=h);for(var g=m>>>1;g>n;g--)c(d,g,m,e),yield;g=n+1;for(--m;m>n;m--){const f=d[n];d[n]=d[m];d[m]=f;c(d,g,m,e);yield}}})(a||={});return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,b,c,h,d,n){function m(u="Aborted"){return new c("AbortError",u)}function e(u,
w="Aborted"){if(f(u))throw m(w);}function g(u){return u instanceof AbortSignal?u:u?.signal??void 0}function f(u){u=g(u);return null!=u&&u.aborted}function p(u,w){u=g(u);if(null!=u)if(u.aborted)w();else return h.once(u,"abort",()=>w())}function r(u){return"AbortError"===u?.name}async function t(u){if(u){if("function"!==typeof u.forEach){const w=Object.keys(u),z=w.map(y=>u[y]),k=await t(z),v={};w.map((y,B)=>v[y]=k[B]);return v}return Promise.allSettled(u).then(w=>Array.from(u,(z,k)=>{k=w[k];return"fulfilled"===
k.status?{promise:z,value:k.value}:{promise:z,error:k.reason}}))}}function l(u,w,z){const k=new AbortController;p(z,()=>k.abort());return new Promise((v,y)=>{let B=setTimeout(()=>{B=0;v(w)},u);p(k,()=>{B&&(clearTimeout(B),y(m()))})})}function q(u){return u&&"function"===typeof u.then}function x(u){return q(u)?u:Promise.resolve(u)}function A(){let u,w;const z=new Promise((v,y)=>{u=v;w=y}),k=v=>{u(v)};k.resolve=v=>u(v);k.reject=v=>w(v);k.timeout=(v,y)=>b.clock.setTimeout(()=>k.reject(y),v);k.promise=
z;return k}a.after=l;a.allSettledErrors=async function(u){return(await Promise.allSettled(u)).filter(w=>"rejected"===w.status).map(w=>w.reason)};a.allSettledValues=async function(u){return(await Promise.allSettled(u)).filter(w=>"fulfilled"===w.status).map(w=>w.value)};a.always=function(u,w){return u.then(w,w)};a.createAbortError=m;a.createResolver=A;a.debounce=function(u,w=-1){let z,k,v,y,B=null;const C=(...L)=>{if(z){k=L;y&&y.reject(m());y=A();L=y.promise;if(B){var M=B;B=null;M.abort()}return L}v=
y||A();y=null;if(0<w){const E=new AbortController,F=z=x(u(...L,E.signal));l(w).then(()=>{z===F&&(y?E.abort():B=E)})}else z=1,z=x(u(...L));L=()=>{const E=k;k=v=z=B=null;null!=E&&C(...E)};M=z;const G=v;M.then(L,L);M.then(G.resolve,G.reject);return G.promise};return C};a.eachAlways=t;a.eachAlwaysValues=async function(u){return(await t(u)).filter(w=>!!w.value).map(w=>w.value)};a.filter=async function(u,w){const z=u.slice(),k=await Promise.all(u.map((v,y)=>w(v,y)));return z.filter((v,y)=>k[y])};a.ignoreAbortErrors=
async function(u){try{return await u}catch(w){if(!r(w))throw w;}};a.isAbortError=r;a.isAborted=f;a.isPromiseLike=q;a.logOnError=async function(u,w=d.getLogger("esri")){try{return await u}catch(z){r(z)||w.error(z)}};a.onAbort=p;a.onAbortOrThrow=function(u,w){u=g(u);if(null!=u)return e(u),h.once(u,"abort",()=>w(m()))};a.settleWithPromise=function(u,w){w.then(u.resolve,u.reject)};a.signalFromSignalOrOptions=g;a.throwIfAbortError=function(u){if(r(u))throw u;};a.throwIfAborted=e;a.throwIfNotAbortError=
function(u){if(!r(u))throw u;};a.timeout=function(u,w,z,k){const v=z&&"abort"in z?z:null;null!=k||v||(k=z);let y=setTimeout(()=>{y=0;v?.abort()},w);const B=()=>k||new c("promiseUtils:timeout","The wrapped promise did not resolve within "+w+" ms");return u.then(C=>{if(0===y)throw B();clearTimeout(y);return C},C=>{clearTimeout(y);throw 0===y?B():C;})};a.waitTick=async function(u){await Promise.resolve();e(u)};a.when=x;a.whenOrAbort=function(u,w){return null==g(w)?u:new Promise((z,k)=>{let v=p(w,()=>
k(m()));const y=()=>{v=n.removeMaybe(v)};u.then(y,y);u.then(z,k)})};a.whenOrTimeout=function(u,w,z){return Promise.race([u,l(w).then(()=>{throw new c("timeout",`Did not resolve within ${w} milliseconds (${z??"timeout"})`);})])};a.wrapAbortWithTimeout=function(u,w){const z=new AbortController,k=setTimeout(()=>z.abort(),w);p(u,()=>{z.abort();clearTimeout(k)});return{...u,signal:z.signal}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports",
"./handleUtils"],function(a,b){function c(d){return{setTimeout:(n,m)=>{const e=d.setTimeout(n,m);return b.makeHandle(()=>d.clearTimeout(e))}}}const h=c(globalThis);a.clock=h;a.wrap=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function c(m){return null!=m&&"object"===typeof m&&"on"in m&&"function"===typeof m.on||h(m)}function h(m){return null!=m&&"object"===typeof m&&"addEventListener"in m&&"function"===
typeof m.addEventListener}function d(m,e,g){if(!c(m))throw new TypeError("target is not a Evented or EventTarget object");return h(m)?n(m,e,g):m.on(e,g)}function n(m,e,g,f){if(Array.isArray(e)){const p=e.slice();for(const r of p)m.addEventListener(r,g,f);return b.makeHandle(()=>{for(const r of p)m.removeEventListener(r,g,f)})}m.addEventListener(e,g,f);return b.makeHandle(()=>m.removeEventListener(e,g,f))}a.addEventListener=n;a.isEventedOrEventTarget=c;a.on=d;a.once=function(m,e,g){if(!c(m))throw new TypeError("target is not a Evented or EventTarget object");
if("once"in m)return m.once(e,g);const f=d(m,e,p=>{f.remove();g.call(m,p)});return f};a.pausable=function(m,e,g){let f=!1;const p=d(m,e,r=>{f||g.call(m,r)});return{resume(){f=!1},pause(){f=!0},remove(){p.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};
a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(n,m){if(!m)return n;for(const e of m)null!=e&&n.add(e);return n}function c(n,m){const e=new Set;b(e,n);b(e,m);return e}function h(n,m){const e=new Set;for(const g of m)n.has(g)&&e.add(g);return e}function d(n,m){n=new Set(n);for(const e of m)n.delete(e);return n}a.addMany=b;a.addMaybe=function(n,m){null!=m&&n.add(m);
return n};a.difference=d;a.equals=function(n,m){if(null==n&&null==m)return!0;if(null==n||null==m||n.size!==m.size)return!1;for(const e of n)if(!m.has(e))return!1;return!0};a.intersection=h;a.isSubsetOf=function(n,m){if(!n||!m)return!1;if(n===m)return!0;for(const e of n)if(!m.has(e))return!1;return!0};a.last=function(n){let m;for(m of n);return m};a.someSet=function(n,m){for(const e of n.values())if(m(e))return!0;return!1};a.symmetricDifference=function(n,m){return d(c(n,m),h(n,m))};a.union=c;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.generateUID=function(){return++b};a.nullUid=0;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,c,h){let d=!1;const n=[];a.autorun=function(m,e){function g(){p=!1;if(t&&!f)if(d)n.includes(g)||n.unshift(g);else for(t.clear(),f=d=!0,
c.runTracked(t,m),d=f=!1;n.length;)n.pop()()}let f=!1,p=!1;const r=!!e?.sync;let t=new h.SimpleTrackingTarget(()=>{f||p||(p=!0,r?g():queueMicrotask(g))});f=!0;c.runTracked(t,m);f=!1;return b.makeHandle(function(){t&&(t.destroy(),t=null)})};a.reaction=function(m,e){function g(){if(f&&!r)if(d)n.includes(g)||n.unshift(g);else{var t=p;f.clear();r=d=!0;p=c.runTracked(f,m);d=r=!1;for(e(p,t);n.length;)n.pop()()}}let f=new h.SimpleTrackingTarget(g),p=null,r=!1;r=!0;p=c.runTracked(f,m);r=!1;return b.makeHandle(function(){f&&
(f.destroy(),p=f=null)})};a.reactionDeferred=function(m,e){function g(){if(!f)return null;f.clear();return p=c.runTracked(f,m)}let f=new h.SimpleTrackingTarget(function(){e(p,g)}),p=null;g();return b.makeHandle(function(){f&&(f.destroy(),f=null);p=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports","./TrackingTarget"],function(a,b){function c(){}class h extends b.TrackingTarget{constructor(m){super(new d(m));
this._observer&&n.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&n.unregister(this._observer);this.accessed?.clear();this.clear();this._observer?.destroy()}}class d{constructor(m){this._notify=m;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var m=this._invalidCount;1===m?(this._invalidCount=0,this._notify()):this._invalidCount=0<m?m-1:0}}destroy(){this.destroyed=!0;this._notify=c}}const n=new FinalizationRegistry(m=>
{m.deref()?.destroy()});a.SimpleTrackingTarget=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,c,h,d,n){function m(g){let f=0;var p=g;if(c.isLongFormType(g))return c.ensureLongFormType(g);for(;Array.isArray(p)&&1===p.length&&"string"!==typeof p[0]&&"number"!==typeof p[0];)p=p[0],f++;return c.isOneOf(p)?0===f?c.ensureOneOf(p):c.ensureNArrayTyped(c.ensureOneOf(p),
f):1===f?c.ensureArray(p):1<f?c.ensureNArray(p,f):g.from?g.from:c.ensureType(g)}function e(g,f){if(g||f)return g?f?(p,r)=>f(g(p,r),r):g:f}a.composeCasters=e;a.property=function(g={}){return(f,p)=>{if(f===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${f.name}.${p}. Accessor does not support static properties.`);var r=Object.getOwnPropertyDescriptor(f,p);const t=d.getPropertyMetadata(f,p);r&&(r.get||r.set?(t.get=r.get||t.get,t.set=r.set||t.set):"value"in r&&("value"in
g&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${p}" on "${f.constructor.name}" already defined in the metadata`,g),t.value=g.value=r.value));null!=g.readOnly&&(t.readOnly=g.readOnly);if(f=g.aliasOf){const l="string"===typeof f?f:f.source;f="string"===typeof f?null:!0===f.overridable;let q;t.dependsOn=[l];t.get=function(){let x=h.get(this,l);if("function"===typeof x){q||=l.split(".").slice(0,-1).join(".");const A=h.get(this,q);A&&(x=x.bind(A))}return x};
t.readOnly||(t.set=f?function(x){this._override(p,x)}:function(x){n.set(this,l,x)})}f=g.type;r=g.types;if(!t.cast){let l=void 0;f?l=m(f):r&&(l=Array.isArray(r)?c.ensureArrayTyped(c.ensureOneOfType(r[0])):c.ensureOneOfType(r));g.cast=e(g.cast,l)}d.mergeProperty(t,g);g.range&&(t.cast=c.ensureRange(t.cast,g.range))}};a.propertyJSONMeta=function(g,f,p){g=d.getPropertyMetadata(g,p);g.json||(g.json={});g=g.json;void 0!==f&&(g.origins||(g.origins={}),g.origins[f]||(g.origins[f]={}),g=g.origins[f]);return g};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,c,h){function d(J){return null==J?J:new Date(J)}function n(J){return null==J?J:!!J}function m(J){return null==J?J:J.toString()}function e(J,K=0){if(null==J)return J;J=parseFloat(J);return isNaN(J)?K:J}function g(J){return null==J?J:Math.round(parseFloat(J))}function f(J){return null}function p(J){return J?.constructor&&
void 0!==J.constructor.__accessorMetadata__}function r(J,K){return null!=K&&J&&!(K instanceof J)}function t(J){return J?.Type?"function"===typeof J.Type?J.Type:J.Type.base:null}function l(J,K){var Q;(Q=!K?.constructor)||(Q=K.constructor,Q=!(Q&&"isCollection"in Q));if(Q)return q(J,K)?K:new J(K);Q=t(J.prototype.itemType);const N=t(K.constructor.prototype.itemType);if(!Q)return K;if(!N)return new J(K);if(Q===N)return K;if(Q.prototype.isPrototypeOf(N.prototype))return new J(K);q(J,K);return K}function q(J,
K){return p(K)?(E().error("Accessor#set","Assigning an instance of '"+(K.declaredClass||"unknown")+"' which is not a subclass of '"+A(J)+"'"),!0):!1}function x(J,K){return null==K?K:J&&"isCollection"in J?l(J,K):r(J,K)?q(J,K)?K:new J(K):K}function A(J){return J?.prototype?.declaredClass||"unknown"}function u(J){switch(J){case Number:return K=>e(K);case H:return g;case Boolean:return n;case String:return m;case Date:return d;case R:return f;default:return h.getOrCreateMapValue(F,J,()=>x.bind(null,J))}}
function w(J,K){const Q=u(J);return 1===arguments.length?Q:Q(K)}function z(J,K,Q){return 1===arguments.length?z.bind(null,J):K?Array.isArray(K)?K.map(N=>J(N,Q)):[J(K,Q)]:K}function k(J,K,Q){return 0!==K&&Array.isArray(Q)?Q.map(N=>k(J,K-1,N)):J(Q)}function v(J,K,Q){if(2===arguments.length)return Z=>v(J,K,Z);if(!Q)return Q;Q=k(J,K,Q);let N=K;for(var U=Q;0<N&&Array.isArray(U);)N--,U=U[0];if(void 0!==U)for(U=0;U<N;U++)Q=[Q];return Q}function y(J,K){if(2===arguments.length)return y(J).call(null,K);const Q=
new Set,N=J.filter(pa=>"function"!==typeof pa),U=J.filter(pa=>"function"===typeof pa);for(const pa of J)"string"!==typeof pa&&"number"!==typeof pa||Q.add(pa);let Z=null,fa=null;return(pa,xa)=>{if(null==pa)return pa;const ra=typeof pa,qa="string"===ra||"number"===ra;if(qa&&(Q.has(pa)||U.some(za=>"string"===ra&&za===String||"number"===ra&&za===Number))||"object"===ra&&U.some(za=>!r(pa,za)))return pa;qa&&N.length?(Z||=N.map(za=>"string"===typeof za?`'${za}'`:`${za}`).join(", "),E().error("Accessor#set",
`'${pa}' is not a valid value for this property, only the following values are valid: ${Z}`)):"object"===typeof pa&&U.length?(fa||=U.map(za=>A(za)).join(", "),E().error("Accessor#set",`'${pa}' is not a valid value for this property, value must be one of ${fa}`)):E().error("Accessor#set",`'${pa}' is not a valid value for this property`);xa&&(xa.valid=!1);return null}}function B(J,K){if(2===arguments.length)return B(J).call(null,K);const Q={},N=[],U=[];for(const fa in J.typeMap){const pa=J.typeMap[fa];
Q[fa]=w(pa);N.push(A(pa));U.push(fa)}const Z="string"===typeof J.key?fa=>fa[J.key]:J.key;return fa=>{if(J.base&&!r(J.base,fa)||null==fa)return fa;var pa=Z(fa)||J.defaultKeyValue;const xa=Q[pa];if(!xa)return E().error("Accessor#set",`Invalid property value, value needs to be one of ${`'${N.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${U.join("', '")}'`})`),null;if(!r(J.typeMap[pa],fa))return fa;if("string"===typeof J.key&&!p(fa)){pa={};for(const ra in fa)ra!==J.key&&(pa[ra]=
fa[ra]);return xa(pa)}return xa(fa)}}function C(J){switch(J.type){case "native":return w(J.value);case "array":return z(C(J.value));case "one-of":return L(J);default:return null}}function L(J){let K=null;return(Q,N)=>{if(G(Q,J))return Q;null==K&&(K=M(J));E().error("Accessor#set",`Invalid property value, value needs to be of type ${K}`);N&&(N.valid=!1);return null}}function M(J){switch(J.type){case "native":switch(J.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";
case H:return"integer";case Date:return"date";case R:return"null";default:return A(J.value)}case "array":return`array of ${M(J.value)}`;case "one-of":return J=J.values.map(K=>M(K)),`one of ${J.slice(0,-1)} or ${J[J.length-1]}`}return"unknown"}function G(J,K){if(null==J)return!0;switch(K.type){case "native":switch(K.value){case Number:case H:return"number"===typeof J;case Boolean:return"boolean"===typeof J;case String:return"string"===typeof J;case R:return null===J}return J instanceof K.value;case "array":return Array.isArray(J)?
!J.some(Q=>!G(Q,K.value)):!1;case "one-of":return K.values.some(Q=>G(J,Q))}}const E=()=>c.getLogger("esri.core.accessorSupport.ensureTypes"),F=new WeakMap;class H{}class R{}a.Integer=H;a.Null=R;a.ensureArray=function(J,K){return 1===arguments.length?z(Q=>w(J,Q)):z(Q=>w(J,Q),K)};a.ensureArrayTyped=z;a.ensureBoolean=n;a.ensureClass=x;a.ensureDate=d;a.ensureInteger=g;a.ensureLongFormType=C;a.ensureNArray=function(J,K,Q){return 2===arguments.length?v(N=>w(J,N),K):v(N=>w(J,N),K,Q)};a.ensureNArrayTyped=
v;a.ensureNull=f;a.ensureNumber=e;a.ensureOneOf=y;a.ensureOneOfType=B;a.ensureRange=function(J,K){return Q=>{Q=J(Q);null!=K.step&&(Q=Math.round(Q/K.step)*K.step);null!=K.min&&(Q=Math.max(K.min,Q));null!=K.max&&(Q=Math.min(K.max,Q));return Q}};a.ensureString=m;a.ensureType=w;a.isClassedType=p;a.isLongFormType=function(J){if(!(J&&"type"in J))return!1;switch(J.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(J){return Array.isArray(J)?!J.some(K=>{K=typeof K;return!("string"===
K||"number"===K||"function"===K&&1<J.length)}):!1};a.requiresType=r;a.types={native(J){return{type:"native",value:J}},array(J){return{type:"array",value:J}},oneOf(J){return{type:"one-of",values:J}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,c){for(const h of b.values())if(c(h))return h;return null};a.getOrCreateMapValue=function(b,c,h){const d=b.get(c);if(void 0!==d)return d;h=h();b.set(c,h);
return h};a.memoize=function(b){const c=new Map;return h=>{c.has(h)||c.set(h,b(h));return c.get(h)}};a.someMap=function(b,c){for(const h of b.values())if(c(h))return!0;return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../../Logger ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,c,h,d,n,m,e){function g(l,q){return null==q.get?
function(){var x=this.__accessor__;const A=x.propertiesByName.get(l);if(void 0!==A)return x.mutable&&m.trackAccess(A),x=x.store,x.has(l)?x.get(l):A.metadata.value}:function(){const x=this.__accessor__,A=x.propertiesByName.get(l);if(void 0!==A)return A.getComputed(x)}}function f(l){const q=n.getPropertiesMetadata(l.prototype),x={};for(const A of Object.getOwnPropertyNames(q)){const u=q[A];e.processPrototypePropertyMetadata(u);x[A]={enumerable:!0,configurable:!0,get:g(A,u),set(w){const z=this.__accessor__;
if(void 0===z)Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:w});else if(z.mutable){if(z.initialized&&u.readOnly)return t("read-only",A);if(z.lifecycle===d.Lifecycle.CONSTRUCTED&&u.constructOnly)return t("construct-only",A);z.set(A,w)}}}}Object.defineProperties(l.prototype,x)}const p=new Set,r=new Set,t=(l,q)=>{c.getLogger("esri.core.Accessor").error(`cannot assign to ${l} property '${q}'`)};a.finalizeClass=f;a.subclass=function(l){return q=>{l??="esri.core.Accessor";
q.prototype.declaredClass=l;f(q);const x=[],A=[];let u=q.prototype;for(;u;)u.hasOwnProperty("initialize")&&!p.has(u.initialize)&&(p.add(u.initialize),x.push(u.initialize)),u.hasOwnProperty("destroy")&&!r.has(u.destroy)&&(r.add(u.destroy),A.push(u.destroy)),u=Object.getPrototypeOf(u);p.clear();r.clear();const w=class extends q{constructor(...z){super(...z);if(this.constructor===w&&"function"===typeof this.postscript){x.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,
value(){for(let k=x.length-1;0<=k;k--)x[k].call(this)}});if(A.length){let k=!1;const v=this[h.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!k){k=!0;v.call(this);for(let y=0;y<A.length;y++)A[y].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}});this.postscript()}}};w.__accessorMetadata__=n.getPropertiesMetadata(q.prototype);w.prototype.declaredClass=l;q=(l||"AccessorSubclass").split(".").slice(-1)[0];
Object.defineProperty(w,"name",{value:q,configurable:!0});return w}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,c,h,d,n){function m(f,p,r){f=f?.json;f?.origins&&r&&(r="link-chart"===r?f.origins[r]&&("any"===p||p in f.origins[r])?
f.origins[r]:f.origins["web-map"]:f.origins[r])&&("any"===p||p in r)&&(f=r);return f}function e(f){if(f.type){var p=0;for(f=f.type;Array.isArray(f)&&!b.isOneOf(f);)f=f[0],p++;return{type:f,ndimArray:p}}}function g(f){if(f.types){var p=0;for(f=f.types;Array.isArray(f);)f=f[0],p++;return{types:f,ndimArray:p}}}a.originSpecificPropertyDefinition=function(f,p){return m(f,"any",p?.origin)};a.originSpecificReadPropertyDefinition=function(f,p){return m(f,"read",p?.origin)};a.originSpecificWritePropertyDefinition=
function(f,p){return m(f,"write",p?.origin)};a.processPrototypePropertyMetadata=function(f){if(d.process(f)){c.process(f);var p=f.json.types?g(f.json):f.type?e(f):g(f);if(f.json.origins)for(const t in f.json.origins){const l=f.json.origins[t];if(l.types){var r=l;r=r.type?e(r):g(r)}else r=p;h.create(r,l,!1);l.types&&!l.write&&f.json.write?.enabled&&(l.write={...f.json.write});n.create(r,l)}h.create(p,f.json,!0);n.create(p,f.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],
function(a){a.process=function(b){if(b.json&&b.json.origins){const c=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const h in b)if(c[h]){const d=c[h];b[h].forEach(n=>{c[n]=d});delete c[h]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,c,h,d,n){function m(u){var w=u.ndimArray??
0;if(1<w)return p(u);if(1===w)return r(u);if("type"in u&&t(u.type)){w=u.type.prototype?.itemType?.Type;const z=r("function"===typeof w?{type:w}:{types:w});return(k,v,y)=>(k=z(k,v,y))?new u.type(k):k}return e(u)}function e(u){return"type"in u?g(u.type):x(u.types)}function g(u){return u.prototype.read?(w,z,k)=>{if(null==w)return w;z=typeof w;if("object"!==z)A().error(`Expected JSON value of type 'object' to deserialize type '${u.prototype.declaredClass}', but got '${z}'`);else return z=new u,z.read(w,
k),z}:u.fromJSON}function f(u,w,z,k){return 0!==k&&Array.isArray(w)?w.map(v=>f(u,v,z,k-1)):u(w,void 0,z)}function p(u){const w=e(u),z=f.bind(null,w),k=u.ndimArray??0;return(v,y,B)=>{if(null==v)return v;v=z(v,B,k);y=k;for(B=v;0<y&&Array.isArray(B);)y--,B=B[0];if(void 0!==B)for(B=0;B<y;B++)v=[v];return v}}function r(u){const w=e(u);return(z,k,v)=>{if(null==z)return z;if(Array.isArray(z)){k=[];for(const y of z)z=w(y,void 0,v),void 0!==z&&k.push(z);return k}v=w(z,void 0,v);return void 0!==v?[v]:void 0}}
function t(u){return n.isCollection(u)?(u=u.prototype.itemType)&&u.Type?"function"===typeof u.Type?l(u.Type):q(u.Type):!1:!1}function l(u){return Array.isArray(u)?!1:!!u&&u.prototype&&("read"in u.prototype||"fromJSON"in u||t(u))}function q(u){for(const w in u.typeMap)if(!l(u.typeMap[w]))return!1;return!0}function x(u){let w=null;const z=u.errorContext??"type",k=u.validate;return(v,y,B)=>{if(null==v)return v;y=typeof v;if("object"!==y)A().error(`Expected JSON value of type 'object' to deserialize, but got '${y}'`);
else{if(!w){y={};for(var C in u.typeMap){const G=u.typeMap[C];var L=d.getPropertiesMetadata(G.prototype);if("function"===typeof u.key)continue;L=L[u.key];if(!L)continue;if(L.json?.type&&Array.isArray(L.json.type)&&1===L.json.type.length&&"string"===typeof L.json.type[0]){y[L.json.type[0]]=G;continue}L=L.json?.write;if(!L?.writer){y[C]=G;continue}var M=L.target;M="string"===typeof M?M:u.key;const E={};L.writer(C,E,M);E[M]&&(y[E[M]]=G)}w=y}C=u.key;if("string"===typeof C){if(y=(C=v[C])?w[C]:u.defaultKeyValue?
u.typeMap[u.defaultKeyValue]:void 0)return C=new y,C.read(v,B),k?k(C):C;C=`Type '${C||"unknown"}' is not supported`;B?.messages&&v&&B.messages.push(new h(`${z}:unsupported`,C,{definition:v,context:B}));A().error(C)}}}}const A=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(u,w,z){u&&(z||w.read)&&!w.read?.reader&&!1!==w.read?.enabled&&(z="types"in u?q(u.types):l(u.type),z&&c.setDeepValue("read.reader",m(u),w))};a.createTypeReader=m;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(c,h,d){super(c,h,d)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],
function(a){function b(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===d.write.target&&(d.write.target=d.name):d.write={target:d.name}:d.write={target:d.name})}function c(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function h(d){"boolean"===
typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=!0)}a.process=function(d){d.json||(d.json={});c(d.json);h(d.json);b(d.json);if(d.json.origins)for(const n in d.json.origins)c(d.json.origins[n]),h(d.json.origins[n]),b(d.json.origins[n]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports",
"../../../Error","../../../Logger","../../../object","./type"],function(a,b,c,h,d){function n(q){return(x,A,u,w)=>{if(!x||m(x,q,w))return g(x,A,u,w)}}function m(q,x,A){for(var u in x.typeMap)if(q instanceof x.typeMap[u])return!0;A?.messages&&(u=x.errorContext??"type",x=`Values of type '${("function"!==typeof x.key?q[x.key]:q.declaredClass)??"Unknown"}' cannot be written`,A&&A.messages&&q&&A.messages.push(new b(`${u}:unsupported`,x,{definition:q,context:A})),c.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(x));
return!1}function e(q){return(x,A,u,w)=>{if(!x||!Array.isArray(x))return g(x,A,u,w);x=x.filter(z=>m(z,q,w));return g(x,A,u,w)}}function g(q,x,A,u){h.setDeepValue(A,f(q,u),x)}function f(q,x){return q&&"function"===typeof q.write?q.write({},x):q&&"function"===typeof q.toJSON?q.toJSON():"number"===typeof q?p(q):q}function p(q){return-Infinity===q?-Number.MAX_VALUE:Infinity===q?Number.MAX_VALUE:isNaN(q)?null:q}function r(q,x,A,u){null===q?q=null:q&&"function"===typeof q.map?(q=q.map(w=>f(w,u)),"function"===
typeof q.toArray&&(q=q.toArray())):q=[f(q,u)];h.setDeepValue(A,q,x)}function t(q,x,A){return 0!==A&&Array.isArray(q)?q.map(u=>t(u,x,A-1)):f(q,x)}function l(q){return(x,A,u,w)=>{if(null===x)x=null;else{x=t(x,w,q);w=q;for(var z=x;0<w&&Array.isArray(z);)w--,z=z[0];if(void 0!==z)for(z=0;z<w;z++)x=[x]}h.setDeepValue(u,x,A)}}a.create=function(q,x){if(x.write&&!x.write.writer&&(!1!==x.write.enabled||x.write.overridePolicy)){var A=q?.ndimArray??0;q&&(1===A||"type"in q&&d.isCollection(q.type))?x.write.writer=
r:1<A?x.write.writer=l(A):x.types?Array.isArray(x.types)?x.write.writer=e(x.types[0]):x.write.writer=n(x.types):x.write.writer=g}};a.numberToJSON=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,c){class h{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(n){const m=new h;this._values.forEach((e,g)=>{n&&n.has(g)||m.set(g,b.clone(e.value),e.origin)});
return m}get(n,m){m=this._normalizeOrigin(m);n=this._values.get(n);return null==m||n?.origin===m?n?.value:void 0}originOf(n){return this._values.get(n)?.origin??c.OriginId.USER}keys(n){n=this._normalizeOrigin(n);const m=[...this._values.keys()];return null==n?m:m.filter(e=>this._values.get(e)?.origin===n)}set(n,m,e){e=this._normalizeOrigin(e);if(e===c.OriginId.DEFAULTS){const g=this._values.get(n);if(null!=g?.origin&&g.origin>e)return}this._values.set(n,new d(m,e))}delete(n,m){m=this._normalizeOrigin(m);
null!=m&&this._values.get(n)?.origin!==m||this._values.delete(n)}has(n,m){m=this._normalizeOrigin(m);return null!=m?this._values.get(n)?.origin===m:this._values.has(n)}forEach(n){this._values.forEach(({value:m},e)=>n(m,e))}_normalizeOrigin(n){if(null!=n)return n===c.OriginId.DEFAULTS?n:c.OriginId.USER}}class d{constructor(n,m){this.value=n;this.origin=m}}a.DefaultsStore=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports",
"./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(c,h,d){h.keys().forEach(n=>{d.set(n,h.get(n),b.OriginId.DEFAULTS)});Object.keys(c.metadata).forEach(n=>{c.internalGet(n)&&d.set(n,c.internalGet(n),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,c,h){const d={origin:"service"};a.read=function(n,m,e=d){if(m&&"object"===
typeof m){var g=c.getProperties(n),f=g.metadata,p={};for(const k of Object.getOwnPropertyNames(m)){var r=p,t=f,l=k,q=m,x=e,A=h.originSpecificReadPropertyDefinition(t[l],x);A&&(!A.read||!1!==A.read.enabled&&!A.read.source)&&(r[l]=!0);for(const v of Object.getOwnPropertyNames(t)){A=h.originSpecificReadPropertyDefinition(t[v],x);a:{var u=l;var w=q;if(A?.read&&!1!==A.read.enabled&&A.read.source){A=A.read.source;if("string"===typeof A){if(A===u||A.includes(".")&&0===A.indexOf(u)&&b.exists(A,w)){u=!0;break a}}else for(const y of A)if(y===
u||y.includes(".")&&0===y.indexOf(u)&&b.exists(y,w)){u=!0;break a}u=!1}else u=!1}u&&(r[v]=!0)}}g.setDefaultOrigin(e.origin);for(var z of Object.getOwnPropertyNames(p))r=h.originSpecificReadPropertyDefinition(f[z],e).read,t=(t=r?.source)&&"string"===typeof t?b.valueOf(m,t):m[z],r?.reader&&(t=r.reader.call(n,t,m,e)),void 0!==t&&g.set(z,t);if(!e||!e.ignoreDefaults){g.setDefaultOrigin("defaults");for(const k of Object.getOwnPropertyNames(f))p[k]||(z=n,m=k,f=g,r=e,t=h.originSpecificPropertyDefinition(f.metadata[m],
r)?.default,void 0!==t&&(z="function"===typeof t?t.call(z,m,r):t,void 0!==z&&f.set(m,z)))}g.setDefaultOrigin("user")}};a.readLoadable=function(n,m,e,g=d){m={...g,messages:[]};e(m);m.messages?.forEach(f=>{"warning"!==f.type||n.loaded?g?.messages&&g.messages.push(f):n.loadWarnings.push(f)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),
function(a,b,c,h,d,n,m,e){function g(p,r,t,l,q){const x={};r.write?.writer?.call(p,l,x,t,q);return x}function f(p,r,t,l,q,x){if(!l?.write)return!1;const A=d.get(p,t);if(!q&&l.write.overridePolicy){var u=l.write.overridePolicy.call(p,A,t,x??void 0);void 0!==u&&(q=u)}q||(q=l.write);if(!q||!1===q.enabled||q.layerContainerTypes&&x?.layerContainerType&&!q.layerContainerTypes.includes(x.layerContainerType))return!1;if((null===A&&!q.allowNull&&!q.writerEnsuresNonNull||void 0===A)&&q.isRequired)return(r=
new c("web-document-write:property-required",`Missing value for required property '${t}' on '${p.declaredClass}'`,{propertyName:t,target:p}),x?.messages)?x.messages.push(r):r&&!x&&h.getLogger("esri.core.accessorSupport.write").error(r.name,r.message),!1;if(void 0===A||null===A&&!q.allowNull&&!q.writerEnsuresNonNull)return!1;if(u=!q.alwaysWriteDefaults&&(!r.store.multipleOriginsSupported||r.store.originOf(t)===n.OriginId.DEFAULTS))u=l.default,void 0===u?u=!1:null!=l.defaultEquals?u=l.defaultEquals(A):
"function"===typeof u?Array.isArray(A)?(p=u.call(p,t,x??void 0),u=b.equals(p,A)):u=!1:u=u===A;return u||!q.ignoreOrigin&&x?.origin&&r.store.multipleOriginsSupported&&r.store.originOf(t)<n.nameToId(x.origin)?!1:!0}a.willPropertyWrite=function(p,r,t,l){const q=m.getProperties(p),x=e.originSpecificWritePropertyDefinition(q.metadata[r],l);return x?f(p,q,r,x,t,l):!1};a.write=function(p,r,t){if(p&&"function"===typeof p.toJSON&&(!p.toJSON.isDefaultToJSON||!p.write))return m.merge(r,p.toJSON(t));const l=
m.getProperties(p),q=l.metadata;for(const x in q){const A=e.originSpecificWritePropertyDefinition(q[x],t);if(!f(p,l,x,A,void 0,t))continue;const u=d.get(p,x),w=g(p,A,A.write&&"string"===typeof A.write.target?A.write.target:x,u,t);0<Object.keys(w).length&&(r=m.merge(r,w),t?.resources?.pendingOperations?.length&&t.resources.pendingOperations.push(Promise.all(t.resources.pendingOperations).then(()=>m.merge(r,w,()=>"replace-arrays"))),t?.writtenProperties&&t.writtenProperties.push({target:p,propName:x,
oldOrigin:n.idToReadableName(l.store.originOf(x)),newOrigin:t.origin}))}return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,c={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};
a.isSecureProxyService=function(h){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(h)};a.normalizeArcGISOnlineOrgDomain=function(h){const d=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,m=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;d.test(h)?h=h.replace(d,"https://www.arcgis.com"):n.test(h)?h=h.replace(n,"https://devext.arcgis.com"):m.test(h)&&(h=h.replace(m,"https://qaext.arcgis.com"));return h};a.parseKnownArcGISOnlineDomain=
function(h){h=h?.match(b);if(!h)return null;const [,d,n,m]=h;if(!d)return null;let e=h=null,g=null;const {devext:f,qaext:p,www:r}=c;if(n)if(h=d,m)switch(m.toLowerCase()){case "devext":({customBaseUrl:e,portalHostname:g}=f);break;case "qa":({customBaseUrl:e,portalHostname:g}=p);break;default:return null}else({customBaseUrl:e,portalHostname:g}=r);else switch(d.toLowerCase()){case "devext":({customBaseUrl:e,portalHostname:g}=f);break;case "qaext":({customBaseUrl:e,portalHostname:g}=p);break;case "www":({customBaseUrl:e,
portalHostname:g}=r);break;default:return null}return{customBaseUrl:e,isPortal:!1,portalHostname:g,urlKey:h}};a.reArcGISOnlineDomain=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let c="";for(let h=0;h<b.length;h++)c+=String.fromCharCode(b[h]);return btoa(c)};a.base64ToArrayBuffer=function(b){b=atob(b);const c=new Uint8Array(b.length);for(let h=0;h<b.length;h++)c[h]=
b.charCodeAt(h);return c.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20241122";a.commitHash="f6f7099a0e79cf518abdcf87c5aa8b6f24ecdcd8";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/apiKeyUtils":function(){define(["exports","../config","../core/urlUtils"],function(a,b,c){function h(n){const m=c.getOrigin(n,!0);return m?m.endsWith(".arcgis.com")&&!d.has(m)&&!n.endsWith("/sharing/rest/generateToken"):
!1}const d=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);a.isApiKey=function(n){return!!n&&4<n.length&&n.startsWith("AAPK")};a.isApiKeyApplicable=function(n,m){return!(!m&&!b.apiKey||!h(n))};a.supportsApiKey=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,c,h,d){function n(){try{return new DOMException("Aborted",
"AbortError")}catch{const m=Error();m.name="AbortError";return m}}a.createTimeoutError=function(){return Error("Timeout exceeded")};a.isNoCorsRequestRequired=function(m){const e=b.request.crossOriginNoCorsDomains;return e&&(m=d.getOrigin(m))?(m=m.toLowerCase(),!d.hasSameOrigin(m,d.getAppUrl())&&e[m]<Date.now()-36E5):!1};a.isTimeoutError=function(m){return"object"===typeof m&&!!m&&"message"in m&&"Timeout exceeded"===m.message};a.loadImageAsync=function(m,e,g=!1,f){return new Promise((p,r)=>{if(h.isAborted(f))r(n());
else{var t=()=>{x();r(Error(`Unable to load ${e}`))},l=()=>{const A=m;x();p(A)},q=()=>{if(m){var A=m;x();A.src="";r(n())}},x=()=>{c("esri-image-decode")||(m.removeEventListener("error",t),m.removeEventListener("load",l));m=l=t=null;null!=f&&f.removeEventListener("abort",q);q=null;g&&URL.revokeObjectURL(e)};null!=f&&f.addEventListener("abort",q);c("esri-image-decode")?m.decode().then(l,t):(m.addEventListener("error",t),m.addEventListener("load",l))}})};a.registerNoCorsDomains=function(m){b.request.crossOriginNoCorsDomains||
(b.request.crossOriginNoCorsDomains={});const e=b.request.crossOriginNoCorsDomains;for(let g of m)g=g.toLowerCase(),/^https?:\/\//.test(g)?e[d.getOrigin(g)??""]=0:(e[d.getOrigin("http://"+g)??""]=0,e[d.getOrigin("https://"+g)??""]=0)};a.sendNoCorsRequest=async function(m){var e=d.urlToObject(m);m=e.path;"json"===e.query?.f&&(m+="?f\x3djson");try{await fetch(m,{mode:"no-cors",credentials:"include"})}catch{}e=b.request.crossOriginNoCorsDomains;m=d.getOrigin(m);e&&m&&(e[m.toLowerCase()]=Date.now())};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){function q(E){E&&"object"===
typeof E&&"destroy"in E&&"function"===typeof E.destroy&&E.destroy()}function x(E){return E?E instanceof G?E.toArray():E.length?Array.prototype.slice.apply(E):[]:[]}function A(E){if(E?.length)return E[0]}function u(E,F,H,R){F&&F.forEach((J,K,Q)=>{E.push(J);u(E,H.call(R,J,K,Q),H,R)})}var w;class z{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(E){this.defaultPrevented=!1;this.item=
E}}class k{constructor(E,F,H,R,J){this.target=E;this.added=F;this.removed=H;this.start=R;this.deleteCount=J}}const v=new n(z,void 0,E=>{E.item=null;E.target=null;E.defaultPrevented=!1;E.cancellable=!1}),y=new Set,B=new Set,C=new Set,L=new Map;let M=0,G=w=class extends c.EventedAccessor{static isCollection(E){return null!=E&&E instanceof w}constructor(E){super(E);this._chgListeners=[];this._notifications=null;this._updating=!1;this._timer=null;this._observable=new l.SimpleObservable;this.length=0;
this._items=[];Object.defineProperty(this,"uid",{value:M++})}normalizeCtorArgs(E){return E?Array.isArray(E)||E instanceof w?{items:E}:E:{}}destroy(){this._removeAllRaw();this._timer&&this._timer.remove();this._emitter.destroy();this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){f.trackAccess(this._observable);return this._items}set items(E){this._emitBeforeChanges(m.ObservableChangesType.ADD)||(this._splice(0,this.length,x(E)),this._emitAfterChanges(m.ObservableChangesType.ADD))}hasEventListener(E){return this.destroyed?
!1:"change"===E?0<this._chgListeners.length:this._emitter.hasEventListener(E)}on(E,F){if(this.destroyed)return h.makeHandle();if("change"===E){const H=this._chgListeners,R={removed:!1,callback:F};H.push(R);this._notifications&&this._notifications.push({listeners:H.slice(),items:this._items.slice(),changes:[]});return h.makeHandle(()=>{R.removed=!0;H.splice(H.indexOf(R),1)})}return this._emitter.on(E,F)}once(E,F){const H="deref"in F?()=>F.deref():()=>F,R=this.on(E,J=>{H()?.call(null,J);R.remove()});
return R}add(E,F){f.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.ADD))return this;F=this.getNextIndex(F??null);this._splice(F,0,[E]);this._emitAfterChanges(m.ObservableChangesType.ADD);return this}addMany(E,F=this._items.length){f.trackAccess(this._observable);if(!E?.length||this._emitBeforeChanges(m.ObservableChangesType.ADD))return this;F=this.getNextIndex(F);this._splice(F,0,x(E));this._emitAfterChanges(m.ObservableChangesType.ADD);return this}at(E){f.trackAccess(this._observable);
E=Math.trunc(E)||0;0>E&&(E+=this.length);if(!(0>E||E>=this.length))return this._items[E]}removeAll(){f.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE))return[];const E=this._removeAllRaw();this._emitAfterChanges(m.ObservableChangesType.REMOVE);return E}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){f.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(d.clone)})}concat(...E){f.trackAccess(this._observable);
E=E.map(x);return this._createNewInstance({items:this._items.concat(...E)})}drain(E,F){f.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var H=this._splice(0,this.length),R=H.length;for(let J=0;J<R;J++)E.call(F,H[J],J,H);this._emitAfterChanges(m.ObservableChangesType.REMOVE)}}destroyAll(){this.drain(q)}destroyMany(E){E=this.removeMany(E);E.forEach(q);return E}every(E,F){f.trackAccess(this._observable);return this._items.every(E,F)}filter(E,F){f.trackAccess(this._observable);
let H;H=2===arguments.length?this._items.filter(E,F):this._items.filter(E);return this._createNewInstance({items:H})}find(E,F){f.trackAccess(this._observable);return this._items.find(E,F)}findIndex(E,F){f.trackAccess(this._observable);return this._items.findIndex(E,F)}flatten(E,F){f.trackAccess(this._observable);const H=[];u(H,this,E,F);return new w(H)}forEach(E,F){f.trackAccess(this._observable);return this._items.forEach(E,F)}getItemAt(E){f.trackAccess(this._observable);return this._items[E]}getNextIndex(E){f.trackAccess(this._observable);
const F=this.length;E=null==E?F:E;0>E?E=0:E>F&&(E=F);return E}includes(E,F=0){f.trackAccess(this._observable);return this._items.includes(E,F)}indexOf(E,F=0){f.trackAccess(this._observable);return this._items.indexOf(E,F)}join(E=","){f.trackAccess(this._observable);return this._items.join(E)}lastIndexOf(E,F=this.length-1){f.trackAccess(this._observable);return this._items.lastIndexOf(E,F)}map(E,F){f.trackAccess(this._observable);E=this._items.map(E,F);return new w({items:E})}reorder(E,F=this.length-
1){f.trackAccess(this._observable);const H=this.indexOf(E);if(-1!==H){0>F?F=0:F>=this.length&&(F=this.length-1);if(H!==F){if(this._emitBeforeChanges(m.ObservableChangesType.MOVE))return E;this._splice(H,1);this._splice(F,0,[E]);this._emitAfterChanges(m.ObservableChangesType.MOVE)}return E}}pop(){f.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var E=A(this._splice(this.length-1,1));this._emitAfterChanges(m.ObservableChangesType.REMOVE);return E}}push(...E){f.trackAccess(this._observable);
if(this._emitBeforeChanges(m.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,E);this._emitAfterChanges(m.ObservableChangesType.ADD);return this.length}reduce(E,F){f.trackAccess(this._observable);const H=this._items;return 2===arguments.length?H.reduce(E,F):H.reduce(E)}reduceRight(E,F){f.trackAccess(this._observable);const H=this._items;return 2===arguments.length?H.reduceRight(E,F):H.reduceRight(E)}remove(E){f.trackAccess(this._observable);return this.removeAt(this.indexOf(E))}removeAt(E){f.trackAccess(this._observable);
if(!(0>E||E>=this.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE)))return E=A(this._splice(E,1)),this._emitAfterChanges(m.ObservableChangesType.REMOVE),E}removeMany(E){f.trackAccess(this._observable);if(!E?.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE))return[];E=E instanceof w?E.toArray():E;const F=this._items,H=[],R=E.length;for(let N=0;N<R;N++){var J=F.indexOf(E[N]);if(-1<J){var K=N+1,Q=J+1;const U=Math.min(E.length-K,F.length-Q);let Z=0;for(;Z<U&&E[K+Z]===F[Q+
Z];)Z++;K=1+Z;(J=this._splice(J,K))&&0<J.length&&H.push.apply(H,J);N+=K-1}}this._emitAfterChanges(m.ObservableChangesType.REMOVE);return H}reverse(){f.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.MOVE))return this;const E=this._splice(0,this.length);E&&(E.reverse(),this._splice(0,0,E));this._emitAfterChanges(m.ObservableChangesType.MOVE);return this}shift(){f.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var E=
A(this._splice(0,1));this._emitAfterChanges(m.ObservableChangesType.REMOVE);return E}}slice(E=0,F=this.length){f.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(E,F)})}some(E,F){f.trackAccess(this._observable);return this._items.some(E,F)}sort(E){f.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(m.ObservableChangesType.MOVE))return this;const F=this._splice(0,this.length);arguments.length?F.sort(E):F.sort();this._splice(0,0,F);this._emitAfterChanges(m.ObservableChangesType.MOVE);
return this}splice(E,F,...H){f.trackAccess(this._observable);const R=(F?m.ObservableChangesType.REMOVE:0)|(H.length?m.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(R))return[];E=this._splice(E,F,H)||[];this._emitAfterChanges(R);return E}toArray(){f.trackAccess(this._observable);return this._items.slice()}toJSON(){f.trackAccess(this._observable);return this.toArray()}toLocaleString(){f.trackAccess(this._observable);return this._items.toLocaleString()}toString(){f.trackAccess(this._observable);
return this._items.toString()}unshift(...E){f.trackAccess(this._observable);if(!E.length||this._emitBeforeChanges(m.ObservableChangesType.ADD))return this.length;this._splice(0,0,E);this._emitAfterChanges(m.ObservableChangesType.ADD);return this.length}_createNewInstance(E){return new this.constructor(E)}_splice(E,F,H){const R=this._items;var J=this.itemType;let K=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),
changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=e.schedule(()=>this._dispatchChange()));0>E&&(E+=this.length);if(F){K=R.splice(E,F);if(this.hasEventListener("before-remove")){var Q=v.acquire();Q.target=this;Q.cancellable=!0;for(let fa=0,pa=K.length;fa<pa;fa++){var N=K[fa];Q.reset(N);this.emit("before-remove",Q);Q.defaultPrevented&&(K.splice(fa,1),R.splice(E,0,N),E+=1,--fa,--pa)}v.release(Q)}this.length=this._items.length;if(this.hasEventListener("after-remove")){N=v.acquire();
N.target=this;N.cancellable=!1;Q=K.length;for(let fa=0;fa<Q;fa++)N.reset(K[fa]),this.emit("after-remove",N);v.release(N)}}if(H?.length){if(J){N=[];for(var U of H)H=J.ensureType(U),null==H&&null!=U||N.push(H);H=N}J=this.hasEventListener("before-add");U=this.hasEventListener("after-add");N=E===this.length;if(J||U){var Z=v.acquire();Z.target=this;Z.cancellable=!0;Q=v.acquire();Q.target=this;Q.cancellable=!1;for(const fa of H)J?(Z.reset(fa),this.emit("before-add",Z),Z.defaultPrevented||(N?R.push(fa):
R.splice(E++,0,fa),this._set("length",R.length),U&&(Q.reset(fa),this.emit("after-add",Q)))):(N?R.push(fa):R.splice(E++,0,fa),this._set("length",R.length),Q.reset(fa),this.emit("after-add",Q));v.release(Q);v.release(Z)}else{if(N)for(Z of H)R.push(Z);else R.splice(E,0,...H);this._set("length",R.length)}}(H?.length||K?.length)&&this._notifyChangeEvent(H,K);this.hasEventListener("after-splice")&&(E=new k(this,H,K,E,F),this.emit("after-splice",E));return K}_emitBeforeChanges(E){let F=!1;if(this.hasEventListener("before-changes")){const H=
v.acquire();H.target=this;H.cancellable=!0;H.type=E;this.emit("before-changes",H);F=H.defaultPrevented;v.release(H)}return F}_emitAfterChanges(E){if(this.hasEventListener("after-changes")){const F=v.acquire();F.target=this;F.cancellable=!1;F.type=E;this.emit("after-changes",F);v.release(F)}this._observable.notify()}_notifyChangeEvent(E,F){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:E,removed:F})}get updating(){return this._updating}_dispatchChange(){this._timer&&
(this._timer.remove(),this._timer=null);this._updating=!1;if(this._notifications){var E=this._notifications;this._notifications=null;for(const F of E){E=F.changes;y.clear();B.clear();C.clear();for(const {added:N,removed:U}of E){if(N)if(0===C.size&&0===B.size)for(const Z of N)y.add(Z);else for(const Z of N)B.has(Z)?(C.add(Z),B.delete(Z)):C.has(Z)||y.add(Z);if(U)if(0===C.size&&0===y.size)for(const Z of U)B.add(Z);else for(const Z of U)y.has(Z)?y.delete(Z):(C.delete(Z),B.add(Z))}const H=b.acquire();
y.forEach(N=>{H.push(N)});const R=b.acquire();B.forEach(N=>{R.push(N)});const J=this._items,K=F.items,Q=b.acquire();C.forEach(N=>{K.indexOf(N)!==J.indexOf(N)&&Q.push(N)});if(F.listeners&&(H.length||R.length||Q.length)){E={target:this,added:H,removed:R,moved:Q};const N=F.listeners.length;for(let U=0;U<N;U++){const Z=F.listeners[U];Z.removed||Z.callback.call(this,E)}}b.release(H);b.release(R);b.release(Q)}y.clear();B.clear();C.clear()}}};G.ofType=E=>{if(!E)return w;if(L.has(E))return L.get(E);let F=
null;if("function"===typeof E)F=E.prototype.declaredClass;else if(E.base)F=E.base.prototype.declaredClass;else for(var H in E.typeMap){const R=E.typeMap[H].prototype.declaredClass;F=F?F+` | ${R}`:R}H=class extends w{};a.__decorate([r.shared({Type:E,ensureType:"function"===typeof E?g.ensureType(E):g.ensureOneOfType(E)})],H.prototype,"itemType",void 0);H=a.__decorate([t.subclass(`esri.core.Collection<${F}>`)],H);L.set(E,H);return H};a.__decorate([p.property()],G.prototype,"_updating",void 0);a.__decorate([p.property()],
G.prototype,"length",void 0);a.__decorate([p.property()],G.prototype,"items",null);a.__decorate([p.property({readOnly:!0})],G.prototype,"updating",null);return G=w=a.__decorate([t.subclass("esri.core.Collection")],G)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,c,h){class d{constructor(){this._emitter=new d.EventEmitter(this)}emit(n,m){return this._emitter.emit(n,m)}on(n,m){return this._emitter.on(n,
m)}once(n,m){return this._emitter.once(n,m)}hasEventListener(n){return this._emitter.hasEventListener(n)}}(function(n){class m{constructor(g=null){this._target=g;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(g,f){let p=this._listenersMap?.get(g);if(!p)return!1;const r=this._target||this;let t=!1;for(const l of p.slice()){const q="deref"in l?l.deref():l;q?q?.call(r,f):t=!0}t&&(p=p.filter(l=>"deref"in l?null!=l.deref():!0),this._listenersMap.set(g,
p));return 0<p.length}on(g,f){if(Array.isArray(g)){var p=g.map(r=>this.on(r,f));return c.handlesGroup(p)}if(g.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);p=this._listenersMap.get(g)||[];p.push(f);this._listenersMap.set(g,p);return c.makeHandle(()=>{const r=this._listenersMap?.get(g),t=r?.indexOf(f)??-1;0<=t&&r.splice(t,1)})}once(g,f){const p=this.on(g,r=>{p.remove();("deref"in f?f.deref():
f)?.call(null,r)});return p}hasEventListener(g){g=this._listenersMap?.get(g);return null!=g&&0<g.length}}n.EventEmitter=m;n.EventedMixin=g=>{g=class extends g{constructor(){super(...arguments);this._emitter=new m}destroy(){this._emitter.clear()}emit(f,p){return this._emitter.emit(f,p)}on(f,p){return this._emitter.on(f,p)}once(f,p){return this._emitter.once(f,p)}hasEventListener(f){return this._emitter.hasEventListener(f)}};return g=a.__decorate([h.subclass("esri.core.Evented")],g)};let e=class extends b{constructor(){super(...arguments);
this._emitter=new d.EventEmitter(this)}destroy(){this._emitter.clear()}emit(g,f){return this._emitter.emit(g,f)}on(g,f){return this._emitter.on(g,f)}once(g,f){return this._emitter.once(g,f)}hasEventListener(g){return this._emitter.hasEventListener(g)}};e=a.__decorate([h.subclass("esri.core.Evented.EventedAccessor")],e);n.EventedAccessor=e})(d||={});return d})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||
(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(c,h)=>{c[h]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(a,b){class c extends b.ObservableBase{notify(){var h=
this._observers;if(h&&0<h.length){h=h.slice();for(const d of h)d.onInvalidated(),d.onCommitted()}}}a.SimpleObservable=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,b){a.castForReferenceSetter=function(c){return c};a.referenceSetter=function(c,h,d=b){h||=new d;if(h===c)return h;h.removeAll();c&&(Array.isArray(c)||"items"in c&&Array.isArray(c.items))?h.addMany(c):c&&h.add(c);return h};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){const g=f=>{f=class extends f{constructor(...p){super(...p);this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(r=>{const t=this.load.bind(this);this.load=
l=>{const q=new Promise((x,A)=>{const u=d.onAbortOrThrow(l,A);this.destroyed&&A(new b("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(x,A).finally(()=>{u&&u.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const x=this._loadController=new AbortController;t({signal:x.signal})}r();return q}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},r=>{this._set("loadStatus",
"failed");this._set("loadError",r);this._loadController=null})}destroy(){this._loadController&&(this._loadController=c.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;this._set("loadError",new b("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();
return this}};a.__decorate([m.property({readOnly:!0})],f.prototype,"loaded",null);a.__decorate([m.property({readOnly:!0})],f.prototype,"loadError",void 0);a.__decorate([m.property({clonable:!1})],f.prototype,"loadStatus",void 0);a.__decorate([m.property({type:[n],readOnly:!0})],f.prototype,"loadWarnings",null);return f=a.__decorate([e.subclass("esri.core.Loadable")],f)};h=class extends g(h.EsriPromise){};h=a.__decorate([e.subclass("esri.core.Loadable")],h);(function(f){f.LoadableMixin=g;f.isLoadable=
function(p){return!(!p||!p.load)}})(h||={});return h})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(a,b,c,h,d){var n;(function(g){g[g.PENDING=0]="PENDING";g[g.RESOLVED=1]="RESOLVED";g[g.REJECTED=2]="REJECTED"})(n||={});class m{constructor(){this._resolver=h.createResolver();this._status=n.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=n.RESOLVED;this._cleanUp()},
()=>{this._status=n.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(g){this._resolvingPromises.push(g);this._tryResolve()}isResolved(){return this._status===n.RESOLVED}isRejected(){return this._status===n.REJECTED}isFulfilled(){return this._status!==n.PENDING}abort(){this._resolver.reject(h.createAbortError())}_cleanUp(){this._resolvingPromises=this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var g=h.createResolver(),f=[...this._resolvingPromises,
g.promise],p=this._allPromise=Promise.all(f);p.then(()=>{this.isFulfilled()||this._allPromise!==p||this._resolver.resolve()},r=>{this.isFulfilled()||this._allPromise!==p||h.isAbortError(r)||this._resolver.reject(r)});g.resolve()}}}const e=g=>{g=class extends g{constructor(...f){super(...f);this._promiseProps=new m;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(f,
p){return this._promiseProps.promise.then(()=>this).then(f,p)}catch(f){return this.when(null,f)}addResolvingPromise(f){f&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in f?f.when():f)}};return g=b.__decorate([d.subclass("esri.core.Promise")],g)};a.EsriPromise=class extends e(c){};a.EsriPromise=b.__decorate([d.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports",
"./asyncUtils","./Collection","./Loadable"],function(a,b,c,h){async function d(n,m){const e=[],g=(...p)=>{for(const r of p)null!=r&&(Array.isArray(r)?g(...r):c.isCollection(r)?r.forEach(t=>g(t)):h.isLoadable(r)&&e.push(r))};m(g);let f=null;await b.map(e,async p=>{p=await b.result("loadAll"in p&&"function"===typeof p.loadAll?p.loadAll():p.load());!1!==p.ok||f||(f=p)});if(f)throw f.error;return n}a.loadAll=async function(n,m){await n.load();return d(n,m)};a.loadAllChildren=d;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){function e(t){return{ok:!0,value:t}}function g(t){return{ok:!1,error:t}}function f(t){return null!=t&&!0===t.ok?t.value:null}function p(t){return null!=t&&!1===t.ok?t.error:null}let r=class extends c{get value(){return f(this._result)}get error(){return p(this._result)}get finished(){return null!=
this._result}constructor(t,l){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=h.abortMaybe(this._abortController)};this._abortController=new AbortController;const {signal:q}=this._abortController;this.promise=t(q);this.promise.then(x=>{this._result=e(x);this._cleanup()},x=>{this._result=g(x);this._cleanup()});this._abortHandle=d.onAbort(l,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=h.removeMaybe(this._abortHandle);
this._abortController=null}};b.__decorate([n.property()],r.prototype,"value",null);b.__decorate([n.property()],r.prototype,"error",null);b.__decorate([n.property()],r.prototype,"finished",null);b.__decorate([n.property()],r.prototype,"promise",void 0);b.__decorate([n.property()],r.prototype,"_result",void 0);r=b.__decorate([m.subclass("esri.core.asyncUtils.ReactiveTask")],r);a.assertResult=function(t){if(!0===t.ok)return t.value;throw t.error;};a.createTask=function(t,l){return new r(t,l)};a.forEach=
function(t,l,q){return d.eachAlways(t.map((x,A)=>l.apply(q,[x,A])))};a.makeResultError=g;a.makeResultOk=e;a.map=async function(t,l,q){return(await d.eachAlways(t.map((x,A)=>l.apply(q,[x,A])))).map(x=>x.value)};a.result=async function(t){if(null==t)return{ok:!1,error:Error("no promise provided")};try{return e(await t)}catch(l){return g(l)}};a.resultError=p;a.resultOrAbort=async function(t){try{return e(await t)}catch(l){return d.throwIfAbortError(l),g(l)}};a.resultValue=f;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(c,h,d){let n,m;void 0===h?(m=c,n=[void 0]):"string"!==typeof h?(m=c,n=[void 0],d=h):(m=h,n=Array.isArray(c)?c:[c]);return(e,g)=>{const f=e.constructor.prototype;for(const p of n){const r=b.propertyJSONMeta(e,p,m);r.write&&"object"===typeof r.write||(r.write={});d&&(r.write.target=d);r.write.writer=f[g]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;c=p=class extends c.JSONSupport{static fromJSON(r){if(!r)return null;if(102100===r?.wkid)return p.WebMercator;if(4326===
r?.wkid)return p.WGS84;const t=new p;t.read(r);return t}constructor(r){super(r);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(r){return r&&"object"===typeof r?r:{["string"===typeof r?"wkt":"wkid"]:r}}get isWGS84(){return f.isWGS84(this)}get isWebMercator(){return f.isWebMercator(this)}get isGeographic(){return f.isGeographic(this)}get isWrappable(){return f.isWrappable(this)}get metersPerUnit(){return d.getMetersPerUnitForSR(this)}get unit(){return d.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(r,t){this.wkid||(t.wkt=r)}clone(){if(this===p.WGS84)return new p(f.wgs84);if(this===p.WebMercator)return new p(f.webMercator);const r=new p;null!=this.wkid?(r.wkid=this.wkid,null!=this.latestWkid&&(r.latestWkid=this.latestWkid),null!=this.vcsWkid&&(r.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(r.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(r.wkt=this.wkt),null!=this.wkt2&&(r.wkt2=this.wkt2));this.imageCoordinateSystem&&(r.imageCoordinateSystem=
h.clone(this.imageCoordinateSystem));return r}equals(r){if(null==r)return!1;if(this.imageCoordinateSystem||r.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==r.imageCoordinateSystem)return!1;const {id:t,referenceServiceName:l}=r.imageCoordinateSystem,{geodataXform:q}=r.imageCoordinateSystem,x=this.imageCoordinateSystem;return null==t||q?JSON.stringify(x)===JSON.stringify(r.imageCoordinateSystem):l?x.id===t&&x.referenceServiceName===l:x.id===t}return f.equals(this,r)}toJSON(r){return this.write(void 0,
r)}};c.GCS_NAD_1927=null;c.WGS84=null;c.WebMercator=null;c.PlateCarree=null;a.__decorate([m.property({readOnly:!0})],c.prototype,"isWGS84",null);a.__decorate([m.property({readOnly:!0})],c.prototype,"isWebMercator",null);a.__decorate([m.property({readOnly:!0})],c.prototype,"isGeographic",null);a.__decorate([m.property({readOnly:!0})],c.prototype,"isWrappable",null);a.__decorate([m.property({type:n.Integer,json:{write:!0}})],c.prototype,"latestWkid",void 0);a.__decorate([m.property({readOnly:!0})],
c.prototype,"metersPerUnit",null);a.__decorate([m.property({readOnly:!0})],c.prototype,"unit",null);a.__decorate([m.property({type:n.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],c.prototype,"wkid",void 0);a.__decorate([m.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],c.prototype,"wkt",void 0);a.__decorate([g.writer("wkt"),g.writer("web-scene","wkt")],c.prototype,
"writeWkt",null);a.__decorate([m.property({type:String,json:{write:!1}})],c.prototype,"wkt2",void 0);a.__decorate([m.property({type:n.Integer,json:{write:!0}})],c.prototype,"vcsWkid",void 0);a.__decorate([m.property({type:n.Integer,json:{write:!0}})],c.prototype,"latestVcsWkid",void 0);a.__decorate([m.property()],c.prototype,"imageCoordinateSystem",void 0);c=p=a.__decorate([e.subclass("esri.geometry.SpatialReference")],c);c.prototype.toJSON.isDefaultToJSON=!0;c.GCS_NAD_1927=b.freeze(new c({wkid:4267,
wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}));c.WGS84=b.freeze(new c(f.wgs84));c.WebMercator=b.freeze(new c(f.webMercator));c.PlateCarree=b.freeze(new c(f.plateCarree));return c})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(a,b,c,h,d,n,m){function e(K){K=H[K];if(!K)throw Error("unknown type");return K}function g(K){return F[K].baseUnit}function f(K,Q=null){Q=Q||e(K);return F[Q].baseUnit===K}function p(K,Q,N){if(Q===N)return K;const U=e(Q);if(U!==e(N))throw Error("incompatible units");K=f(Q,U)?K:K*F[U].units[Q].inBaseUnits;return f(N,U)?K:K/F[U].units[N].inBaseUnits}function r(K){switch(K){case "metric":return"meters";case "imperial":return"feet";default:return K}}function t(K,Q){K=p(K,Q,"meters");return 3E3>
Math.abs(K)?"meters":"kilometers"}function l(K,Q){K=p(K,Q,"meters");return 1E5>Math.abs(K)?"meters":"kilometers"}function q(K,Q){K=p(K,Q,"feet");return 1E3>Math.abs(K)?"feet":"miles"}function x(K,Q){K=p(K,Q,"feet");return 1E5>Math.abs(K)?"feet":"miles"}function A(K){return E.fromJSON(K.toLowerCase())||null}function u(K){const Q=w(K),N=h.getReferenceEllipsoid(K).metersPerDegree;return Q>=N?"meters":v(K)}function w(K,Q=d.earth.metersPerDegree){return z(K,!0)??Q}function z(K,Q=!1){const N=K?.wkid??null;
K=K?.wkt2??K?.wkt??null;let U=null;if(N){if(n.isWKIDFromMars(N))return d.mars.metersPerDegree;if(n.isWKIDFromMoon(N))return d.moon.metersPerDegree;U=L.values[L[N]];!U&&Q&&G.has(N)&&(U=B)}else K&&(y(K)?U=k(C.exec(K),U):/^GEOCCS/i.test(K)&&(U=k(M.exec(K),U)));return U}function k(K,Q){return K?.[1]?parseFloat(K[1].split(",")[1]):Q}function v(K){var Q=K?.wkid??null,N=K?.wkt2??K?.wkt??null;K=null;if(Q)K=L.units[L[Q]];else if(N&&(Q=y(N)?C:/^GEOCCS/i.test(N)?M:null)&&(Q=Q.exec(N),Q?.[1]&&(Q=Q[1],K=/[\\"']{1}([^\\"']+)/.exec(Q)?.[1],
!K||!L.units.includes(K)))){Q=parseFloat(Q.split(",")[1]);K=null;N=L.values;for(let U=0;U<N.length;++U)if(1E-7>Math.abs(Q-N[U])){K=L.units[U];break}}return null!=K?A(K):null}function y(K){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(K)}const B=d.earth.radius*Math.PI/200,C=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,L=m,M=/UNIT\[([^\]]+)]/i,G=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),E=c.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",
yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},
meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},
"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5E4},"150-kilometers":{inBaseUnits:15E4}};m={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},
"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(K=>K*K)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const F={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:m},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},
"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},H=(()=>{const K={};for(const Q in F)for(const N in F[Q].units)K[N]=Q;return K})(),R="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),
J=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=c.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});
m=c.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});c=c.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveImperialAreaUnit=function(K,Q){K=p(K,Q,"square-feet");return 1E6>Math.abs(K)?"square-feet":"square-miles"};a.adaptiveImperialLengthUnit=q;a.adaptiveImperialVerticalLengthUnit=
x;a.adaptiveLengthUnit=function(K,Q,N){switch(N){case "metric":return t(K,Q);case "imperial":return q(K,Q);default:return N}};a.adaptiveMetricAreaUnit=function(K,Q){K=p(K,Q,"square-meters");return 3E6>Math.abs(K)?"square-meters":"square-kilometers"};a.adaptiveMetricLengthUnit=t;a.adaptiveMetricVerticalLengthUnit=l;a.adaptiveVerticalLengthUnit=function(K,Q,N){switch(N){case "metric":return l(K,Q);case "imperial":return x(K,Q);default:return N}};a.angleUnitsJSONMap=c;a.areaUnitFromSpatialReference=
function(K){K=v(K);return null==K?null:J.get(K)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(K){return g(e(K))};a.baseUnitForUnitType=g;a.convertFromSpatialReferenceUnit=function(K,Q,N,U=!1){if(!U&&Q.isGeographic)throw Error("Unable to convert from an angular unit to a linear unit.");U=v(Q);U!==N&&(U?K=p(K,U,N):(K*=w(Q),K=p(K,"meters",N)));return K};a.convertToSpatialReferenceUnit=function(K,Q,N,U=!1){if(!U&&N.isGeographic)throw Error("Unable to convert from a linear unit to an angular unit.");
U=v(N);Q!==U&&(K=U?p(K,Q,U):p(K,Q,"meters")/w(N));return K};a.convertUnit=p;a.defaultAreaUnit=function(K){switch(K){case "metric":return"square-meters";case "imperial":return"square-feet";default:return K}};a.defaultLengthUnit=r;a.defaultVerticalLengthUnit=function(K){return r(K)};a.getDefaultUnitSystem=function(K){K=v(K);if(null==K)return null;switch(K){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "chains":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(K){return n.isGeographic(K)?1:w(K)};a.getMetersPerUnit=z;a.getMetersPerUnitForSR=w;a.getMetersPerVerticalUnitForSR=function(K){if(null!=K&&!n.isEarth(K))return 1;K=w(K);return 1E5<K?1:K};a.getUnitString=v;a.getVerticalUnitStringForSR=u;a.gradGcsIds=G;a.inchesPerMeter=39.37;a.isBaseUnit=f;a.isMeasurementSystem=function(K){return"imperial"===K||"metric"===K};a.isProjectedWKT=
y;a.lengthToDegrees=function(K,Q,N){return p(K,Q,"meters")/(N*Math.PI/180)};a.lengthUnitFromSpatialReference=function(K){K=v(K);return null!=K&&R.includes(K)?K:null};a.lengthUnitsJSONMap=m;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=R;a.unitFromRESTJSON=A;a.unitType=e;a.verticalLengthUnitFromSpatialReference=function(K){K=u(K);return null!=K&&R.includes(K)?
K:null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){function c(n){const m={};for(const e in n)m[n[e]]=e;return m}function h(n){const m=[];for(const e in n)m.push(e);m.sort();return m}class d{constructor(n,m={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=n;this._options=m;this.apiValues=[];this.jsonValues=[];this._apiToJSON=c(n);this.apiValues=h(this._apiToJSON);this.jsonValues=h(this._jsonToAPI);
this.read=e=>this.fromJSON(e);this.write=(e,g,f)=>{e=this.toJSON(e);void 0!==e&&b.setDeepValue(f,e,g)};this.write.isJSONMapWriter=!0}toJSON(n){return null==n?null:this._apiToJSON.hasOwnProperty(n)?(n=this._apiToJSON[n],this._options.useNumericKeys?+n:n):this._options.ignoreUnknown?void 0:n}fromJSON(n){return null!=n&&this._jsonToAPI.hasOwnProperty(n)?this._jsonToAPI[n]:this._options.ignoreUnknown?void 0:n}}a.JSONMap=d;a.strict=function(){return function(n,m){return new d(n,{ignoreUnknown:!0,...m})}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,c){function h(r){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${r.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
function d(r){return c.equals(r,n)}const n=h(b.earth),m=h(b.mars),e=h(b.moon),g={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},f=m.wkt.toUpperCase(),p=
e.wkt.toUpperCase();a.SphericalECEFSpatialReferenceLike=n;a.SphericalPCPFMarsLike=m;a.SphericalPCPFMoonLike=e;a.WGS84ECEFSpatialReferenceLike=g;a.getReferenceEllipsoid=function(r){if(null!=r&&c.isValid(r)){const t=r.wkid;r=r.wkt2??r.wkt;if(c.isWKIDFromMars(t))return b.mars;const l=r?.toUpperCase();if(r&&l===f)return b.mars;if(c.isWKIDFromMoon(t)||l&&l===p)return b.moon}return b.earth};a.getReferenceEllipsoidFromWKID=function(r){return c.isWKIDFromMars(r)?b.mars:c.isWKIDFromMoon(r)?b.moon:b.earth};
a.isSphericalECEF=d;a.isSphericalPCPF=function(r){return d(r)||c.equals(r,m)||c.equals(r,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(n,m,e,g,f,p){this.semiMajorAxis=n;this.flattening=m;this.outerAtmosphereRimWidth=e;this.atmosphereHeight=g;this.scaleHeight=f;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=
Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=p||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const c=new b(6378137,1/298.257223563,3E5,1E5,.085,.006694379990137799),h=new b(3396190,.005886007555525457,23E4,6E4,.111),d=new b(1737400,0,0,0,0);a.Ellipsoid=b;a.earth=c;a.mars=h;a.moon=d;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string","../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,c,h,d){function n(w){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(w)}function m(w){w=w?.wkid;return null!=w&&2E3<=w&&t.includes(w)}function e(w){return w===h.SupportedGCSWkids.GCSMARS2000||w===
h.SupportedGCSWkids.GCSMARS2000_SPHERE}function g(w){return e(w?.wkid)}function f(w){return w===h.SupportedGCSWkids.GCSMOON2000}function p(w){return f(w?.wkid)}function r(w){if(null==w)return!1;const z=w.wkid;return null!=z&&2E3<=z?!0:null!=w.wkt2||null!=w.wkt}const t=[102100,102113,3857,3785,900913],l=[4326,...t,104905,104971],q=[-2.0037508342788905E7,2.0037508342788905E7],x=[-2.0037508342787E7,2.0037508342787E7],A={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:q,origin:x,dx:1E-5},u={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:q,origin:x,dx:1E-5},
102100:A,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:q,origin:x,dx:1E-5},3857:A,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',
altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},900913:A};b={wkid:4326,wkt:b.replace(u[4326].wkTemplate,{Central_Meridian:"0.0"})};a.equals=function(w,z){if(w===z)return!0;if(null==w||null==z)return!1;const k=w.wkid,v=z.wkid;if(null!=k||null!=v){if(k===v||m(w)&&m(z))return!0;
w=w.latestWkid;if(null!=w&&v===w)return!0;z=z.latestWkid;return null!=z&&k===z?!0:!1}let y,B;w.wkt2&&z.wkt2?(y=w.wkt2,B=z.wkt2):w.wkt&&z.wkt&&(y=w.wkt,B=z.wkt);return y&&B?y.toUpperCase()===B.toUpperCase():!1};a.equalsWithProjectionEngine=async function(w,z){if(w===z)return!0;c.isLoaded()||await c.load();const k=v=>{const y=v.wkt2||v.wkt;return y?c.PeFactory.fromString(c.PeDefs.PE_TYPE_NONE,y)?.getCode():(v=v.wkid??v.latestWkid)?c.PeFactory.coordsys(v)?.getCode():null};w=w?k(w):null;z=z?k(z):null;
return null!=w&&null!=z&&w===z};a.getInfo=function(w){w=w?.wkid;return null!=w&&2E3<=w?u[w]||null:null};a.getWktFromWkt=async function(w,z){if(1===z&&!n(w)||2===z&&n(w))return w;c.isLoaded()||await c.load();return c.PeFactory.fromString(c.PeDefs.PE_TYPE_NONE,w)?.toString(1===z?c.PeDefs.PE_STR_FMT_WKT:c.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(w){return w?.wkid===h.SupportedGCSWkids.CGCS2000};a.isEarth=function(w){return!(g(w)||p(w))};a.isGeographic=function(w){if(!r(w))return!1;const {wkid:z}=
w;return z?null==d[z]:(w=w.wkt2||w.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(w):!1};a.isMars=g;a.isMoon=p;a.isPlateCarree=function(w){return 32662===w?.wkid};a.isValid=r;a.isWGS84=function(w){return 4326===w?.wkid};a.isWKIDFromMars=e;a.isWKIDFromMoon=f;a.isWKT2=n;a.isWebMercator=m;a.isWrappable=function(w){w=w?.wkid;return null!=w&&2E3<=w&&l.includes(w)};a.plateCarree={wkid:32662};a.srToRESTValue=function(w){if(w){var {wkid:z,vcsWkid:k}=w;if(z)return k?JSON.stringify({wkid:z,vcsWkid:k}):String(z);
w=w.wkt||w.wkt2;return JSON.stringify(w?k?{wkt:w,vcsWkid:k}:{wkt:w}:{})}};a.webMercator={wkid:102100,latestWkid:3857};a.webMercatorOrigin=x;a.webMercatorValid=q;a.wgs84=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(a,b,c,h){function d(){return!!b._pe}function n(){return!!h("esri-wasm")}function m(){return t?t:t=(new Promise((q,x)=>a(["./pe-wasm"],q,x))).then(q=>q.peWasm).then(({default:q})=>
q({locateFile:x=>c.getAssetUrl(`esri/geometry/support/${x}`)})).then(q=>{e(q)})}function e(q){function x(w,z,k){w[z]=k(w[z])}b._pe=q;b.PeDefs.init();b.PeGTlistExtended.init();b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeDouble=class extends b._pe.PeDouble{constructor(w=NaN){super(w)}destroy(){b._pe.destroy(this)}[Symbol.dispose](){this.destroy()}};b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}[Symbol.dispose](){this.destroy()}};q=[b._pe.PeAngunit,
b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var A of q)x(A.prototype,"getName",w=>function(){return w.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const w of[b._pe.PeGeogtran,b._pe.PeProjcs])x(w.prototype,"getParameters",z=>function(){const k=Array(b.PeDefs.PE_PARM_MAX);let v=z.call(this);for(let y=0;y<k.length;y++){const B=b._pe.getValue(v,"*");k[y]=B?b._pe.wrapPointer(B,b._pe.PeParameter):null;v+=
Int32Array.BYTES_PER_ELEMENT}return k});x(b._pe.PeHorizon.prototype,"getCoord",w=>function(z=!1){const k=this.getSize();if(!k)return null;const v=[],y=w.call(this);r(v,k,y,z);return v});x(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",w=>{const z=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let k=null;var v=w.call(this);if(!b._pe.compare(v,b._pe.NULL)){k=[v];const y=this.getSteps();if(1<y){v=b._pe.getPointer(v);for(let B=1;B<y;B++)k.push(b._pe.wrapPointer(v+z*B,b._pe.PeGTlistExtendedGTs))}}return k}});
const u=b._pe._pe_getPeHorizonSize();A=w=>function(){let z=this._cache;z||(this._cache=z=new Map);if(z.has(w))return z.get(w);let k=null;var v=w.call(this);if(!b._pe.compare(v,b._pe.NULL)){k=[v];const y=v.getNump();if(1<y){v=b._pe.getPointer(v);for(let B=1;B<y;B++)k.push(b._pe.wrapPointer(v+u*B,b._pe.PeHorizon))}}z.set(w,k);return k};x(b._pe.PeProjcs.prototype,"horizonGcsGenerate",A);x(b._pe.PeProjcs.prototype,"horizonPcsGenerate",A);b._pe.PeObject.prototype.toString=function(w=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();
const z=b._pe.getPointer(this),k=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(z,w,k))};b._pe.PeGeogcs.prototype.destroy=function(){this.Delete();g(this);this.ptr=0};b._pe.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()};b._pe.PeProjcs.prototype.destroy=function(){this.Delete();g(this);this.ptr=0};b._pe.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function g(q){if(q){var x=b._pe.getClass(q);x&&(x=b._pe.getCache(x))&&
(q=b._pe.getPointer(q))&&delete x[q]}}function f(q,x){const A=[];x=Array(x);for(let u=0;u<q;u++)A.push(b._pe.ensureInt8(x));return A}function p(q){return ArrayBuffer.isView(q)?q:Array.isArray(q[0])?q.flat():q}function r(q,x,A,u=!1){if(u)for(u=0;u<2*x;u++)q[u]=b._pe.getValue(A+u*Float64Array.BYTES_PER_ELEMENT,"double");else{u=0===q.length;for(let w=0;w<x;w++)u&&(q[w]=Array(2)),q[w][0]=b._pe.getValue(A,"double"),q[w][1]=b._pe.getValue(A+Float64Array.BYTES_PER_ELEMENT,"double"),A+=2*Float64Array.BYTES_PER_ELEMENT}}
let t;b._pe=null;b.PeCSTransformations=void 0;(function(q){function x(w,z,k){b._pe.ensureCache.prepare();var v=p(k);const y=k===v;v=b._pe.ensureFloat64(v);(w=b._pe._pe_geog_to_proj(b._pe.getPointer(w),z,v))&&r(k,z,v,y);return w}function A(w,z,k){return u(w,z,k,0)}function u(w,z,k,v){b._pe.ensureCache.prepare();var y=p(k);const B=k===y;y=b._pe.ensureFloat64(y);(w=b._pe._pe_proj_to_geog_center(b._pe.getPointer(w),z,y,v))&&r(k,z,y,B);return w}q.geogToProj=x;q.projGeog=function(w,z,k,v){switch(v){case b.PeDefs.PE_TRANSFORM_P_TO_G:return A(w,
z,k);case b.PeDefs.PE_TRANSFORM_G_TO_P:return x(w,z,k)}return 0};q.projToGeog=A;q.projToGeogCenter=u})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(q){q.init=function(){q.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;q.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;q.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;q.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;q.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;q.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;q.PE_DMS_MAX=
b._pe.PeDefs.prototype.PE_DMS_MAX;q.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;q.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;q.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;q.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;q.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;q.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;q.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;q.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;q.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;
q.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;q.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;q.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;q.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;q.PE_STR_FMT_WKT=b._pe.PeDefs.prototype.PE_STR_FMT_WKT;q.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;q.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;q.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;q.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
q.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;q.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;q.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;q.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;q.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;q.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;q.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeDouble=null;b.PeFactory=void 0;(function(q){function x(z,
k){let v=null,y=A[z];y||(y={},A[z]=y);y.hasOwnProperty(String(k))&&(v=y[k],b._pe.compare(v,b._pe.NULL)&&(v=null));v||(z=b._pe.PeFactory.prototype.factoryByType(z,k),b._pe.compare(z,b._pe.NULL)||(v=w(z),y[k]=v));return v}const A={},u={},w=z=>{const k=z.getType();switch(k){case b.PeDefs.PE_TYPE_GEOGCS:z=b._pe.castObject(z,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:z=b._pe.castObject(z,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:z=b._pe.castObject(z,b._pe.PeGeogtran);break;default:k&
b.PeDefs.PE_TYPE_UNIT&&(z=b._pe.castObject(z,b._pe.PeUnit))}return z};q.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};q.coordsys=function(z){return x(b.PeDefs.PE_TYPE_COORDSYS,z)};q.factoryByType=x;q.fromString=function(z,k){let v=null,y=u[z];y||(y={},u[z]=y);y.hasOwnProperty(k)&&(v=y[k],b._pe.compare(v,b._pe.NULL)&&(v=null));v||(z=b._pe.PeFactory.prototype.fromString(z,k),b._pe.compare(z,b._pe.NULL)||(v=w(z),y[k]=v));return v};q.geogcs=function(z){return x(b.PeDefs.PE_TYPE_GEOGCS,
z)};q.geogtran=function(z){return x(b.PeDefs.PE_TYPE_GEOGTRAN,z)};q.getCode=function(z){return b._pe.PeFactory.prototype.getCode(z)};q.projcs=function(z){return x(b.PeDefs.PE_TYPE_PROJCS,z)};q.unit=function(z){return x(b.PeDefs.PE_TYPE_UNIT,z)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(q){let x;q.init=function(){q.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;x=b._pe._pe_getPeGTlistExtendedEntrySize()};q.getGTlist=function(A,
u,w,z,k,v){let y=null;const B=new b._pe.PeInteger(v);try{const C=b._pe.PeGTlistExtended.prototype.getGTlist(A,u,w,z,k,B);if(v=B.val)if(y=[C],1<v){const L=b._pe.getPointer(C);for(A=1;A<v;A++)y.push(b._pe.wrapPointer(L+x*A,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(B)}return y}})(b.PeGTlistExtended||(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(q){q.destroy=function(x){if(x?.length){for(const A of x)g(A),A.getEntries().forEach(u=>{g(u);u=u.getGeogtran();g(u);u.getParameters().forEach(g);
[u.getGeogcs1(),u.getGeogcs2()].forEach(w=>{g(w);const z=w.getDatum();g(z);g(z.getSpheroid());g(w.getPrimem());g(w.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(x[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(q){q.geogToGeog=function(x,A,u,w,z){b._pe.ensureCache.prepare();var k=p(u);const v=u===k;k=b._pe.ensureFloat64(k);let y=0;w&&(y=b._pe.ensureFloat64(w));(x=b._pe._pe_geog_to_geog(b._pe.getPointer(x),A,k,y,z))&&r(u,A,k,v);return x}})(b.PeGTTransformations||
(b.PeGTTransformations={}));b.PeLineType=void 0;(function(q){q.geodesicCoordinate=function(x,A,u,w,z,k,v,y){b._pe.PeLineType.prototype.geodesic_coordinate(x,A,u,w,z,k,v,y)};q.geodeticCoordinate=function(x,A,u,w,z,k,v,y,B){b._pe.PeLineType.prototype.geodetic_coordinate(x,A,u,w,z,k,v,y,B)};q.geodeticDistance=function(x,A,u,w,z,k,v,y,B,C){b._pe.PeLineType.prototype.geodetic_distance(x,A,u,w,z,k,v,y,B,C)};q.greatEllipticDistance=function(x,A,u,w,z,k,v,y,B){b._pe.PeLineType.prototype.great_elliptic_distance(x,
A,u,w,z,k,v,y,B)}})(b.PeLineType||(b.PeLineType={}));b.PeMath=void 0;(function(q){q.phiToEta=function(x,A){return b._pe.PeMath.prototype.phi_to_eta(x,A)};q.etaToPhi=function(x,A){return b._pe.PeMath.prototype.eta_to_phi(x,A)};q.phiToPhig=function(x,A){return b._pe.PeMath.prototype.phi_to_phig(x,A)};q.q=function(x,A,u){return b._pe.PeMath.prototype.q(x,A,u)};q.q90=function(x,A){return b._pe.PeMath.prototype.q90(x,A)}})(b.PeMath||(b.PeMath={}));b.PeNotationDms=void 0;(function(q){const x=(u,w,z,k,v,
y)=>{b._pe.ensureCache.prepare();switch(u){case "dd":var B=b._pe._pe_geog_to_dd;var C=b.PeDefs.PE_DD_MAX;break;case "ddm":B=b._pe._pe_geog_to_ddm;C=b.PeDefs.PE_DDM_MAX;break;case "dms":B=b._pe._pe_geog_to_dms,C=b.PeDefs.PE_DMS_MAX}u=0;w&&(u=b._pe.getPointer(w));w=p(k);w=b._pe.ensureFloat64(w);C=f(z,C);k=b._pe.ensureInt32(C);if(v=B(u,z,w,v,k))for(B=0;B<z;B++)y[B]=b._pe.UTF8ToString(C[B]);return v},A=(u,w,z,k,v)=>{b._pe.ensureCache.prepare();switch(u){case "dd":var y=b._pe._pe_dd_to_geog;break;case "ddm":y=
b._pe._pe_ddm_to_geog;break;case "dms":y=b._pe._pe_dms_to_geog}u=0;w&&(u=b._pe.getPointer(w));w=k.map(B=>b._pe.ensureString(B));k=b._pe.ensureInt32(w);w=b._pe.ensureFloat64(Array(2*z));(y=y(u,z,k,w))&&r(v,z,w);return y};q.geogToDms=function(u,w,z,k,v){return x("dms",u,w,z,k,v)};q.dmsToGeog=function(u,w,z,k){return A("dms",u,w,z,k)};q.geogToDdm=function(u,w,z,k,v){return x("ddm",u,w,z,k,v)};q.ddmToGeog=function(u,w,z,k){return A("ddm",u,w,z,k)};q.geogToDd=function(u,w,z,k,v){return x("dd",u,w,z,k,
v)};q.ddToGeog=function(u,w,z,k){return A("dd",u,w,z,k)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(q){q.init=function(){q.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;q.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;q.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;q.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;q.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};
q.geogToMgrsExtended=function(x,A,u,w,z,k,v){b._pe.ensureCache.prepare();let y=0;x&&(y=b._pe.getPointer(x));x=p(u);u=b._pe.ensureFloat64(x);x=f(A,b.PeDefs.PE_MGRS_MAX);const B=b._pe.ensureInt32(x);if(w=b._pe._pe_geog_to_mgrs_extended(y,A,u,w,z,k,B))for(z=0;z<A;z++)v[z]=b._pe.UTF8ToString(x[z]);return w};q.mgrsToGeogExtended=function(x,A,u,w,z){b._pe.ensureCache.prepare();let k=0;x&&(k=b._pe.getPointer(x));x=u.map(v=>b._pe.ensureString(v));u=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*A));(w=
b._pe._pe_mgrs_to_geog_extended(k,A,u,w,x))&&r(z,A,x);return w}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(q){q.geogToUsng=function(x,A,u,w,z,k,v){b._pe.ensureCache.prepare();let y=0;x&&(y=b._pe.getPointer(x));x=p(u);u=b._pe.ensureFloat64(x);x=f(A,b.PeDefs.PE_MGRS_MAX);const B=b._pe.ensureInt32(x);if(w=b._pe._pe_geog_to_usng(y,A,u,w,z,k,B))for(z=0;z<A;z++)v[z]=b._pe.UTF8ToString(x[z]);return w};q.usngToGeog=function(x,A,u,w){b._pe.ensureCache.prepare();var z=0;x&&
(z=b._pe.getPointer(x));x=u.map(k=>b._pe.ensureString(k));u=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*A));(z=b._pe._pe_usng_to_geog(z,A,u,x))&&r(w,A,x);return z}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(q){q.init=function(){q.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;q.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;q.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};q.geogToUtm=function(x,A,u,
w,z){b._pe.ensureCache.prepare();var k=0;x&&(k=b._pe.getPointer(x));x=p(u);u=b._pe.ensureFloat64(x);x=f(A,b.PeDefs.PE_UTM_MAX);const v=b._pe.ensureInt32(x);if(w=b._pe._pe_geog_to_utm(k,A,u,w,v))for(k=0;k<A;k++)z[k]=b._pe.UTF8ToString(x[k]);return w};q.utmToGeog=function(x,A,u,w,z){b._pe.ensureCache.prepare();let k=0;x&&(k=b._pe.getPointer(x));x=u.map(v=>b._pe.ensureString(v));u=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*A));(w=b._pe._pe_utm_to_geog(k,A,u,w,x))&&r(z,A,x);return w}})(b.PeNotationUtm||
(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(q){const x=new Map;q.init=function(){q.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;q.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;q.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;q.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};q.generate=function(A,u=q.PE_PCSINFO_OPTION_DOMAIN){let w=null,z=null;x.has(A)&&(z=x.get(A),z[u]&&(w=z[u]));w||(w=b._pe.PePCSInfo.prototype.generate(A,
u),z||(z=[],x.set(A,z)),z[u]=w);return w}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(q){q.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const l=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeDouble(){return b.PeDouble},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},
get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeLineType(){return b.PeLineType},get PeMath(){return b.PeMath},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:e,get _pe(){return b._pe},isLoaded:d,isSupported:n,load:m},Symbol.toStringTag,
{value:"Module"}));b._init=e;b.isLoaded=d;b.isSupported=n;b.load=m;b.pe=l})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,c,h,d,n){function m(e){if(!b.assetsPath)throw d.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new h("assets:path-not-set","config.assetsPath is not set");return n.join(b.assetsPath,e)}a.fetchAsset=
function(e,g){return c(m(e),g)};a.getAssetUrl=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,
2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,
3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,
3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,
3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,
5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,
6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,
6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,
6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,
6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,
7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,
7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,
8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,
8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,
8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,
10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,
103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,
103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,
103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,
103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=
0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=
2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=
0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=
0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=
0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=
0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=
0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=
0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=
1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=
0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=a;a++)b[a]=0;for(a=10731;10733>=a;a++)b[a]=0;for(a=11114;11118>=
a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=0;for(a=21307;21364>=
a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=a;a++)b[a]=0;for(a=22348;22357>=
a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=
a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=
a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=27700;27707>=a;a++)b[a]=0;for(a=28191;28193>=
a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=
a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=
a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=
a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=
a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=
a;a++)b[a]=13;for(a=102951;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=
a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=
a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=
a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=
a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=a;a++)b[a]=0;for(a=112E3;112101>=
a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B){function C(H){const R=h.id;return()=>{const J=H.deref();J&&R.findCredential(J.restUrl)&&J.signIn().catch(()=>{})}}const L=H=>Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));var M;let G;const E={PortalGroup:()=>Promise.resolve({default:z}),PortalItem:()=>new Promise((H,R)=>a(["./PortalItem"],J=>H(L(J)),R)),PortalUser:()=>Promise.resolve({default:y})};m=M=class extends m.JSONSupportMixin(e){constructor(H){super(H);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.layoutGroupQuery=
this.galleryTemplatesGroupQuery=this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.default3DBasemapQuery=this.customBaseUrl=this.culture=this.created=null;this.hasClassificationSchema=this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=
null;this.isReadOnly=this.isPortal=!1;this.region=this.portalProperties=this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.recycleBinEnabled=!1;this.rotatorPanels=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=c.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=
this.useDefault3dBasemap=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(H){return"string"===typeof H?{url:H}:H}destroy(){F.unregister(this);this.defaultBasemap=g.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=g.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=g.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=g.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(H){if(H)for(const R of H)c.request.trustedServers.includes(R)||
c.request.trustedServers.push(R);return H}readDefaultBasemap(H){return this._readBasemap(H)}readDefaultDevBasemap(H){return this._readBasemap(H)}readDefaultVectorBasemap(H){return this._readBasemap(H)}get extraQuery(){const H=!this.user?.orgId||this.canSearchPublic;return this.id&&!H?` AND orgid:${this.id}`:null}get hasAPIKey(){return B.isApiKeyApplicable(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let H=this.url;
if(H){const R=H.indexOf("/sharing");H=0<R?H.slice(0,R):this.url.replace(/\/+$/,"");H+="/sharing/rest"}return H}get thumbnailUrl(){const H=this.restUrl,R=this.thumbnail;return H&&R?this._normalizeSSL(H+"/portals/self/resources/"+R):null}readUrlKey(H){return H?H.toLowerCase():H}readUser(H){let R=null;H&&(R=y.fromJSON(H),R.portal=this);return R}load(H){const R=(new Promise((J,K)=>a(["../Basemap"],Q=>J(L(Q)),K))).then(({default:J})=>{f.throwIfAborted(H);G=J}).then(()=>this.sourceJSON?this.sourceJSON:
this.fetchSelf(this.authMode,!1,H)).then(J=>{if(!this.hasAPIKey&&h.id){const K=h.id;this.credential=K.findCredential(this.restUrl);this.credential||this.authMode!==M.AUTH_MODE_AUTO&&this.authMode!==M.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=K.on("credential-create",C(new WeakRef(this))),F.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=J;this.read(J)});this.addResolvingPromise(R);return Promise.resolve(this)}async createElevationLayers(){await this.load();
const H=this._getHelperService("defaultElevationLayers"),R=(await new Promise((J,K)=>a(["../layers/ElevationLayer"],Q=>J(L(Q)),K))).default;return H?H.map(J=>new R({id:J.id,url:J.url})):[]}async fetchBasemaps(H,R){const J=await this._fetchBasemaps(H,R);!0===R?.include3d&&!1!==this.use3dBasemaps&&(H=await this._fetchBasemaps3D(H,R),J.unshift(...H));return J}async fetchDefault3DBasemap(H){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const R=
new k;R.query=this.default3DBasemapQuery;R.disableExtraQuery=!0;return(H=(await this.queryItems(R,H)).results.find(J=>"Web Scene"===J.type))?new G({portalItem:H}):null}fetchCategorySchema(H){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",H).then(R=>R.categorySchema):f.isAborted(H)?Promise.reject(f.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(H){const R=this.featuredGroups,J=new k({num:100,sortField:"title"});if(R?.length){const K=[];for(const Q of R)K.push(`(title:"${Q.title}" AND owner:${Q.owner})`);
J.query=K.join(" OR ");return this.queryGroups(J,H).then(Q=>Q.results)}return f.isAborted(H)?Promise.reject(f.createAbortError()):Promise.resolve([])}fetchRegions(H){const R=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/regions",{...H,query:{culture:R}})}fetchSettings(H){const R=this.user?.culture||this.culture||u.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...H,query:{culture:R}})}static getDefault(){return w.ensureDefaultPortalInstance(()=>
new M)}queryGroups(H,R){return this.queryPortal("/community/groups",H,"PortalGroup",R)}queryItems(H,R){return this.queryPortal("/search",H,"PortalItem",R)}queryUsers(H,R){H.sortField||(H.sortField="username");return this.queryPortal("/community/users",H,"PortalUser",R)}fetchSelf(H=this.authMode,R=!1,J){const K=this.restUrl+"/portals/self";H={authMode:H,query:{culture:u.getLocale().toLowerCase()},withCredentials:!0,...J};"auto"===H.authMode&&(H.authMode="no-prompt");R&&(H.query.default=!0);return this.request(K,
H)}queryPortal(H,R,J,K){const Q=r.ensureType(k,R),N=U=>this.request(this.restUrl+H,{...Q.toRequestOptions(this),...K}).then(Z=>{const fa=Q.clone();fa.start=Z.nextStart;return new v({nextQueryParams:fa,queryParams:Q,total:Z.total,results:M._resultsToTypedArray(U,{portal:this},Z,K)})}).then(Z=>Promise.all(Z.results.map(fa=>"function"===typeof fa.when?fa.when():Z)).then(()=>Z,fa=>{f.throwIfAbortError(fa);return Z}));return J&&E[J]?E[J]().then(({default:U})=>{f.throwIfAborted(K);return N(U)}):N()}signIn(){if(this.hasAPIKey)return this.load().then(()=>
{if(!this.user)throw new n("portal:not-authenticated","Unable to authenticate user. Portal.user is missing");});if(this.authMode===M.AUTH_MODE_ANONYMOUS||this.authMode===M.AUTH_MODE_NO_PROMPT&&!h.id)return Promise.reject(new n("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const H=R=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return R||(this.authMode="immediate"),this.load().then(()=>null);
if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=R;return this.fetchSelf("immediate")});if(this.user&&this.credential===R)return null;this.credential=R;return this.fetchSelf("immediate")}).then(J=>{J&&(this.sourceJSON=J,this.read(J))});return h.id?h.id.getCredential(this.restUrl,{prompt:this.authMode!==M.AUTH_MODE_NO_PROMPT}).then(R=>H(R)):H(this.credential)}normalizeUrl(H){const R=this.credential?.token;return this._normalizeSSL(R?H+(H.includes("?")?
"\x26":"?")+"token\x3d"+R:H)}requestToTypedArray(H,R,J){return this.request(H,R).then(K=>{const Q=M._resultsToTypedArray(J,{portal:this},K);return Promise.all(Q.map(N=>"function"===typeof N.when?N.when():K)).then(()=>Q,()=>Q)})}request(H,R={}){var J={f:"json",...R.query};const {authMode:K=this.authMode===M.AUTH_MODE_ANONYMOUS||this.authMode===M.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:Q=null,cacheBust:N=!1,method:U="auto",responseType:Z="json",signal:fa}=R;J={authMode:K,body:Q,cacheBust:N,method:U,
query:J,responseType:Z,timeout:0,signal:fa};R.withCredentials&&(J.withCredentials=!0);return d(this._normalizeSSL(H),J).then(pa=>pa.data)}toJSON(){throw new n("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(H){if(!H)return null;if(H.declaredClass)throw Error("JSON object is already hydrated");return new M({sourceJSON:H})}_getHelperService(H){const R=this.helperServices&&this.helperServices[H];if(!R)throw new n("portal:service-not-found",`The \`helperServices\` do not include an entry named "${H}"`);
return R}async _fetchBasemaps(H,R){const J=new k;J.query=H||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);J.disableExtraQuery=!0;H=await this.queryGroups(J,R);if(!H.total)return[];H=H.results[0];J.num=100;J.query='type:"Web Map" -type:"Web Application"';J.sortField=H.sortField||"name";J.sortOrder=H.sortOrder||"desc";R=await H.queryItems(J,R);return R.total?R.results.filter(K=>"Web Map"===K.type).map(K=>new G({portalItem:K})):
[]}async _fetchBasemaps3D(H,R){H=H||this.basemapGalleryGroupQuery3D;if(!H)return[];H=new k({query:H,disableExtraQuery:!0});var J=await this.queryGroups(H,R);if(!J.total)return[];J=J.results[0];H.num=100;H.query='type:"Web Scene"';H.sortField=J.sortField||"name";H.sortOrder=J.sortOrder||"desc";R=await J.queryItems(H,R);return R.total?R.results.filter(K=>"Web Scene"===K.type).map(K=>new G({portalItem:K})):[]}_normalizeSSL(H){return H.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(H){return H?
(H=G.fromJSON(H),H.portalItem={portal:this},H):null}static _resultsToTypedArray(H,R,J,K){if(J){const Q=null!=K?K.signal:null;J=J.listings||J.notifications||J.userInvitations||J.tags||J.items||J.groups||J.comments||J.provisions||J.results||J.relatedItems||J;if(H||R)J=J.map(N=>{N=Object.assign(H?H.fromJSON(N):N,R);"function"===typeof N.load&&N.load(Q);return N})}else J=[];return J}};m.AUTH_MODE_ANONYMOUS="anonymous";m.AUTH_MODE_AUTO="auto";m.AUTH_MODE_IMMEDIATE="immediate";m.AUTH_MODE_NO_PROMPT="no-prompt";
b.__decorate([p.property()],m.prototype,"access",void 0);b.__decorate([p.property()],m.prototype,"allSSL",void 0);b.__decorate([p.property()],m.prototype,"authMode",void 0);b.__decorate([p.property()],m.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([q.reader("authorizedCrossOriginDomains")],m.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([p.property()],m.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([p.property({json:{name:"3DBasemapGalleryGroupQuery"}})],
m.prototype,"basemapGalleryGroupQuery3D",void 0);b.__decorate([p.property()],m.prototype,"bingKey",void 0);b.__decorate([p.property()],m.prototype,"canListApps",void 0);b.__decorate([p.property()],m.prototype,"canListData",void 0);b.__decorate([p.property()],m.prototype,"canListPreProvisionedItems",void 0);b.__decorate([p.property()],m.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([p.property()],m.prototype,"canSearchPublic",void 0);b.__decorate([p.property()],m.prototype,"canShareBingPublic",
void 0);b.__decorate([p.property()],m.prototype,"canSharePublic",void 0);b.__decorate([p.property()],m.prototype,"canSignInArcGIS",void 0);b.__decorate([p.property()],m.prototype,"canSignInIDP",void 0);b.__decorate([p.property()],m.prototype,"colorSetsGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"commentsEnabled",void 0);b.__decorate([p.property({type:Date})],m.prototype,"created",void 0);b.__decorate([p.property()],m.prototype,"credential",void 0);b.__decorate([p.property()],m.prototype,
"culture",void 0);b.__decorate([p.property()],m.prototype,"currentVersion",void 0);b.__decorate([p.property()],m.prototype,"customBaseUrl",void 0);b.__decorate([p.property()],m.prototype,"default3DBasemapQuery",void 0);b.__decorate([p.property()],m.prototype,"defaultBasemap",void 0);b.__decorate([q.reader("defaultBasemap")],m.prototype,"readDefaultBasemap",null);b.__decorate([p.property()],m.prototype,"defaultDevBasemap",void 0);b.__decorate([q.reader("defaultDevBasemap")],m.prototype,"readDefaultDevBasemap",
null);b.__decorate([p.property({type:A})],m.prototype,"defaultExtent",void 0);b.__decorate([p.property()],m.prototype,"defaultVectorBasemap",void 0);b.__decorate([q.reader("defaultVectorBasemap")],m.prototype,"readDefaultVectorBasemap",null);b.__decorate([p.property()],m.prototype,"description",void 0);b.__decorate([p.property()],m.prototype,"devBasemapGalleryGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"eueiEnabled",void 0);b.__decorate([p.property({readOnly:!0})],m.prototype,"extraQuery",
null);b.__decorate([p.property()],m.prototype,"featuredGroups",void 0);b.__decorate([p.property()],m.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"galleryTemplatesGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"layoutGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([p.property({readOnly:!0})],m.prototype,"hasAPIKey",null);b.__decorate([p.property()],m.prototype,"hasCategorySchema",void 0);b.__decorate([p.property()],
m.prototype,"hasClassificationSchema",void 0);b.__decorate([p.property()],m.prototype,"helpBase",void 0);b.__decorate([p.property()],m.prototype,"helperServices",void 0);b.__decorate([p.property()],m.prototype,"helpMap",void 0);b.__decorate([p.property()],m.prototype,"homePageFeaturedContent",void 0);b.__decorate([p.property()],m.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([p.property()],m.prototype,"httpPort",void 0);b.__decorate([p.property()],m.prototype,"httpsPort",void 0);b.__decorate([p.property()],
m.prototype,"id",void 0);b.__decorate([p.property()],m.prototype,"ipCntryCode",void 0);b.__decorate([p.property({readOnly:!0})],m.prototype,"isOrganization",null);b.__decorate([p.property()],m.prototype,"isPortal",void 0);b.__decorate([p.property()],m.prototype,"isReadOnly",void 0);b.__decorate([p.property({readOnly:!0})],m.prototype,"itemPageUrl",null);b.__decorate([p.property()],m.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"maxTokenExpirationMinutes",void 0);
b.__decorate([p.property({type:Date})],m.prototype,"modified",void 0);b.__decorate([p.property()],m.prototype,"name",void 0);b.__decorate([p.property()],m.prototype,"portalHostname",void 0);b.__decorate([p.property()],m.prototype,"portalMode",void 0);b.__decorate([p.property()],m.prototype,"portalProperties",void 0);b.__decorate([p.property()],m.prototype,"region",void 0);b.__decorate([p.property()],m.prototype,"recycleBinEnabled",void 0);b.__decorate([p.property({readOnly:!0})],m.prototype,"restUrl",
null);b.__decorate([p.property()],m.prototype,"rotatorPanels",void 0);b.__decorate([p.property()],m.prototype,"showHomePageDescription",void 0);b.__decorate([p.property()],m.prototype,"sourceJSON",void 0);b.__decorate([p.property()],m.prototype,"staticImagesUrl",void 0);b.__decorate([p.property({json:{name:"2DStylesGroupQuery"}})],m.prototype,"stylesGroupQuery2d",void 0);b.__decorate([p.property({json:{name:"stylesGroupQuery"}})],m.prototype,"stylesGroupQuery3d",void 0);b.__decorate([p.property()],
m.prototype,"supportsHostedServices",void 0);b.__decorate([p.property()],m.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"templatesGroupQuery",void 0);b.__decorate([p.property()],m.prototype,"thumbnail",void 0);b.__decorate([p.property({readOnly:!0})],m.prototype,"thumbnailUrl",null);b.__decorate([p.property()],m.prototype,"units",void 0);b.__decorate([p.property()],m.prototype,"url",void 0);b.__decorate([p.property()],m.prototype,"urlKey",void 0);b.__decorate([q.reader("urlKey")],
m.prototype,"readUrlKey",null);b.__decorate([p.property()],m.prototype,"user",void 0);b.__decorate([q.reader("user")],m.prototype,"readUser",null);b.__decorate([p.property()],m.prototype,"use3dBasemaps",void 0);b.__decorate([p.property()],m.prototype,"useDefault3dBasemap",void 0);b.__decorate([p.property()],m.prototype,"useStandardizedQuery",void 0);b.__decorate([p.property()],m.prototype,"useVectorBasemaps",void 0);b.__decorate([p.property()],m.prototype,"vectorBasemapGalleryGroupQuery",void 0);
b=m=M=b.__decorate([x.subclass("esri.portal.Portal")],m);const F=new FinalizationRegistry(H=>{H.remove()});return b})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(c,h,d){let n,m;void 0===h||Array.isArray(h)?(m=c,d=h,n=[void 0]):(m=h,n=Array.isArray(c)?c:[c]);return(e,g)=>{const f=e.constructor.prototype;n.forEach(p=>{p=b.propertyJSONMeta(e,p,m);p.read&&"object"===typeof p.read||(p.read={});p.read.reader=f[g];d&&(p.read.source=
(p.read.source||[]).concat(d))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){function q(u,
w,z){return null==w?z:null==z?w:u(w,z)}function x(u,w){const [z,k]=w.valid;w=2*k;var v=0;u>k?(v=Math.ceil(Math.abs(u-k)/w),u-=v*w):u<z&&(v=Math.ceil(Math.abs(u-z)/w),u+=v*w,v=-v);return{x:u,frameId:v}}var A;h=A=class extends e{constructor(...u){super(...u);this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(u,w,z,k,v){return!u||"esri.geometry.SpatialReference"!==u.declaredClass&&null==u.wkid?"object"===typeof u?(u.spatialReference=
null==u.spatialReference?f.WGS84:u.spatialReference,u):{xmin:u,ymin:w,xmax:z,ymax:k,spatialReference:null==v?f.WGS84:v}:{spatialReference:u,xmin:0,ymin:0,xmax:0,ymax:0}}static fromBounds(u,w){return new A({xmin:u[0],ymin:u[1],xmax:u[2],ymax:u[3],spatialReference:w})}static fromPoint(u){return new A({xmin:u.x,ymin:u.y,zmin:u.z,xmax:u.x,ymax:u.y,zmax:u.z,spatialReference:u.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");
this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}get center(){const u=new g({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(u.z=.5*(this.zmin+this.zmax));this.hasM&&(u.m=.5*(this.mmin+this.mmax));return u}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=
this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(u){const w=this.center;return null!=u.z&&this.hasZ?this.offset(u.x-w.x,u.y-w.y,u.z-w.z):this.offset(u.x-w.x,u.y-w.y)}clone(){const u=new A;u.xmin=this.xmin;u.ymin=this.ymin;u.xmax=this.xmax;u.ymax=this.ymax;u.spatialReference=this.spatialReference;null!=this.zmin&&(u.zmin=this.zmin,u.zmax=this.zmax);null!=this.mmin&&(u.mmin=this.mmin,u.mmax=this.mmax);return u}contains(u){if(!u)return!1;
const w=this.spatialReference,z=u.spatialReference;w&&z&&!w.equals(z)&&l.canProject(w,z)&&(u=w.isWebMercator?l.geographicToWebMercator(u):l.webMercatorToGeographic(u,!0));return"point"===u.type?p.extentContainsPoint(this,u):"extent"===u.type?p.extentContainsExtent(this,u):!1}equals(u){if(this===u)return!0;if(null==u)return!1;const w=this.spatialReference,z=u.spatialReference;w&&z&&!w.equals(z)&&l.canProject(w,z)&&(u=w.isWebMercator?l.geographicToWebMercator(u):l.webMercatorToGeographic(u,!0));return this.xmin===
u.xmin&&this.ymin===u.ymin&&this.zmin===u.zmin&&this.mmin===u.mmin&&this.xmax===u.xmax&&this.ymax===u.ymax&&this.zmax===u.zmax&&this.mmax===u.mmax}expand(u){u=.5*(1-u);var w=this.width*u;const z=this.height*u;this.xmin+=w;this.ymin+=z;this.xmax-=w;this.ymax-=z;this.hasZ&&(w=(this.zmax-this.zmin)*u,this.zmin+=w,this.zmax-=w);this.hasM&&(u*=this.mmax-this.mmin,this.mmin+=u,this.mmax-=u);return this}intersects(u){if(null==u)return!1;"mesh"===u.type&&(u=u.extent);const w=this.spatialReference,z=u.spatialReference;
w&&z&&!t.equals(w,z)&&l.canProject(w,z)&&(u=w.isWebMercator?l.geographicToWebMercator(u):l.webMercatorToGeographic(u,!0));return r.getFeatureExtentIntersector(u.type)(this,u)}normalize(){const u=this._normalize(!1,!0);return Array.isArray(u)?u:[u]}offset(u,w,z){this.xmin+=u;this.ymin+=w;this.xmax+=u;this.ymax+=w;null!=z&&(this.zmin+=z,this.zmax+=z);return this}shiftCentralMeridian(){return this._normalize(!0)}union(u){if(this===u)return this;this.xmin=Math.min(this.xmin,u.xmin);this.ymin=Math.min(this.ymin,
u.ymin);this.xmax=Math.max(this.xmax,u.xmax);this.ymax=Math.max(this.ymax,u.ymax);if(this.hasZ||u.hasZ)this.zmin=q(Math.min,this.zmin,u.zmin),this.zmax=q(Math.max,this.zmax,u.zmax);if(this.hasM||u.hasM)this.mmin=q(Math.min,this.mmin,u.mmin),this.mmax=q(Math.max,this.mmax,u.mmax);return this}intersection(u){if(this===u)return this;if(null==u||!this.intersects(u))return null;this.xmin=Math.max(this.xmin,u.xmin);this.ymin=Math.max(this.ymin,u.ymin);this.xmax=Math.min(this.xmax,u.xmax);this.ymax=Math.min(this.ymax,
u.ymax);if(this.hasZ||u.hasZ)this.zmin=q(Math.max,this.zmin,u.zmin),this.zmax=q(Math.min,this.zmax,u.zmax);if(this.hasM||u.hasM)this.mmin=q(Math.max,this.mmin,u.mmin),this.mmax=q(Math.min,this.mmax,u.mmax);return this}toJSON(u){return this.write({},u)}_shiftCM(u=t.getInfo(this.spatialReference)){if(!u||!this.spatialReference)return this;const w=this.spatialReference,z=this._getCM(u);if(z){const k=w.isWebMercator?l.webMercatorToGeographic(z):z;this.xmin-=z.x;this.xmax-=z.x;w.isWebMercator||(k.x=x(k.x,
u).x);this.spatialReference=new f(b.replace((w.isWGS84?u.altTemplate:null)??u.wkTemplate,{Central_Meridian:k.x}))}return this}_getCM(u){let w=null;const [z,k]=u.valid;u=this.xmin;const v=this.xmax;u>=z&&u<=k&&v>=z&&v<=k||(w=this.center);return w}_normalize(u,w,z){const k=this.spatialReference;if(!k)return this;z=z??t.getInfo(k);if(null==z)return this;const v=this._getParts(z).map(C=>C.extent);if(2>v.length)return v[0]||this;if(2<v.length)return u?this._shiftCM(z):this.set({xmin:z.valid[0],xmax:z.valid[1]});
if(u)return this._shiftCM(z);if(w)return v;let y=!0,B=!0;v.forEach(C=>{C.hasZ||(y=!1);C.hasM||(B=!1)});return{rings:v.map(C=>{const L=[[C.xmin,C.ymin],[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]];if(y){var M=(C.zmax-C.zmin)/2;for(let G=0;G<L.length;G++)L[G].push(M)}if(B)for(C=(C.mmax-C.mmin)/2,M=0;M<L.length;M++)L[M].push(C);return L}),hasZ:y,hasM:B,spatialReference:k}}_getParts(u){let w=this.cache._parts;if(!w){w=[];const {ymin:M,ymax:G,spatialReference:E}=this;var z=this.width,
k=this.xmin,v=this.xmax;u=u||t.getInfo(E);const [F,H]=u.valid;var y=x(this.xmin,u);var B=y.x,C=y.frameId;y=x(this.xmax,u);u=y.x;y=y.frameId;var L=B===u&&0<z;if(z>2*H){z=new A(k<v?B:u,M,H,G,E);k=new A(F,M,k<v?u:B,G,E);v=new A(0,M,H,G,E);B=new A(F,M,0,G,E);u=[];L=[];z.contains(v)&&u.push(C);z.contains(B)&&L.push(C);k.contains(v)&&u.push(y);k.contains(B)&&L.push(y);for(let R=C+1;R<y;R++)u.push(R),L.push(R);w.push({extent:z,frameIds:[C]},{extent:k,frameIds:[y]},{extent:v,frameIds:u},{extent:B,frameIds:L})}else B>
u||L?w.push({extent:new A(B,M,H,G,E),frameIds:[C]},{extent:new A(F,M,u,G,E),frameIds:[y]}):w.push({extent:new A(B,M,u,G,E),frameIds:[C]});this.cache._parts=w}y=this.hasZ;z=this.hasM;if(y||z)for(C={},y&&(C.zmin=this.zmin,C.zmax=this.zmax),z&&(C.mmin=this.mmin,C.mmax=this.mmax),y=0;y<w.length;y++)w[y].extent.set(C);return w}};a.__decorate([c.property({readOnly:!0})],h.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],h.prototype,"center",null);a.__decorate([c.property({readOnly:!0})],
h.prototype,"extent",null);a.__decorate([c.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],h.prototype,"hasM",null);a.__decorate([c.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],h.prototype,"hasZ",null);a.__decorate([c.property({readOnly:!0})],h.prototype,"height",null);a.__decorate([c.property({readOnly:!0})],h.prototype,"width",null);a.__decorate([c.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],h.prototype,"xmin",
void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],h.prototype,"ymin",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],h.prototype,"mmin",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],h.prototype,"zmin",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],h.prototype,"xmax",void 0);a.__decorate([c.property({type:Number,
json:{write:!0}})],h.prototype,"ymax",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],h.prototype,"mmax",void 0);a.__decorate([c.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],h.prototype,"zmax",void 0);h=A=a.__decorate([m.subclass("esri.geometry.Extent")],h);h.prototype.toJSON.isDefaultToJSON=!0;return h})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),
function(a,b,c,h,d,n,m,e,g){b=class extends b.JSONSupport{constructor(...f){super(...f);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=g.WGS84}get cache(){this.commitProperty("spatialReference");return{}}get extent(){return null}readSpatialReference(f,p){if(f instanceof g)return f;if(null!=f){const r=new g;r.read(f,p);return r}return f}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(f){return this.cache[f]}setCacheValue(f,
p){this.cache[f]=p}};a.__decorate([c.property()],b.prototype,"type",void 0);a.__decorate([c.property({readOnly:!0})],b.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],b.prototype,"extent",null);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(f){return{enabled:f}}}}})],b.prototype,"hasM",void 0);a.__decorate([c.property({type:Boolean,json:{write:{overridePolicy(f){return{enabled:f}}}}})],b.prototype,"hasZ",void 0);a.__decorate([c.property({type:g,json:{write:!0},
value:g.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([m.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=a.__decorate([e.subclass("esri.geometry.Geometry")],b)})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x){function A(z){return z&&("esri.geometry.SpatialReference"===z.declaredClass||null!=z.wkid)}var u;const w=[0,0];n=u=class extends r{static copy(z,k){k._set("x",z._get("x"));k._set("y",z._get("y"));k._set("z",z._get("z"));k._set("m",z._get("m"));z=z._get("spatialReference");k._set("spatialReference",b.isFrozen(z)?z:z.clone())}constructor(...z){super(...z);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(z,k,v,y,B){let C;if(Array.isArray(z))C=
z,B=k,z=C[0],k=C[1],v=C[2],y=C[3];else if(z&&"object"===typeof z){if(C=z,z=null!=C.x?C.x:C.longitude,k=null!=C.y?C.y:C.latitude,v=C.z,y=C.m,(B=C.spatialReference)&&"esri.geometry.SpatialReference"!==B.declaredClass&&(B=new t(B)),null!=C.longitude||null!=C.latitude)null==C.longitude?c.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==C.latitude?c.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!C.declaredClass&&B?.isWebMercator&&(k=
x.lngLatToXY(C.longitude,C.latitude,w),z=k[0],k=k[1])}else A(v)?(B=v,v=null):A(y)&&(B=y,y=null);z={x:z,y:k};null==z.x&&null!=z.y?c.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==z.y&&null!=z.x&&c.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=B&&(z.spatialReference=B);null!=v&&(z.z=v);null!=y&&(z.m=y);return z}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");
this.commitProperty("spatialReference");return{}}get hasM(){return void 0!==this.m}set hasM(z){const k=void 0!==this._get("m");z!==k&&(this._set("m",z?0:void 0),this._set("hasM",z))}get hasZ(){return void 0!==this.z}set hasZ(z){const k=void 0!==this._get("z");z!==k&&(this._set("z",z?0:void 0),this._set("hasZ",z))}get latitude(){return l.getLatitude(this)}set latitude(z){const {spatialReference:k,x:v}=this;null!=z&&k&&(k.isWebMercator?this._set("y",x.lngLatToXY(v,z,w)[1]):k.isGeographic&&this._set("y",
z),this._set("latitude",z))}get longitude(){return l.getLongitude(this)}set longitude(z){const {y:k,spatialReference:v}=this;null!=z&&v&&(v.isWebMercator?this._set("x",x.lngLatToXY(z,k,w)[0]):v.isGeographic&&this._set("x",z),this._set("longitude",z))}writeX(z,k,v){k[v]=isNaN(z)?"NaN":z}readX(z){return"string"===typeof z?NaN:z}clone(){const z=new u;z.x=this.x;z.y=this.y;z.z=this.z;z.m=this.m;z.spatialReference=this.spatialReference;return z}copy(z){u.copy(z,this);return this}equals(z){if(null==z)return!1;
const {x:k,y:v,z:y,m:B,spatialReference:C}=this,{z:L,m:M}=z;let {x:G,y:E,spatialReference:F}=z;if(!C.equals(F))if(C.isWebMercator&&F.isWGS84)[G,E]=x.lngLatToXY(G,E),F=C;else if(C.isWGS84&&F.isWebMercator)[G,E]=x.xyToLngLat(G,E),F=C;else return!1;return k===G&&v===E&&y===L&&B===M&&C.wkid===F.wkid}offset(z,k,v){this.x+=z;this.y+=k;null!=v&&(this.z=(this.z??0)+v);return this}normalize(){if(!this.spatialReference)return this;var z=q.getInfo(this.spatialReference);if(!z)return this;let k=this.x;const [v,
y]=z.valid;z=2*y;let B;k>y?(B=Math.ceil(Math.abs(k-y)/z),k-=B*z):k<v&&(B=Math.ceil(Math.abs(k-v)/z),k+=B*z);this._set("x",k);return this}distance(z){return l.distance(this,z)}toArray(){const z=this.hasZ,k=this.hasM;return z&&k?[this.x,this.y,this.z,this.m]:z?[this.x,this.y,this.z]:k?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(z){return this.write({},z)}};a.__decorate([h.property({readOnly:!0})],n.prototype,"cache",null);a.__decorate([h.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
n.prototype,"hasM",null);a.__decorate([h.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],n.prototype,"hasZ",null);a.__decorate([h.property({type:Number})],n.prototype,"latitude",null);a.__decorate([h.property({type:Number})],n.prototype,"longitude",null);a.__decorate([h.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),d.cast(z=>isNaN(z)?z:p.ensureNumber(z))],n.prototype,"x",void 0);a.__decorate([f.writer("x")],n.prototype,"writeX",
null);a.__decorate([e.reader("x")],n.prototype,"readX",null);a.__decorate([h.property({type:Number,json:{write:!0}})],n.prototype,"y",void 0);a.__decorate([h.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],n.prototype,"z",void 0);a.__decorate([h.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],n.prototype,"m",void 0);n=u=a.__decorate([g.subclass("esri.geometry.Point")],n);n.prototype.toJSON.isDefaultToJSON=!0;return n})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,b,c){function h(e){const g="__accessorMetadata__"in e?b.ensureType(e):e;return function(...f){f.push(g);if("number"===typeof f[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,f)}}function d(e,g,f,p){c.getPropertyMetadata(e,g).cast=p}function n(e){return(g,f)=>{c.getPropertyMetadata(g,e).cast=g[f]}}const m=Object.prototype.toString;a.cast=function(...e){if(3!==e.length||"string"!==typeof e[1]){if(1===e.length&&
"[object Function]"===m.call(e[0]))return h(e[0]);if(1===e.length&&"string"===typeof e[0])return n(e[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports","./spatialReferenceUtils","./webMercatorUtils"],function(a,b,c){function h({x:n,y:m,spatialReference:e},g=[0,0]){if(e){if(b.isWebMercator(e))return c.xyToLngLat(n,m,g);if(b.isGeographic(e))return g[0]=n,g[1]=m,g}return null}const d=[0,0];a.distance=function(n,m){const e=
n.x-m.x,g=n.y-m.y;n=null!=n.z&&null!=m.z?n.z-m.z:0;return Math.sqrt(e*e+g*g+n*n)};a.getLatitude=function(n){return h(n,d)?.[1]??null};a.getLongitude=function(n){return h(n,d)?.[0]??null};a.getLongitudeLatitude=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,c,h,d){function n(p,r,t,l,q){q.spatialReference=t;if("x"in p&&
"x"in q)[q.x,q.y]=r(p.x,p.y,f,l);else if("xmin"in p&&"xmin"in q)[q.xmin,q.ymin]=r(p.xmin,p.ymin,f,l),[q.xmax,q.ymax]=r(p.xmax,p.ymax,f,l);else if("paths"in p&&"paths"in q||"rings"in p&&"rings"in q){p="paths"in p?p.paths:p.rings;t=[];for(let A=0;A<p.length;A++){const u=p[A];var x=[];t.push(x);for(let w=0;w<u.length;w++)x.push(r(u[w][0],u[w][1],[0,0],l)),2<u[w].length&&x[w].push(u[w][2]),3<u[w].length&&x[w].push(u[w][3])}"paths"in q?q.paths=t:q.rings=t}else if("points"in p&&"points"in q){p=p.points;
t=[];for(x=0;x<p.length;x++)t[x]=r(p[x][0],p[x][1],[0,0],l),2<p[x].length&&t[x].push(p[x][2]),3<p[x].length&&t[x].push(p[x][3]);q.points=t}return q}function m(p,r){const t=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference),l=r&&(null!=r.wkid||null!=r.wkt?r:r.spatialReference);return p&&"type"in p&&"mesh"===p.type||r&&"type"in r&&"mesh"===r.type||!t||!l?!1:d.equals(l,t)?!0:d.isWebMercator(l)&&d.isWGS84(t)||d.isWebMercator(t)&&d.isWGS84(l)}function e(p,r,t=[0,0]){89.99999<r?r=89.99999:-89.99999>r&&
(r=-89.99999);r*=.017453292519943;t[0]=.017453292519943*p*h.earth.radius;t[1]=h.earth.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r)));return t}function g(p,r,t=[0,0],l=!1){p===d.webMercatorValid[0]?t[0]=-180:p===d.webMercatorValid[1]?t[0]=180:(p=p/h.earth.radius*57.29577951308232,t[0]=l?p:p-360*Math.floor((p+180)/360));t[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-r/h.earth.radius)));return t}const f=[0,0];a.canProject=m;a.geographicToWebMercator=function(p,r=!1,t=b.clone(p)){return n(p,
e,c.WebMercator,r,t)};a.lngLatToXY=e;a.project=function(p,r){if(null==p)return null;const t=p.spatialReference;r=r&&(null!=r.wkid||null!=r.wkt?r:r.spatialReference);return m(t,r)?d.equals(t,r)?b.clone(p):d.isWebMercator(r)?n(p,e,c.WebMercator,!1,b.clone(p)):d.isWGS84(r)?n(p,g,c.WGS84,!1,b.clone(p)):null:null};a.webMercatorToGeographic=function(p,r=!1,t=b.clone(p)){return n(p,g,c.WGS84,r,t)};a.x2lon=function(p){return p/h.earth.radius};a.xyToLngLat=g;a.y2lat=function(p){return Math.PI/2-2*Math.atan(Math.exp(-p/
h.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function b(e,g){return c(e,g[0],g[1])}function c(e,g,f,p){return g>=e.xmin&&g<=e.xmax&&f>=e.ymin&&f<=e.ymax?null!=p&&e.hasZ?p>=e.zmin&&p<=e.zmax:!0:!1}function h(e,g){return d(e.rings,g)}function d(e,g){if(!e)return!1;if(!Array.isArray(e[0][0]))return n(!1,e,g);let f=!1;for(let p=0,r=e.length;p<r;p++)f=n(f,e[p],g);return f}function n(e,g,f){const [p,
r]=f;f=0;for(let t=0,l=g.length;t<l;t++){f++;f===l&&(f=0);const [q,x]=g[t],[A,u]=g[f];(x<r&&u>=r||u<r&&x>=r)&&q+(r-x)/(u-x)*(A-q)<p&&(e=!e)}return e}const m=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(e,g){return c(e,g[0],g[1],g[2])};a.extentContainsExtent=function(e,g){const {xmin:f,ymin:p,zmin:r,xmax:t,ymax:l,zmax:q}=g;return e.hasZ&&g.hasZ?c(e,f,p,r)&&c(e,f,l,r)&&c(e,t,l,r)&&c(e,t,p,r)&&c(e,f,p,q)&&c(e,f,l,q)&&c(e,t,l,q)&&c(e,t,p,q):c(e,f,p)&&c(e,f,l)&&c(e,t,l)&&c(e,t,p)};
a.extentContainsMultipoint=function(e,g){if(!g.points||g.points.length)return!1;for(const f of g.points)if(!b(e,f))return!1;return!0};a.extentContainsPoint=function(e,g){return null!=g?c(e,g.x,g.y,g.z):!1};a.extentContainsXYZ=c;a.polygonContainsCoords=h;a.polygonContainsPoint=function(e,g){m[1]=g.y;m[0]=g.x;return h(e,m)};a.ringsContainsCoords=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,
b){function c(u,w){return b.extentContainsPoint(u,w)}function h(u,w){var z=u.hasZ&&w.hasZ;if(u.xmin<=w.xmin){var k=w.xmin;if(u.xmax<k)return!1}else if(k=u.xmin,w.xmax<k)return!1;if(u.ymin<=w.ymin){if(k=w.ymin,u.ymax<k)return!1}else if(k=u.ymin,w.ymax<k)return!1;if(z&&w.hasZ)if(u.zmin<=w.zmin){if(z=w.zmin,u.zmax<z)return!1}else if(z=u.zmin,w.zmax<z)return!1;return!0}function d(u,w){const {points:z,hasZ:k}=w;w=k?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const v of z)if(w(u,v))return!0;return!1}
function n(u,w){return m(u,w.rings)}function m(u,w){p[0]=u.xmin;p[1]=u.ymax;r[0]=u.xmax;r[1]=u.ymax;t[0]=u.xmin;t[1]=u.ymin;l[0]=u.xmax;l[1]=u.ymin;for(var z of q)if(b.ringsContainsCoords(w,z))return!0;for(const k of w)if(k.length){w=k[0];if(b.extentContainsCoords2D(u,w))return!0;for(z=1;z<k.length;z++){const v=k[z];if(b.extentContainsCoords2D(u,v)||g(w,v,x))return!0;w=v}}return!1}function e(u,w){p[0]=u.xmin;p[1]=u.ymax;r[0]=u.xmax;r[1]=u.ymax;t[0]=u.xmin;t[1]=u.ymin;l[0]=u.xmax;l[1]=u.ymin;w=w.paths;
for(const z of w){if(!w.length)continue;let k=z[0];if(b.extentContainsCoords2D(u,k))return!0;for(let v=1;v<z.length;v++){const y=z[v];if(b.extentContainsCoords2D(u,y)||g(k,y,x))return!0;k=y}}return!1}function g(u,w,z){for(let k=0;k<z.length;k++)if(f(u,w,z[k][0],z[k][1]))return!0;return!1}function f(u,w,z,k,v){const [y,B]=u,[C,L]=w,[M,G]=z,[E,F]=k;var H=E-M;u=y-M;w=C-y;const R=F-G;z=B-G;k=L-B;const J=R*w-H*k;if(0===J)return!1;H=(H*z-R*u)/J;u=(w*z-k*u)/J;return 0<=H&&1>=H&&0<=u&&1>=u?(v&&(v[0]=y+H*
(C-y),v[1]=B+H*(L-B)),!0):!1}const p=[0,0],r=[0,0],t=[0,0],l=[0,0],q=[p,r,t,l],x=[[t,p],[p,r],[r,l],[l,t]],A=[0,0];a.extentIntersectsExtent=h;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=c;a.extentIntersectsPolygon=n;a.extentIntersectsPolyline=e;a.getFeatureExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return h;case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return c;case "esriGeometryMultiPatch":case "multipatch":case "esriGeometryPolygon":case "polygon":return n;
case "esriGeometryPolyline":case "polyline":return e}};a.isSelfIntersecting=function(u){for(let L=0;L<u.length;L++){const M=u[L];for(var w=0;w<M.length-1;w++){var z=M[w],k=M[w+1];for(var v=L+1;v<u.length;v++)for(var y=0;y<u[v].length-1;y++){var B=u[v][y],C=u[v][y+1];if(f(z,k,B,C,A)&&!(A[0]===z[0]&&A[1]===z[1]||A[0]===B[0]&&A[1]===B[1]||A[0]===k[0]&&A[1]===k[1]||A[0]===C[0]&&A[1]===C[1]))return!0}}w=M.length;if(!(4>=w))for(z=0;z<w-3;z++)for(k=w-1,0===z&&(k=w-2),v=M[z],y=M[z+1],B=z+2;B<k;B++){C=M[B];
const G=M[B+1];if(f(v,y,C,G,A)&&!(A[0]===v[0]&&A[1]===v[1]||A[0]===C[0]&&A[1]===C[1]||A[0]===y[0]&&A[1]===y[1]||A[0]===G[0]&&A[1]===G[1]))return!0}}return!1};a.segmentIntersects=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function c(){const l=f?.getAttribute("lang"),q=globalThis.navigator?.language;return g??l??q??"en"}function h(){void 0===e&&(e=c());return e}function d(l=h()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(l)?.[1].toLowerCase()}
function n(){const l=m??c();e!==l&&([...t].forEach(q=>q(l)),e=l,[...r].forEach(q=>q(l)))}let m=void 0,e=void 0;const g=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,f=globalThis.document?.documentElement,p={he:!0,ar:!0},r=[],t=[];globalThis.addEventListener?.("languagechange",n);f&&(new MutationObserver(()=>{n()})).observe(f,{attributeFilter:["lang"]});a.beforeLocaleChange=function(l){t.push(l);return b.makeHandle(()=>t.splice(t.indexOf(l),1))};a.getDefaultLocale=c;a.getLanguage=d;
a.getLocale=h;a.onLocaleChange=function(l){r.push(l);return b.makeHandle(()=>r.splice(r.indexOf(l),1))};a.prefersRTL=function(l=h()){l=d(l);return void 0!==l&&(p[l]||!1)};a.setLocale=function(l){m=l||void 0;n()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/portalDefault":function(){define(["exports"],function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(c){if(!b||b.destroyed)b=c();return b};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),function(a,b,c,h,d,n,m,e,g){var f;c=f=class extends c.JSONSupport{constructor(p){super(p);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=
this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const p=this.url,r=this.thumbnail;return p&&r&&this.portal?this.portal?.normalizeUrl(`${p}/info/${r}?f=json`):null}get url(){const p=this.portal?.restUrl;return p?p+"/community/groups/"+this.id:null}fetchCategorySchema(p){return this.portal.request(this.url+"/categorySchema",p).then(r=>{r=r.categorySchema||[];return r.some(t=>"contentCategorySetsGroupQuery.LivingAtlas"===
t.source)?this._fetchCategorySchemaSet("LivingAtlas",p):r})}fetchMembers(p){return this.portal.request(this.url+"/users",p)}getThumbnailUrl(p){let r=this.thumbnailUrl;r&&p&&(r+=`&w=${p}`);return r}toJSON(){throw new b("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(p){if(!p)return null;if(p.declaredClass)throw Error("JSON object is already hydrated");const r=new f({sourceJSON:p});r.read(p);return r}queryItems(p,r){p=d.ensureType(g,p);const t=this.portal;
if(5<parseFloat(t.currentVersion))return p=p||new g,t.queryPortal(`/content/groups/${this.id}/search`,p,"PortalItem",r);p=p?p.clone():new g;p.query="group:"+this.id+(p.query?" "+p.query:"");return t.queryItems(p,r)}_fetchCategorySchemaSet(p,r){const t=this.portal;return t.fetchSelf(t.authMode,!0,r).then(l=>{if(l=l.contentCategorySetsGroupQuery)return l=new g({disableExtraQuery:!0,num:1,query:l}),t.queryGroups(l,r);throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");
}).then(l=>{if(l.total){l=l.results[0];const q=new g({num:1,query:`typekeywords:"${p}"`});return l.queryItems(q,r)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(l=>l.total?l.results[0].fetchData("json",r).then(q=>{q=q?.categorySchema;return q?.length?q:[]}):[])}};a.__decorate([h.property()],c.prototype,"access",void 0);a.__decorate([h.property({type:Date})],c.prototype,"created",void 0);a.__decorate([h.property()],c.prototype,"description",
void 0);a.__decorate([h.property()],c.prototype,"id",void 0);a.__decorate([h.property()],c.prototype,"isInvitationOnly",void 0);a.__decorate([h.property({type:Date})],c.prototype,"modified",void 0);a.__decorate([h.property()],c.prototype,"owner",void 0);a.__decorate([h.property()],c.prototype,"portal",void 0);a.__decorate([h.property()],c.prototype,"snippet",void 0);a.__decorate([h.property()],c.prototype,"sortField",void 0);a.__decorate([h.property()],c.prototype,"sortOrder",void 0);a.__decorate([h.property()],
c.prototype,"sourceJSON",void 0);a.__decorate([h.property()],c.prototype,"tags",void 0);a.__decorate([h.property()],c.prototype,"thumbnail",void 0);a.__decorate([h.property({readOnly:!0})],c.prototype,"thumbnailUrl",null);a.__decorate([h.property()],c.prototype,"title",void 0);a.__decorate([h.property({readOnly:!0})],c.prototype,"url",null);return c=f=a.__decorate([e.subclass("esri.portal.PortalGroup")],c)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;const t=new c.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});b=r=class extends b{constructor(l){super(l);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(l){"asc"!==l&&"desc"!==l||this._set("sortOrder",l)}clone(){return new r({categories:this.categories?
h.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(l,q){let x=[];this.categories&&(x=this.categories.map(w=>Array.isArray(w)?JSON.stringify(w):w));let A="";if(this.extent){var u=p.project(this.extent,f.WGS84);null!=u&&(A=`${u.xmin},${u.ymin},${u.xmax},${u.ymax}`)}u=this.query;!this.disableExtraQuery&&
l.extraQuery&&(u="("+u+")"+l.extraQuery);l={categories:x,bbox:A,q:u,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(l.sortField=this.sortField.split(",").map(w=>t.toJSON(w.trim())).join(","),l.sortOrder=this.sortOrder);return{query:{...q,...l}}}};a.__decorate([d.property()],b.prototype,"categories",void 0);a.__decorate([d.property()],b.prototype,"disableExtraQuery",void 0);a.__decorate([d.property({type:g})],b.prototype,"extent",void 0);a.__decorate([d.property()],
b.prototype,"filter",void 0);a.__decorate([d.property()],b.prototype,"num",void 0);a.__decorate([d.property()],b.prototype,"query",void 0);a.__decorate([d.property()],b.prototype,"sortField",void 0);a.__decorate([d.property()],b.prototype,"sortOrder",null);a.__decorate([d.property()],b.prototype,"start",void 0);return b=r=a.__decorate([e.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b{constructor(e){super(e);this.total=this.results=this.queryParams=this.nextQueryParams=null}};a.__decorate([c.property()],b.prototype,"nextQueryParams",void 0);a.__decorate([c.property()],b.prototype,"queryParams",void 0);a.__decorate([c.property()],b.prototype,"results",void 0);a.__decorate([c.property()],b.prototype,"total",void 0);return b=a.__decorate([m.subclass("esri.portal.PortalQueryResult")],b)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;h=r=class extends h.JSONSupport{constructor(t){super(t);this.userType=this.userLicenseTypeId=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const t=this.url,l=this.thumbnail;return t&&l?this.portal.normalizeUrl(`${t}/info/${l}?f=json`):null}get userContentUrl(){const t=
this.portal?.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const l=t&&t.item;var q=t?.data;t=t?.folder;const x={method:"post"};l&&(x.query=l.createPostQuery(),null!=q&&("string"===typeof q?x.query.text=q:"object"===typeof q&&(x.query.text=JSON.stringify(q))));q=this.userContentUrl;t&&(q+="/"+("string"===typeof t?t:t.id));return this.portal.request(q+"/addItem",x).then(A=>{l.id=A.id;
l.portal=this.portal;return l.loaded?l.reload():l.load()})}async deleteItem(t,l=!1){let q=this.userContentUrl;t.ownerFolder&&(q+="/"+t.ownerFolder);await this.portal.request(q+`/items/${t.id}/delete`,{method:"post",query:l?{permanentDelete:!0}:{}});t.id=null;t.portal=null}async deleteItems(t,l=!1){t=t.slice();var q=this.userContentUrl+"/deleteItems";const x=[];var A=t.map(u=>u.id);if(A.length){l={method:"post",query:{items:A.join(","),permanentDelete:l}};q=await this.portal.request(q,l);for(const u of q.results)q=
t.find(w=>u.itemId===w.id),l=u.success,A=null,l?(q.id=null,q.portal=null):u.error&&(A=new c("portal:delete-item-failed",u.error.message,u.error)),x.push({item:q,success:l,error:A})}return x}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(t=>t&&t.folders?t.folders.map(l=>{l=f.fromJSON(l);l.portal=this.portal;return l}):[])}fetchGroups(){return this.portal.request(this.url??"").then(t=>t&&t.groups?t.groups.map(l=>{l=p.fromJSON(l);l.portal=this.portal;return l}):
[])}async fetchItems(t){t??={};var l=this.userContentUrl??"";t.folder&&(l+="/"+t.folder.id);const {default:q}=await new Promise((x,A)=>a(["./PortalItem"],u=>x(Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}))),A));t=await this.portal.request(l,{query:{folders:!1,inRecycleBin:t.inRecycleBin?!0:null,foldersContent:!t.folder&&t.includeSubfolderItems?!0:null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"}});
return t?.items?(l=t.items.map(x=>{x=q.fromJSON(x);x.portal=this.portal;return x}),await Promise.all(l.map(x=>x.load())),{items:l,nextStart:t.nextStart,total:t.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let l=this.thumbnailUrl;l&&t&&(l+=`&w=${t}`);return l}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new p({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new c("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,l){await this.portal.request(this.userContentUrl+`/items/${t.id}/restore`,{method:"post",query:l?{folderID:"string"===typeof l?l:l.id}:null})}toJSON(){throw new c("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");const l=new r({sourceJSON:t});l.read(t);return l}};b.__decorate([d.property()],
h.prototype,"access",void 0);b.__decorate([d.property({type:Date})],h.prototype,"created",void 0);b.__decorate([d.property()],h.prototype,"culture",void 0);b.__decorate([d.property()],h.prototype,"description",void 0);b.__decorate([d.property()],h.prototype,"email",void 0);b.__decorate([d.property()],h.prototype,"favGroupId",void 0);b.__decorate([d.property()],h.prototype,"fullName",void 0);b.__decorate([d.property({type:Date})],h.prototype,"modified",void 0);b.__decorate([d.property()],h.prototype,
"orgId",void 0);b.__decorate([d.property()],h.prototype,"portal",void 0);b.__decorate([d.property()],h.prototype,"preferredView",void 0);b.__decorate([d.property()],h.prototype,"privileges",void 0);b.__decorate([d.property()],h.prototype,"region",void 0);b.__decorate([d.property()],h.prototype,"role",void 0);b.__decorate([d.property()],h.prototype,"roleId",void 0);b.__decorate([d.property()],h.prototype,"sourceJSON",void 0);b.__decorate([d.property()],h.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],
h.prototype,"thumbnailUrl",null);b.__decorate([d.property()],h.prototype,"units",void 0);b.__decorate([d.property({readOnly:!0})],h.prototype,"userContentUrl",null);b.__decorate([d.property({readOnly:!0})],h.prototype,"url",null);b.__decorate([d.property()],h.prototype,"username",void 0);b.__decorate([d.property()],h.prototype,"userLicenseTypeId",void 0);b.__decorate([d.property()],h.prototype,"userType",void 0);return h=r=b.__decorate([g.subclass("esri.portal.PortalUser")],h)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){c=class extends c.JSONSupport{constructor(g){super(g);this.username=this.title=this.portal=this.id=this.created=null}get url(){const g=this.portal?.restUrl;return g?`${g}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new b("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};a.__decorate([h.property({type:Date})],c.prototype,"created",void 0);a.__decorate([h.property()],c.prototype,"id",void 0);a.__decorate([h.property()],c.prototype,
"portal",void 0);a.__decorate([h.property()],c.prototype,"title",void 0);a.__decorate([h.property({readOnly:!0})],c.prototype,"url",null);a.__decorate([h.property()],c.prototype,"username",void 0);return c=a.__decorate([e.subclass("esri.portal.PortalFolder")],c)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A){var u;const w=new Set("3DTiles Service;CSV;Feature Collection;Feature Service;Feed;GeoJson;Group Layer;Image Service;KML;Map Service;Media Layer;Scene Service;Stream Service;Vector Tile Service;WFS;WMS;WMTS".split(";")),z=new Set(["KML","GeoJson","CSV"]);d=u=class extends d.JSONSupportMixin(m){static from(k){return f.ensureClass(u,k)}constructor(k){super(k);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.classification=
this.categories=this.avgRating=this.applicationProxies=this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const k=this.type,v=this.typeKeywords||
[];let y=k;"Feature Service"===k||"Feature Collection"===k?y=v.includes("Table")?"Table":v.includes("Route Layer")?"Route Layer":v.includes("Markup")?"Markup":"Feature Layer":"Image Service"===k?y=v.includes("Elevation 3D Layer")?"Elevation Layer":v.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===k?y="Scene Layer":"Video Service"===k?y="Video Layer":"Scene Package"===k?y="Scene Layer Package":"Stream Service"===k?y="Feature Layer":"Geoprocessing Service"===k?y=v.includes("Web Tool")?
"Tool":"Geoprocessing Service":"Geoenrichment Service"===k?y="GeoEnrichment Service":"Geocoding Service"===k?y="Locator":"Microsoft Powerpoint"===k?y="Microsoft PowerPoint":"GeoJson"===k?y="GeoJSON":"Globe Service"===k?y="Globe Layer":"Vector Tile Service"===k?y="Tile Layer":"netCDF"===k?y="NetCDF":"Map Service"===k?y=v.includes("Spatiotemporal")||!v.includes("Hosted Service")&&!v.includes("Tiled")||v.includes("Relational")?"Map Image Layer":"Tile Layer":k?.toLowerCase().includes("add in")?y=k.replaceAll(/(add in)/gi,
"Add-In"):"datastore catalog service"===k?y="Big Data File Share":"Compact Tile Package"===k?y="Tile Package (tpkx)":"Raster function template"===k?y="Raster Function Template":"OGCFeatureServer"===k?y="OGC Feature Layer":"web mapping application"===k&&v.includes("configurableApp")?y="Instant App":"Insights Page"===k?y="Insights Report":"Excalibur Imagery Project"===k?y="Excalibur Project":"3DTiles Service"===k?y="3D tiles layer":"3DTiles Package"===k&&(y="3D tiles package");return y}readExtent(k){return k&&
k.length?new t(k[0][0],k[0][1],k[1][0],k[1][1]):null}get iconUrl(){var k=this.type?.toLowerCase()||"";const v=this.typeKeywords||[];var y=!1,B=!1;let C=!1,L=!1,M=!1,G=!1;y=B=!1;0<k.indexOf("service")||"feature collection"===k||"kml"===k||"wms"===k||"wmts"===k||"wfs"===k?(y=v.includes("Hosted Service"),"feature service"===k||"feature collection"===k||"kml"===k||"wfs"===k?(B=v.includes("Table"),C=v.includes("Route Layer"),L=v.includes("Markup"),M=v.includes("Spatiotemporal"),G=v.includes("UtilityNetwork"),
k=M&&B?"spatiotemporaltable":B?"table":C?"routelayer":L?"markup":M?"spatiotemporal":G?"utilitynetwork":y?"featureshosted":"features"):"map service"===k||"wms"===k||"wmts"===k?(M=v.includes("Spatiotemporal"),B=v.includes("Relational"),k=M||B?"mapimages":y||v.includes("Tiled")||"wmts"===k?"maptiles":"mapimages"):k="scene service"===k?v.includes("Line")?"sceneweblayerline":v.includes("3DObject")?"sceneweblayermultipatch":v.includes("Point")?"sceneweblayerpoint":v.includes("IntegratedMesh")?"sceneweblayermesh":
v.includes("PointCloud")?"sceneweblayerpointcloud":v.includes("Polygon")?"sceneweblayerpolygon":v.includes("Building")?"sceneweblayerbuilding":v.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===k?v.includes("Elevation 3D Layer")?"elevationlayer":v.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===k?"streamlayer":"vector tile service"===k?"vectortile":"datastore catalog service"===k?"datastorecollection":"geocoding service"===k?"geocodeservice":"video service"===
k?v.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===k?v.includes("Web Tool")?"tool":"layers":"geodata service"===k?"geodataservice":"3dtiles service"===k?v.includes("3DObject")?"3dobjecttileslayer":v.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):k="web map"===k||"cityengine web scene"===k?"maps":"web scene"===k?v.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===k&&v.includes("configurableApp")?
"instantapps":"web mapping application"===k||"mobile application"===k||"application"===k||"operation view"===k||"desktop application"===k?"apps":"map document"===k||"map package"===k||"published map"===k||"scene document"===k||"globe document"===k||"basemap package"===k||"mobile basemap package"===k||"mobile map package"===k||"project package"===k||"project template"===k||"pro map"===k||"layout"===k||"layer"===k&&v.includes("ArcGIS Pro")||"explorer map"===k&&v.indexOf("Explorer Document")?"mapsgray":
"service definition"===k||"shapefile"===k||"cad drawing"===k||"geojson"===k||"netcdf"===k||"administrative report"===k?"datafiles":"360 vr experience"===k?"360vr":"explorer add in"===k||"desktop add in"===k||"windows viewer add in"===k||"windows viewer configuration"===k?"appsgray":"arcgis pro add in"===k||"arcgis pro configuration"===k?"addindesktop":"pdf"===k?"pdf":"microsoft word"===k?"word":"microsoft excel"===k?"excel":"microsoft powerpoint"===k?"ppt":"rule package"===k||"file geodatabase"===
k||"sqlite geodatabase"===k||"csv collection"===k||"kml collection"===k||"windows mobile package"===k||"map template"===k||"desktop application template"===k||"gml"===k||"arcpad package"===k||"code sample"===k||"document link"===k||"earth configuration"===k||"operations dashboard add in"===k||"rules package"===k||"workflow manager package"===k||"explorer map"===k&&v.includes("Explorer Mapping Application")||v.includes("Document")?"datafilesgray":"network analysis service"===k||"geoprocessing service"===
k||"geodata service"===k||"geometry service"===k||"geoprocessing package"===k||"locator package"===k||"geoprocessing sample"===k||"workflow manager service"===k?"toolsgray":"layer"===k||"layer package"===k||"explorer layer"===k?"layersgray":"analysis model"===k?"analysismodel":"scene package"===k?"scenepackage":"3dtiles package"===k?"3dtileslayerpackage":"3dtiles service"===k?"3dtileslayer":"mobile scene package"===k?"mobilescenepackage":"tile package"===k||"compact tile package"===k?"tilepackage":
"task file"===k?"taskfile":"report template"===k?"report-template":"statistical data collection"===k?"statisticaldatacollection":"insights workbook"===k?"workbook":"insights model"===k?"insightsmodel":"insights page"===k?"insightspage":"insights theme"===k?"insightstheme":"hub initiative"===k?"hubinitiative":"hub page"===k?"hubpage":"hub site application"===k?"hubsite":"hub event"===k?"hubevent":"hub project"===k?"hubproject":"relational database connection"===k?"relationaldatabaseconnection":"big data file share"===
k?"datastorecollection":"image collection"===k?"imagecollection":"desktop style"===k?"desktopstyle":"style"===k?v.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===k?"dashboard":"raster function template"===k?"rasterprocessingtemplate":"vector tile package"===k?"vectortilepackage":"ortho mapping project"===k?"orthomappingproject":"ortho mapping template"===k?"orthomappingtemplate":"solution"===k?"solutions":"geopackage"===k?"geopackage":"deep learning package"===k?"deeplearningpackage":
"real time analytic"===k?"realtimeanalytics":"reality mapping project"===k?"realitymappingproject":"big data analytic"===k?"bigdataanalytics":"feed"===k?"feed":"excalibur imagery project"===k?"excaliburimageryproject":"notebook"===k?"notebook":"storymap"===k?"storymap":"survey123 add in"===k?"survey123addin":"mission"===k?"mission":"mission report"===k?"missionreport":"mission template"===k?"missiontemplate":"quickcapture project"===k?"quickcaptureproject":"pro report"===k?"proreport":"pro report template"===
k?"proreporttemplate":"urban model"===k?"urbanmodel":"urban project"===k?"urbanproject":"web experience"===k?"experiencebuilder":"web experience template"===k?"webexperiencetemplate":"experience builder widget"===k?"experiencebuilderwidget":"experience builder widget package"===k?"experiencebuilderwidgetpackage":"workflow"===k?"workflow":"kernel gateway connection"===k?"kernelgatewayconnection":"insights script"===k?"insightsscript":"hub initiative template"===k?"hubinitiativetemplate":"storymap theme"===
k?"storymaptheme":"knowledge graph"===k?"knowledgegraph":"knowledge graph layer"===k?"knowledgegraphlayer":"knowledge studio project"===k?"knowledgestudio":"native application"===k?"nativeapp":"native application installer"===k?"nativeappinstaller":"web link chart"===k?"linkchart":"knowledge graph web investigation"===k?"investigation":"ogcfeatureserver"===k?"features":"pro presentation"===k?"propresentation":"pro project"===k?"proproject":"insights workbook package"===k?"insightsworkbookpackage":
"apache parquet"===k?"apacheparquet":"notebook code snippet library"===k?"notebookcodesnippets":"suitability model"===k?"suitabilitymodel":"esri classifier definition"===k?"classifierdefinition":"esri classification schema"===k?"classificationschema":"insights data engineering workbook"===k?"dataengineeringworkbook":"insights data engineering model"===k?"dataengineeringmodel":"deep learning studio project"===k?"deeplearningproject":"discussion"===k?"discussion":"allsource project"===k?"allsourceproject":
"api key"===k?"apikey":"data pipeline"===k?"datapipelines":"group layer"===k?(y=v.includes("Map"))?"layergroup2d":"layergroup":"media layer"===k?"onlinemedialayer":"form"===k?v.includes("Survey123")?"survey":"datafilesgray":"csv"===k?"csv":"image"===k?"image":"maps";return k?c.getAssetUrl("esri/images/portal/"+k+"16.png"):null}get isLayer(){return null!=this.type&&w.has(this.type)}get itemCdnUrl(){return A.toCDNUrl(this.itemUrl)}get itemPageUrl(){const k=this.portal?.itemPageUrl;return k&&this.id?
`${k}?id=${this.id}`:null}get itemUrl(){const k=this.portal?.restUrl;return k&&this.id?`${k}/content/items/${this.id}`:null}get thumbnailUrl(){const k=this.itemUrl,v=this.thumbnail;return k&&v?this.portal?.normalizeUrl(`${k}/info/${v}?f=json`)??null:null}get userItemUrl(){const k=this.portal?.restUrl;if(!k)return null;const v=this.owner||this.portal?.user?.username;return v?`${k}/content/users/${this.ownerFolder?`${v}/${this.ownerFolder}`:v}/items/${this.id}`:null}load(k){const v=this.portal??(this.portal=
l.getDefault()),y=v.load(k).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?v.request(this.itemUrl,{signal:null!=k?k.signal:null,query:{token:this.apiKey}}):{}).then(B=>{this.sourceJSON=B;this.read(B)});this.addResolvingPromise(y);return Promise.resolve(this)}async addRating(k){const v={method:"post",query:{}};k instanceof x&&(k=k.rating);null==k||isNaN(k)||"number"!==typeof k||(v.query.rating=k);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",v);return new x({rating:k,
created:new Date})}clone(){var k={access:this.access,accessInformation:this.accessInformation,applicationProxies:n.clone(this.applicationProxies),avgRating:this.avgRating,categories:n.clone(this.categories),classification:n.clone(this.classification),created:n.clone(this.created),culture:this.culture,description:this.description,extent:n.clone(this.extent),groupCategories:n.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:n.clone(this.modified),
name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:n.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:n.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:n.clone(this.typeKeywords),url:this.url};this.loaded&&(k.loadStatus="loaded");k=(new u({sourceJSON:this.sourceJSON})).set(k);
k._set("isOrgItem",this.isOrgItem);return k}createPostQuery(){const k=this.toJSON();for(var v of["tags","typeKeywords","categories"])k[v]=k[v]?.join(", ");for(const y of["extent","classification"])(v=k[y])&&(k[y]=JSON.stringify(v));return k}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(k="json",v){return this.portal.request(this.itemUrl+"/data",{responseType:k,...v,query:{token:this.apiKey}})}async fetchRating(k){k=await this.portal.request(this.itemUrl+
"/rating",{query:{token:this.apiKey},...k});return null!=k.rating?(k.created=new Date(k.created),new x(k)):null}fetchRelatedItems(k,v){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...k,token:this.apiKey},...v},u)}getThumbnailUrl(k){let v=this.thumbnailUrl;v&&k&&(v+=`&w=${k}`);return v}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(k=>{this.applicationProxies&&!Object.hasOwn(k,"appProxies")&&(this.applicationProxies=
null);this.sourceJSON=k;this.read(k);return this})}update(k){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const v=k?.data,y={method:"post"};y.query=this.createPostQuery();for(const B in y.query)null===y.query[B]&&(y.query[B]="");y.query.clearEmptyFields=!0;null!=v&&("string"===typeof v?y.query.text=v:"object"===typeof v&&(y.query.text=JSON.stringify(v)));return this.portal.request(`${this.userItemUrl}/update`,y).then(()=>this.reload())}):Promise.reject(new h("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))}async copy(k){if(!this.id)throw new h("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:v,itemUrl:y}=this;await v.signIn();const {copyResources:B,folder:C,tags:L,title:M}=k||{};k={method:"post",query:{copyPrivateResources:"all"===B,folder:"string"===typeof C?C:C?.id,includeResources:!!B,tags:L?.join(","),title:M}};({itemId:k}=await v.request(`${y}/copy`,k));return new u({id:k,portal:v})}updateThumbnail(k){return this.id?
this.load().then(()=>this.portal.signIn()).then(()=>{const v=k.thumbnail,y=k.filename,B={method:"post"};if("string"===typeof v)e.isDataProtocol(v)?B.query={data:v}:B.query={url:e.makeAbsolute(v)},null!=y&&(B.query.filename=y);else{const C=new FormData;null!=y?C.append("file",v,y):C.append("file",v);B.body=C}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,B).then(()=>this.reload())}):Promise.reject(new h("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(k=
{},v){const {fetchResources:y}=await new Promise((B,C)=>a(["./support/resourceUtils"],B,C));return y(this,k,v)}async addResource(k,v,y){const {addOrUpdateResources:B}=await new Promise((C,L)=>a(["./support/resourceUtils"],C,L));k.portalItem=this;await B(this,[{resource:k,content:v,compress:y?.compress,access:y?.access}],"add",y);return k}async removeResource(k,v){const {removeResource:y}=await new Promise((B,C)=>a(["./support/resourceUtils"],B,C));if(k.portalItem&&k.portalItem.itemUrl!==this.itemUrl)throw new h("removeresource:portal-item-mismatch",
"The portal item associated with the provided resource does not match the item");return y(this,k,v)}async removeAllResources(k){const {removeAllResources:v}=await new Promise((y,B)=>a(["./support/resourceUtils"],y,B));return v(this,k)}resourceFromPath(k){return new q({portalItem:this,path:k})}toJSON(){var k=this.extent;k={accessInformation:this.accessInformation,categories:n.clone(this.categories),classification:n.clone(this.classification),created:this.created?.getTime(),description:this.description,
extent:k&&[[k.xmin,k.ymin],[k.xmax,k.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:n.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:n.clone(this.typeKeywords),url:this.url};return n.fixJson(k)}static fromJSON(k){if(!k)return null;if(k.declaredClass)throw Error("JSON object is already hydrated");
return new u({sourceJSON:k})}_getPostQuery(){const k=this.toJSON();for(const v in k)"tags"===v&&null!==k[v]&&(k[v]=k[v].join(", ")),"typeKeywords"===v&&null!==k[v]&&(k[v]=k[v].join(", ")),"extent"===v&&k[v]&&(k[v]=JSON.stringify(k[v]));return k}};b.__decorate([g.property({type:["private","shared","org","public"]})],d.prototype,"access",void 0);b.__decorate([g.property()],d.prototype,"accessInformation",void 0);b.__decorate([g.property({type:String})],d.prototype,"apiKey",void 0);b.__decorate([g.property({json:{read:{source:"appProxies"}}})],
d.prototype,"applicationProxies",void 0);b.__decorate([g.property()],d.prototype,"avgRating",void 0);b.__decorate([g.property()],d.prototype,"categories",void 0);b.__decorate([g.property()],d.prototype,"classification",void 0);b.__decorate([g.property({type:Date})],d.prototype,"created",void 0);b.__decorate([g.property()],d.prototype,"culture",void 0);b.__decorate([g.property()],d.prototype,"description",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"displayName",null);b.__decorate([g.property({type:t})],
d.prototype,"extent",void 0);b.__decorate([p.reader("extent")],d.prototype,"readExtent",null);b.__decorate([g.property()],d.prototype,"groupCategories",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"iconUrl",null);b.__decorate([g.property()],d.prototype,"id",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"isLayer",null);b.__decorate([g.property({type:Boolean,readOnly:!0})],d.prototype,"isOrgItem",void 0);b.__decorate([g.property()],d.prototype,"itemControl",void 0);b.__decorate([g.property({readOnly:!0})],
d.prototype,"itemPageUrl",null);b.__decorate([g.property({readOnly:!0})],d.prototype,"itemUrl",null);b.__decorate([g.property()],d.prototype,"licenseInfo",void 0);b.__decorate([g.property({type:Date})],d.prototype,"modified",void 0);b.__decorate([g.property()],d.prototype,"name",void 0);b.__decorate([g.property()],d.prototype,"numComments",void 0);b.__decorate([g.property()],d.prototype,"numRatings",void 0);b.__decorate([g.property()],d.prototype,"numViews",void 0);b.__decorate([g.property()],d.prototype,
"owner",void 0);b.__decorate([g.property()],d.prototype,"ownerFolder",void 0);b.__decorate([g.property({type:l})],d.prototype,"portal",void 0);b.__decorate([g.property()],d.prototype,"screenshots",void 0);b.__decorate([g.property()],d.prototype,"size",void 0);b.__decorate([g.property()],d.prototype,"snippet",void 0);b.__decorate([g.property()],d.prototype,"sourceJSON",void 0);b.__decorate([g.property({type:String})],d.prototype,"sourceUrl",void 0);b.__decorate([g.property({type:String})],d.prototype,
"spatialReference",void 0);b.__decorate([g.property()],d.prototype,"tags",void 0);b.__decorate([g.property()],d.prototype,"thumbnail",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"thumbnailUrl",null);b.__decorate([g.property()],d.prototype,"title",void 0);b.__decorate([g.property()],d.prototype,"type",void 0);b.__decorate([g.property()],d.prototype,"typeKeywords",void 0);b.__decorate([g.property({type:String,json:{read(k,v){z.has(v.type)&&(v=this.portal?.restUrl,k||=v&&this.id?`${v}/content/items/${this.id}/data`:
null);return k}}})],d.prototype,"url",void 0);b.__decorate([g.property({readOnly:!0})],d.prototype,"userItemUrl",null);return d=u=b.__decorate([r.subclass("esri.portal.PortalItem")],d)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){function r(t,l){if(null==t)return t;t=t.replace(/^\/+/,"");null!=l&&n.isAbsolute(t)&&(t=n.makeRelative(t,l.itemUrl));return t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}c=class extends c{constructor(t){super(t);this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:r(t.path,t.portalItem)}:t}set path(t){null!=t&&n.isAbsolute(t)?d.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):
this._set("path",t)}_castPath(t){return r(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",l){const q=this.cdnUrl;if(null==q)throw new h("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(q,{responseType:t,query:{token:this.portalItem.apiKey,_ts:l?.cacheBust?Date.now():null},signal:l?.signal})}async update(t,l){const {addOrUpdateResources:q}=await new Promise((x,A)=>a(["./support/resourceUtils"],x,A));await q(this.portalItem,[{resource:this,content:t,compress:l?.compress,access:l?.access}],"update",l);return this}hasPath(){return null!=this.path}};b.__decorate([m.property()],c.prototype,"portalItem",void 0);b.__decorate([m.property({type:String,
value:null})],c.prototype,"path",null);b.__decorate([e.cast("path")],c.prototype,"_castPath",null);b.__decorate([m.property({type:String,readOnly:!0})],c.prototype,"url",null);b.__decorate([m.property({type:String,readOnly:!0})],c.prototype,"cdnUrl",null);b.__decorate([m.property({type:String,readOnly:!0})],c.prototype,"itemRelativeUrl",null);return c=b.__decorate([p.subclass("esri.portal.PortalItemResource")],c)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b{constructor(e){super(e);this.rating=this.created=null}};a.__decorate([c.property()],b.prototype,"created",void 0);a.__decorate([c.property()],b.prototype,"rating",void 0);return b=a.__decorate([m.subclass("esri.portal.PortalRating")],b)})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],function(a,b,c,h){function d(u,w){var z=w?.url?.path;u&&z&&(u=c.makeAbsolute(u,z,{preserveProtocolRelative:!0}),
w.portalItem&&w.readResourcePaths&&(z=c.makeRelative(u,w.portalItem.itemUrl),null!=z&&x.test(z)&&w.readResourcePaths.push(w.portalItem.resourceFromPath(z).path)));return(u=r(u,w?.portal))&&q.test(u)?t(u):u}function n(u,w,z=a.MarkKeep.YES){u=u&&q.test(u)?l(u):u;if(null==u)return u;!c.isAbsolute(u)&&w?.blockedRelativeUrls&&w.blockedRelativeUrls.push(u);let k=c.makeAbsolute(u);if(w){var v=w.verifyItemRelativeUrls?.rootPath||w.url?.path;if(v){v=r(v,w.portal);const y=r(k,w.portal);k=c.makeRelative(y,v,
v);null!=k&&k!==y&&k!==u&&w.verifyItemRelativeUrls&&w.verifyItemRelativeUrls.writtenUrls.push(k)}}k=p(k,w?.portal);c.isAbsolute(k)&&(k=c.normalize(k));w?.resources&&w?.portalItem&&!c.isAbsolute(k)&&!c.isDataProtocol(k)&&z===a.MarkKeep.YES&&w.resources.toKeep.push({resource:w.portalItem.resourceFromPath(k),compress:!1});return k}function m(u,w,z){return d(u,z)}function e(u,w,z,k){u=n(u,k);void 0!==u&&(w[z]=u)}function g(u){return(u?.match(q)??null)?.[1]??null}function f(u){u=u?.match(q)??null;if(null==
u)return null;u=u[2];const w=u.lastIndexOf("/");if(-1===w){const {path:v,extension:y}=c.splitPathExtension(u);return{prefix:null,filename:v,extension:y}}const {path:z,extension:k}=c.splitPathExtension(u.slice(w+1));return{prefix:u.slice(0,w),filename:z,extension:k}}function p(u,w){return w&&!w.isPortal&&w.urlKey&&w.customBaseUrl?c.changeDomain(u,`${w.urlKey}.${w.customBaseUrl}`,w.portalHostname):u}function r(u,w){if(!w||w.isPortal||!w.urlKey||!w.customBaseUrl)return u;const z=`${w.urlKey}.${w.customBaseUrl}`,
k=c.getAppUrl();return c.hasSameOrigin(k,`${k.scheme}://${z}`)?c.changeDomain(u,w.portalHostname,z):c.changeDomain(u,z,w.portalHostname)}function t(u){if(!u)return u||null;u&&b.id&&!b.id.findCredential(u)&&(u=h.normalizeArcGISOnlineOrgDomain(u),u=u.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),u=u.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),u=u.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return u}function l(u){if(!u)return u||
null;u=u.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");u=u.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(u=u.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&b.id&&!b.id.findCredential(u)&&(u=h.normalizeArcGISOnlineOrgDomain(u));return u}const q=/\/items\/([^/]+)\/resources\/(.*)/,x=/^\.\/resources\//;a.MarkKeep=void 0;(function(u){u[u.YES=0]="YES";u[u.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const A=Object.freeze(Object.defineProperty({__proto__:null,
get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:p,fromCDNUrl:l,fromJSON:d,itemIdFromResourceUrl:g,prefixAndFilenameFromResourceUrl:f,read:m,toCDNUrl:t,toJSON:n,write:e},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=p;a.fromCDNUrl=l;a.fromJSON=d;a.itemIdFromResourceUrl=g;a.persistableUrlUtils=A;a.prefixAndFilenameFromResourceUrl=f;a.read=m;a.toCDNUrl=t;a.toJSON=n;a.write=e})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,
b,c){a.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},
baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],
id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},
"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",
styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",
layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},
{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(h){if(h){var d=h.includes("-vector")?h.slice(0,h.indexOf("-vector")):
h.includes("-3d")?h.slice(0,h.indexOf("-3d")):h,n=await c.fetchMessageBundle("esri/t9n/basemaps");return n[h]||n[d]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,c,h,d){function n(q){for(const x of r.keys())e(q.pattern,x)&&r.delete(x)}async function m(q,x){const A=[];for(const u of p)if(e(u.pattern,q))try{return await u.fetchMessageBundle(q,x)}catch(w){A.push(w)}if(A.length)throw new b("intl:message-bundle-error",
`Errors occurred while loading "${q}"`,{errors:A});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${q}"`);}function e(q,x){return"string"===typeof q?x.startsWith(q):q.test(x)}const g=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,f={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},p=[],r=new Map;d.beforeLocaleChange(()=>{r.clear()});const t=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(q){this._increase();q.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=h.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},l={cache:r,loaders:p};
a.fetchMessageBundle=async function(q){const x=d.getLocale();r.has(q)||r.set(q,m(q,x));(q=r.get(q))&&await t.add(q);return q};a.messageBundlesLocaleMap=f;a.normalizeMessageBundleLocale=function(q){if(!g.test(q))return null;q=g.exec(q);if(null===q)return null;const [,x,A]=q;q=x+(A?"-"+A.toUpperCase():"");return q in f?q:x in f?x:null};a.registerMessageBundleLoader=function(q){p.includes(q)||(n(q),p.unshift(q));return c.makeHandle(()=>{const x=p.indexOf(q);-1<x&&(p.splice(x,1),n(q))})};a.test=l;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(a,b,c,h,d,n,m,e){const g=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));b=class extends b{constructor(f){super(f);this.places=this.language=
this.id=this.apiKey=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps";this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;var f=e.getLocale().toLowerCase();switch(f){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}f=e.getLanguage(f);return"pt"===f?"pt-BR":f&&g.has(f)?f:"global"}};a.__decorate([c.property()],b.prototype,"apiKey",void 0);
a.__decorate([c.property()],b.prototype,"id",void 0);a.__decorate([c.property()],b.prototype,"language",void 0);a.__decorate([c.property()],b.prototype,"places",void 0);a.__decorate([c.property()],b.prototype,"serviceUrl",void 0);a.__decorate([c.property()],b.prototype,"worldview",void 0);return b=a.__decorate([m.subclass("esri.support.BasemapStyle")],b)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),
function(a,b,c,h,d,n){function m(f,p){"maxScale"in f&&(p.maxScale=d.numberToJSON(f.maxScale)??void 0);"minScale"in f&&(p.minScale=d.numberToJSON(f.minScale)??void 0)}const e=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),g=new Set("catalog csv feature geo-rss geojson group imagery imagery-tile kml knowledge-graph map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
a.disableRestrictedWriting=function(f){e.add(f);g.add(f)};a.enableRestrictedWriting=function(f){e.delete(f);g.delete(f)};a.getLayerJSON=function(f,p,r){if(!f.persistenceEnabled)return null;if(!("write"in f&&f.write))return r?.messages&&r.messages.push(new b("layer:unsupported",`Layers (${f.title}, ${f.id}) of type '${f.declaredClass}' cannot be persisted`,{layer:f})),null;if(n.isFeatureCollectionLayer(f)&&!f.isTable)p=f.resourceInfo;else{if(r.restrictedWebMapWriting){var t="basemap"===r.layerContainerType?
e:"operational-layers"===r.layerContainerType?g:null;t=null!=t?t.has(f.type)&&!n.isFeatureCollectionLayer(f):!0}else t=!0;if(t)return p={},f.write(p,r)?p:null}if(null!=p){p=c.clone(p);if(r=p)n.isFeatureCollectionLayer(f)?(t=h.getDeepValue("featureCollection.layers",r)?.[0]?.layerDefinition)&&m(f,t):"group"!==f.type&&m(f,r);if(r&&(r.id=f.id,"blendMode"in f&&(r.blendMode=f.blendMode,"normal"===r.blendMode&&delete r.blendMode),r.opacity=d.numberToJSON(f.opacity)??void 0,r.title=f.title||"Layer",r.visibility=
f.visible,"legendEnabled"in f&&"wmts"!==f.type))if(n.isFeatureCollectionLayer(f)){if(r=r.featureCollection)r.showLegend=f.legendEnabled}else r.showLegend=f.legendEnabled}return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,c){function h(m){return"scene"===m?.type}function d(m){return null!=m&&"object"===typeof m&&"type"in m&&"subtype-group"===m.type&&"sublayers"in m}function n(m){m=
m?.type;return"imagery-tile"===m||"tile"===m||"open-street-map"===m||"vector-tile"===m||"web-tile"===m||"wmts"===m}a.getEffectiveEditingEnabled=function(m){a:if("editingEnabled"in m)switch(m.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var e=!0;break a;default:e=!1}else e=!1;return e?"effectiveEditingEnabled"in m?m.effectiveEditingEnabled:m.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(m){a:if("capabilities"in
m)switch(m.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "sublayer":case "subtype-group":case "subtype-sublayer":case "wfs":var e=!0;break a;default:e=!1}else e=!1;return e?"effectiveCapabilities"in m?m.effectiveCapabilities:m.capabilities:null};a.getOwningPortalUrl=async function(m,e){var g=b.id?.findServerInfo(m);if(null!=g?.currentVersion)return g.owningSystemUrl||
null;g=m.toLowerCase().indexOf("/rest/services");if(-1===g)return null;m=`${m.slice(0,g)}/rest/info`;({data:e}=await c(m,{query:{f:"json"},responseType:"json",signal:null!=e?e.signal:null}));return e?.owningSystemUrl||null};a.getSubtypesFromLayer=function(m){return m?("subtypes"in m?m.subtypes:d(m.parent)?m.parent.subtypes:[])??[]:[]};a.getTileMaxtrixSetFromActiveLayer=function(m){if(m.activeLayer){const e=m.activeLayer.tileMatrixSet;if(e)return e;if(m=m.activeLayer.tileMatrixSets)return m}return null};
a.isBaseLayer=function(m){return null!=m?.parent&&"declaredClass"in m.parent&&"esri.Basemap"===m.parent.declaredClass&&m.parent.baseLayers.includes(m)};a.isBasemap3DSupportedLayer=function(m){return n(m)||h(m)};a.isBasemapSupportedTiledLayer=n;a.isFeatureCollectionLayer=function(m){return"feature"===m?.type&&!m.url&&"memory"===m.source?.type};a.isFeatureLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"feature"===m.type};a.isFeatureServiceLayer=function(m){return"feature"===m?.type&&
"feature-layer"===m.source?.type};a.isGraphicsLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"graphics"===m.type};a.isGroupLayer=function(m){return null!=m&&"type"in m&&"group"===m.type};a.isImageryTileLayer=function(m){return"imagery-tile"===m?.type};a.isIntegratedMeshLayer=function(m){return"integrated-mesh"===m||"integrated-mesh-3dtiles"===m};a.isIntegratedMeshOperationalLayer=function(m){return"IntegratedMeshLayer"===m||"IntegratedMesh3DTilesLayer"===m};a.isKnowledgeGraphLayer=
function(m){return null!=m&&"object"===typeof m&&"type"in m&&"knowledge-graph"===m.type&&"layers"in m};a.isLayerWithFeatureLayerSource=function(m){const e=m?.type;return("feature"===e||"subtype-group"===e||"oriented-imagery"===e)&&"feature-layer"===m.source?.type};a.isLinkChartLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"link-chart"===m.type&&"layers"in m};a.isMapNotesLayer=function(m){return null!=m&&"object"===typeof m&&"type"in m&&"map-notes"===m.type&&"sublayers"in m};a.isSceneLayer=
h;a.isSceneServiceLayer=function(m){m=m?.type;return"building-scene"===m||"integrated-mesh"===m||"point-cloud"===m||"scene"===m};a.isSubtypeGroupLayer=d;a.isSubtypeSublayer=function(m){return"subtype-sublayer"===m?.type};a.isTable=function(m){return null!=m&&"object"===typeof m&&"isTable"in m&&!!m.isTable};a.isTiledLayer=function(m){m=m?.type;return"base-tile"===m||"tile"===m||"elevation"===m||"imagery-tile"===m||"base-elevation"===m||"open-street-map"===m||"wcs"===m||"web-tile"===m||"wmts"===m||
"vector-tile"===m};a.isVoxelLayer=function(m){return"voxel"===m?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(m){const e=/[:;]/,g=[];let f=!1;if(m&&(m.forEach((p,r)=>{g.push([r,p]);!f&&e.test(p)&&(f=!0)}),0<g.length)){if(f){const p={};g.forEach(r=>{p[r[0]]=r[1]});m=JSON.stringify(p)}else{const p=[];g.forEach(r=>{p.push(r[0]+":"+
r[1])});m=p.join(";")}return m}return null};a.serializeTimeOptions=function(m){if(m){var e=[];m.forEach((g,f)=>{e.push('"'+f+'":'+JSON.stringify(g))});if(e.length)return"{"+e.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z){function k(y){return"elevation"===y.type||y&&"createElevationSampler"in y}var v;e=v=class extends e.JSONSupportMixin(f){constructor(y){super(y);this.opacity=1;this.navigationConstraint=this.surfaceColor=null;this.layers=new h;const B=C=>{C.parent&&C.parent!==this&&"remove"in C.parent&&C.parent.remove(C);C.parent=this;"elevation"!==C.type&&"base-elevation"!==C.type&&r.getLogger(this).error(`Layer '${C.title}, id:${C.id}' of type '${C.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};
this.addHandles([this.layers.on("after-add",C=>B(C.item)),this.layers.on("after-remove",C=>{C.item.parent=null})])}initialize(){this.when().catch(y=>{l.isAbortError(y)||r.getLogger(this).error("#load()","Failed to load ground",y)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const y=this.layers.removeAll();for(const B of y)t.destroyMaybe(B);this.layers.destroy()}normalizeCtorArgs(y){y&&"resourceInfo"in y&&(this._set("resourceInfo",y.resourceInfo),y={...y},
delete y.resourceInfo);return y}set layers(y){this._set("layers",d.referenceSetter(y,this._get("layers")))}writeLayers(y,B,C,L){const M=[];y&&(L={...L,layerContainerType:"ground"},y.forEach(G=>{if("write"in G){const E={};n.typeCast(G)().write(E,L)&&M.push(E)}else L?.messages&&L.messages.push(new m("layer:unsupported",`Layers (${G.title}, ${G.id}) of type '${G.declaredClass}' cannot be persisted in the ground`,{layer:G}))}));B.layers=M}load(y){this.addResolvingPromise(this._loadFromSource(y));return Promise.resolve(this)}loadAll(){return p.loadAll(this,
y=>{y(this.layers)})}async queryElevation(y,B){await this.load({signal:B?.signal});var {ElevationQuery:C}=await new Promise((M,G)=>a(["./layers/support/ElevationQuery"],M,G));l.throwIfAborted(B);C=new C;const L=this.layers.filter(k).toArray();return C.queryAll(L,y,B)}async createElevationSampler(y,B){await this.load({signal:B?.signal});var {ElevationQuery:C}=await new Promise((M,G)=>a(["./layers/support/ElevationQuery"],M,G));l.throwIfAborted(B);C=new C;const L=this.layers.filter(k).toArray();return C.createSamplerAll(L,
y,B)}clone(){const y={opacity:this.opacity,surfaceColor:g.clone(this.surfaceColor),navigationConstraint:g.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(y.loadStatus="loaded");return(new v({resourceInfo:this.resourceInfo})).set(y)}read(y,B){this.resourceInfo||this._set("resourceInfo",{data:y,context:B});super.read(y,B)}_loadFromSource(y){const B=this.resourceInfo;return B?this._loadLayersFromJSON(B.data,B.context,y):Promise.resolve()}async _loadLayersFromJSON(y,B,C){const L=
B?.origin||"web-scene",M=B?.portal||null;B=B?.url||null;const {populateOperationalLayers:G}=await new Promise((E,F)=>a(["./layers/support/layersCreator"],E,F));l.throwIfAborted(C);C=[];y.layers&&Array.isArray(y.layers)&&C.push(G(this.layers,y.layers,{context:{origin:L,url:B,portal:M,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));await Promise.allSettled(C)}};b.__decorate([q.property({json:{read:!1}})],e.prototype,"layers",null);b.__decorate([u.writer("layers")],
e.prototype,"writeLayers",null);b.__decorate([q.property({readOnly:!0})],e.prototype,"resourceInfo",void 0);b.__decorate([q.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:x.Integer,read:{reader:z.transparencyToOpacity,source:"transparency"},write:{writer:(y,B)=>{B.transparency=z.opacityToTransparency(y)},target:"transparency"}}})],e.prototype,"opacity",void 0);b.__decorate([q.property({type:c,json:{type:[x.Integer],write:(y,B)=>{B.surfaceColor=y.toJSON().slice(0,3)}}})],e.prototype,
"surfaceColor",void 0);b.__decorate([q.property({type:w.NavigationConstraint,json:{write:!0}})],e.prototype,"navigationConstraint",void 0);return e=v=b.__decorate([A.subclass("esri.Ground")],e)})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,c){function h(e){return b.clamp(c.ensureInteger(e),0,255)}function d(e,g,f){e=Number(e);return isNaN(e)?f:e<g?g:e>f?f:e}function n(e,g){e=e.toString(16).padStart(2,"0");return g?e.slice(0,
1):e}class m{static blendColors(e,g,f,p=new m){p.r=Math.round(e.r+(g.r-e.r)*f);p.g=Math.round(e.g+(g.g-e.g)*f);p.b=Math.round(e.b+(g.b-e.b)*f);p.a=e.a+(g.a-e.a)*f;return p._sanitize()}static fromRgb(e,g){var f=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(f){e=f[2].split(/\s*,\s*/);f=f[1];if("rgb"===f&&3===e.length||"rgba"===f&&4===e.length)return f=e[0],"%"===f.charAt(f.length-1)?(f=e.map(p=>2.56*parseFloat(p)),4===e.length&&(f[3]=parseFloat(e[3])),m.fromArray(f,g)):m.fromArray(e.map(p=>
parseFloat(p)),g);if("hsl"===f&&3===e.length||"hsla"===f&&4===e.length)return m.fromArray(a.hsla2rgba(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),g)}return null}static fromHex(e,g=new m){if("#"!==e[0]||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:var f=parseInt(e.slice(1,2),16),p=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,4),16);e=5===e.length?15:parseInt(e.slice(4),16);return m.fromArray([f+16*f,p+16*p,r+16*r,(e+16*e)/255],g);case 7:case 9:return f=
parseInt(e.slice(1,3),16),p=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),e=7===e.length?255:parseInt(e.slice(7),16),m.fromArray([f,p,r,e/255],g);default:return null}}static fromArray(e,g=new m){g._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]));isNaN(g.a)&&(g.a=1);return g._sanitize()}static fromString(e,g){const f=a.isNamedColor(e)?a.getNamedColor(e):null;return f&&m.fromArray(f,g)||m.fromRgb(e,g)||m.fromHex(e,g)}static fromJSON(e){return null!=e?new m([e[0],e[1],e[2],(e[3]??255)/
255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.b=this.g=this.r=255;this.a=1;e&&this.setColor(e)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(e){"string"===typeof e?m.fromString(e,this):Array.isArray(e)?m.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof m||this._sanitize());return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,
this.g,this.b,this.a]}toHex(e){const g=e?.capitalize??!1;var f=e?.digits??6;e=3===f||4===f;const p=4===f||8===f;f=n(this.r,e);const r=n(this.g,e),t=n(this.b,e);e=p?n(Math.round(255*this.a),e):"";e=`#${f}${r}${t}${e}`;return g?e.toUpperCase():e}toCss(e=!1){const g=this.r+", "+this.g+", "+this.b;return e?`rgba(${g}, ${this.a})`:`rgb(${g})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=m.AlphaMode.ALWAYS){const g=h(this.r),f=h(this.g),p=h(this.b);return e===m.AlphaMode.ALWAYS||
1!==this.a?[g,f,p,h(255*this.a)]:[g,f,p]}clone(){return new m(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){this.r=Math.round(d(this.r,0,255));this.g=Math.round(d(this.g,0,255));this.b=Math.round(d(this.b,0,255));this.a=d(this.a,0,1);return this}_set(e,g,f,p){this.r=e;this.g=g;this.b=f;this.a=p}}m.prototype.declaredClass="esri.Color";(function(e){e=e.AlphaMode||(e.AlphaMode={});e[e.ALWAYS=
0]="ALWAYS";e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(m||={});return m})},"esri/colorUtils":function(){define(["exports"],function(a){function b(d){return h[d]??h[d.toLowerCase()]}function c(d,n,m){0>m&&++m;1<m&&--m;const e=6*m;return 1>e?d+(n-d)*e:1>2*m?n:2>3*m?d+(n-d)*(2/3-m)*6:d}const h={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,
0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,
248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,
206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,
230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,
196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,
173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,
114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=
function(d){return[...b(d)]};a.hex2rgba=function(d){var n=5<d.length;const m=n?8:4,e=(1<<m)-1,g=n?1:17;n=n?9===d.length:5===d.length;d=Number("0x"+d.slice(1));if(isNaN(d))return null;const f=[0,0,0,1];n&&(n=d&e,d>>=m,f[3]=g*n/255);n=d&e;d>>=m;f[2]=g*n;n=d&e;d>>=m;f[1]=g*n;n=d&e;d>>=m;f[0]=g*n;return f};a.hsla2rgba=function(d,n,m,e=1){d=(d%360+360)%360/360;n=.5>=m?m*(n+1):m+n-m*n;m=2*m-n;return[Math.round(255*c(m,n,d+1/3)),Math.round(255*c(m,n,d)),Math.round(255*c(m,n,d-1/3)),e]};a.isNamedColor=function(d){return!!h[d]||
!!h[d.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports"],function(a){function b(l,q,x){return Math.min(Math.max(l,q),x)}function c(l,q,x){return l+(q-l)*x}function h(l,q,x=1E-6){return l===q?!0:Number.isFinite(l)&&Number.isFinite(q)?(l>q?l-q:q-l)<=x:!1}function d(l){f.setFloat64(0,l);return f.getBigInt64(0)}function n(l){f.setBigInt64(0,l);return f.getFloat64(0)}function m(l){l=Math.abs(l);var q=d(l);q=q<=p?n(p):n(q-
p);return Math.abs(l-q)}function e(l){g[0]=l;return g[0]}const g=new Float32Array(1),f=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),p=BigInt("1000000"),r=m(1),t=e(3.4028234663852886E38);a.acosClamped=function(l){return Math.acos(b(l,-1,1))};a.asinClamped=function(l){return Math.asin(b(l,-1,1))};a.clamp=b;a.clampFloat32=function(l){return e(Math.max(-t,Math.min(l,t)))};a.decimalAdjust=function(l,q,x){if(void 0===x||0===+x)return Math[l](q);q=+q;x=+x;if(isNaN(q)||"number"!==typeof x||
0!==x%1)return NaN;q=q.toString().split("e");q=Math[l](+(q[0]+"e"+(q[1]?+q[1]-x:-x)));q=q.toString().split("e");return+(q[0]+"e"+(q[1]?+q[1]+x:x))};a.deg2rad=function(l){return l*Math.PI/180};a.floatEqualAbsolute=h;a.floatEqualRelative=function(l,q,x=1E-6){if(l===q)return!0;if(!Number.isFinite(l)||!Number.isFinite(q))return!1;const A=Math.abs(l-q),u=Math.abs(l),w=Math.abs(q);if(0===l||0===q||1E-12>u&&1E-12>w){if(A>.01*x)return!1}else if(A/(u+w)>x)return!1;return!0};a.floatEqualUlp=function(l,q,x=
r){if(l===q)return!0;if(!Number.isFinite(l)||!Number.isFinite(q))return!1;if(null!=x&&m(Math.min(Math.abs(l),Math.abs(q)))<x)return Math.abs(l-q)<=x;l=d(l);q=d(q);return 0>l!==0>q||(l<q?q-l:l-q)>p?!1:!0};a.gauss=function(l,q){return 1/Math.sqrt(2*Math.PI*q)*Math.exp(-(l*l/(2*q)))};a.hasScaling=function(l){const q=l[3]*l[3]+l[4]*l[4]+l[5]*l[5],x=l[6]*l[6]+l[7]*l[7]+l[8]*l[8];return!(h(l[0]*l[0]+l[1]*l[1]+l[2]*l[2],1)&&h(q,1)&&h(x,1))};a.isPowerOfTwo=function(l){return 0===(l&l-1)};a.lerp=c;a.moduloPositive=
function(l,q){return(l%q+q)%q};a.nextHighestPowerOfTen=function(l){return 10**Math.ceil(Math.LOG10E*Math.log(l))};a.nextHighestPowerOfTwo=function(l){--l;for(let q=1;32>q;q<<=1)l|=l>>q;return l+1};a.nextPowerOfTwo=function(l){l--;l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;l++;return l};a.numberMaxFloat32=t;a.rad2deg=function(l){return 180*l/Math.PI};a.reciprocalClamped=function(l,q=1E-6){return(0>l?-1:1)/Math.max(Math.abs(l),q)};a.roundToNearest=function(l,q){return 0===q?0:Math.round(l/q)*q};a.scale=
function(l,q,x,A,u){return c(A,u,(l-q)/(x-q))};a.smoothstep=function(l,q,x){l=b((x-l)/(q-l),0,1);return l*l*(3-2*l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(c){};a.neverReachedSilent=function(c){};a.typeCast=function(c){return()=>c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;a.NavigationConstraint=f=class extends c.JSONSupport{constructor(p){super(p);this.type="none"}clone(){return new f({type:this.type})}};b.__decorate([e.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=f=b.__decorate([g.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(a,b,c){a.enumeration=function(h,d={}){h=h instanceof b.JSONMap?h:new b.JSONMap(h,d);const {alwaysWriteDefaults:n,default:m,ignoreUnknown:e=!0,name:g,nonNullable:f,readOnly:p=!1}=d;return c.property({type:e?h.apiValues:String,json:{type:h.jsonValues,default:m,name:g,read:p?!1:{reader:h.read},write:{writer:h.write,alwaysWriteDefaults:n}},nonNullable:f,readOnly:p})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports",
"../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=function(c){c=b.ensureInteger(100*(1-c));return Math.max(0,Math.min(c,100))};a.transparencyToOpacity=function(c){return Math.max(0,Math.min(1-c/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/tslib.es6 ./Collection ./reactiveUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./accessorSupport/trackingUtils".split(" "),
function(a,b,c,h,d,n){let m=class extends b{constructor(e){super(e);this.getCollections=null}initialize(){this.addHandles(n.autorun(()=>this._refresh(),c.sync))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)this.removeAll();else{var g=0;for(const f of e)null!=f&&(g=this._processCollection(g,f));this.splice(g,this.length)}}_createNewInstance(e){return new b(e)}_processCollection(e,g){if(!g)return e;const f=this.itemFilterFunction??
(p=>!!p);for(const p of g)if(p&&(f(p)&&(g=this.indexOf(p,e),0<=g?g!==e&&this.reorder(p,e):this.add(p,e),++e),this.getChildrenFunction))if(g=this.getChildrenFunction(p),Array.isArray(g))for(const r of g)e=this._processCollection(e,r);else e=this._processCollection(e,g);return e}};a.__decorate([h.property()],m.prototype,"getCollections",void 0);a.__decorate([h.property()],m.prototype,"getChildrenFunction",void 0);a.__decorate([h.property()],m.prototype,"itemFilterFunction",void 0);return m=a.__decorate([d.subclass("esri.core.CollectionFlattener")],
m)})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,c,h,d,n,m,e,g){function f(A,u,w={}){return p(A,u,w,l)}function p(A,u,w={},z){let k=null;const v=w.once?(y,B)=>{z(y)&&(n.removeMaybe(k),u(y,B))}:(y,B)=>{z(y)&&u(y,B)};k=e.watchTracked(A,v,w.sync,w.equals);w.initial&&(A=A(),v(A,A));return k}function r(A,u,w,z={}){function k(){y&&B&&(B.remove(),
z.onListenerRemove?.(y),B=y=null)}function v(M){z.once&&z.once&&n.removeMaybe(C);w(M)}let y=null,B=null,C=null;const L=f(A,(M,G)=>{k();h.isEventedOrEventTarget(M)&&(y=M,B=h.on(M,u,v),z.onListenerAdd?.(M))},{sync:z.sync,initial:!0});return C=d.makeHandle(()=>{L.remove();k()})}function t(A,u,w){if(m.isAborted(w))return Promise.reject(m.createAbortError());const z=A();if(u?.(z))return Promise.resolve(z);let k=null;return new Promise((v,y)=>{k=d.handlesGroup([m.onAbort(w,()=>{k=n.removeMaybe(k);y(m.createAbortError())}),
p(A,B=>{k=n.removeMaybe(k);v(B)},{sync:!1,once:!0},u??l)])})}function l(A){return!0}function q(A){return!!A}function x(A,u){const w=new c;A=r(A,"after-splice",({added:z,start:k,deleteCount:v})=>{v=w.splice(k,v);for(const y of v)y.remove();z?.length&&(z=z.map(u),w.addMany(z,k))},{sync:!0,onListenerRemove:()=>w.drain(z=>z.remove()),onListenerAdd:z=>w.addMany(z.items.map(u))});w.addHandles(A);return w}a.autorun=g.autorun;a.initial={initial:!0};a.mapCollection=x;a.mapCollectionAsync=function(A,u){const w=
new c,z=x(A,y=>b.createTask(async B=>{const C=await u(y,B);if(m.isAborted(B))throw C.remove(),m.createAbortError();return C})),k=()=>null,v=async y=>{const B=await y.promise;y=z.indexOf(y);0>y||w.splice(y,1,B)};w.addMany(z.items.map(k));for(const y of z)m.ignoreAbortErrors(v(y));A=z.on("after-splice",({added:y,start:B,deleteCount:C})=>{C=w.splice(B,C);for(const L of C)L?.remove();if(y?.length){w.addMany(y.map(k),B);for(const L of y)m.ignoreAbortErrors(v(L))}});w.addHandles([d.destroyHandle(z),A]);
return w};a.on=r;a.once=function(A,u){return t(A,null,u)};a.pausable=function(A,u,w={}){let z=!1;const k=f(A,(v,y)=>{z||u(v,y)},w);return{remove(){k.remove()},pause(){z=!0},resume(){z=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=f;a.when=function(A,u,w={}){return p(A,u,w,q)};a.whenOnce=function(A,u){return t(A,q,u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/editableLayers":function(){define(["exports","../catalog/catalogUtils","./layerUtils"],
function(a,b,c){a.isEditableLayer=function(h){return!(!("object"===typeof h&&null!=h&&"loaded"in h&&!0===h.loaded&&"type"in h&&c.getEffectiveLayerCapabilities(h)?.operations?.supportsEditing)||"editingEnabled"in h&&!c.getEffectiveEditingEnabled(h)||b.isLayerFromCatalog(h))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/catalog/catalogUtils":function(){define(["exports","../../core/handleUtils","../../core/reactiveUtils"],function(a,b,c){function h(n){if(n.destroyed)return!1;
d.has(n)||n.addHandles([c.watch(()=>{const m=n.parent;return m&&"type"in m?"catalog-dynamic-group"===m.type||h(m):!1},m=>d.set(n,m),c.syncAndInitial),b.makeHandle(()=>d.delete(n))]);return d.get(n)}const d=new WeakMap;a.getCatalogLayerForLayer=function(n){return n.parent&&"type"in n.parent&&"catalog-dynamic-group"===n.parent.type?n.parent.parent:null};a.isLayerFromCatalog=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(a,b,c,h,d,n,m,e,g,f){function p(F,H){let R;if("string"===typeof F){const J=F in f.esriBasemapDefinitions,K=!J&&F.includes("/");if(!J&&!K)return c.apiKey?M().warn(`Unable to find basemap definition for: ${F}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`):(H=Object.entries(f.esriBasemapDefinitions).filter(([,Q])=>Q.classic||Q.is3d).map(([Q])=>`"${Q}"`).sort().join(", "),M().warn(`Unable to find basemap definition for: ${F}. Try one of these: ${H}`)),null;H&&(R=
H[F]);R||(R=J?b.fromId(F):new b({style:{id:F}}),H&&(H[F]=R))}else R=e.ensureType(b,F);R?.destroyed&&(M().warn("The provided basemap is already destroyed",{basemap:R}),R=null);return R}function r(F){if(G)return G(F);let H=null;F=x(F);const R=!F?.baseLayers.length;for(const K in f.esriBasemapDefinitions){var J=z(f.esriBasemapDefinitions[K]);J=v(F,J,{mustMatchReferences:R});if("equal"===J){H=K;break}"base-layers-equal"===J&&(H=K)}return H}function t(F,H){const R=new h;F.forEach(J=>{const K=H.find(Q=>
"scene"!==Q.type&&B(u(J),u(Q)))||J;R.includes(K)?R.push(J):R.push(K)});return R}function l(F){if(q(F.url))return!0;if("vector-tile"===F.type)for(const H in F.sourceNameToSource)if(q(F.sourceNameToSource[H]?.sourceUrl))return!0;return!1}function q(F){if(!F)return!1;F=new m.Url(m.makeAbsolute(F));return!!F.authority&&E.test(F.authority)}function x(F){return F?!F.loaded&&F.resourceInfo?z(F.resourceInfo.data):{baseLayers:A(F.baseLayers),referenceLayers:A(F.referenceLayers)}:null}function A(F){return(h.isCollection(F)?
F.toArray():F).map(u)}function u(F){return{type:F.type,effect:"effect"in F?F.effect:void 0,url:C("urlTemplate"in F&&F.urlTemplate||F.url||"styleUrl"in F&&F.styleUrl||""),minScale:"minScale"in F&&null!=F.minScale?F.minScale:0,maxScale:"maxScale"in F&&null!=F.maxScale?F.maxScale:0,opacity:null!=F.opacity?F.opacity:1,visible:null!=F.visible?!!F.visible:!0,sublayers:"map-image"!==F.type&&"wms"!==F.type||null==F.sublayers?void 0:F.sublayers?.map(H=>({id:H.id,visible:H.visible})),activeLayerId:"wmts"===
F.type?F.activeLayer?.id:void 0}}function w(F){return F.isReference||"ArcGISSceneServiceLayer"===F.layerType}function z(F){return F?{baseLayers:k((F.baseMapLayers??[]).filter(H=>!w(H))),referenceLayers:k((F.baseMapLayers??[]).filter(H=>w(H)))}:null}function k(F){return F.map(H=>{let R;switch(H.layerType){case "VectorTileLayer":R="vector-tile";break;case "ArcGISTiledMapServiceLayer":R="tile";break;case "ArcGISSceneServiceLayer":R="scene";break;default:R="unknown"}return{type:R,effect:H.effect,url:C(H.templateUrl||
H.urlTemplate||H.styleUrl||H.url),minScale:H.minScale??0,maxScale:H.maxScale??0,opacity:H.opacity??1,visible:null!=H.visibility?!!H.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function v(F,H,R){return null!=F!==(null!=H)?"not-equal":F&&H?y(F.baseLayers,H.baseLayers)?y(F.referenceLayers,H.referenceLayers)?"equal":R.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function y(F,H){if(F.length!==H.length)return!1;for(let R=0;R<F.length;R++)if(!B(F[R],H[R]))return!1;return!0}
function B(F,H){if(F.type!==H.type||F.url!==H.url||F.minScale!==H.minScale||F.maxScale!==H.maxScale||F.visible!==H.visible||F.opacity!==H.opacity||!g.effectEquals(F.effect,H.effect))return!1;if(null!=F.activeLayerId||null!=H.activeLayerId)return F.activeLayerId===H.activeLayerId;if(null!=F.sublayers||null!=H.sublayers){if(null==F.sublayers||null==H.sublayers||F.sublayers.length!==H.sublayers.length)return!1;for(let R=0;R<F.sublayers.length;R++){const J=F.sublayers.at(R),K=H.sublayers.at(R);if(J?.id!==
K?.id||J?.visible!==K?.visible)return!1}}return!0}function C(F){return F?m.normalize(F).replace(/^\s*https?:/i,"").toLowerCase():""}function L(F){return"portalItem"in F?F.portalItem?.thumbnailUrl:void 0}const M=()=>d.getLogger("esri.support.basemapUtils");let G;const E=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(F,H=null){F=p(F);if(!F)return null;F=F.clone();H&&(F.baseLayers=t(F.baseLayers,H.baseLayers),F.referenceLayers=t(F.referenceLayers,H.referenceLayers));
return F};a.contentEquals=function(F,H){if(F===H||null!=F?.portalItem?.id&&F.portalItem.id===H?.portalItem?.id)return!0;F=x(F);H=x(H);return"equal"===v(F,H,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(F){for(const H in F)n.destroyMaybe(F[H]),delete F[H]};a.ensureType=p;a.findSpatialReference=function(F,H){if(null==H||null==F)return{spatialReference:null,updating:!1};if("not-loaded"===H.loadStatus)return H.load(),{spatialReference:null,updating:!0};if(H.spatialReference)return{spatialReference:H.spatialReference,
updating:!1};if(0===H.baseLayers.length)return{spatialReference:null,updating:!1};H=H.baseLayers.at(0);switch(H.loadStatus){case "not-loaded":H.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}H=(("supportedSpatialReferences"in H?H.supportedSpatialReferences:null)||["tileInfo"in H?H.tileInfo?.spatialReference:H.spatialReference]).filter(Boolean);const R=F.spatialReference;return R?{spatialReference:H.find(J=>R.equals(J))??H[0]??
null,updating:!1}:{spatialReference:H[0],updating:!1}};a.getBasemapThumbnailUrl=function(F){if(!F)return null;var {thumbnailUrl:H}=F;return H?H:(H=r(F))?f.esriBasemapDefinitions[H].thumbnailUrl:n.mappedFind(F.baseLayers,L)};a.getWellKnownBasemapId=r;a.hasDeveloperBasemapLayer=function(F){return!!F?.baseLayers.concat(F.referenceLayers).some(l)};a.isBasemap3D=function(F){return"Web Scene"===F.portalItem?.type||F.referenceLayers.some(H=>"scene"===H.type)};a.isBasemapInBeta=function(F){return!!F?.portalItem?.tags?.some(H=>
"beta"===H.toLowerCase())};a.isBasemapLayer=function(F,H){return F.basemap?.referenceLayers?.some(R=>R.uid===H)||F.basemap?.baseLayers?.some(R=>R.uid===H)};a.isDeveloperBasemapLayer=l;a.overrideGetWellKnownBasemapId=function(F){G=F};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(c,h){const d=c.length>h.length?c:h;return(c.length>h.length?h:c).every((n,m)=>n.type===
d[m].type)};a.effectEquals=function(c,h){c=JSON.stringify(c??null);h=JSON.stringify(h??null);return c===h};a.isEffectFunctions=function(c){return(c=c[0])?"type"in c:!1};a.normalizeEffects=function(c,h){const d=c.length>h.length?c:h;c=c.length>h.length?h:c;for(h=c.length;h<d.length;h++)c.push(b.createEffectWithInitialValues(d[h]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32",
"./colorMatrixFunctions"],function(a,b,c,h,d){function n(l,q,x){return l+(q-l)*x}function m(l){return Math.round(1E3*c.px2pt(l))/1E3}class e{constructor(l,q,x){this.strength=l;this.radius=q;this.threshold=x;this.type="bloom"}interpolate(l,q,x){this.strength=n(l.strength,q.strength,x);this.radius=n(l.radius,q.radius,x);this.threshold=n(l.threshold,q.threshold,x)}clone(){return new e(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:m(this.radius),strength:this.strength,
threshold:this.threshold}}}class g{constructor(l){this.radius=l;this.type="blur"}interpolate(l,q,x){this.radius=Math.round(n(l.radius,q.radius,x))}clone(){return new g(this.radius)}toJSON(){return{type:"blur",radius:m(this.radius)}}}class f{constructor(l,q){this.type=l;this.amount=q;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,q,x){this.amount=
n(l.amount,q.amount,x);this._updateMatrix()}clone(){return new f(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const l=this._colorMatrix||h.create();switch(this.type){case "brightness":this._colorMatrix=d.brightness(l,this.amount);break;case "contrast":this._colorMatrix=d.contrast(l,this.amount);break;case "grayscale":this._colorMatrix=d.grayscale(l,this.amount);break;case "invert":this._colorMatrix=d.invert(l,this.amount);break;case "saturate":this._colorMatrix=
d.saturate(l,this.amount);break;case "sepia":this._colorMatrix=d.sepia(l,this.amount)}}}class p{constructor(l,q,x,A){this.offsetX=l;this.offsetY=q;this.blurRadius=x;this.color=A;this.type="drop-shadow"}interpolate(l,q,x){this.offsetX=n(l.offsetX,q.offsetX,x);this.offsetY=n(l.offsetY,q.offsetY,x);this.blurRadius=n(l.blurRadius,q.blurRadius,x);this.color[0]=Math.round(n(l.color[0],q.color[0],x));this.color[1]=Math.round(n(l.color[1],q.color[1],x));this.color[2]=Math.round(n(l.color[2],q.color[2],x));
this.color[3]=n(l.color[3],q.color[3],x)}clone(){return new p(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const l=[...this.color];l[3]*=255;return{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),blurRadius:m(this.blurRadius),color:l}}}class r{constructor(l){this.angle=l;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,q,x){this.angle=n(l.angle,q.angle,x);this._updateMatrix()}clone(){return new r(this.angle)}toJSON(){return{type:"hue-rotate",
angle:this.angle}}_updateMatrix(){const l=this._colorMatrix||h.create();this._colorMatrix=d.rotateHue(l,this.angle)}}class t{constructor(l){this.amount=l;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(l,q,x){this.amount=n(l.amount,q.amount,x)}clone(){return new t(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}a.BloomEffect=e;a.BlurEffect=g;a.ColorMatrixEffect=f;a.DropShadowEffect=p;a.HueRotateEffect=r;a.OpacityEffect=t;a.createEffectWithInitialValues=function(l){switch(l.type){case "grayscale":case "sepia":case "invert":return new f(l.type,
0);case "saturate":case "brightness":case "contrast":return new f(l.type,1);case "opacity":return new t(1);case "hue-rotate":return new r(0);case "blur":return new g(0);case "drop-shadow":return new p(0,0,0,[...b.getNamedColor("transparent")]);case "bloom":return new e(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(d){return d?72*d/96:0}function c(d=0,n=0){return{x:d,y:n}}const h=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;
a.castRenderScreenPointArray=function(d){return d};a.castRenderScreenPointArray3=function(d){return d};a.castScreenPointArray=function(d){return d};a.cloneScreenPoint=function(d){return d?c(d.x,d.y):null};a.createRenderScreenPoint=function(d=0,n=0){return{x:d,y:n}};a.createRenderScreenPointArray=function(d=0,n=0){return[d,n]};a.createRenderScreenPointArray3=function(d=0,n=0,m=0){return[d,n,m]};a.createScreenPoint=c;a.createScreenPointArray=function(d=0,n=0){return[d,n]};a.pt2px=function(d){return d?
d/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(d,n){return n?(n.x=d[0],n.y=d[1],n):{x:d[0],y:d[1]}};a.screenPointObjectToArray=function(d,n){return n?(n[0]=d.x,n[1]=d.y,2<n.length&&(n[2]=0),n):[d.x,d.y]};a.toPt=function(d){if("string"===typeof d){var n=d.match(h);if(n){var m=Number(n[1]);n=n[3]&&n[3].toLowerCase();d="-"===d.charAt(0);m="px"===n?b(m):m;return d?-m:m}console.warn("screenUtils.toPt: input not recognized!");return null}return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],function(a){function b(){const e=new Float32Array(16);e[0]=1;e[5]=1;e[10]=1;e[15]=1;return e}function c(e){const g=new Float32Array(16);g[0]=e[0];g[1]=e[1];g[2]=e[2];g[3]=e[3];g[4]=e[4];g[5]=e[5];g[6]=e[6];g[7]=e[7];g[8]=e[8];g[9]=e[9];g[10]=e[10];g[11]=e[11];g[12]=e[12];g[13]=e[13];g[14]=e[14];g[15]=e[15];return g}function h(e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y){const B=new Float32Array(16);B[0]=e;B[1]=g;B[2]=f;B[3]=p;B[4]=r;
B[5]=t;B[6]=l;B[7]=q;B[8]=x;B[9]=A;B[10]=u;B[11]=w;B[12]=z;B[13]=k;B[14]=v;B[15]=y;return B}function d(e,g){return new Float32Array(e,g,16)}const n=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:h},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=h;a.mat4f32=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports",
"../../core/libs/gl-matrix-2/math/mat4"],function(a,b){a.brightness=(c,h)=>{c=b.set(c,h,0,0,0,0,h,0,0,0,0,h,0,0,0,0,1);return b.transpose(c,c)};a.contrast=(c,h)=>{c=b.set(c,h,0,0,.5-.5*h,0,h,0,.5-.5*h,0,0,h,.5-.5*h,0,0,0,1);return b.transpose(c,c)};a.grayscale=(c,h)=>{h=1-h;c=b.set(c,.2126+.7874*h,.7152-.7152*h,.0722-.0722*h,0,.2126-.2126*h,.7152+.2848*h,.0722-.0722*h,0,.2126-.2126*h,.7152-.7152*h,.0722+.9278*h,0,0,0,0,1);return b.transpose(c,c)};a.invert=(c,h)=>{const d=1-2*h;c=b.set(c,d,0,0,h,0,
d,0,h,0,0,d,h,0,0,0,1);return b.transpose(c,c)};a.rotateHue=(c,h)=>{const d=Math.sin(h*Math.PI/180);h=Math.cos(h*Math.PI/180);c=b.set(c,.213+.787*h-.213*d,.715-.715*h-.715*d,.072-.072*h+.928*d,0,.213-.213*h+.143*d,.715+.285*h+.14*d,.072-.072*h-.283*d,0,.213-.213*h-.787*d,.715-.715*h+.715*d,.072+.928*h+.072*d,0,0,0,0,1);return b.transpose(c,c)};a.saturate=(c,h)=>{c=b.set(c,.213+.787*h,.715-.715*h,.072-.072*h,0,.213-.213*h,.715+.285*h,.072-.072*h,0,.213-.213*h,.715-.715*h,.072+.928*h,0,0,0,0,1);return b.transpose(c,
c)};a.sepia=(c,h)=>{h=1-h;c=b.set(c,.393+.607*h,.769-.769*h,.189-.189*h,0,.349-.349*h,.686+.314*h,.168-.168*h,0,.272-.272*h,.534-.534*h,.131+.869*h,0,0,0,0,1);return b.transpose(c,c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(a,b,c){function h(I,T){I[0]=T[0];I[1]=T[1];I[2]=T[2];I[3]=T[3];I[4]=T[4];I[5]=T[5];I[6]=T[6];I[7]=T[7];I[8]=T[8];I[9]=T[9];I[10]=T[10];I[11]=
T[11];I[12]=T[12];I[13]=T[13];I[14]=T[14];I[15]=T[15];return I}function d(I,T,da,la,ua,Y,ea,ja,V,O,P,W,ca,oa,Aa,Ga,Fa){I[0]=T;I[1]=da;I[2]=la;I[3]=ua;I[4]=Y;I[5]=ea;I[6]=ja;I[7]=V;I[8]=O;I[9]=P;I[10]=W;I[11]=ca;I[12]=oa;I[13]=Aa;I[14]=Ga;I[15]=Fa;return I}function n(I){I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=1;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=1;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function m(I,T){if(I===T){const da=T[1],la=T[2],ua=T[3],Y=T[6],ea=T[7],ja=T[11];I[1]=T[4];I[2]=T[8];I[3]=
T[12];I[4]=da;I[6]=T[9];I[7]=T[13];I[8]=la;I[9]=Y;I[11]=T[14];I[12]=ua;I[13]=ea;I[14]=ja}else I[0]=T[0],I[1]=T[4],I[2]=T[8],I[3]=T[12],I[4]=T[1],I[5]=T[5],I[6]=T[9],I[7]=T[13],I[8]=T[2],I[9]=T[6],I[10]=T[10],I[11]=T[14],I[12]=T[3],I[13]=T[7],I[14]=T[11],I[15]=T[15];return I}function e(I,T){g(I,T)||n(I);return I}function g(I,T){const da=T[0],la=T[1],ua=T[2],Y=T[3],ea=T[4],ja=T[5],V=T[6],O=T[7],P=T[8],W=T[9],ca=T[10],oa=T[11],Aa=T[12],Ga=T[13],Fa=T[14];T=T[15];const Pa=da*ja-la*ea,Na=da*V-ua*ea,Qa=
da*O-Y*ea,Sa=la*V-ua*ja,Ya=la*O-Y*ja,cb=ua*O-Y*V,ab=P*Ga-W*Aa,nb=P*Fa-ca*Aa,ta=P*T-oa*Aa,Ba=W*Fa-ca*Ga,Ra=W*T-oa*Ga,$a=ca*T-oa*Fa;let gb=Pa*$a-Na*Ra+Qa*Ba+Sa*ta-Ya*nb+cb*ab;if(!gb)return null;gb=1/gb;I[0]=(ja*$a-V*Ra+O*Ba)*gb;I[1]=(ua*Ra-la*$a-Y*Ba)*gb;I[2]=(Ga*cb-Fa*Ya+T*Sa)*gb;I[3]=(ca*Ya-W*cb-oa*Sa)*gb;I[4]=(V*ta-ea*$a-O*nb)*gb;I[5]=(da*$a-ua*ta+Y*nb)*gb;I[6]=(Fa*Qa-Aa*cb-T*Na)*gb;I[7]=(P*cb-ca*Qa+oa*Na)*gb;I[8]=(ea*Ra-ja*ta+O*ab)*gb;I[9]=(la*ta-da*Ra-Y*ab)*gb;I[10]=(Aa*Ya-Ga*Qa+T*Pa)*gb;I[11]=
(W*Qa-P*Ya-oa*Pa)*gb;I[12]=(ja*nb-ea*Ba-V*ab)*gb;I[13]=(da*Ba-la*nb+ua*ab)*gb;I[14]=(Ga*Na-Aa*Sa-Fa*Pa)*gb;I[15]=(P*Sa-W*Na+ca*Pa)*gb;return I}function f(I,T){const da=T[0],la=T[1],ua=T[2],Y=T[3],ea=T[4],ja=T[5],V=T[6],O=T[7],P=T[8],W=T[9],ca=T[10],oa=T[11],Aa=T[12],Ga=T[13],Fa=T[14];T=T[15];I[0]=ja*(ca*T-oa*Fa)-W*(V*T-O*Fa)+Ga*(V*oa-O*ca);I[1]=-(la*(ca*T-oa*Fa)-W*(ua*T-Y*Fa)+Ga*(ua*oa-Y*ca));I[2]=la*(V*T-O*Fa)-ja*(ua*T-Y*Fa)+Ga*(ua*O-Y*V);I[3]=-(la*(V*oa-O*ca)-ja*(ua*oa-Y*ca)+W*(ua*O-Y*V));I[4]=
-(ea*(ca*T-oa*Fa)-P*(V*T-O*Fa)+Aa*(V*oa-O*ca));I[5]=da*(ca*T-oa*Fa)-P*(ua*T-Y*Fa)+Aa*(ua*oa-Y*ca);I[6]=-(da*(V*T-O*Fa)-ea*(ua*T-Y*Fa)+Aa*(ua*O-Y*V));I[7]=da*(V*oa-O*ca)-ea*(ua*oa-Y*ca)+P*(ua*O-Y*V);I[8]=ea*(W*T-oa*Ga)-P*(ja*T-O*Ga)+Aa*(ja*oa-O*W);I[9]=-(da*(W*T-oa*Ga)-P*(la*T-Y*Ga)+Aa*(la*oa-Y*W));I[10]=da*(ja*T-O*Ga)-ea*(la*T-Y*Ga)+Aa*(la*O-Y*ja);I[11]=-(da*(ja*oa-O*W)-ea*(la*oa-Y*W)+P*(la*O-Y*ja));I[12]=-(ea*(W*Fa-ca*Ga)-P*(ja*Fa-V*Ga)+Aa*(ja*ca-V*W));I[13]=da*(W*Fa-ca*Ga)-P*(la*Fa-ua*Ga)+Aa*(la*
ca-ua*W);I[14]=-(da*(ja*Fa-V*Ga)-ea*(la*Fa-ua*Ga)+Aa*(la*V-ua*ja));I[15]=da*(ja*ca-V*W)-ea*(la*ca-ua*W)+P*(la*V-ua*ja);return I}function p(I){const T=I[0],da=I[1],la=I[2],ua=I[3],Y=I[4],ea=I[5],ja=I[6],V=I[7],O=I[8],P=I[9],W=I[10],ca=I[11],oa=I[12],Aa=I[13],Ga=I[14];I=I[15];return(T*ea-da*Y)*(W*I-ca*Ga)-(T*ja-la*Y)*(P*I-ca*Aa)+(T*V-ua*Y)*(P*Ga-W*Aa)+(da*ja-la*ea)*(O*I-ca*oa)-(da*V-ua*ea)*(O*Ga-W*oa)+(la*V-ua*ja)*(O*Aa-P*oa)}function r(I,T,da){const la=T[0],ua=T[1],Y=T[2],ea=T[3],ja=T[4],V=T[5],O=
T[6],P=T[7],W=T[8],ca=T[9],oa=T[10],Aa=T[11],Ga=T[12],Fa=T[13],Pa=T[14];T=T[15];let Na=da[0],Qa=da[1],Sa=da[2],Ya=da[3];I[0]=Na*la+Qa*ja+Sa*W+Ya*Ga;I[1]=Na*ua+Qa*V+Sa*ca+Ya*Fa;I[2]=Na*Y+Qa*O+Sa*oa+Ya*Pa;I[3]=Na*ea+Qa*P+Sa*Aa+Ya*T;Na=da[4];Qa=da[5];Sa=da[6];Ya=da[7];I[4]=Na*la+Qa*ja+Sa*W+Ya*Ga;I[5]=Na*ua+Qa*V+Sa*ca+Ya*Fa;I[6]=Na*Y+Qa*O+Sa*oa+Ya*Pa;I[7]=Na*ea+Qa*P+Sa*Aa+Ya*T;Na=da[8];Qa=da[9];Sa=da[10];Ya=da[11];I[8]=Na*la+Qa*ja+Sa*W+Ya*Ga;I[9]=Na*ua+Qa*V+Sa*ca+Ya*Fa;I[10]=Na*Y+Qa*O+Sa*oa+Ya*Pa;I[11]=
Na*ea+Qa*P+Sa*Aa+Ya*T;Na=da[12];Qa=da[13];Sa=da[14];Ya=da[15];I[12]=Na*la+Qa*ja+Sa*W+Ya*Ga;I[13]=Na*ua+Qa*V+Sa*ca+Ya*Fa;I[14]=Na*Y+Qa*O+Sa*oa+Ya*Pa;I[15]=Na*ea+Qa*P+Sa*Aa+Ya*T;return I}function t(I,T,da){const la=da[0],ua=da[1];da=da[2];if(T===I)I[12]=T[0]*la+T[4]*ua+T[8]*da+T[12],I[13]=T[1]*la+T[5]*ua+T[9]*da+T[13],I[14]=T[2]*la+T[6]*ua+T[10]*da+T[14],I[15]=T[3]*la+T[7]*ua+T[11]*da+T[15];else{const Y=T[0],ea=T[1],ja=T[2],V=T[3],O=T[4],P=T[5],W=T[6],ca=T[7],oa=T[8],Aa=T[9],Ga=T[10],Fa=T[11];I[0]=
Y;I[1]=ea;I[2]=ja;I[3]=V;I[4]=O;I[5]=P;I[6]=W;I[7]=ca;I[8]=oa;I[9]=Aa;I[10]=Ga;I[11]=Fa;I[12]=Y*la+O*ua+oa*da+T[12];I[13]=ea*la+P*ua+Aa*da+T[13];I[14]=ja*la+W*ua+Ga*da+T[14];I[15]=V*la+ca*ua+Fa*da+T[15]}return I}function l(I,T,da){const la=da[0],ua=da[1];da=da[2];I[0]=T[0]*la;I[1]=T[1]*la;I[2]=T[2]*la;I[3]=T[3]*la;I[4]=T[4]*ua;I[5]=T[5]*ua;I[6]=T[6]*ua;I[7]=T[7]*ua;I[8]=T[8]*da;I[9]=T[9]*da;I[10]=T[10]*da;I[11]=T[11]*da;I[12]=T[12];I[13]=T[13];I[14]=T[14];I[15]=T[15];return I}function q(I,T,da,la){var ua=
la[0],Y=la[1];la=la[2];var ea=Math.sqrt(ua*ua+Y*Y+la*la);if(ea<=c.getEpsilon())h(I,T);else{ea=1/ea;ua*=ea;Y*=ea;la*=ea;var ja=Math.sin(da),V=Math.cos(da),O=1-V;da=T[0];ea=T[1];var P=T[2],W=T[3],ca=T[4],oa=T[5],Aa=T[6],Ga=T[7],Fa=T[8],Pa=T[9],Na=T[10],Qa=T[11],Sa=ua*ua*O+V,Ya=Y*ua*O+la*ja,cb=la*ua*O-Y*ja,ab=ua*Y*O-la*ja,nb=Y*Y*O+V,ta=la*Y*O+ua*ja,Ba=ua*la*O+Y*ja;ua=Y*la*O-ua*ja;Y=la*la*O+V;I[0]=da*Sa+ca*Ya+Fa*cb;I[1]=ea*Sa+oa*Ya+Pa*cb;I[2]=P*Sa+Aa*Ya+Na*cb;I[3]=W*Sa+Ga*Ya+Qa*cb;I[4]=da*ab+ca*nb+Fa*
ta;I[5]=ea*ab+oa*nb+Pa*ta;I[6]=P*ab+Aa*nb+Na*ta;I[7]=W*ab+Ga*nb+Qa*ta;I[8]=da*Ba+ca*ua+Fa*Y;I[9]=ea*Ba+oa*ua+Pa*Y;I[10]=P*Ba+Aa*ua+Na*Y;I[11]=W*Ba+Ga*ua+Qa*Y;T!==I&&(I[12]=T[12],I[13]=T[13],I[14]=T[14],I[15]=T[15])}}function x(I,T,da){const la=Math.sin(da);da=Math.cos(da);const ua=T[4],Y=T[5],ea=T[6],ja=T[7],V=T[8],O=T[9],P=T[10],W=T[11];T!==I&&(I[0]=T[0],I[1]=T[1],I[2]=T[2],I[3]=T[3],I[12]=T[12],I[13]=T[13],I[14]=T[14],I[15]=T[15]);I[4]=ua*da+V*la;I[5]=Y*da+O*la;I[6]=ea*da+P*la;I[7]=ja*da+W*la;I[8]=
V*da-ua*la;I[9]=O*da-Y*la;I[10]=P*da-ea*la;I[11]=W*da-ja*la;return I}function A(I,T,da){const la=Math.sin(da);da=Math.cos(da);const ua=T[0],Y=T[1],ea=T[2],ja=T[3],V=T[8],O=T[9],P=T[10],W=T[11];T!==I&&(I[4]=T[4],I[5]=T[5],I[6]=T[6],I[7]=T[7],I[12]=T[12],I[13]=T[13],I[14]=T[14],I[15]=T[15]);I[0]=ua*da-V*la;I[1]=Y*da-O*la;I[2]=ea*da-P*la;I[3]=ja*da-W*la;I[8]=ua*la+V*da;I[9]=Y*la+O*da;I[10]=ea*la+P*da;I[11]=ja*la+W*da;return I}function u(I,T,da){const la=Math.sin(da);da=Math.cos(da);const ua=T[0],Y=T[1],
ea=T[2],ja=T[3],V=T[4],O=T[5],P=T[6],W=T[7];T!==I&&(I[8]=T[8],I[9]=T[9],I[10]=T[10],I[11]=T[11],I[12]=T[12],I[13]=T[13],I[14]=T[14],I[15]=T[15]);I[0]=ua*da+V*la;I[1]=Y*da+O*la;I[2]=ea*da+P*la;I[3]=ja*da+W*la;I[4]=V*da-ua*la;I[5]=O*da-Y*la;I[6]=P*da-ea*la;I[7]=W*da-ja*la;return I}function w(I,T){I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=1;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=1;I[11]=0;I[12]=T[0];I[13]=T[1];I[14]=T[2];I[15]=1;return I}function z(I,T){I[0]=T[0];I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=T[1];I[6]=
0;I[7]=0;I[8]=0;I[9]=0;I[10]=T[2];I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function k(I,T,da){if(0===T)return n(I);let la=da[0],ua=da[1];da=da[2];var Y=Math.sqrt(la*la+ua*ua+da*da);if(Y<=c.getEpsilon())return null;Y=1/Y;la*=Y;ua*=Y;da*=Y;Y=Math.sin(T);T=Math.cos(T);const ea=1-T;I[0]=la*la*ea+T;I[1]=ua*la*ea+da*Y;I[2]=da*la*ea-ua*Y;I[3]=0;I[4]=la*ua*ea-da*Y;I[5]=ua*ua*ea+T;I[6]=da*ua*ea+la*Y;I[7]=0;I[8]=la*da*ea+ua*Y;I[9]=ua*da*ea-la*Y;I[10]=da*da*ea+T;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=
1;return I}function v(I,T){const da=Math.sin(T);T=Math.cos(T);I[0]=1;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=T;I[6]=da;I[7]=0;I[8]=0;I[9]=-da;I[10]=T;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function y(I,T){const da=Math.sin(T);T=Math.cos(T);I[0]=T;I[1]=0;I[2]=-da;I[3]=0;I[4]=0;I[5]=1;I[6]=0;I[7]=0;I[8]=da;I[9]=0;I[10]=T;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function B(I,T){const da=Math.sin(T);T=Math.cos(T);I[0]=T;I[1]=da;I[2]=0;I[3]=0;I[4]=-da;I[5]=T;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=
1;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function C(I,T,da){var la=T[0],ua=T[1],Y=T[2],ea=T[3],ja=la+la,V=ua+ua;const O=Y+Y;T=la*ja;const P=la*V;la*=O;const W=ua*V;ua*=O;Y*=O;ja*=ea;V*=ea;ea*=O;I[0]=1-(W+Y);I[1]=P+ea;I[2]=la-V;I[3]=0;I[4]=P-ea;I[5]=1-(T+Y);I[6]=ua+ja;I[7]=0;I[8]=la+V;I[9]=ua-ja;I[10]=1-(T+W);I[11]=0;I[12]=da[0];I[13]=da[1];I[14]=da[2];I[15]=1;return I}function L(I,T){const da=ha,la=-T[0],ua=-T[1],Y=-T[2],ea=T[3],ja=T[4],V=T[5],O=T[6],P=T[7],W=la*la+ua*ua+Y*Y+ea*ea;0<W?(da[0]=
2*(ja*ea+P*la+V*Y-O*ua)/W,da[1]=2*(V*ea+P*ua+O*la-ja*Y)/W,da[2]=2*(O*ea+P*Y+ja*ua-V*la)/W):(da[0]=2*(ja*ea+P*la+V*Y-O*ua),da[1]=2*(V*ea+P*ua+O*la-ja*Y),da[2]=2*(O*ea+P*Y+ja*ua-V*la));C(I,T,da);return I}function M(I,T){I[0]=T[12];I[1]=T[13];I[2]=T[14];return I}function G(I,T){const da=T[0],la=T[1],ua=T[2],Y=T[4],ea=T[5],ja=T[6],V=T[8],O=T[9];T=T[10];I[0]=Math.sqrt(da*da+la*la+ua*ua);I[1]=Math.sqrt(Y*Y+ea*ea+ja*ja);I[2]=Math.sqrt(V*V+O*O+T*T);return I}function E(I,T){const da=T[0]+T[5]+T[10];let la=
0;0<da?(la=2*Math.sqrt(da+1),I[3]=.25*la,I[0]=(T[6]-T[9])/la,I[1]=(T[8]-T[2])/la,I[2]=(T[1]-T[4])/la):T[0]>T[5]&&T[0]>T[10]?(la=2*Math.sqrt(1+T[0]-T[5]-T[10]),I[3]=(T[6]-T[9])/la,I[0]=.25*la,I[1]=(T[1]+T[4])/la,I[2]=(T[8]+T[2])/la):T[5]>T[10]?(la=2*Math.sqrt(1+T[5]-T[0]-T[10]),I[3]=(T[8]-T[2])/la,I[0]=(T[1]+T[4])/la,I[1]=.25*la,I[2]=(T[6]+T[9])/la):(la=2*Math.sqrt(1+T[10]-T[0]-T[5]),I[3]=(T[1]-T[4])/la,I[0]=(T[8]+T[2])/la,I[1]=(T[6]+T[9])/la,I[2]=.25*la);return I}function F(I,T,da,la){var ua=T[0],
Y=T[1],ea=T[2],ja=T[3],V=ua+ua,O=Y+Y,P=ea+ea;T=ua*V;const W=ua*O;ua*=P;const ca=Y*O;Y*=P;ea*=P;V*=ja;O*=ja;ja*=P;P=la[0];const oa=la[1];la=la[2];I[0]=(1-(ca+ea))*P;I[1]=(W+ja)*P;I[2]=(ua-O)*P;I[3]=0;I[4]=(W-ja)*oa;I[5]=(1-(T+ea))*oa;I[6]=(Y+V)*oa;I[7]=0;I[8]=(ua+O)*la;I[9]=(Y-V)*la;I[10]=(1-(T+ca))*la;I[11]=0;I[12]=da[0];I[13]=da[1];I[14]=da[2];I[15]=1;return I}function H(I,T,da,la,ua){var Y=T[0],ea=T[1],ja=T[2],V=T[3],O=Y+Y,P=ea+ea,W=ja+ja;T=Y*O;var ca=Y*P,oa=Y*W;Y=ea*P;ea*=W;var Aa=ja*W;ja=V*O;
P*=V;const Ga=V*W;var Fa=la[0],Pa=la[1];W=la[2];la=ua[0];V=ua[1];ua=ua[2];O=(1-(Y+Aa))*Fa;const Na=(ca+Ga)*Fa;Fa*=oa-P;ca=(ca-Ga)*Pa;Aa=(1-(T+Aa))*Pa;Pa*=ea+ja;oa=(oa+P)*W;ea=(ea-ja)*W;T=(1-(T+Y))*W;I[0]=O;I[1]=Na;I[2]=Fa;I[3]=0;I[4]=ca;I[5]=Aa;I[6]=Pa;I[7]=0;I[8]=oa;I[9]=ea;I[10]=T;I[11]=0;I[12]=da[0]+la-(O*la+ca*V+oa*ua);I[13]=da[1]+V-(Na*la+Aa*V+ea*ua);I[14]=da[2]+ua-(Fa*la+Pa*V+T*ua);I[15]=1;return I}function R(I,T){var da=T[0],la=T[1],ua=T[2];T=T[3];var Y=da+da,ea=la+la;const ja=ua+ua;da*=Y;
const V=la*Y;la*=ea;const O=ua*Y,P=ua*ea;ua*=ja;Y*=T;ea*=T;T*=ja;I[0]=1-la-ua;I[1]=V+T;I[2]=O-ea;I[3]=0;I[4]=V-T;I[5]=1-da-ua;I[6]=P+Y;I[7]=0;I[8]=O+ea;I[9]=P-Y;I[10]=1-da-la;I[11]=0;I[12]=0;I[13]=0;I[14]=0;I[15]=1;return I}function J(I,T,da,la,ua,Y,ea){const ja=1/(da-T),V=1/(ua-la),O=1/(Y-ea);I[0]=2*Y*ja;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=2*Y*V;I[6]=0;I[7]=0;I[8]=(da+T)*ja;I[9]=(ua+la)*V;I[10]=(ea+Y)*O;I[11]=-1;I[12]=0;I[13]=0;I[14]=ea*Y*2*O;I[15]=0;return I}function K(I,T,da,la,ua){T=1/Math.tan(T/
2);let Y=void 0;I[0]=T/da;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=T;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[11]=-1;I[12]=0;I[13]=0;I[15]=0;null!=ua&&Infinity!==ua?(Y=1/(la-ua),I[10]=(ua+la)*Y,I[14]=2*ua*la*Y):(I[10]=-1,I[14]=-2*la);return I}function Q(I,T,da,la){const ua=Math.tan(T.upDegrees*Math.PI/180),Y=Math.tan(T.downDegrees*Math.PI/180),ea=Math.tan(T.leftDegrees*Math.PI/180);T=Math.tan(T.rightDegrees*Math.PI/180);const ja=2/(ea+T),V=2/(ua+Y);I[0]=ja;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=V;I[6]=0;I[7]=0;I[8]=-((ea-
T)*ja*.5);I[9]=(ua-Y)*V*.5;I[10]=la/(da-la);I[11]=-1;I[12]=0;I[13]=0;I[14]=la*da/(da-la);I[15]=0;return I}function N(I,T,da,la,ua,Y,ea){const ja=1/(T-da),V=1/(la-ua),O=1/(Y-ea);I[0]=-2*ja;I[1]=0;I[2]=0;I[3]=0;I[4]=0;I[5]=-2*V;I[6]=0;I[7]=0;I[8]=0;I[9]=0;I[10]=2*O;I[11]=0;I[12]=(T+da)*ja;I[13]=(ua+la)*V;I[14]=(ea+Y)*O;I[15]=1;return I}function U(I,T,da,la){const ua=T[0],Y=T[1];T=T[2];let ea=ua-da[0],ja=Y-da[1];da=T-da[2];var V=c.getEpsilon();if(Math.abs(ea)<V&&Math.abs(ja)<V&&Math.abs(da)<V)n(I);else{var O=
1/Math.sqrt(ea*ea+ja*ja+da*da);ea*=O;ja*=O;da*=O;O=la[0];var P=la[1];V=la[2];la=P*da-V*ja;V=V*ea-O*da;P=O*ja-P*ea;(O=Math.sqrt(la*la+V*V+P*P))?(O=1/O,la*=O,V*=O,P*=O):P=V=la=0;var W=ja*P-da*V,ca=da*la-ea*P,oa=ea*V-ja*la;(O=Math.sqrt(W*W+ca*ca+oa*oa))?(O=1/O,W*=O,ca*=O,oa*=O):oa=ca=W=0;I[0]=la;I[1]=W;I[2]=ea;I[3]=0;I[4]=V;I[5]=ca;I[6]=ja;I[7]=0;I[8]=P;I[9]=oa;I[10]=da;I[11]=0;I[12]=-(la*ua+V*Y+P*T);I[13]=-(W*ua+ca*Y+oa*T);I[14]=-(ea*ua+ja*Y+da*T);I[15]=1}}function Z(I,T,da,la){const ua=T[0],Y=T[1];
T=T[2];var ea=la[0];const ja=la[1];var V=la[2];la=ua-da[0];let O=Y-da[1];da=T-da[2];let P=la*la+O*O+da*da;0<P&&(P=1/Math.sqrt(P),la*=P,O*=P,da*=P);let W=ja*da-V*O;V=V*la-ea*da;ea=ea*O-ja*la;P=W*W+V*V+ea*ea;0<P&&(P=1/Math.sqrt(P),W*=P,V*=P,ea*=P);I[0]=W;I[1]=V;I[2]=ea;I[3]=0;I[4]=O*ea-da*V;I[5]=da*W-la*ea;I[6]=la*V-O*W;I[7]=0;I[8]=la;I[9]=O;I[10]=da;I[11]=0;I[12]=ua;I[13]=Y;I[14]=T;I[15]=1;return I}function fa(I){return"mat4("+I[0]+", "+I[1]+", "+I[2]+", "+I[3]+", "+I[4]+", "+I[5]+", "+I[6]+", "+I[7]+
", "+I[8]+", "+I[9]+", "+I[10]+", "+I[11]+", "+I[12]+", "+I[13]+", "+I[14]+", "+I[15]+")"}function pa(I){return Math.sqrt(I[0]**2+I[1]**2+I[2]**2+I[3]**2+I[4]**2+I[5]**2+I[6]**2+I[7]**2+I[8]**2+I[9]**2+I[10]**2+I[11]**2+I[12]**2+I[13]**2+I[14]**2+I[15]**2)}function xa(I,T,da){I[0]=T[0]+da[0];I[1]=T[1]+da[1];I[2]=T[2]+da[2];I[3]=T[3]+da[3];I[4]=T[4]+da[4];I[5]=T[5]+da[5];I[6]=T[6]+da[6];I[7]=T[7]+da[7];I[8]=T[8]+da[8];I[9]=T[9]+da[9];I[10]=T[10]+da[10];I[11]=T[11]+da[11];I[12]=T[12]+da[12];I[13]=T[13]+
da[13];I[14]=T[14]+da[14];I[15]=T[15]+da[15];return I}function ra(I,T,da){I[0]=T[0]-da[0];I[1]=T[1]-da[1];I[2]=T[2]-da[2];I[3]=T[3]-da[3];I[4]=T[4]-da[4];I[5]=T[5]-da[5];I[6]=T[6]-da[6];I[7]=T[7]-da[7];I[8]=T[8]-da[8];I[9]=T[9]-da[9];I[10]=T[10]-da[10];I[11]=T[11]-da[11];I[12]=T[12]-da[12];I[13]=T[13]-da[13];I[14]=T[14]-da[14];I[15]=T[15]-da[15];return I}function qa(I,T,da){I[0]=T[0]*da;I[1]=T[1]*da;I[2]=T[2]*da;I[3]=T[3]*da;I[4]=T[4]*da;I[5]=T[5]*da;I[6]=T[6]*da;I[7]=T[7]*da;I[8]=T[8]*da;I[9]=T[9]*
da;I[10]=T[10]*da;I[11]=T[11]*da;I[12]=T[12]*da;I[13]=T[13]*da;I[14]=T[14]*da;I[15]=T[15]*da;return I}function za(I,T,da,la){I[0]=T[0]+da[0]*la;I[1]=T[1]+da[1]*la;I[2]=T[2]+da[2]*la;I[3]=T[3]+da[3]*la;I[4]=T[4]+da[4]*la;I[5]=T[5]+da[5]*la;I[6]=T[6]+da[6]*la;I[7]=T[7]+da[7]*la;I[8]=T[8]+da[8]*la;I[9]=T[9]+da[9]*la;I[10]=T[10]+da[10]*la;I[11]=T[11]+da[11]*la;I[12]=T[12]+da[12]*la;I[13]=T[13]+da[13]*la;I[14]=T[14]+da[14]*la;I[15]=T[15]+da[15]*la;return I}function Da(I,T){return I[0]===T[0]&&I[1]===T[1]&&
I[2]===T[2]&&I[3]===T[3]&&I[4]===T[4]&&I[5]===T[5]&&I[6]===T[6]&&I[7]===T[7]&&I[8]===T[8]&&I[9]===T[9]&&I[10]===T[10]&&I[11]===T[11]&&I[12]===T[12]&&I[13]===T[13]&&I[14]===T[14]&&I[15]===T[15]}function sa(I,T){if(I===T)return!0;const da=I[0],la=I[1],ua=I[2],Y=I[3],ea=I[4],ja=I[5],V=I[6],O=I[7],P=I[8],W=I[9],ca=I[10],oa=I[11],Aa=I[12],Ga=I[13],Fa=I[14];I=I[15];const Pa=T[0],Na=T[1],Qa=T[2],Sa=T[3],Ya=T[4],cb=T[5],ab=T[6],nb=T[7],ta=T[8],Ba=T[9],Ra=T[10],$a=T[11],gb=T[12],qb=T[13],ub=T[14];T=T[15];
const ob=c.getEpsilon();return Math.abs(da-Pa)<=ob*Math.max(1,Math.abs(da),Math.abs(Pa))&&Math.abs(la-Na)<=ob*Math.max(1,Math.abs(la),Math.abs(Na))&&Math.abs(ua-Qa)<=ob*Math.max(1,Math.abs(ua),Math.abs(Qa))&&Math.abs(Y-Sa)<=ob*Math.max(1,Math.abs(Y),Math.abs(Sa))&&Math.abs(ea-Ya)<=ob*Math.max(1,Math.abs(ea),Math.abs(Ya))&&Math.abs(ja-cb)<=ob*Math.max(1,Math.abs(ja),Math.abs(cb))&&Math.abs(V-ab)<=ob*Math.max(1,Math.abs(V),Math.abs(ab))&&Math.abs(O-nb)<=ob*Math.max(1,Math.abs(O),Math.abs(nb))&&Math.abs(P-
ta)<=ob*Math.max(1,Math.abs(P),Math.abs(ta))&&Math.abs(W-Ba)<=ob*Math.max(1,Math.abs(W),Math.abs(Ba))&&Math.abs(ca-Ra)<=ob*Math.max(1,Math.abs(ca),Math.abs(Ra))&&Math.abs(oa-$a)<=ob*Math.max(1,Math.abs(oa),Math.abs($a))&&Math.abs(Aa-gb)<=ob*Math.max(1,Math.abs(Aa),Math.abs(gb))&&Math.abs(Ga-qb)<=ob*Math.max(1,Math.abs(Ga),Math.abs(qb))&&Math.abs(Fa-ub)<=ob*Math.max(1,Math.abs(Fa),Math.abs(ub))&&Math.abs(I-T)<=ob*Math.max(1,Math.abs(I),Math.abs(T))}function X(I){const T=c.getEpsilon(),da=I[0],la=I[1],
ua=I[2],Y=I[4],ea=I[5],ja=I[6],V=I[8],O=I[9];I=I[10];return Math.abs(1-(da*da+Y*Y+V*V))<=T&&Math.abs(1-(la*la+ea*ea+O*O))<=T&&Math.abs(1-(ua*ua+ja*ja+I*I))<=T}function aa(I){return 1===I[0]&&0===I[1]&&0===I[2]&&0===I[4]&&1===I[5]&&0===I[6]&&0===I[8]&&0===I[9]&&1===I[10]}const ha=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:xa,adjoint:f,copy:h,determinant:p,equals:sa,exactEquals:Da,frob:pa,fromQuat:R,fromQuat2:L,fromRotation:k,fromRotationTranslation:C,fromRotationTranslationScale:F,
fromRotationTranslationScaleOrigin:H,fromScaling:z,fromTranslation:w,fromXRotation:v,fromYRotation:y,fromZRotation:B,frustum:J,getRotation:E,getScaling:G,getTranslation:M,hasIdentityRotation:aa,identity:n,invert:g,invertOrIdentity:e,isOrthoNormal:X,lookAt:U,mul:r,multiply:r,multiplyScalar:qa,multiplyScalarAndAdd:za,ortho:N,perspective:K,perspectiveFromFieldOfView:Q,rotate:q,rotateX:x,rotateY:A,rotateZ:u,scale:l,set:d,str:fa,sub:ra,subtract:ra,targetTo:Z,translate:t,transpose:m},Symbol.toStringTag,
{value:"Module"}));a.add=xa;a.adjoint=f;a.copy=h;a.determinant=p;a.equals=sa;a.exactEquals=Da;a.frob=pa;a.fromQuat=R;a.fromQuat2=L;a.fromRotation=k;a.fromRotationTranslation=C;a.fromRotationTranslationScale=F;a.fromRotationTranslationScaleOrigin=H;a.fromScaling=z;a.fromTranslation=w;a.fromXRotation=v;a.fromYRotation=y;a.fromZRotation=B;a.frustum=J;a.getRotation=E;a.getScaling=G;a.getTranslation=M;a.hasIdentityRotation=aa;a.identity=n;a.invert=g;a.invertOrIdentity=e;a.isOrthoNormal=X;a.lookAt=U;a.mat4=
b;a.mul=r;a.multiply=r;a.multiplyScalar=qa;a.multiplyScalarAndAdd=za;a.ortho=N;a.perspective=K;a.perspectiveFromFieldOfView=Q;a.rotate=q;a.rotateX=x;a.rotateY=A;a.rotateZ=u;a.scale=l;a.set=d;a.str=fa;a.sub=ra;a.subtract=ra;a.targetTo=Z;a.translate=t;a.transpose=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function c(w){return[w[0],w[1],w[2]]}function h(w,z,k){return[w,
z,k]}function d(w,z,k){return[w,z,k]}function n(w,z=b()){const k=Math.min(3,w.length);for(let v=0;v<k;++v)z[v]=w[v];return z}function m(w,z){return new Float64Array(w,z,3)}function e(){return b()}function g(){return[1,1,1]}function f(){return[1,0,0]}function p(){return[0,1,0]}function r(){return[0,0,1]}const t=b(),l=g(),q=f(),x=p(),A=r(),u=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:q,UNIT_Y:x,UNIT_Z:A,ZEROS:t,clone:c,create:b,createView:m,freeze:d,fromArray:n,fromValues:h,ones:g,
unitX:f,unitY:p,unitZ:r,zeros:e},Symbol.toStringTag,{value:"Module"}));a.ONES=l;a.UNIT_X=q;a.UNIT_Y=x;a.UNIT_Z=A;a.ZEROS=t;a.clone=c;a.create=b;a.createView=m;a.freeze=d;a.fromArray=n;a.fromValues=h;a.ones=g;a.unitX=f;a.unitY=p;a.unitZ=r;a.vec3f64=u;a.zeros=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(a){function b(){return m}function c(r){m=r}function h(r){return r*g}function d(r){return r*f}function n(r,
t){return Math.abs(r-t)<=m*Math.max(1,Math.abs(r),Math.abs(t))}let m=1E-6;const e=Math.random,g=Math.PI/180,f=180/Math.PI,p=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:e,equals:n,getEpsilon:b,setEpsilon:c,toDegree:d,toRadian:h},Symbol.toStringTag,{value:"Module"}));a.RANDOM=e;a.common=p;a.equals=n;a.getEpsilon=b;a.setEpsilon=c;a.toDegree=d;a.toRadian=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],
function(a,b){a.createFlattenedTablesCollection=function(c){return new b({getCollections:()=>[c.tables,c.layers],getChildrenFunction:h=>{const d=[];"tables"in h&&d.push(h.tables);"layers"in h&&d.push(h.layers);return d},itemFilterFunction:h=>{const d=h.parent;return!!d&&"tables"in d&&d.tables.includes(h)}})};a.destroyMap=function(c){for(const h of c.values())h?.destroy();c.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports",
"../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,c,h){const d={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(n){let m=null;"string"===
typeof n?n in d?m=new b({resourceInfo:{data:{layers:[d[n]]}}}):c.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${n}. Try "world-elevation"`):m=h.ensureType(b,n);return m};a.groundElevationLayers=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){function r(t,l,q){if(t)for(let A=0,u=t.length;A<u;A++){var x=t.at(A);if(x?.[l]===q||"group"===x?.type&&(x=r(x.layers,l,q)))return x}}a.LayersMixin=t=>{t=class extends t{constructor(...l){super(...l);this.layers=new c;const q=A=>{A.parent=this;this.layerAdded(A);"elevation"!==A.type&&"base-elevation"!==A.type||d.getLogger(this).error(`Layer 'title:${A.title}, id:${A.id}' of type '${A.type}' is not supported as an operational layer and will therefore be ignored.`)},x=
A=>{A.parent=null;this.layerRemoved(A)};this.addHandles([this.layers.on("before-add",A=>{A.item===this?(A.preventDefault(),d.getLogger(this).error("#add()","Cannot add layer to itself.")):(A=A.item,A.parent&&"remove"in A.parent&&A.parent.remove(A))}),this.layers.on("after-add",A=>q(A.item)),this.layers.on("after-remove",A=>x(A.item))])}destroy(){const l=this.layers.toArray();for(const q of l)q.destroy();this.layers.destroy()}set layers(l){this._set("layers",h.referenceSetter(l,this._get("layers")))}add(l,
q){const x=this.layers;q=x.getNextIndex(q);l instanceof p?l.parent===this?this.reorder(l,q):x.add(l,q):n.isPromiseLike(l)?l.then(A=>{this.destroyed||this.add(A,q)}):d.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(l,q){const x=this.layers;let A=x.getNextIndex(q);l.slice().forEach(u=>{u.parent===this?this.reorder(u,A):(x.add(u,A),A+=1)})}findLayerById(l){return r(this.layers,"id",l)}findLayerByUid(l){return r(this.layers,"uid",l)}remove(l){return this.layers.remove(l)}removeMany(l){return this.layers.removeMany(l)}removeAll(){return this.layers.removeAll()}reorder(l,
q){return this.layers.reorder(l,q)}layerAdded(l){}layerRemoved(l){}};b.__decorate([m.property()],t.prototype,"layers",null);return t=b.__decorate([f.subclass("esri.support.LayersMixin")],t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../time/TimeExtent ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w){let z=0;c=class extends n.EventedMixin(m.IdentifiableMixin(e)){constructor(){super(...arguments);this.attributionDataUrl=null;this.fullExtent=new u(-180,-90,180,90,w.WGS84);this.id=Date.now().toString(16)+"-layer-"+z++;this.legendEnabled=!0;this.listMode="show";this.opacity=1;this.parent=null;this.persistenceEnabled=!1;this.attributionVisible=this.popupEnabled=!0;this.spatialReference=w.WGS84;this.visibilityTimeExtent=this.url=this.type=this.title=null;
this.visible=!0}static async fromArcGISServerUrl(k){k="string"===typeof k?{url:k}:k;return(await new Promise((v,y)=>a(["./support/arcgisLayers"],v,y))).fromUrl(k)}static fromPortalItem(k){return x.fromPortalItem(k)}initialize(){this.when().catch(k=>{f.isAbortError(k)||g.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:k})})}destroy(){const k=this.parent;k&&("layers"in k&&k.layers.includes(this)?k.layers.remove(this):"tables"in
k&&k.tables.includes(this)?k.tables.remove(this):"baseLayers"in k&&k.baseLayers.includes(this)?k.baseLayers.remove(this):"referenceLayers"in k&&k.referenceLayers.includes(this)&&k.referenceLayers.remove(this),this._set("parent",null))}get effectiveVisible(){let k=this.visible;const v=this.parent;k&&v&&"effectiveVisible"in v&&(k&&=v.effectiveVisible);return k}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return p.urlToObject(this.url)}async fetchAttributionData(){const k=
this.attributionDataUrl;if(this.hasAttributionData&&k)return(await h(k,{query:{f:"json"},responseType:"json"})).data;throw new d("layer:no-attribution-data","Layer does not have attribution data");}};b.__decorate([r.property({type:String})],c.prototype,"attributionDataUrl",void 0);b.__decorate([r.property({readOnly:!0})],c.prototype,"effectiveVisible",null);b.__decorate([r.property({type:u})],c.prototype,"fullExtent",void 0);b.__decorate([r.property({readOnly:!0})],c.prototype,"hasAttributionData",
null);b.__decorate([r.property({type:String,clonable:!1})],c.prototype,"id",void 0);b.__decorate([r.property({type:Boolean,nonNullable:!0})],c.prototype,"legendEnabled",void 0);b.__decorate([r.property({type:["show","hide","hide-children"]})],c.prototype,"listMode",void 0);b.__decorate([r.property({type:Number,range:{min:0,max:1},nonNullable:!0})],c.prototype,"opacity",void 0);b.__decorate([r.property({clonable:!1})],c.prototype,"parent",void 0);b.__decorate([r.property({readOnly:!0})],c.prototype,
"parsedUrl",null);b.__decorate([r.property({type:Boolean,readOnly:!0})],c.prototype,"persistenceEnabled",void 0);b.__decorate([r.property({type:Boolean})],c.prototype,"popupEnabled",void 0);b.__decorate([r.property({type:Boolean})],c.prototype,"attributionVisible",void 0);b.__decorate([r.property({type:w})],c.prototype,"spatialReference",void 0);b.__decorate([r.property({type:String})],c.prototype,"title",void 0);b.__decorate([r.property({readOnly:!0,json:{read:!1}})],c.prototype,"type",void 0);b.__decorate([r.property()],
c.prototype,"url",void 0);b.__decorate([r.property({type:A})],c.prototype,"visibilityTimeExtent",void 0);b.__decorate([r.property({type:Boolean,nonNullable:!0})],c.prototype,"visible",void 0);return c=b.__decorate([q.subclass("esri.layers.Layer")],c)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){const r={base:h,key:"type",typeMap:{extent:c,multipoint:d,point:n,polyline:e,polygon:m}};b=b.ensureOneOfType(r);a.Extent=c;a.BaseGeometry=h;a.Multipoint=d;a.Point=n;a.Polygon=m;a.Polyline=e;a.SpatialReference=g;a.featureGeometryTypeKebabDictionary=f.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=f.typeKebabDictionary;a.fromJSON=p.fromJSON;a.ensureType=b;a.geometryTypes=r;a.isGeometry=function(t){return t instanceof h};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){function r(l){return(q,x)=>null==q?x:null==x?q:l(q,x)}var t;h=t=class extends g{constructor(...l){super(...l);this.points=[];this.type="multipoint"}normalizeCtorArgs(l,
q){if(!l&&!q)return{};const x={};Array.isArray(l)?(x.points=l,x.spatialReference=q):!l||"esri.geometry.SpatialReference"!==l.declaredClass&&null==l.wkid?(l.points&&(x.points=l.points),l.spatialReference&&(x.spatialReference=l.spatialReference),l.hasZ&&(x.hasZ=l.hasZ),l.hasM&&(x.hasM=l.hasM)):x.spatialReference=l;if(l=x.points?.[0])void 0===x.hasZ&&void 0===x.hasM?(x.hasZ=2<l.length,x.hasM=!1):void 0===x.hasZ?x.hasZ=3<l.length:void 0===x.hasM&&(x.hasM=3<l.length);return x}get cache(){this.commitProperty("points");
this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const l=this.points;if(!l.length)return null;const q=new e,x=this.hasZ,A=this.hasM,u=x?3:2;var w=l[0];const z=r(Math.min),k=r(Math.max);let [v,y]=w,[B,C]=w,L,M,G,E;for(let F=0,H=l.length;F<H;F++){w=l[F];const [R,J]=w;v=z(v,R);y=z(y,J);B=k(B,R);C=k(C,J);if(x&&2<w.length){const K=w[2];L=z(L,K);G=k(G,K)}A&&w.length>u&&(w=w[u],M=z(M,w),E=k(E,w))}q.xmin=v;q.ymin=y;q.xmax=B;q.ymax=C;q.spatialReference=
this.spatialReference;x?(q.zmin=L,q.zmax=G):(q.zmin=void 0,q.zmax=void 0);A?(q.mmin=M,q.mmax=E):(q.mmin=void 0,q.mmax=void 0);return q}writePoints(l,q){q.points=b.clone(this.points)}addPoint(l){p.updateSupportFromPoint(this,l);Array.isArray(l)?this.points.push(l):this.points.push(l.toArray());this.notifyChange("points");return this}clone(){const l={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(l.hasZ=!0);this.hasM&&(l.hasM=!0);return new t(l)}getPoint(l){if(!this._validateInputs(l))return null;
l=this.points[l];const q={x:l[0],y:l[1],spatialReference:this.spatialReference};let x=2;this.hasZ&&(q.z=l[2],x=3);this.hasM&&(q.m=l[x]);return new f(q)}removePoint(l){if(!this._validateInputs(l))return null;l=new f(this.points.splice(l,1)[0],this.spatialReference);this.notifyChange("points");return l}setPoint(l,q){if(!this._validateInputs(l))return this;p.updateSupportFromPoint(this,q);Array.isArray(q)||(q=q.toArray());this.points[l]=q;this.notifyChange("points");return this}toJSON(l){return this.write({},
l)}_validateInputs(l){return null!=l&&0<=l&&l<this.points.length}};a.__decorate([c.property({readOnly:!0})],h.prototype,"cache",null);a.__decorate([c.property()],h.prototype,"extent",null);a.__decorate([c.property({type:[[Number]],json:{write:{isRequired:!0}}})],h.prototype,"points",void 0);a.__decorate([m.writer("points")],h.prototype,"writePoints",null);h=t=a.__decorate([n.subclass("esri.geometry.Multipoint")],h);h.prototype.toJSON.isDefaultToJSON=!0;return h})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(b,c,h=!1){let {hasM:d,hasZ:n}=b;Array.isArray(c)?4!==c.length||d||n?3===c.length&&h&&!d?(n=!0,d=!1):3===c.length&&d&&n&&(n=d=!1):n=d=!0:(n=!n&&c.hasZ&&(!d||c.hasM),d=!d&&c.hasM&&(!n||c.hasZ));b.hasZ=n;b.hasM=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w){var z;d=z=class extends f{static fromExtent(k){var v=k.clone().normalize();({spatialReference:k}=k);let y=!1,B=!1;for(const C of v)C.hasZ&&(y=!0),C.hasM&&(B=!0);v={rings:v.map(C=>{const L=[[C.xmin,C.ymin],[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]];if(y&&C.hasZ){var M=C.zmin+.5*(C.zmax-C.zmin);for(let G=0;G<L.length;G++)L[G].push(M)}if(B&&C.hasM)for(C=C.mmin+.5*(C.mmax-C.mmin),M=0;M<L.length;M++)L[M].push(C);return L}),spatialReference:k};
y&&(v.hasZ=!0);B&&(v.hasM=!0);return new z(v)}constructor(k){if(k){var {rings:v,hasM:y,hasZ:B,spatialReference:C}=k;v??=[];"number"===typeof v[0]?.[0]&&(v=[v]);switch(v[0]?.[0]?.length){case 4:B??=!0;y??=!0;break;case 3:B??=!0!==y;y??=!B;break;default:B??=!1,y??=!1}C??=r.WGS84;k={...k,hasM:y,hasZ:B,rings:v,spatialReference:C}}else k=void 0;super(k);this.rings=[];this.type="polygon"}get cache(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");
return{}}get centroid(){const k=t.polygonCentroid(this);if(!k||isNaN(k[0])||isNaN(k[1])||this.hasZ&&isNaN(k[2]))return null;const v=new p;v.x=k[0];v.y=k[1];v.spatialReference=this.spatialReference;this.hasZ&&(v.z=k[2]);return v}get extent(){const {spatialReference:k}=this;var v=x.getPolygonExtent(this);if(!v)return null;v=new g(v);v.spatialReference=k;return v}get isSelfIntersecting(){return A.isSelfIntersecting(this.rings)}writeRings(k,v){v.rings=c.clone(this.rings)}addRing(k){if(k){var v=this.rings,
y=v.length;if(Array.isArray(k[0]))v[y]=k.slice();else{const B=[];for(let C=0,L=k.length;C<L;C++)B[C]=k[C].toArray();v[y]=B}this.notifyChange("rings");return this}}clone(){const k=new z;k.spatialReference=this.spatialReference;k.rings=c.clone(this.rings);k.hasZ=this.hasZ;k.hasM=this.hasM;return k}equals(k){if(this===k)return!0;if(null==k)return!1;var v=this.spatialReference,y=k.spatialReference;if(null!=v!==(null!=y)||null!=v&&null!=y&&!v.equals(y)||this.rings.length!==k.rings.length)return!1;v=([B,
C,L,M],[G,E,F,H])=>B===G&&C===E&&(null==L&&null==F||L===F)&&(null==M&&null==H||M===H);for(y=0;y<this.rings.length;y++)if(!b.equals(this.rings[y],k.rings[y],v))return!1;return!0}contains(k){if(!k)return!1;const v=u.project(k,this.spatialReference);return l.polygonContainsPoint(this,null!=v?v:k)}isClockwise(k){k=Array.isArray(k[0])?k:k.map(v=>this.hasZ?this.hasM?[v.x,v.y,v.z,v.m]:[v.x,v.y,v.z]:[v.x,v.y]);return q.isClockwise(k)}getPoint(k,v){if(!this._validateInputs(k,v))return null;k=this.rings[k][v];
v=this.hasZ;const y=this.hasM;return v&&!y?new p(k[0],k[1],k[2],void 0,this.spatialReference):y&&!v?new p(k[0],k[1],void 0,k[2],this.spatialReference):v&&y?new p(k[0],k[1],k[2],k[3],this.spatialReference):new p(k[0],k[1],this.spatialReference)}insertPoint(k,v,y){if(!this._validateInputs(k,v,!0))return this;w.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.rings[k].splice(v,0,y);this.notifyChange("rings");return this}removePoint(k,v){if(!this._validateInputs(k,v))return null;
k=new p(this.rings[k].splice(v,1)[0],this.spatialReference);this.notifyChange("rings");return k}removeRing(k){if(!this._validateInputs(k,null))return null;k=this.rings.splice(k,1)[0];const v=this.spatialReference;k=k.map(y=>new p(y,v));this.notifyChange("rings");return k}setPoint(k,v,y){if(!this._validateInputs(k,v))return this;w.updateSupportFromPoint(this,y);Array.isArray(y)||(y=y.toArray());this.rings[k][v]=y;this.notifyChange("rings");return this}_validateInputs(k,v,y=!1){return null==k||0>k||
k>=this.rings.length||null!=v&&(k=this.rings[k],y&&(0>v||v>k.length)||!y&&(0>v||v>=k.length))?!1:!0}toJSON(k){return this.write({},k)}};a.__decorate([h.property({readOnly:!0})],d.prototype,"cache",null);a.__decorate([h.property({readOnly:!0})],d.prototype,"centroid",null);a.__decorate([h.property({readOnly:!0})],d.prototype,"extent",null);a.__decorate([h.property({readOnly:!0})],d.prototype,"isSelfIntersecting",null);a.__decorate([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,
"rings",void 0);a.__decorate([e.writer("rings")],d.prototype,"writeRings",null);d=z=a.__decorate([m.subclass("esri.geometry.Polygon")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,c){function h(f,p){if(!f?.length)return null;const r=[],t=[],l=p?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let q=0,x=f.length;q<
x;q++){const A=d(f[q],p,l);A&&t.push(A)}t.sort((q,x)=>{let A=q[2]-x[2];0===A&&p&&(A=q[4]-x[4]);return A});t.length&&(r[0]=t[0][0],r[1]=t[0][1],p&&(r[2]=t[0][3]),r[0]<l[0]||r[0]>l[1]||r[1]<l[2]||r[1]>l[3]||p&&(r[2]<l[4]||r[2]>l[5]))&&(r.length=0);if(!r.length)if(f=f[0]&&f[0].length?n(f[0],p):null)r[0]=f[0],r[1]=f[1],p&&2<f.length&&(r[2]=f[2]);else return null;return r}function d(f,p,r){let t=0,l=0,q=0,x=0,A=0;const u=f.length?f[0][0]:0,w=f.length?f[0][1]:0,z=f.length&&p?f[0][2]:0;for(let B=0;B<f.length;B++){var k=
f[B],v=f[(B+1)%f.length];const [C,L,M]=k;var y=C-u;const G=L-w,[E,F,H]=v,R=E-u,J=F-w,K=y*J-R*G;x+=K;t+=(y+R)*K;l+=(G+J)*K;p&&2<k.length&&2<v.length&&(k=M-z,v=H-z,y=y*v-R*k,q+=(k+v)*y,A+=y);C<r[0]&&(r[0]=C);C>r[1]&&(r[1]=C);L<r[2]&&(r[2]=L);L>r[3]&&(r[3]=L);p&&(M<r[4]&&(r[4]=M),M>r[5]&&(r[5]=M))}0<x&&(x*=-1);0<A&&(A*=-1);if(!x)return null;x*=.5;A*=.5;f=[t/(6*x)+u,l/(6*x)+w,x];p&&(r[4]===r[5]||0===A?(f[3]=(r[4]+r[5])/2,f[4]=0):(f[3]=q/(6*A)+z,f[4]=A));return f}function n(f,p){const r=p?[0,0,0]:[0,0],
t=p?[0,0,0]:[0,0];let l=0,q=0,x=0,A=0;for(let w=0,z=f.length;w<z-1;w++){var u=f[w];const k=f[w+1];if(u&&k){r[0]=u[0];r[1]=u[1];t[0]=k[0];t[1]=k[1];p&&2<u.length&&2<k.length&&(r[2]=u[2],t[2]=k[2]);const v=c.getLength(r,t);v&&(l+=v,u=c.getMidpoint(u,k),q+=v*u[0],x+=v*u[1],p&&2<u.length&&(A+=v*u[2]))}}return 0<l?p?[q/l,x/l,A/l]:[q/l,x/l]:f.length?f[0]:null}function m(f){const {hasZ:p,totalSize:r}=f;if(0===r)return null;const t=[],l=[],q=p?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,
Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(f.reset();f.nextPath();){const x=d(b.collectPath(f),f.hasZ,q);x&&l.push(x)}l.sort((x,A)=>{let u=x[2]-A[2];0===u&&p&&(u=x[4]-A[4]);return u});l.length&&(t[0]=l[0][0],t[1]=l[0][1],p&&(t[2]=l[0][3]),t[0]<q[0]||t[0]>q[1]||t[1]<q[2]||t[1]>q[3]||p&&(t[2]<q[4]||t[2]>q[5]))&&(t.length=0);if(!t.length)if(f.reset(),f.nextPath(),
f=f.pathSize?e(f):null)t[0]=f[0],t[1]=f[1],p&&2<f.length&&(t[2]=f[2]);else return null;return t}function e(f){const {hasZ:p}=f,r=p?[0,0,0]:[0,0],t=p?[0,0,0]:[0,0];let l=0,q=0,x=0,A=0;if(f.nextPoint()){var u=f.x,w=f.y;let z=f.z;for(;f.nextPoint();){const k=f.x,v=f.y,y=f.z;r[0]=u;r[1]=w;t[0]=k;t[1]=v;p&&(r[2]=z,t[2]=y);if(u=c.getLength(r,t))l+=u,w=c.getMidpoint(r,t),q+=u*w[0],x+=u*w[1],p&&2<w.length&&(A+=u*w[2]);u=k;w=v;z=y}}return 0<l?p?[q/l,x/l,A/l]:[q/l,x/l]:f.pathSize?(f.seekPathStart(),f.nextPoint(),
[f.x,f.y]):null}const g=1/3;a.extentCentroid=function(f){return f?f.hasZ?[f.xmax-f.xmin/2,f.ymax-f.ymin/2,f.zmax-f.zmin/2]:[f.xmax-f.xmin/2,f.ymax-f.ymin/2]:null};a.lineCentroid=n;a.lineCentroidCursor=e;a.polygonCentroid=function(f){return f?h(f.rings,f.hasZ??!1):null};a.ringCentroid=d;a.ringCentroidCursorXY=function(f,p){let r=0,t=0,l=0;f.nextPoint();const q=f.pathSize?f.x:0,x=f.pathSize?f.y:0;for(let w=0;w<f.pathSize;w++){f.seekInPath(w);var A=[f.x,f.y];f.seekInPath((w+1)%f.pathSize);var u=[f.x,
f.y];const [z,k]=A;A=z-q;const v=k-x,[y,B]=u;u=y-q;const C=B-x,L=A*C-u*v;l+=L;r+=(A+u)*L;t+=(v+C)*L;z<p[0]&&(p[0]=z);z>p[1]&&(p[1]=z);k<p[2]&&(p[2]=k);k>p[3]&&(p[3]=k)}0<l&&(l*=-1);if(!l)return null;l*=.5;return[r/(6*l)+q,t/(6*l)+x,l]};a.ringsCentroid=h;a.ringsCentroidCursor=m;a.weightedAreaCentroid=function(f){let p=0;for(f.reset();f.nextPath();)p+=f.getCurrentRingArea();if(1E-6>p)return(f=m(f))?[f[0],f[1]]:null;const r=[0,0];f.reset();if(!f.nextPath()||!f.nextPoint())return null;const t=[f.x,f.y];
for(f.reset();f.nextPath();)a:{let u=void 0;var l=r,q=t,x=f;if(!l||!x||3>x.pathSize)break a;x.nextPoint();var A=x.x;const w=x.y;x.nextPoint();let z=x.x-A,k=x.y-w,v=0,y=0;for(;x.nextPoint();)v=x.x-A,y=x.y-w,u=.5*g*(v*k-y*z),l[0]+=u*(z+v),l[1]+=u*(k+y),z=v,k=y;x=x.getCurrentRingArea();A=[A,w];A[0]-=q[0];A[1]-=q[1];A[0]*=x;A[1]*=x;l[0]+=A[0];l[1]+=A[1]}r[0]*=1/p;r[1]*=1/p;r[0]+=t[0];r[1]+=t[1];return r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],
function(a){a.collectMultipath=function(b){const c=[];for(b.reset();b.nextPath();){const h=[];for(;b.nextPoint();)h.push([b.x,b.y]);c.push(h)}b.reset();return c};a.collectPath=function(b){const c=[];for(;b.nextPoint();)c.push([b.x,b.y]);b.seekPathStart();return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,c,h){function d(q,x){const A=x[0]-
q[0],u=x[1]-q[1];return 2<q.length&&2<x.length?(q=q[2]-x[2],Math.sqrt(A*A+u*u+q*q)):Math.sqrt(A*A+u*u)}function n(q,x,A){const u=q[0]+A*(x[0]-q[0]),w=q[1]+A*(x[1]-q[1]);return 2<q.length&&2<x.length?[u,w,q[2]+A*(x[2]-q[2])]:[u,w]}function m(q,x,A,u){const [w,z]=x,[k,v]=A,[y,B]=u;x=y-k;A=B-v;u=Math.min(1,Math.max(0,((w-k)*x+(z-v)*A)/(x*x+A*A)));q[0]=k+x*u;q[1]=v+A*u;return q}function e(q,x,A,u,w,z){let k=w-A,v=z-u;if(0!==k||0!==v){const y=((q-A)*k+(x-u)*v)/(k*k+v*v);1<y?(A=w,u=z):0<y&&(A+=k*y,u+=v*
y)}k=q-A;v=x-u;return k*k+v*v}function g(q,x=c.Axis.X,A=c.Axis.Y){let u=0;const w=q.length;let z=q[0];for(let k=1;k<w;k++){const v=q[k];u+=(v[x]-z[x])*(v[A]+z[A]);z=v}f(q)||(q=q[0],u+=(q[x]-z[x])*(q[A]+z[A]));return 0<=u}function f(q){const x=q.length;return 3>x||b.equals(q[0],q[x-1])}function p(q){if(!("rings"in q))return!1;let x=!1;for(const A of q.rings)f(A)||(A.push(A[0].slice()),x=!0);return x}function r(q){if(!("rings"in q)||0===q.rings.length||g(q.rings[0]))return!1;for(const x of q.rings)x.reverse();
return!0}function t(q,x){var A=h.getInfo(x);if(A){x=A.valid[0];A=A.valid[1];var u=A-x;for(const w of q){q=Infinity;let z=-Infinity;for(const k of w){const v=l(k[0],x,A);q=Math.min(q,v);z=Math.max(z,v);k[0]=v}q=z-q;u-q<q&&w.forEach(k=>{0>k[0]&&(k[0]+=u)})}}}function l(q,x,A){const u=A-x;return q<x?A-(x-q)%u:q>A?x+(q-x)%u:q}a.closeRings=p;a.closeRingsAndFixWinding=function(q){"rings"in q&&(p(q),r(q))};a.distanceFromPointToPolygon=function(q,x,A){let u=!1,w=Infinity,z,k,v,y;for(A.reset();A.nextPath();)if(A.nextPoint())for(z=
A.x,k=A.y;A.nextPoint();)v=A.x,y=A.y,k>x!==y>x&&q<(v-z)*(x-k)/(y-k)+z&&(u=!u),w=Math.min(w,e(q,x,z,k,v,y)),z=v,k=y;return 0===w?0:(u?1:-1)*Math.sqrt(w)};a.distanceToSegmentSquared=e;a.fixWinding=r;a.geometryToCoordinates=function(q){if(!q)return null;if(Array.isArray(q))return q;const x=q.hasZ,A=q.hasM;if("point"===q.type)return A&&x?[q.x,q.y,q.z,q.m]:x?[q.x,q.y,q.z]:A?[q.x,q.y,q.m]:[q.x,q.y];if("polygon"===q.type)return q.rings.slice();if("polyline"===q.type)return q.paths.slice();if("multipoint"===
q.type)return q.points.slice();if("extent"===q.type){q=q.clone().normalize();if(!q)return null;let u=!1,w=!1;q.forEach(z=>{z.hasZ&&(u=!0);z.hasM&&(w=!0)});return q.map(z=>{const k=[[z.xmin,z.ymin],[z.xmin,z.ymax],[z.xmax,z.ymax],[z.xmax,z.ymin],[z.xmin,z.ymin]];if(u&&z.hasZ){var v=.5*(z.zmax-z.zmin);for(let y=0;y<k.length;y++)k[y].push(v)}if(w&&z.hasM)for(z=.5*(z.mmax-z.mmin),v=0;v<k.length;v++)k[v].push(z);return k})}return null};a.getLength=d;a.getMidpoint=function(q,x){return n(q,x,.5)};a.getPathLength=
function(q){const x=q.length;let A=0;for(let u=0;u<x-1;++u)A+=d(q[u],q[u+1]);return A};a.getPointOnPath=function(q,x){if(0>=x)return q[0];const A=q.length;let u=0;for(let w=0;w<A-1;++w){const z=d(q[w],q[w+1]);if(x-u<z)return n(q[w],q[w+1],(x-u)/z);u+=z}return q[A-1]};a.hasCompatibleTopology=function(q,x){if(q===x)return!0;if(q.type!==x.type)return!1;if("point"===q.type||"mesh"===q.type||"extent"===q.type)return!0;if("multipoint"===q.type)return q.points.length===x.points.length;const [A,u]="polyline"===
q.type?[q.paths,x.paths]:[q.rings,x.rings];return A.length===u.length&&A.every((w,z)=>w.length===u[z].length)};a.isClockwise=g;a.isClosed=f;a.projectPointOnLine=function(q,x,A,u){return m(q,x,A[u],A[u+1])};a.projectPointOnLineSeg=m;a.unnormalizeGeometryOnDatelineCrossing=function(q){if("polygon"!==q.type&&"polyline"!==q.type)return q;t("polygon"===q.type?q.rings:q.paths,q.spatialReference);return q};a.unnormalizeVerticesOnDatelineCrossing=t;a.unnormalizedCoordinate=l;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,b){function c(g,f=!1,p=!1){return f?p?{xmin:g[0],ymin:g[1],zmin:g[2],mmin:g[3],xmax:g[4],ymax:g[5],zmax:g[6],mmax:g[7]}:{xmin:g[0],ymin:g[1],zmin:g[2],xmax:g[3],ymax:g[4],zmax:g[5]}:
p?{xmin:g[0],ymin:g[1],mmin:g[2],xmax:g[3],ymax:g[4],mmax:g[5]}:{xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3]}}function h(g){const {hasZ:f,hasM:p,points:r}=g;return c(b.getPointsBounds(e,r,f??!1,p??!1),f,p)}function d(g){const {x:f,y:p,z:r,m:t}=g;g=null!=t;return null!=r?g?{xmin:f,ymin:p,zmin:r,mmin:t,xmax:f,ymax:p,zmax:r,mmax:t}:{xmin:f,ymin:p,zmin:r,xmax:f,ymax:p,zmax:r}:g?{xmin:f,ymin:p,mmin:t,xmax:f,ymax:p,mmax:t}:{xmin:f,ymin:p,xmax:f,ymax:p}}function n(g){const {hasZ:f,hasM:p,rings:r}=g;return(g=
b.getRingsOrPathsBounds(e,r,f??!1,p??!1))?c(g,f,p):null}function m(g){const {hasZ:f,hasM:p,paths:r}=g;return(g=b.getRingsOrPathsBounds(e,r,f??!1,p??!1))?c(g,f,p):null}const e=[];a.getGeometryExtent=function(g){return g?void 0!==g.xmin&&void 0!==g.ymin&&void 0!==g.xmax&&void 0!==g.ymax?g:void 0!==g.x&&void 0!==g.y?d(g):void 0!==g.rings?n(g):void 0!==g.paths?m(g):void 0!==g.points?h(g):null:null};a.getMultipointExtent=h;a.getPointExtent=d;a.getPolygonExtent=n;a.getPolylineExtent=m;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function c(p){return void 0!==p.xmin&&void 0!==p.ymin&&void 0!==p.xmax&&void 0!==p.ymax}function h(p){return function(r,t){return null==r?t:null==t?r:p(r,t)}}function d(p){let r,t,l,q;r=l=Infinity;for(t=q=-Infinity;p.nextPoint();)r=Math.min(p.x,r),l=Math.min(p.y,l),t=Math.max(p.x,t),q=Math.max(p.y,q);return b.create([r,l,t,q])}function n(p,r,t,l){const q=t?3:2;
if(!r.length||!r[0].length)return null;let [x,A]=r[0][0],[u,w]=r[0][0],z=void 0,k=void 0,v=void 0;var y=void 0;for(let B=0;B<r.length;B++){const C=r[B];for(let L=0;L<C.length;L++){const M=C[L],[G,E]=M;x=g(x,G);A=g(A,E);u=f(u,G);w=f(w,E);if(t&&2<M.length){const F=M[2];z=g(z,F);k=f(k,F)}l&&M.length>q&&(y=M[q],v=g(z,y),y=f(k,y))}}if(t){if(l)return p[0]=x,p[1]=A,p[2]=z,p[3]=v,p[4]=u,p[5]=w,p[6]=k,p[7]=y,p.length=8,p;p[0]=x;p[1]=A;p[2]=z;p[3]=u;p[4]=w;p[5]=k;p.length=6;return p}if(l)return p[0]=x,p[1]=
A,p[2]=v,p[3]=u,p[4]=w,p[5]=y,p.length=6,p;p[0]=x;p[1]=A;p[2]=u;p[3]=w;p.length=4;return p}function m(p,r,t,l,q,x){t=r.xmin;l=r.xmax;const A=r.ymin,u=r.ymax;let w=r.zmin,z=r.zmax,k=r.mmin;r=r.mmax;if(q){w=w||0;z=z||0;if(x)return p[0]=t,p[1]=A,p[2]=w,p[3]=k||0,p[4]=l,p[5]=u,p[6]=z,p[7]=r||0,p;p[0]=t;p[1]=A;p[2]=w;p[3]=l;p[4]=u;p[5]=z;return p}if(x)return p[0]=t,p[1]=A,p[2]=k||0,p[3]=l,p[4]=u,p[5]=r||0,p;p[0]=t;p[1]=A;p[2]=l;p[3]=u;return p}function e(p,r,t,l,q,x){const A=t?3:2;l=l&&x;t=t&&q;if(!r.length||
!r[0].length)return null;let [u,w]=r[0],[z,k]=r[0],v=void 0,y=void 0,B=void 0;var C=void 0;for(let L=0;L<r.length;L++){const M=r[L],[G,E]=M;u=g(u,G);w=g(w,E);z=f(z,G);k=f(k,E);if(t&&2<M.length){const F=M[2];v=g(v,F);y=f(y,F)}l&&M.length>A&&(C=M[A],B=g(v,C),C=f(y,C))}if(q){v=v||0;y=y||0;if(x)return p[0]=u,p[1]=w,p[2]=v,p[3]=B||0,p[4]=z,p[5]=k,p[6]=y,p[7]=C||0,p;p[0]=u;p[1]=w;p[2]=v;p[3]=z;p[4]=k;p[5]=y;return p}if(x)return p[0]=u,p[1]=w,p[2]=B||0,p[3]=z,p[4]=k,p[5]=C||0,p;p[0]=u;p[1]=w;p[2]=z;p[3]=
k;return p}const g=h(Math.min),f=h(Math.max);a.getBoundsXY=function(p,r){if(void 0!==r.paths)return n(p,r.paths,!1,!1);if(void 0!==r.rings)return n(p,r.rings,!1,!1);if(void 0!==r.points)return e(p,r.points,!1,!1,!1,!1);if(c(r))return m(p,r);void 0!==r.x&&void 0!==r.y&&(p[0]=r.x,p[1]=r.y,p[2]=r.x,p[3]=r.y);return p};a.getBoundsXYZ=function(p,r){if(void 0!==r.paths)return n(p,r.paths,!0,!1);if(void 0!==r.rings)return n(p,r.rings,!0,!1);if(void 0!==r.points)return e(p,r.points,!0,!1,!0,!1);if(c(r))return m(p,
r,!0,!1,!0,!1);void 0!==r.x&&void 0!==r.y&&(p[0]=r.x,p[1]=r.y,p[2]=r.z,p[3]=r.x,p[4]=r.y,p[5]=r.z);return p};a.getCursorBoundsXY=function(p){p.reset();let r,t,l,q;r=l=Infinity;for(t=q=-Infinity;p.nextPath();){const x=d(p);r=Math.min(x[0],r);l=Math.min(x[1],l);t=Math.max(x[2],t);q=Math.max(x[3],q)}return b.create([r,l,t,q])};a.getCursorPathBounds=d;a.getExtentBounds=m;a.getPointsBounds=e;a.getRingsOrPathsBounds=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports",
"../../core/has","../../core/mathUtils","../Extent"],function(a,b,c,h){function d(t=r){return[t[0],t[1],t[2],t[3]]}function n(t,l){t!==l&&(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3]);return t}function m(t){return null==t||t[0]>=t[2]?0:t[2]-t[0]}function e(t){return null==t||t[1]>=t[3]?0:t[3]-t[1]}function g(t,l,q){return l>=t[0]&&q>=t[1]&&l<=t[2]&&q<=t[3]}function f(t){return null!=t&&4===t.length}const p=[Infinity,Infinity,-Infinity,-Infinity],r=[0,0,0,0];a.allFinite=function(t){for(let l=0;4>l;l++)if(!isFinite(t[l]))return!1;
return!0};a.area=function(t){return m(t)*e(t)};a.center=function(t,l=[0,0]){l[0]=(t[0]+t[2])/2;l[1]=(t[1]+t[3])/2;return l};a.clone=function(t){return[t[0],t[1],t[2],t[3]]};a.contains=function(t,l){return l[0]>=t[0]&&l[2]<=t[2]&&l[1]>=t[1]&&l[3]<=t[3]};a.containsPoint=function(t,l){return g(t,l[0],l[1])};a.containsPointObject=function(t,l){return g(t,l.x,l.y)};a.containsPointWithMargin=function(t,l,q){return l[0]>=t[0]-q&&l[1]>=t[1]-q&&l[0]<=t[2]+q&&l[1]<=t[3]+q};a.containsXY=g;a.containsXYWithMargin=
function(t,l,q,x){return l>=t[0]-x&&q>=t[1]-x&&l<=t[2]+x&&q<=t[3]+x};a.copy=n;a.create=d;a.distance=function(t,l){const q=(t[1]+t[3])/2,x=Math.max(Math.abs(l[0]-(t[0]+t[2])/2)-m(t)/2,0);t=Math.max(Math.abs(l[1]-q)-e(t)/2,0);return Math.sqrt(x*x+t*t)};a.empty=function(t){return t?n(t,p):d(p)};a.equals=function(t,l){return f(t)&&f(l)?t[0]===l[0]&&t[1]===l[1]&&t[2]===l[2]&&t[3]===l[3]:t===l};a.expand=function(t,l,q){if(null==l)n(q,t);else if("length"in l)if(f(l))q[0]=Math.min(t[0],l[0]),q[1]=Math.min(t[1],
l[1]),q[2]=Math.max(t[2],l[2]),q[3]=Math.max(t[3],l[3]);else{if(2===l.length||3===l.length)q[0]=Math.min(t[0],l[0]),q[1]=Math.min(t[1],l[1]),q[2]=Math.max(t[2],l[0]),q[3]=Math.max(t[3],l[1])}else switch(l.type){case "extent":q[0]=Math.min(t[0],l.xmin);q[1]=Math.min(t[1],l.ymin);q[2]=Math.max(t[2],l.xmax);q[3]=Math.max(t[3],l.ymax);break;case "point":q[0]=Math.min(t[0],l.x),q[1]=Math.min(t[1],l.y),q[2]=Math.max(t[2],l.x),q[3]=Math.max(t[3],l.y)}};a.expandPointInPlace=function(t,l){l[0]<t[0]&&(t[0]=
l[0]);l[0]>t[2]&&(t[2]=l[0]);l[1]<t[1]&&(t[1]=l[1]);l[1]>t[3]&&(t[3]=l[1])};a.expandWithNestedArray=function(t,l,q=t){const x=l.length;let A=t[0],u=t[1],w=t[2];t=t[3];for(let z=0;z<x;z++){const k=l[z];A=Math.min(A,k[0]);u=Math.min(u,k[1]);w=Math.max(w,k[0]);t=Math.max(t,k[1])}q[0]=A;q[1]=u;q[2]=w;q[3]=t;return q};a.fromExtent=function(t,l=d()){l[0]=t.xmin;l[1]=t.ymin;l[2]=t.xmax;l[3]=t.ymax;return l};a.fromValues=function(t,l,q,x,A=d()){A[0]=t;A[1]=l;A[2]=q;A[3]=x;return A};a.hasArea=function(t){return 0<
m(t)&&0<e(t)};a.height=e;a.intersection=function(t,l,q){if(null==l)return n(q,t);const x=l[0],A=l[1],u=l[2];l=l[3];q[0]=c.clamp(t[0],x,u);q[1]=c.clamp(t[1],A,l);q[2]=c.clamp(t[2],x,u);q[3]=c.clamp(t[3],A,l);return q};a.intersects=function(t,l){return Math.max(l[0],t[0])<=Math.min(l[2],t[2])&&Math.max(l[1],t[1])<=Math.min(l[3],t[3])};a.intersectsSegment=function(t,l,q){const x=t[0],A=t[1],u=t[2];t=t[3];const {x:w,y:z}=l,{x:k,y:v}=q;var y=(C,L)=>0>(v-z)*C+(w-k)*L+(k*z-w*v);l=y(x,t);q=y(u,t);const B=
y(u,A);y=y(x,A);return l===q&&q===B&&B===y&&y===l||w<x&&k<x||w>u&&k>u||z>t&&v>t||z<A&&v<A?!1:!0};a.intersectsSphere=function(t,l){const q=l[3];var x=Math.abs(l[0]-.5*(t[0]+t[2]));const A=.5*(t[2]-t[0]);if(x>q+A)return!1;var u=.5*(t[3]-t[1]);t=Math.abs(l[1]-.5*(t[1]+t[3]));if(t>q+u)return!1;if(x<A||t<u)return!0;x-=A;u=t-u;return x*x+u*u<=q*q};a.is=f;a.isPoint=function(t){return(0===m(t)||!isFinite(t[0]))&&(0===e(t)||!isFinite(t[1]))};a.negativeInfinity=p;a.offset=function(t,l,q,x=t){x[0]=t[0]+l;x[1]=
t[1]+q;x[2]=t[2]+l;x[3]=t[3]+q;return x};a.pad=function(t,l,q=t){q[0]=t[0]-l;q[1]=t[1]-l;q[2]=t[2]+l;q[3]=t[3]+l;return q};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(t,l,q=t){q[2]=l[0];q[3]=l[1];q!==t&&(q[0]=t[0],q[1]=t[1]);return t};a.setMin=function(t,l,q=t){q[0]=l[0];q[1]=l[1];q!==t&&(q[2]=t[2],q[3]=t[3]);return q};a.size=function(t,l){l[0]=t[2]-t[0];l[1]=t[3]-t[1]};a.toExtent=function(t,l){return new h({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:l})};
a.unit=[0,0,1,1];a.width=m;a.zero=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t){var l;h=l=class extends g{constructor(q){if(q){var {paths:x,
hasM:A,hasZ:u,spatialReference:w}=q;x??=[];"number"===typeof x[0]?.[0]&&(x=[x]);switch(x[0]?.[0]?.length){case 4:u??=!0;A??=!0;break;case 3:u??=!0!==A;A??=!u;break;default:u??=!1,A??=!1}w??=p.WGS84;q={...q,hasM:A,hasZ:u,paths:x,spatialReference:w}}else q=void 0;super(q);this.paths=[];this.type="polyline"}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:q}=this;var x=
r.getPolylineExtent(this);if(!x)return null;x=new e(x);x.spatialReference=q;return x}writePaths(q,x){x.paths=b.clone(this.paths)}addPath(q){if(q){var x=this.paths,A=x.length;if(Array.isArray(q[0]))x[A]=q.slice();else{const u=[];for(let w=0,z=q.length;w<z;w++)u[w]=q[w].toArray();x[A]=u}this.notifyChange("paths");return this}}clone(){const q=new l;q.spatialReference=this.spatialReference;q.paths=b.clone(this.paths);q.hasZ=this.hasZ;q.hasM=this.hasM;return q}getPoint(q,x){if(!this._validateInputs(q,
x))return null;q=this.paths[q][x];x=this.hasZ;const A=this.hasM;return x&&!A?new f(q[0],q[1],q[2],void 0,this.spatialReference):A&&!x?new f(q[0],q[1],void 0,q[2],this.spatialReference):x&&A?new f(q[0],q[1],q[2],q[3],this.spatialReference):new f(q[0],q[1],this.spatialReference)}insertPoint(q,x,A){if(!this._validateInputs(q,x,!0))return this;t.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.paths[q].splice(x,0,A);this.notifyChange("paths");return this}removePath(q){if(!this._validateInputs(q,
null))return null;q=this.paths.splice(q,1)[0];const x=this.spatialReference;q=q.map(A=>new f(A,x));this.notifyChange("paths");return q}removePoint(q,x){if(!this._validateInputs(q,x))return null;q=new f(this.paths[q].splice(x,1)[0],this.spatialReference);this.notifyChange("paths");return q}setPoint(q,x,A){if(!this._validateInputs(q,x))return this;t.updateSupportFromPoint(this,A);Array.isArray(A)||(A=A.toArray());this.paths[q][x]=A;this.notifyChange("paths");return this}_validateInputs(q,x,A=!1){return null==
q||0>q||q>=this.paths.length||null!=x&&(q=this.paths[q],A&&(0>x||x>q.length)||!A&&(0>x||x>=q.length))?!1:!0}toJSON(q){return this.write({},q)}};a.__decorate([c.property({readOnly:!0})],h.prototype,"cache",null);a.__decorate([c.property({readOnly:!0})],h.prototype,"extent",null);a.__decorate([c.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],h.prototype,"paths",void 0);a.__decorate([m.writer("paths")],h.prototype,"writePaths",null);h=l=a.__decorate([n.subclass("esri.geometry.Polyline")],
h);h.prototype.toJSON.isDefaultToJSON=!0;return h})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const c=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=
c;a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,c,h,d,n,m){function e(l){return void 0!==l.xmin&&void 0!==l.ymin&&void 0!==l.xmax&&void 0!==l.ymax}function g(l){return void 0!==l.points}function f(l){return void 0!==l.x&&void 0!==l.y}function p(l){return void 0!==l.paths}function r(l){return void 0!==l.rings}
const t={esriGeometryPoint:d,esriGeometryPolyline:m,esriGeometryPolygon:n,esriGeometryEnvelope:b,esriGeometryMultipoint:h,esriGeometryMultiPatch:n};a.fromJSON=function(l){return null==l?null:l instanceof c?l:f(l)?d.fromJSON(l):p(l)?m.fromJSON(l):r(l)?n.fromJSON(l):g(l)?h.fromJSON(l):e(l)?b.fromJSON(l):null};a.getGeometryType=function(l){return l&&t[l]||null};a.getJsonType=function(l){return l?f(l)?"esriGeometryPoint":p(l)?"esriGeometryPolyline":r(l)?"esriGeometryPolygon":e(l)?"esriGeometryEnvelope":
g(l)?"esriGeometryMultipoint":null:null};a.isExtent=e;a.isMultipoint=g;a.isPoint=f;a.isPolygon=r;a.isPolyline=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],function(a,b,c){let h=0;const d=n=>{n=class extends n{constructor(...m){super(...m);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h++})}};return n=b.__decorate([c.subclass("esri.core.Identifiable")],
n)};a.Identifiable=class extends d(class{}){};a.Identifiable=b.__decorate([c.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=d;a.NumericIdentifiableMixin=n=>{n=class extends n{constructor(...m){super(...m);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:h++})}};return n=b.__decorate([c.subclass("esri.core.Identifiable.NumericIdentifiable")],n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require",
"exports","../../config","../../core/Logger"],function(a,b,c,h){b.fromPortalItem=async function(d){d="portalItem"in d?d:{portalItem:d};var {fromItem:n}=await new Promise((m,e)=>a(["../../portal/support/portalLayers"],m,e));try{return await n(d)}catch(m){throw n=d?.portalItem,d=n?.id||"unset",n=n?.portal?.url||c.portalUrl,h.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+d+"')",m),m;}};Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/time/TimeExtent":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/timeUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./timeZoneUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){var r;b=r=class extends b.JSONSupport{static get allTime(){return t}static get empty(){return l}static fromArray(q){return new r({start:null!=
q[0]?new Date(q[0]):q[0],end:null!=q[1]?new Date(q[1]):q[1]})}constructor(q){super(q);this.start=this.end=null}readEnd(q,x){return null!=x.end?new Date(x.end):null}writeEnd(q,x){x.end=q?.getTime()??null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(q,x){return null!=x.start?new Date(x.start):null}writeStart(q,x){x.start=q?.getTime()??null}clone(){return new r({end:this.end,start:this.start})}equals(q){if(!q)return!1;const x=this.start?.getTime()??
this.start,A=this.end?.getTime()??this.end,u=q.start?.getTime()??q.start;q=q.end?.getTime()??q.end;return x===u&&A===q}expandTo(q,x=p.system){if(this.isEmpty||this.isAllTime)return this.clone();let A=this.start;A&&=c.truncateDate(A,q,x);let u=this.end;if(u){const w=c.truncateDate(u,q,x);u=u.getTime()===w.getTime()?w:c.offsetDate(w,1,q,x)}return new r({start:A,end:u})}intersection(q){if(!q)return this.clone();if(this.isEmpty||q.isEmpty)return r.empty;if(this.isAllTime)return q.clone();if(q.isAllTime)return this.clone();
const x=this.start?.getTime()??-Infinity,A=this.end?.getTime()??Infinity,u=q.start?.getTime()??-Infinity;q=q.end?.getTime()??Infinity;let w,z;u>=x&&u<=A?w=u:x>=u&&x<=q&&(w=x);A>=u&&A<=q?z=A:q>=x&&q<=A&&(z=q);return null==w||null==z||isNaN(w)||isNaN(z)?r.empty:new r({start:-Infinity===w?null:new Date(w),end:Infinity===z?null:new Date(z)})}offset(q,x,A=p.system){if(this.isEmpty||this.isAllTime)return this.clone();const u=new r,{start:w,end:z}=this;null!=w&&(u.start=c.offsetDate(w,q,x,A));null!=z&&(u.end=
c.offsetDate(z,q,x,A));return u}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(q){if(!q||q.isEmpty)return this.clone();if(this.isEmpty)return q.clone();if(this.isAllTime||q.isAllTime)return t.clone();const x=null!=this.start&&null!=q.start?new Date(Math.min(this.start.getTime(),q.start.getTime())):null;q=null!=this.end&&null!=q.end?new Date(Math.max(this.end.getTime(),q.end.getTime())):null;return new r({start:x,end:q})}};a.__decorate([h.property({type:Date,
json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);a.__decorate([e.reader("end")],b.prototype,"readEnd",null);a.__decorate([f.writer("end")],b.prototype,"writeEnd",null);a.__decorate([h.property({readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);a.__decorate([h.property({readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null);a.__decorate([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);a.__decorate([e.reader("start")],b.prototype,"readStart",null);
a.__decorate([f.writer("start")],b.prototype,"writeStart",null);a=b=r=a.__decorate([g.subclass("esri.time.TimeExtent")],b);const t=new b,l=new b({start:void 0,end:void 0});return a})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(a,b,c,h){function d(e,g,f){return 0===e?0:e*m[g]/m[f]}function n(e){switch(e){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";
case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const m={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.convertTime=d;a.isValidDate=function(e){return e instanceof Date&&!isNaN(e.getTime())};a.makeUTCTime=function(e,g,f="milliseconds"){g=new Date(d(g,f,"milliseconds"));g.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return g};a.mergeTimeExtents=
function(e,g){return e&&g?e.intersection(g):e||g};a.millisecondsPerTimeUnit=m;a.offsetDate=function(e,g,f,p=c.system){p=new h.IANAZone(b.resolveTimeZone(p));e=h.DateTime.fromJSDate(e,{zone:p});p="decades"===f||"centuries"===f?"year":n(f);"decades"===f&&(g*=10);"centuries"===f&&(g*=100);return e.plus({[p]:g}).toJSDate()};a.offsetDateUTC=function(e,g,f="milliseconds"){e=e.getTime();g=d(g,f,"milliseconds");return new Date(e+g)};a.resetUTCDate=function(e,g){e=new Date(e.getTime());e.setUTCFullYear(g.getFullYear(),
g.getMonth(),g.getDate());return e};a.timeSinceUTCMidnight=function(e,g="milliseconds"){const f=d(e.getUTCHours(),"hours","milliseconds"),p=d(e.getUTCMinutes(),"minutes","milliseconds"),r=d(e.getUTCSeconds(),"seconds","milliseconds");e=e.getUTCMilliseconds();return d(f+p+r+e,"milliseconds",g)};a.truncateDate=function(e,g,f=c.system){f=new h.IANAZone(b.resolveTimeZone(f));e=h.DateTime.fromJSDate(e,{zone:f});if("decades"===g||"centuries"===g)return e=e.startOf("year"),{year:f}=e,e.set({year:f-f%("decades"===
g?10:100)}).toJSDate();g=n(g);return e.startOf(g).toJSDate()};a.truncateLocalTime=function(e){const g=new Date(0);g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0);g.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/timeZoneUtils","../chunks/datetime"],function(a,b,c,h,d){function n(C){var L=y.get(C);if(!L){L=c.getLocale();
L=v[L]||L;const M=e(C.timeZone??h.system);L=new Intl.DateTimeFormat(L,{...C,timeZone:M});y.set(C,L)}return L}function m(C,L=B){return n(L).format(C)}function e(C){switch(C){case h.system:return h.systemTimeZone;case h.unknown:return h.utc;default:return C}}function g(C,L){const M=c.getLocale();return(new Intl.DateTimeFormat(v[M]??M,L)).formatToParts(C)}const f={year:void 0,month:void 0,day:void 0,weekday:void 0},p={hour:void 0,minute:void 0,second:void 0},r={timeZone:h.utc},t={year:"numeric",month:"numeric",
day:"numeric"},l={year:"numeric",month:"long",day:"numeric"},q={year:"numeric",month:"short",day:"numeric"},x={year:"numeric",month:"long",weekday:"long",day:"numeric"},A={hour:"numeric",minute:"numeric"},u={...A,second:"numeric"};var w={hourCycle:"h23"};const z={...A,...w};w={...u,...w};const k={"short-date":t,"short-date-short-time":{...t,...A},"short-date-short-time-24":{...t,...z},"short-date-long-time":{...t,...u},"short-date-long-time-24":{...t,...w},"short-date-le":t,"short-date-le-short-time":{...t,
...A},"short-date-le-short-time-24":{...t,...z},"short-date-le-long-time":{...t,...u},"short-date-le-long-time-24":{...t,...w},"long-month-day-year":l,"long-month-day-year-short-time":{...l,...A},"long-month-day-year-short-time-24":{...l,...z},"long-month-day-year-long-time":{...l,...u},"long-month-day-year-long-time-24":{...l,...w},"day-short-month-year":q,"day-short-month-year-short-time":{...q,...A},"day-short-month-year-short-time-24":{...q,...z},"day-short-month-year-long-time":{...q,...u},"day-short-month-year-long-time-24":{...q,
...w},"long-date":x,"long-date-short-time":{...x,...A},"long-date-short-time-24":{...x,...z},"long-date-long-time":{...x,...u},"long-date-long-time-24":{...x,...w},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":A,"long-time":u};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});const v={ar:"ar-u-nu-latn-ca-gregory"};let y=new WeakMap;const B=k["short-date-short-time"];c.beforeLocaleChange(()=>{y=new WeakMap});a.convertDateFormatToIntlOptions=function(C){return k[C]};a.dateFormatJSONMap=b;a.formatDate=m;a.formatDateOnly=function(C,L=B){return m(new Date(C),{...L,...r,...p})};a.formatTimeOnly=function(C,L=B){return m(new Date(`1970-01-01T${C}Z`),{...L,...r,...f})};a.formatTimestamp=function(C,L=B){if(L.timeZone)return m(new Date(C),
L);C=d.DateTime.fromISO(C,{setZone:!0});const M=c.getLocale();return C.toLocaleString({...L,timeZone:0===C.offset?h.utc:L.timeZone},{locale:v[M]??M})};a.getDateTimeFormatter=n;a.getShortOffsetTimeZoneSuffix=function(C,L=new Date){return g(L,{timeZone:C,timeZoneName:h.shortTimeZoneName}).find(({type:M})=>"timeZoneName"===M)?.value};a.resolveTimeZone=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],
function(a,b,c){function h(e,g="system"){return e?"timeZoneIANA"in e?e.timeZoneIANA:n(e,g):g}function d(e){return{timeZoneIANA:e}}function n(e,g="system"){if(!e||!b.legacyTimeZoneMap.has(e.timeZone))return g;g=b.legacyTimeZoneMap.get(e.timeZone);if(e.timeZone.startsWith("UTC")||e.respectsDaylightSaving)return g;e=c.DateTime.local().setZone(g);e=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);e=0===e?"Etc/UTC":`Etc/GMT${c.FixedOffsetZone.instance(-e).formatOffset(0,"narrow")}`;return e}
const m=Intl.DateTimeFormat().resolvedOptions().timeZone;a.convertLegacyTimeZone=n;a.fromTimeReference=h;a.getTimeZoneComponents=function(e){e="system"===e?m:e;var g=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(g.test(e)){g=g.exec(e)?.groups;const {area:f,region:p,location:r}=g;return{area:f,region:p,location:r,timeZone:e}}return{timeZone:e}};a.getTimeZoneFormattingOptions=function(e,g,f,p,r){if(g&&"date"===r)return{timeZone:"UTC",timeZoneName:void 0};g=p.timeStyle||p.hour;
p="unknown"===f;return{timeZone:p?"timestamp-offset"===r?void 0:e??"UTC":f,timeZoneName:p&&g?"shortOffset":void 0}};a.isTimeZoneValid=function(e){const g=new Set(["etc/utc","etc/gmt","gmt"]),f=new Set(Intl.supportedValuesOf("timeZone").map(p=>p.toLowerCase()));return"system"===e||"unknown"===e||g.has(e.toLowerCase())||f.has(e.toLowerCase())};a.shortTimeZoneName="shortOffset";a.system="system";a.systemTimeZone=m;a.timeZoneProperty=function(e,g=!1){return{json:{read:{source:e,reader(f,p){return p[e]?
h(p[e]):null}},write:g?{allowNull:!0,writer(f,p){p[e]=f?d(f):null}}:!1}}};a.toTimeReference=d;a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],
["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time",
"Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],
["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time",
"Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],
["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time",
"Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time",
"Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time",
"America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],
["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time",
"Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time",
"America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],
["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time",
"Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(D,S={}){const ba=JSON.stringify([D,S]);let ka=rc[ba];
ka||(ka=new Intl.ListFormat(D,S),rc[ba]=ka);return ka}function c(D,S={}){const ba=JSON.stringify([D,S]);let ka=ec[ba];ka||(ka=new Intl.DateTimeFormat(D,S),ec[ba]=ka);return ka}function h(D,S={}){const ba=JSON.stringify([D,S]);let ka=fc[ba];ka||(ka=new Intl.NumberFormat(D,S),fc[ba]=ka);return ka}function d(D,S={}){const {base:ba,...ka}=S,va=JSON.stringify([D,ka]);let Ia=gc[va];Ia||(Ia=new Intl.RelativeTimeFormat(D,S),gc[va]=Ia);return Ia}function n(D){const S=[];for(let ba=1;12>=ba;ba++){const ka=
kb.utc(2009,ba,1);S.push(D(ka))}return S}function m(D){const S=[];for(let ba=1;7>=ba;ba++){const ka=kb.utc(2016,11,13+ba);S.push(D(ka))}return S}function e(D,S,ba,ka){D=D.listingMode();return"error"===D?null:"en"===D?ba(S):ka(S)}function g(D,S){if(y(D)||null===D)return S;if(D instanceof Ub)return D;if("string"===typeof D){const ba=D.toLowerCase();return"default"===ba?S:"local"===ba||"system"===ba?hc.instance:"utc"===ba||"gmt"===ba?Cb.utcInstance:Cb.parseSpecifier(ba)||Mb.create(D)}return B(D)?Cb.instance(D):
"object"===typeof D&&"offset"in D&&"function"===typeof D.offset?D:new Wc(D)}function f({numberingSystem:D},S=""){D=D||"latn";Vb[D]||(Vb[D]={});Vb[D][S]||(Vb[D][S]=new RegExp(`${ic[D]}${S}`));return Vb[D][S]}function p(D,S){return new Jb("unit out of range",`you specified ${S} (of type ${typeof S}) as a ${D}, which is invalid`)}function r(D,S,ba){S=new Date(Date.UTC(D,S-1,ba));100>D&&0<=D&&S.setUTCFullYear(S.getUTCFullYear()-1900);D=S.getUTCDay();return 0===D?7:D}function t(D,S){D=Z(D)?jc:kc;const ba=
D.findIndex(ka=>ka<S);return{month:ba+1,day:S-D[ba]}}function l(D,S){return(D-S+7)%7+1}function q(D,S=4,ba=1){const {year:ka,month:va,day:Ia}=D;var Ka=Ia+(Z(ka)?jc:kc)[va-1];const Wa=l(r(ka,va,Ia),ba);Ka=Math.floor((Ka-Wa+14-S)/7);let db;1>Ka?(db=ka-1,Ka=xa(db,S,ba)):Ka>xa(ka,S,ba)?(db=ka+1,Ka=1):db=ka;return{weekYear:db,weekNumber:Ka,weekday:Wa,...aa(D)}}function x(D,S=4,ba=1){const {weekYear:ka,weekNumber:va,weekday:Ia}=D,Ka=l(r(ka,1,S),ba);ba=Z(ka)?366:365;S=7*va+Ia-Ka-7+S;1>S?(ba=ka-1,S+=Z(ba)?
366:365):S>ba?(ba=ka+1,S-=Z(ka)?366:365):ba=ka;const {month:Wa,day:db}=t(ba,S);return{year:ba,month:Wa,day:db,...aa(D)}}function A(D){const {year:S,month:ba,day:ka}=D;var va=ka+(Z(S)?jc:kc)[ba-1];return{year:S,ordinal:va,...aa(D)}}function u(D){const {year:S,ordinal:ba}=D,{month:ka,day:va}=t(S,ba);return{year:S,month:ka,day:va,...aa(D)}}function w(D,S){if(y(D.localWeekday)&&y(D.localWeekNumber)&&y(D.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!y(D.weekday)||!y(D.weekNumber)||!y(D.weekYear))throw new Ua("Cannot mix locale-based week fields with ISO-based week fields");
y(D.localWeekday)||(D.weekday=D.localWeekday);y(D.localWeekNumber)||(D.weekNumber=D.localWeekNumber);y(D.localWeekYear)||(D.weekYear=D.localWeekYear);delete D.localWeekday;delete D.localWeekNumber;delete D.localWeekYear;return{minDaysInFirstWeek:S.getMinDaysInFirstWeek(),startOfWeek:S.getStartOfWeek()}}function z(D,S=4,ba=1){const ka=C(D.weekYear);S=R(D.weekNumber,1,xa(D.weekYear,S,ba));ba=R(D.weekday,1,7);return ka?S?ba?!1:p("weekday",D.weekday):p("week",D.weekNumber):p("weekYear",D.weekYear)}function k(D){const S=
C(D.year),ba=R(D.month,1,12),ka=R(D.day,1,fa(D.year,D.month));return S?ba?ka?!1:p("day",D.day):p("month",D.month):p("year",D.year)}function v(D){const {hour:S,minute:ba,second:ka,millisecond:va}=D;D=R(S,0,23)||24===S&&0===ba&&0===ka&&0===va;const Ia=R(ba,0,59),Ka=R(ka,0,59),Wa=R(va,0,999);return D?Ia?Ka?Wa?!1:p("millisecond",va):p("second",ka):p("minute",ba):p("hour",S)}function y(D){return"undefined"===typeof D}function B(D){return"number"===typeof D}function C(D){return"number"===typeof D&&0===
D%1}function L(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(D){return!1}}function M(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(D){return!1}}function G(D,S,ba){if(0!==D.length)return D.reduce((ka,va)=>{va=[S(va),va];return ka?ba(ka[0],va[0])===ka[0]?ka:va:va},null)[1]}function E(D,S){return S.reduce((ba,ka)=>{ba[ka]=D[ka];return ba},{})}function F(D,S){return Object.prototype.hasOwnProperty.call(D,
S)}function H(D){if(null==D)return null;if("object"!==typeof D)throw new ia("Week settings must be an object");if(!R(D.firstDay,1,7)||!R(D.minimalDays,1,7)||!Array.isArray(D.weekend)||D.weekend.some(S=>!R(S,1,7)))throw new ia("Invalid week settings");return{firstDay:D.firstDay,minimalDays:D.minimalDays,weekend:Array.from(D.weekend)}}function R(D,S,ba){return C(D)&&D>=S&&D<=ba}function J(D,S=2){return 0>D?"-"+(""+-D).padStart(S,"0"):(""+D).padStart(S,"0")}function K(D){if(!y(D)&&null!==D&&""!==D)return parseInt(D,
10)}function Q(D){if(!y(D)&&null!==D&&""!==D)return parseFloat(D)}function N(D){if(!y(D)&&null!==D&&""!==D)return D=1E3*parseFloat("0."+D),Math.floor(D)}function U(D,S,ba=!1){S=10**S;return(ba?Math.trunc:Math.round)(D*S)/S}function Z(D){return 0===D%4&&(0!==D%100||0===D%400)}function fa(D,S){var ba=S-1;ba=ba-12*Math.floor(ba/12)+1;return 2===ba?Z(D+(S-ba)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ba-1]}function pa(D){let S=Date.UTC(D.year,D.month-1,D.day,D.hour,D.minute,D.second,D.millisecond);
100>D.year&&0<=D.year&&(S=new Date(S),S.setUTCFullYear(D.year,D.month-1,D.day));return+S}function xa(D,S=4,ba=1){var ka=-l(r(D,1,S),ba)+S-1;S=-l(r(D+1,1,S),ba)+S-1;return((Z(D)?366:365)-ka+S)/7}function ra(D){return 99<D?D:D>vb.twoDigitCutoffYear?1900+D:2E3+D}function qa(D,S,ba,ka=null){D=new Date(D);const va={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};ka&&(va.timeZone=ka);return(S=(new Intl.DateTimeFormat(ba,{timeZoneName:S,...va})).formatToParts(D).find(Ia=>
"timezonename"===Ia.type.toLowerCase()))?S.value:null}function za(D,S){D=parseInt(D,10);Number.isNaN(D)&&(D=0);S=parseInt(S,10)||0;S=0>D||Object.is(D,-0)?-S:S;return 60*D+S}function Da(D){const S=Number(D);if("boolean"===typeof D||""===D||Number.isNaN(S))throw new ia(`Invalid unit value ${D}`);return S}function sa(D,S){const ba={};for(const ka in D)if(F(D,ka)){const va=D[ka];void 0!==va&&null!==va&&(ba[S(ka)]=Da(va))}return ba}function X(D,S){const ba=Math.trunc(Math.abs(D/60)),ka=Math.trunc(Math.abs(D%
60));D=0<=D?"+":"-";switch(S){case "short":return`${D}${J(ba,2)}:${J(ka,2)}`;case "narrow":return`${D}${ba}${0<ka?`:${ka}`:""}`;case "techie":return`${D}${J(ba,2)}${J(ka,2)}`;default:throw new RangeError(`Value format ${S} is out of range for property format`);}}function aa(D){return E(D,["hour","minute","second","millisecond"])}function ha(D){switch(D){case "narrow":return[...Xc];case "short":return[...sc];case "long":return[...Yc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");
default:return null}}function I(D){switch(D){case "narrow":return[...Zc];case "short":return[...tc];case "long":return[...uc];case "numeric":return"1234567".split("");default:return null}}function T(D){switch(D){case "narrow":return[...$c];case "short":return[...ad];case "long":return[...bd];default:return null}}function da(D,S,ba="always",ka=!1){const va={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute",
"min."],seconds:["second","sec."]};var Ia=-1===["hours","minutes","seconds"].indexOf(D);if("auto"===ba&&Ia)switch(ba="days"===D,S){case 1:return ba?"tomorrow":`next ${va[D][0]}`;case -1:return ba?"yesterday":`last ${va[D][0]}`;case 0:return ba?"today":`this ${va[D][0]}`}ba=Object.is(S,-0)||0>S;S=Math.abs(S);Ia=1===S;const Ka=va[D];D=ka?Ia?Ka[1]:Ka[2]||Ka[1]:Ia?va[D][0]:D;return ba?`${S} ${D} ago`:`in ${S} ${D}`}function la(D,S){let ba="";for(const ka of D)ba=ka.literal?ba+ka.val:ba+S(ka.val);return ba}
function ua(...D){D=D.reduce((S,ba)=>S+ba.source,"");return RegExp(`^${D}$`)}function Y(...D){return S=>D.reduce(([ba,ka,va],Ia)=>{const [Ka,Wa,db]=Ia(S,va);return[{...ba,...Ka},Wa||ka,db]},[{},null,1]).slice(0,2)}function ea(D,...S){if(null==D)return[null,null];for(const [ba,ka]of S)if(S=ba.exec(D))return ka(S);return[null,null]}function ja(...D){return(S,ba)=>{const ka={};let va;for(va=0;va<D.length;va++)ka[D[va]]=K(S[ba+va]);return[ka,null,ba+va]}}function V(D,S,ba){D=D[S];return y(D)?ba:K(D)}
function O(D,S){return[{hours:V(D,S,0),minutes:V(D,S+1,0),seconds:V(D,S+2,0),milliseconds:N(D[S+3])},null,S+4]}function P(D,S){const ba=!D[S]&&!D[S+1];D=za(D[S+1],D[S+2]);return[{},ba?null:Cb.instance(D),S+3]}function W(D,S){return[{},D[S]?Mb.create(D[S]):null,S+1]}function ca(D){const [S,ba,ka,va,Ia,Ka,Wa,db,mb]=D,jb="-"===S[0];D=db&&"-"===db[0];const lb=(tb,yb=!1)=>void 0!==tb&&(yb||tb&&jb)?-tb:tb;return[{years:lb(Q(ba)),months:lb(Q(ka)),weeks:lb(Q(va)),days:lb(Q(Ia)),hours:lb(Q(Ka)),minutes:lb(Q(Wa)),
seconds:lb(Q(db),"-0"===db),milliseconds:lb(N(mb),D)}]}function oa(D,S,ba,ka,va,Ia,Ka){S={year:2===S.length?ra(K(S)):K(S),month:sc.indexOf(ba)+1,day:K(ka),hour:K(va),minute:K(Ia)};Ka&&(S.second=K(Ka));D&&(S.weekday=3<D.length?uc.indexOf(D)+1:tc.indexOf(D)+1);return S}function Aa(D){const [,S,ba,ka,va,Ia,Ka,Wa,db,mb,jb,lb]=D;D=oa(S,va,ka,ba,Ia,Ka,Wa);let tb;tb=db?cd[db]:mb?0:za(jb,lb);return[D,new Cb(tb)]}function Ga(D){const [,S,ba,ka,va,Ia,Ka,Wa]=D;return[oa(S,va,ka,ba,Ia,Ka,Wa),Cb.utcInstance]}
function Fa(D){const [,S,ba,ka,va,Ia,Ka,Wa]=D;return[oa(S,Wa,ba,ka,va,Ia,Ka),Cb.utcInstance]}function Pa(D,S,ba=!1){D={values:ba?S.values:{...D.values,...(S.values||{})},loc:D.loc.clone(S.loc),conversionAccuracy:S.conversionAccuracy||D.conversionAccuracy,matrix:S.matrix||D.matrix};return new rb(D)}function Na(D,S){let ba=S.milliseconds??0;for(const ka of dd.slice(1))S[ka]&&(ba+=S[ka]*D[ka].milliseconds);return ba}function Qa(D,S){const ba=0>Na(D,S)?-1:1;Qb.reduceRight((ka,va)=>{if(y(S[va]))return ka;
if(ka){const Ia=D[va][ka],Ka=Math.floor(S[ka]*ba/Ia);S[va]+=Ka*ba;S[ka]-=Ka*Ia*ba}return va},null);Qb.reduce((ka,va)=>{if(y(S[va]))return ka;if(ka){const Ia=S[ka]%1;S[ka]-=Ia;S[va]+=Ia*D[ka][va]}return va},null)}function Sa(D,S){D=S.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-D.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(rb.fromMillis(D).as("days"))}function Ya(D,S,ba){const ka=[["years",(db,mb)=>mb.year-db.year],["quarters",(db,mb)=>mb.quarter-db.quarter+4*(mb.year-
db.year)],["months",(db,mb)=>mb.month-db.month+12*(mb.year-db.year)],["weeks",(db,mb)=>{db=Sa(db,mb);return(db-db%7)/7}],["days",Sa]],va={},Ia=D;let Ka,Wa;for(const [db,mb]of ka)0<=ba.indexOf(db)&&(Ka=db,va[db]=mb(D,S),Wa=Ia.plus(va),Wa>S?(va[db]--,D=Ia.plus(va),D>S&&(Wa=D,va[db]--,D=Ia.plus(va))):D=Wa);return[D,va,Wa,Ka]}function cb(D,S,ba,ka){let [va,Ia,Ka,Wa]=Ya(D,S,ba);D=S-va;ba=ba.filter(db=>0<=["hours","minutes","seconds","milliseconds"].indexOf(db));0===ba.length&&(Ka<S&&(Ka=va.plus({[Wa]:1})),
Ka!==va&&(Ia[Wa]=(Ia[Wa]||0)+D/(Ka-va)));S=rb.fromObject(Ia,ka);return 0<ba.length?rb.fromMillis(D,ka).shiftTo(...ba).plus(S):S}function ab(D,S=ba=>ba){return{regex:D,deser:([ba])=>{{let ka=parseInt(ba,10);if(isNaN(ka)){ka="";for(let va=0;va<ba.length;va++){const Ia=ba.charCodeAt(va);if(-1!==ba[va].search(ic.hanidec))ka+=ed.indexOf(ba[va]);else for(const Ka in vc){const [Wa,db]=vc[Ka];Ia>=Wa&&Ia<=db&&(ka+=Ia-Wa)}}ba=parseInt(ka,10)}else ba=ka}return S(ba)}}}function nb(D){return D.replace(/\./g,"\\.?").replace(lc,
wc)}function ta(D,S){return null===D?null:{regex:RegExp(D.map(nb).join("|")),deser:([ba])=>D.findIndex(ka=>ba.replace(/\./g,"").replace(lc," ").toLowerCase()===ka.replace(/\./g,"").replace(lc," ").toLowerCase())+S}}function Ba(D,S){return{regex:D,deser:([,ba,ka])=>za(ba,ka),groups:S}}function Ra(D){return{regex:D,deser:([S])=>S}}function $a(D,S){const ba=f(S),ka=f(S,"{2}"),va=f(S,"{3}"),Ia=f(S,"{4}"),Ka=f(S,"{6}"),Wa=f(S,"{1,2}"),db=f(S,"{1,3}"),mb=f(S,"{1,6}"),jb=f(S,"{1,9}"),lb=f(S,"{2,4}"),tb=
f(S,"{4,6}"),yb=Nb=>({regex:RegExp(Nb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Yb])=>Yb,literal:!0}),zb=(Nb=>{if(D.literal)return yb(Nb);switch(Nb.val){case "G":return ta(S.eras("short"),0);case "GG":return ta(S.eras("long"),0);case "y":return ab(mb);case "yy":return ab(lb,ra);case "yyyy":return ab(Ia);case "yyyyy":return ab(tb);case "yyyyyy":return ab(Ka);case "M":return ab(Wa);case "MM":return ab(ka);case "MMM":return ta(S.months("short",!0),1);case "MMMM":return ta(S.months("long",
!0),1);case "L":return ab(Wa);case "LL":return ab(ka);case "LLL":return ta(S.months("short",!1),1);case "LLLL":return ta(S.months("long",!1),1);case "d":return ab(Wa);case "dd":return ab(ka);case "o":return ab(db);case "ooo":return ab(va);case "HH":return ab(ka);case "H":return ab(Wa);case "hh":return ab(ka);case "h":return ab(Wa);case "mm":return ab(ka);case "m":return ab(Wa);case "q":return ab(Wa);case "qq":return ab(ka);case "s":return ab(Wa);case "ss":return ab(ka);case "S":return ab(db);case "SSS":return ab(va);
case "u":return Ra(jb);case "uu":return Ra(Wa);case "uuu":return ab(ba);case "a":return ta(S.meridiems(),0);case "kkkk":return ab(Ia);case "kk":return ab(lb,ra);case "W":return ab(Wa);case "WW":return ab(ka);case "E":case "c":return ab(ba);case "EEE":return ta(S.weekdays("short",!1),1);case "EEEE":return ta(S.weekdays("long",!1),1);case "ccc":return ta(S.weekdays("short",!0),1);case "cccc":return ta(S.weekdays("long",!0),1);case "Z":case "ZZ":return Ba(new RegExp(`([+-]${Wa.source})(?::(${ka.source}))?`),
2);case "ZZZ":return Ba(new RegExp(`([+-]${Wa.source})(${ka.source})?`),2);case "z":return Ra(/[a-z_+-/]{1,256}?/i);case " ":return Ra(/[^\S\n\r]/);default:return yb(Nb)}})(D)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};zb.token=D;return zb}function gb(D){return[`^${D.map(S=>S.regex).reduce((S,ba)=>`${S}(${ba.source})`,"")}$`,D]}function qb(D){const S=va=>{switch(va){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";
case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let ba=null,ka;y(D.z)||(ba=Mb.create(D.z));y(D.Z)||(ba||=new Cb(D.Z),ka=D.Z);y(D.q)||(D.M=3*(D.q-1)+1);y(D.h)||(12>D.h&&1===D.a?D.h+=12:12===D.h&&0===D.a&&(D.h=0));0===D.G&&D.y&&(D.y=-D.y);y(D.u)||(D.S=N(D.u));return[Object.keys(D).reduce((va,Ia)=>{const Ka=S(Ia);Ka&&
(va[Ka]=D[Ia]);return va},{}),ba,ka]}function ub(D,S){return Array.prototype.concat(...D.map(ba=>{if(!ba.literal){var ka=Db.macroTokenToFormatOpts(ba.val);ka=ob(ka,S);ba=null==ka||ka.includes(void 0)?ba:ka}return ba}))}function ob(D,S){if(!D)return null;S=Db.create(S,D);var ba=S.dtFormatter;xc||=kb.fromMillis(1555555555555);S=ba.call(S,xc);ba=S.formatToParts();const ka=S.resolvedOptions();return ba.map(va=>{{const {type:Ka,value:Wa}=va;if("literal"===Ka)va=/^\s+$/.test(Wa),va={literal:!va,val:va?
" ":Wa};else{va=D[Ka];var Ia=Ka;"hour"===Ka&&(Ia=null!=D.hour12?D.hour12?"hour12":"hour24":null!=D.hourCycle?"h11"===D.hourCycle||"h12"===D.hourCycle?"hour12":"hour24":ka.hour12?"hour12":"hour24");Ia=fd[Ia];"object"===typeof Ia&&(Ia=Ia[va]);va=Ia?{literal:!1,val:Ia}:void 0}}return va})}function Gb(D){return new Jb("unsupported zone",`the zone "${D.name}" is not supported`)}function Lb(D){null===D.weekData&&(D.weekData=q(D.c));return D.weekData}function Eb(D){null===D.localWeekData&&(D.localWeekData=
q(D.c,D.loc.getMinDaysInFirstWeek(),D.loc.getStartOfWeek()));return D.localWeekData}function Hb(D,S){D={ts:D.ts,zone:D.zone,c:D.c,o:D.o,loc:D.loc,invalid:D.invalid};return new kb({...D,...S,old:D})}function Ab(D,S,ba){let ka=D-6E4*S;const va=ba.offset(ka);if(S===va)return[ka,S];ka-=6E4*(va-S);S=ba.offset(ka);return va===S?[ka,va]:[D-6E4*Math.min(va,S),Math.max(va,S)]}function Bb(D,S){D=new Date(D+6E4*S);return{year:D.getUTCFullYear(),month:D.getUTCMonth()+1,day:D.getUTCDate(),hour:D.getUTCHours(),
minute:D.getUTCMinutes(),second:D.getUTCSeconds(),millisecond:D.getUTCMilliseconds()}}function ma(D,S,ba){return Ab(pa(D),S,ba)}function na(D,S){const ba=D.o;var ka=D.c.year+Math.trunc(S.years);const va=D.c.month+Math.trunc(S.months)+3*Math.trunc(S.quarters);ka={...D.c,year:ka,month:va,day:Math.min(D.c.day,fa(ka,va))+Math.trunc(S.days)+7*Math.trunc(S.weeks)};S=rb.fromObject({years:S.years-Math.trunc(S.years),quarters:S.quarters-Math.trunc(S.quarters),months:S.months-Math.trunc(S.months),weeks:S.weeks-
Math.trunc(S.weeks),days:S.days-Math.trunc(S.days),hours:S.hours,minutes:S.minutes,seconds:S.seconds,milliseconds:S.milliseconds}).as("milliseconds");ka=pa(ka);let [Ia,Ka]=Ab(ka,ba,D.zone);0!==S&&(Ia+=S,Ka=D.zone.offset(Ia));return{ts:Ia,o:Ka}}function Ha(D,S,ba,ka,va,Ia){const {setZone:Ka,zone:Wa}=ba;return D&&0!==Object.keys(D).length||S?(D=kb.fromObject(D,{...ba,zone:S||Wa,specificOffset:Ia}),Ka?D:D.setZone(Wa)):kb.invalid(new Jb("unparsable",`the input "${va}" can't be parsed as ${ka}`))}function Ca(D,
S,ba=!0){return D.isValid?Db.create(sb.create("en-US"),{allowZ:ba,forceSimple:!0}).formatDateTimeFromString(D,S):null}function Ta(D,S){const ba=9999<D.c.year||0>D.c.year;let ka="";ba&&0<=D.c.year&&(ka+="+");ka+=J(D.c.year,ba?6:4);S?(ka=ka+"-"+J(D.c.month),ka=ka+"-"+J(D.c.day)):(ka+=J(D.c.month),ka+=J(D.c.day));return ka}function bb(D,S,ba,ka,va,Ia){let Ka=J(D.c.hour);S?(Ka=Ka+":"+J(D.c.minute),0===D.c.millisecond&&0===D.c.second&&ba||(Ka+=":")):Ka+=J(D.c.minute);0===D.c.millisecond&&0===D.c.second&&
ba||(Ka+=J(D.c.second),0===D.c.millisecond&&ka||(Ka=Ka+"."+J(D.c.millisecond,3)));va&&(D.isOffsetFixed&&0===D.offset&&!Ia?Ka+="Z":0>D.o?(Ka=Ka+"-"+J(Math.trunc(-D.o/60)),Ka=Ka+":"+J(Math.trunc(-D.o%60))):(Ka=Ka+"+"+J(Math.trunc(D.o/60)),Ka=Ka+":"+J(Math.trunc(D.o%60))));Ia&&(Ka+="["+D.zone.ianaName+"]");return Ka}function ya(D){switch(D.toLowerCase()){case "localweekday":case "localweekdays":return"localWeekday";case "localweeknumber":case "localweeknumbers":return"localWeekNumber";case "localweekyear":case "localweekyears":return"localWeekYear";
default:const S={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[D.toLowerCase()];if(!S)throw new xb(D);return S}}function Va(D,
S){const ba=g(S.zone,vb.defaultZone);if(!ba.isValid)return kb.invalid(Gb(ba));S=sb.fromObject(S);var ka;if(y(D.year))D=vb.now();else{for(const va of yc)y(D[va])&&(D[va]=zc[va]);if(ka=k(D)||v(D))return kb.invalid(ka);Zb[ba]||(void 0===$b&&($b=vb.now()),Zb[ba]=ba.offset($b));[D,ka]=ma(D,Zb[ba],ba)}return new kb({ts:D,zone:ba,loc:S,o:ka})}function eb(D,S,ba){const ka=y(ba.round)?!0:ba.round,va=(Ka,Wa)=>{Ka=U(Ka,ka||ba.calendary?0:2,!0);return S.loc.clone(ba).relFormatter(ba).format(Ka,Wa)},Ia=Ka=>ba.calendary?
S.hasSame(D,Ka)?0:S.startOf(Ka).diff(D.startOf(Ka),Ka).get(Ka):S.diff(D,Ka).get(Ka);if(ba.unit)return va(Ia(ba.unit),ba.unit);for(const Ka of ba.units){const Wa=Ia(Ka);if(1<=Math.abs(Wa))return va(Wa,Ka)}return va(D>S?-0:0,ba.units[ba.units.length-1])}function hb(D){let S={};0<D.length&&"object"===typeof D[D.length-1]?(S=D[D.length-1],D=Array.from(D).slice(0,D.length-1)):D=Array.from(D);return[S,D]}function ib(D){if(kb.isDateTime(D))return D;if(D&&D.valueOf&&B(D.valueOf()))return kb.fromJSDate(D);
if(D&&"object"===typeof D)return kb.fromObject(D);throw new ia(`Unknown datetime argument: ${D}, of type ${typeof D}`);}class Ma extends Error{}class Xa extends Ma{constructor(D){super(`Invalid DateTime: ${D.toMessage()}`)}}class wa extends Ma{constructor(D){super(`Invalid Interval: ${D.toMessage()}`)}}class Ja extends Ma{constructor(D){super(`Invalid Duration: ${D.toMessage()}`)}}class Ua extends Ma{}class xb extends Ma{constructor(D){super(`Invalid unit ${D}`)}}class ia extends Ma{}class Ea extends Ma{constructor(){super("Zone is an abstract class")}}
const La={year:"numeric",month:"numeric",day:"numeric"},Oa={year:"numeric",month:"short",day:"numeric"},Za={year:"numeric",month:"short",day:"numeric",weekday:"short"},fb={year:"numeric",month:"long",day:"numeric"},pb={year:"numeric",month:"long",day:"numeric",weekday:"long"},Ib={hour:"numeric",minute:"numeric"},Ob={hour:"numeric",minute:"numeric",second:"numeric"},Rb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Kb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
Wb={hour:"numeric",minute:"numeric",hourCycle:"h23"},Fb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Sb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},Tb={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},Pb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},Xb={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Ac={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},Bc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},gd={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Cc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},Dc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Ec={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Fc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class Ub{get type(){throw new Ea;}get name(){throw new Ea;}get ianaName(){return this.name}get isUniversal(){throw new Ea;}offsetName(D,S){throw new Ea;}formatOffset(D,S){throw new Ea;}offset(D){throw new Ea;}equals(D){throw new Ea;}get isValid(){throw new Ea;}}let mc=null;class hc extends Ub{static get instance(){null===
mc&&(mc=new hc);return mc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(D,{format:S,locale:ba}){return qa(D,S,ba)}formatOffset(D,S){return X(this.offset(D),S)}offset(D){return-(new Date(D)).getTimezoneOffset()}equals(D){return"system"===D.type}get isValid(){return!0}}let ac={};const hd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let bc={};class Mb extends Ub{static create(D){bc[D]||(bc[D]=new Mb(D));
return bc[D]}static resetCache(){bc={};ac={}}static isValidSpecifier(D){return this.isValidZone(D)}static isValidZone(D){if(!D)return!1;try{return(new Intl.DateTimeFormat("en-US",{timeZone:D})).format(),!0}catch(S){return!1}}constructor(D){super();this.zoneName=D;this.valid=Mb.isValidZone(D)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(D,{format:S,locale:ba}){return qa(D,S,ba,this.name)}formatOffset(D,S){return X(this.offset(D),S)}offset(D){D=new Date(D);
if(isNaN(D))return NaN;var S=this.name;ac[S]||(ac[S]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:S,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}));S=ac[S];if(S.formatToParts){S=S.formatToParts(D);var ba=[];for(let jb=0;jb<S.length;jb++){const {type:lb,value:tb}=S[jb],yb=hd[lb];"era"===lb?ba[yb]=tb:y(yb)||(ba[yb]=parseInt(tb,10))}S=ba}else{S=S.format(D).replace(/\u200E/g,"");S=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(S);
const [,jb,lb,tb,yb,zb,Nb,Yb]=S;S=[tb,jb,lb,yb,zb,Nb,Yb]}let [ka,va,Ia,Ka,Wa,db,mb]=S;"BC"===Ka&&(ka=-Math.abs(ka)+1);S=pa({year:ka,month:va,day:Ia,hour:24===Wa?0:Wa,minute:db,second:mb,millisecond:0});D=+D;ba=D%1E3;return(S-(D-(0<=ba?ba:1E3+ba)))/6E4}equals(D){return"iana"===D.type&&D.name===this.name}get isValid(){return this.valid}}let rc={},ec={},fc={},gc={},cc=null,Gc={};class id{constructor(D,S,ba){this.padTo=ba.padTo||0;this.floor=ba.floor||!1;const {padTo:ka,floor:va,...Ia}=ba;if(!S||0<Object.keys(Ia).length)S=
{useGrouping:!1,...ba},0<ba.padTo&&(S.minimumIntegerDigits=ba.padTo),this.inf=h(D,S)}format(D){if(this.inf)return this.inf.format(this.floor?Math.floor(D):D);D=this.floor?Math.floor(D):U(D,3);return J(D,this.padTo)}}class jd{constructor(D,S,ba){this.opts=ba;ba=this.originalZone=void 0;this.opts.timeZone?this.dt=D:"fixed"===D.zone.type?(ba=D.offset/60*-1,ba=0<=ba?`Etc/GMT+${ba}`:`Etc/GMT${ba}`,0!==D.offset&&Mb.create(ba).valid?this.dt=D:(ba="UTC",this.dt=0===D.offset?D:D.setZone("UTC").plus({minutes:D.offset}),
this.originalZone=D.zone)):"system"===D.zone.type?this.dt=D:"iana"===D.zone.type?(this.dt=D,ba=D.zone.name):(ba="UTC",this.dt=D.setZone("UTC").plus({minutes:D.offset}),this.originalZone=D.zone);D={...this.opts};D.timeZone=D.timeZone||ba;this.dtf=c(S,D)}format(){return this.originalZone?this.formatToParts().map(({value:D})=>D).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const D=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?D.map(S=>{if("timeZoneName"===S.type){const ba=
this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...S,value:ba}}return S}):D}resolvedOptions(){return this.dtf.resolvedOptions()}}class kd{constructor(D,S,ba){this.opts={style:"long",...ba};!S&&L()&&(this.rtf=d(D,ba))}format(D,S){return this.rtf?this.rtf.format(D,S):da(S,D,this.opts.numeric,"long"!==this.opts.style)}formatToParts(D,S){return this.rtf?this.rtf.formatToParts(D,S):[]}}const ld={firstDay:1,minimalDays:4,weekend:[6,7]};class sb{static fromOpts(D){return sb.create(D.locale,
D.numberingSystem,D.outputCalendar,D.weekSettings,D.defaultToEN)}static create(D,S,ba,ka,va=!1){D=D||vb.defaultLocale;var Ia;(Ia=D)||(va?va="en-US":(cc||(cc=(new Intl.DateTimeFormat).resolvedOptions().locale),va=cc),Ia=va);va=Ia;S=S||vb.defaultNumberingSystem;ba=ba||vb.defaultOutputCalendar;ka=H(ka)||vb.defaultWeekSettings;return new sb(va,S,ba,ka,D)}static resetCache(){cc=null;ec={};fc={};gc={}}static fromObject({locale:D,numberingSystem:S,outputCalendar:ba,weekSettings:ka}={}){return sb.create(D,
S,ba,ka)}constructor(D,S,ba,ka,va){var Ia=D.indexOf("-x-");-1!==Ia&&(D=D.substring(0,Ia));Ia=D.indexOf("-u-");if(-1===Ia)var Ka=[D];else{try{Ka=c(D).resolvedOptions();var Wa=D}catch(yb){Wa=D.substring(0,Ia),Ka=c(Wa).resolvedOptions()}const {numberingSystem:lb,calendar:tb}=Ka;Ka=[Wa,lb,tb]}const [db,mb,jb]=Ka;this.locale=db;this.numberingSystem=S||mb||null;this.outputCalendar=ba||jb||null;this.weekSettings=ka;S=this.locale;ba=this.numberingSystem;if((ka=this.outputCalendar)||ba)S.includes("-u-")||
(S+="-u"),ka&&(S+=`-ca-${ka}`),ba&&(S+=`-nu-${ba}`);this.intl=S;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=va;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var D=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;
this.fastNumbersCached=D}return this.fastNumbersCached}listingMode(){const D=this.isEnglish(),S=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return D&&S?"en":"intl"}clone(D){return D&&0!==Object.getOwnPropertyNames(D).length?sb.create(D.locale||this.specifiedLocale,D.numberingSystem||this.numberingSystem,D.outputCalendar||this.outputCalendar,H(D.weekSettings)||this.weekSettings,D.defaultToEN||!1):this}redefaultToEN(D={}){return this.clone({...D,
defaultToEN:!0})}redefaultToSystem(D={}){return this.clone({...D,defaultToEN:!1})}months(D,S=!1){return e(this,D,ha,()=>{const ba=S?{month:D,day:"numeric"}:{month:D},ka=S?"format":"standalone";this.monthsCache[ka][D]||(this.monthsCache[ka][D]=n(va=>this.extract(va,ba,"month")));return this.monthsCache[ka][D]})}weekdays(D,S=!1){return e(this,D,I,()=>{const ba=S?{weekday:D,year:"numeric",month:"long",day:"numeric"}:{weekday:D},ka=S?"format":"standalone";this.weekdaysCache[ka][D]||(this.weekdaysCache[ka][D]=
m(va=>this.extract(va,ba,"weekday")));return this.weekdaysCache[ka][D]})}meridiems(){return e(this,void 0,()=>Hc,()=>{if(!this.meridiemCache){const D={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[kb.utc(2016,11,13,9),kb.utc(2016,11,13,19)].map(S=>this.extract(S,D,"dayperiod"))}return this.meridiemCache})}eras(D){return e(this,D,T,()=>{const S={era:D};this.eraCache[D]||(this.eraCache[D]=[kb.utc(-40,1,1),kb.utc(2017,1,1)].map(ba=>this.extract(ba,S,"era")));return this.eraCache[D]})}extract(D,
S,ba){return(D=this.dtFormatter(D,S).formatToParts().find(ka=>ka.type.toLowerCase()===ba))?D.value:null}numberFormatter(D={}){return new id(this.intl,D.forceSimple||this.fastNumbers,D)}dtFormatter(D,S={}){return new jd(D,this.intl,S)}relFormatter(D={}){return new kd(this.intl,this.isEnglish(),D)}listFormatter(D={}){return b(this.intl,D)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;
if(M()){var D=this.locale,S=Gc[D];S||(S=new Intl.Locale(D),S="getWeekInfo"in S?S.getWeekInfo():S.weekInfo,Gc[D]=S);return S}return ld}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(D){return this.locale===D.locale&&this.numberingSystem===D.numberingSystem&&this.outputCalendar===D.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}
let nc=null;class Cb extends Ub{static get utcInstance(){null===nc&&(nc=new Cb(0));return nc}static instance(D){return 0===D?Cb.utcInstance:new Cb(D)}static parseSpecifier(D){return D&&(D=D.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Cb(za(D[1],D[2])):null}constructor(D){super();this.fixed=D}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${X(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${X(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(D,
S){return X(this.fixed,S)}get isUniversal(){return!0}offset(){return this.fixed}equals(D){return"fixed"===D.type&&D.fixed===this.fixed}get isValid(){return!0}}class Wc extends Ub{constructor(D){super();this.zoneName=D}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}const ic={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",
deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},vc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],
beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ed=ic.hanidec.replace(/[\[|\]]/g,"").split("");let Vb={},Ic=()=>Date.now(),Jc="system",Kc=null,Lc=null,Mc=null,Nc=60,Oc,Pc=null;class vb{static get now(){return Ic}static set now(D){Ic=D}static set defaultZone(D){Jc=D}static get defaultZone(){return g(Jc,
hc.instance)}static get defaultLocale(){return Kc}static set defaultLocale(D){Kc=D}static get defaultNumberingSystem(){return Lc}static set defaultNumberingSystem(D){Lc=D}static get defaultOutputCalendar(){return Mc}static set defaultOutputCalendar(D){Mc=D}static get defaultWeekSettings(){return Pc}static set defaultWeekSettings(D){Pc=H(D)}static get twoDigitCutoffYear(){return Nc}static set twoDigitCutoffYear(D){Nc=D%100}static get throwOnInvalid(){return Oc}static set throwOnInvalid(D){Oc=D}static resetCaches(){sb.resetCache();
Mb.resetCache();kb.resetCache();Vb={}}}class Jb{constructor(D,S){this.reason=D;this.explanation=S}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const kc=[0,31,59,90,120,151,181,212,243,273,304,334],jc=[0,31,60,91,121,152,182,213,244,274,305,335],Yc="January February March April May June July August September October November December".split(" "),sc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xc="JFMAMJJASOND".split(""),uc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
tc="Mon Tue Wed Thu Fri Sat Sun".split(" "),Zc="MTWTFSS".split(""),Hc=["AM","PM"],bd=["Before Christ","Anno Domini"],ad=["BC","AD"],$c=["B","A"],md={D:La,DD:Oa,DDD:fb,DDDD:pb,t:Ib,tt:Ob,ttt:Rb,tttt:Kb,T:Wb,TT:Fb,TTT:Sb,TTTT:Tb,f:Pb,ff:Ac,fff:Cc,ffff:Ec,F:Xb,FF:Bc,FFF:Dc,FFFF:Fc};class Db{static create(D,S={}){return new Db(D,S)}static parseFormat(D){let S=null,ba="",ka=!1;const va=[];for(let Ia=0;Ia<D.length;Ia++){const Ka=D.charAt(Ia);"'"===Ka?(0<ba.length&&va.push({literal:ka||/^\s+$/.test(ba),
val:ba}),S=null,ba="",ka=!ka):ka?ba+=Ka:Ka===S?ba+=Ka:(0<ba.length&&va.push({literal:/^\s+$/.test(ba),val:ba}),S=ba=Ka)}0<ba.length&&va.push({literal:ka||/^\s+$/.test(ba),val:ba});return va}static macroTokenToFormatOpts(D){return md[D]}constructor(D,S){this.opts=S;this.loc=D;this.systemLoc=null}formatWithSystemDefault(D,S){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(D,{...this.opts,...S}).format()}dtFormatter(D,S={}){return this.loc.dtFormatter(D,
{...this.opts,...S})}formatDateTime(D,S){return this.dtFormatter(D,S).format()}formatDateTimeParts(D,S){return this.dtFormatter(D,S).formatToParts()}formatInterval(D,S){return this.dtFormatter(D.start,S).dtf.formatRange(D.start.toJSDate(),D.end.toJSDate())}resolvedOptions(D,S){return this.dtFormatter(D,S).resolvedOptions()}num(D,S=0){if(this.opts.forceSimple)return J(D,S);const ba={...this.opts};0<S&&(ba.padTo=S);return this.loc.numberFormatter(ba).format(D)}formatDateTimeFromString(D,S){const ba=
"en"===this.loc.listingMode(),ka=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,va=(jb,lb)=>this.loc.extract(D,jb,lb),Ia=jb=>D.isOffsetFixed&&0===D.offset&&jb.allowZ?"Z":D.isValid?D.zone.formatOffset(D.ts,jb.format):"",Ka=(jb,lb)=>ba?ha(jb)[D.month-1]:va(lb?{month:jb}:{month:jb,day:"numeric"},"month"),Wa=(jb,lb)=>ba?I(jb)[D.weekday-1]:va(lb?{weekday:jb}:{weekday:jb,month:"long",day:"numeric"},"weekday"),db=jb=>{const lb=Db.macroTokenToFormatOpts(jb);return lb?this.formatWithSystemDefault(D,
lb):jb},mb=jb=>ba?T(jb)[0>D.year?0:1]:va({era:jb},"era");return la(Db.parseFormat(S),jb=>{switch(jb){case "S":return this.num(D.millisecond);case "u":case "SSS":return this.num(D.millisecond,3);case "s":return this.num(D.second);case "ss":return this.num(D.second,2);case "uu":return this.num(Math.floor(D.millisecond/10),2);case "uuu":return this.num(Math.floor(D.millisecond/100));case "m":return this.num(D.minute);case "mm":return this.num(D.minute,2);case "h":return this.num(0===D.hour%12?12:D.hour%
12);case "hh":return this.num(0===D.hour%12?12:D.hour%12,2);case "H":return this.num(D.hour);case "HH":return this.num(D.hour,2);case "Z":return Ia({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return Ia({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return Ia({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return D.zone.offsetName(D.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return D.zone.offsetName(D.ts,{format:"long",locale:this.loc.locale});case "z":return D.zoneName;
case "a":return ba?Hc[12>D.hour?0:1]:va({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return ka?va({day:"numeric"},"day"):this.num(D.day);case "dd":return ka?va({day:"2-digit"},"day"):this.num(D.day,2);case "c":return this.num(D.weekday);case "ccc":return Wa("short",!0);case "cccc":return Wa("long",!0);case "ccccc":return Wa("narrow",!0);case "E":return this.num(D.weekday);case "EEE":return Wa("short",!1);case "EEEE":return Wa("long",!1);case "EEEEE":return Wa("narrow",!1);case "L":return ka?
va({month:"numeric",day:"numeric"},"month"):this.num(D.month);case "LL":return ka?va({month:"2-digit",day:"numeric"},"month"):this.num(D.month,2);case "LLL":return Ka("short",!0);case "LLLL":return Ka("long",!0);case "LLLLL":return Ka("narrow",!0);case "M":return ka?va({month:"numeric"},"month"):this.num(D.month);case "MM":return ka?va({month:"2-digit"},"month"):this.num(D.month,2);case "MMM":return Ka("short",!1);case "MMMM":return Ka("long",!1);case "MMMMM":return Ka("narrow",!1);case "y":return ka?
va({year:"numeric"},"year"):this.num(D.year);case "yy":return ka?va({year:"2-digit"},"year"):this.num(D.year.toString().slice(-2),2);case "yyyy":return ka?va({year:"numeric"},"year"):this.num(D.year,4);case "yyyyyy":return ka?va({year:"numeric"},"year"):this.num(D.year,6);case "G":return mb("short");case "GG":return mb("long");case "GGGGG":return mb("narrow");case "kk":return this.num(D.weekYear.toString().slice(-2),2);case "kkkk":return this.num(D.weekYear,4);case "W":return this.num(D.weekNumber);
case "WW":return this.num(D.weekNumber,2);case "n":return this.num(D.localWeekNumber);case "nn":return this.num(D.localWeekNumber,2);case "ii":return this.num(D.localWeekYear.toString().slice(-2),2);case "iiii":return this.num(D.localWeekYear,4);case "o":return this.num(D.ordinal);case "ooo":return this.num(D.ordinal,3);case "q":return this.num(D.quarter);case "qq":return this.num(D.quarter,2);case "X":return this.num(Math.floor(D.ts/1E3));case "x":return this.num(D.ts);default:return db(jb)}})}formatDurationFromString(D,
S){const ba=va=>{switch(va[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";case "y":return"year";default:return null}};S=Db.parseFormat(S);const ka=S.reduce((va,{literal:Ia,val:Ka})=>Ia?va:va.concat(Ka),[]);D=D.shiftTo(...ka.map(ba).filter(va=>va));return la(S,(va=>Ia=>{const Ka=ba(Ia);return Ka?this.num(va.get(Ka),Ia.length):Ia})(D))}}const Qc=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,
Rc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,oc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Sc=RegExp(`${oc.source}${`(?:${Rc.source}?(?:\\[(${Qc.source})\\])?)?`}`),pc=RegExp(`(?:T${Sc.source})?`),nd=ja("weekYear","weekNumber","weekDay"),od=ja("year","ordinal"),Tc=RegExp(`${oc.source} ?(?:${Rc.source}|(${Qc.source}))?`),pd=RegExp(`(?: ${Tc.source})?`),qd=RegExp(`^T?${oc.source}$`),rd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
cd={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},sd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,td=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ud=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
vd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,wd=ua(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,pc),xd=ua(/(\d{4})-?W(\d\d)(?:-?(\d))?/,pc),yd=ua(/(\d{4})-?(\d{3})/,pc),zd=ua(Sc),Uc=Y(function(D,S){return[{year:V(D,S),month:V(D,S+1,1),day:V(D,S+2,1)},null,S+3]},O,P,W),Ad=Y(nd,O,P,W),Bd=Y(od,O,P,W),Cd=Y(O,P,W),Dd=Y(O),Ed=ua(/(\d{4})-(\d\d)-(\d\d)/,pd),Fd=ua(Tc),Gd=Y(O,P,W),Vc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,
milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Hd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Vc},
Id={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Vc},Qb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),dd=Qb.slice(0).reverse();class rb{constructor(D){const S=
"longterm"===D.conversionAccuracy||!1;let ba=S?Id:Hd;D.matrix&&(ba=D.matrix);this.values=D.values;this.loc=D.loc||sb.create();this.conversionAccuracy=S?"longterm":"casual";this.invalid=D.invalid||null;this.matrix=ba;this.isLuxonDuration=!0}static fromMillis(D,S){return rb.fromObject({milliseconds:D},S)}static fromObject(D,S={}){if(null==D||"object"!==typeof D)throw new ia(`Duration.fromObject: argument expected to be an object, got ${null===D?"null":typeof D}`);return new rb({values:sa(D,rb.normalizeUnit),
loc:sb.fromObject(S),conversionAccuracy:S.conversionAccuracy,matrix:S.matrix})}static fromDurationLike(D){if(B(D))return rb.fromMillis(D);if(rb.isDuration(D))return D;if("object"===typeof D)return rb.fromObject(D);throw new ia(`Unknown duration argument ${D} of type ${typeof D}`);}static fromISO(D,S){const [ba]=ea(D,[rd,ca]);return ba?rb.fromObject(ba,S):rb.invalid("unparsable",`the input "${D}" can't be parsed as ISO 8601`)}static fromISOTime(D,S){const [ba]=ea(D,[qd,Dd]);return ba?rb.fromObject(ba,
S):rb.invalid("unparsable",`the input "${D}" can't be parsed as ISO 8601`)}static invalid(D,S=null){if(!D)throw new ia("need to specify a reason the Duration is invalid");D=D instanceof Jb?D:new Jb(D,S);if(vb.throwOnInvalid)throw new Ja(D);return new rb({invalid:D})}static normalizeUnit(D){const S={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",
second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[D?D.toLowerCase():D];if(!S)throw new xb(D);return S}static isDuration(D){return D&&D.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(D,S={}){S={...S,floor:!1!==S.round&&!1!==S.floor};return this.isValid?Db.create(this.loc,S).formatDurationFromString(this,D):"Invalid Duration"}toHuman(D={}){if(!this.isValid)return"Invalid Duration";
const S=Qb.map(ba=>{const ka=this.values[ba];return y(ka)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...D,unit:ba.slice(0,-1)}).format(ka)}).filter(ba=>ba);return this.loc.listFormatter({type:"conjunction",style:D.listStyle||"narrow",...D}).format(S)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let D="P";0!==this.years&&(D+=this.years+"Y");if(0!==this.months||0!==this.quarters)D+=this.months+3*this.quarters+"M";0!==this.weeks&&(D+=this.weeks+
"W");0!==this.days&&(D+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)D+="T";0!==this.hours&&(D+=this.hours+"H");0!==this.minutes&&(D+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)D+=U(this.seconds+this.milliseconds/1E3,3)+"S";"P"===D&&(D+="T0S");return D}toISOTime(D={}){if(!this.isValid)return null;const S=this.toMillis();if(0>S||864E5<=S)return null;D={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...D,
includeOffset:!1};return kb.fromMillis(S,{zone:"UTC"}).toISOTime(D)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Na(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(D){if(!this.isValid)return this;D=rb.fromDurationLike(D);const S={};for(const ba of Qb)if(F(D.values,
ba)||F(this.values,ba))S[ba]=D.get(ba)+this.get(ba);return Pa(this,{values:S},!0)}minus(D){if(!this.isValid)return this;D=rb.fromDurationLike(D);return this.plus(D.negate())}mapUnits(D){if(!this.isValid)return this;const S={};for(const ba of Object.keys(this.values))S[ba]=Da(D(this.values[ba],ba));return Pa(this,{values:S},!0)}get(D){return this[rb.normalizeUnit(D)]}set(D){if(!this.isValid)return this;D={...this.values,...sa(D,rb.normalizeUnit)};return Pa(this,{values:D})}reconfigure({locale:D,numberingSystem:S,
conversionAccuracy:ba,matrix:ka}={}){D={loc:this.loc.clone({locale:D,numberingSystem:S}),matrix:ka,conversionAccuracy:ba};return Pa(this,D)}as(D){return this.isValid?this.shiftTo(D).get(D):NaN}normalize(){if(!this.isValid)return this;const D=this.toObject();Qa(this.matrix,D);return Pa(this,{values:D},!0)}rescale(){if(!this.isValid)return this;var D=this.normalize().shiftToAll().toObject();const S={};for(const [ba,ka]of Object.entries(D))0!==ka&&(S[ba]=ka);return Pa(this,{values:S},!0)}shiftTo(...D){if(!this.isValid||
0===D.length)return this;D=D.map(Ia=>rb.normalizeUnit(Ia));const S={},ba={},ka=this.toObject();let va;for(const Ia of Qb)if(0<=D.indexOf(Ia)){va=Ia;let Ka=0;for(const db in ba)Ka+=this.matrix[db][Ia]*ba[db],ba[db]=0;B(ka[Ia])&&(Ka+=ka[Ia]);const Wa=Math.trunc(Ka);S[Ia]=Wa;ba[Ia]=(1E3*Ka-1E3*Wa)/1E3}else B(ka[Ia])&&(ba[Ia]=ka[Ia]);for(const Ia in ba)0!==ba[Ia]&&(S[va]+=Ia===va?ba[Ia]:ba[Ia]/this.matrix[va][Ia]);Qa(this.matrix,S);return Pa(this,{values:S},!0)}shiftToAll(){return this.isValid?this.shiftTo("years",
"months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const D={};for(const S of Object.keys(this.values))D[S]=0===this.values[S]?0:-this.values[S];return Pa(this,{values:D},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?
this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(D){if(!this.isValid||!D.isValid||!this.loc.equals(D.loc))return!1;
for(const ka of Qb){var S=this.values[ka];var ba=D.values[ka];S=void 0===S||0===S?void 0===ba||0===ba:S===ba;if(!S)return!1}return!0}}class wb{constructor(D){this.s=D.start;this.e=D.end;this.invalid=D.invalid||null;this.isLuxonInterval=!0}static invalid(D,S=null){if(!D)throw new ia("need to specify a reason the Interval is invalid");D=D instanceof Jb?D:new Jb(D,S);if(vb.throwOnInvalid)throw new wa(D);return new wb({invalid:D})}static fromDateTimes(D,S){D=ib(D);S=ib(S);var ba=D&&D.isValid?S&&S.isValid?
S<D?wb.invalid("end before start",`The end of an interval must be after its start, but you had start=${D.toISO()} and end=${S.toISO()}`):null:wb.invalid("missing or invalid end"):wb.invalid("missing or invalid start");return null==ba?new wb({start:D,end:S}):ba}static after(D,S){S=rb.fromDurationLike(S);D=ib(D);return wb.fromDateTimes(D,D.plus(S))}static before(D,S){S=rb.fromDurationLike(S);D=ib(D);return wb.fromDateTimes(D.minus(S),D)}static fromISO(D,S){const [ba,ka]=(D||"").split("/",2);if(ba&&
ka){let Ka;try{var va=kb.fromISO(ba,S);Ka=va.isValid}catch(db){Ka=!1}let Wa;try{var Ia=kb.fromISO(ka,S);Wa=Ia.isValid}catch(db){Wa=!1}if(Ka&&Wa)return wb.fromDateTimes(va,Ia);if(Ka){if(Ia=rb.fromISO(ka,S),Ia.isValid)return wb.after(va,Ia)}else if(Wa&&(va=rb.fromISO(ba,S),va.isValid))return wb.before(Ia,va)}return wb.invalid("unparsable",`the input "${D}" can't be parsed as ISO 8601`)}static isInterval(D){return D&&D.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?
this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(D="milliseconds"){return this.isValid?this.toDuration(...[D]).get(D):NaN}count(D="milliseconds",S){if(!this.isValid)return NaN;const ba=this.start.startOf(D,S);let ka;ka=S?.useLocaleWeeks?this.end.reconfigure({locale:ba.locale}):this.end;ka=ka.startOf(D,S);return Math.floor(ka.diff(ba,D).get(D))+
(ka.valueOf()!==this.end.valueOf())}hasSame(D){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,D):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(D){return this.isValid?this.s>D:!1}isBefore(D){return this.isValid?this.e<=D:!1}contains(D){return this.isValid?this.s<=D&&this.e>D:!1}set({start:D,end:S}={}){return this.isValid?wb.fromDateTimes(D||this.s,S||this.e):this}splitAt(...D){if(!this.isValid)return[];D=D.map(ib).filter(Ia=>this.contains(Ia)).sort((Ia,Ka)=>Ia.toMillis()-
Ka.toMillis());const S=[];let {s:ba}=this,ka=0;for(;ba<this.e;){var va=D[ka]||this.e;va=+va>+this.e?this.e:va;S.push(wb.fromDateTimes(ba,va));ba=va;ka+=1}return S}splitBy(D){D=rb.fromDurationLike(D);if(!this.isValid||!D.isValid||0===D.as("milliseconds"))return[];let {s:S}=this,ba=1;const ka=[];for(;S<this.e;){var va=this.start.plus(D.mapUnits(Ia=>Ia*ba));va=+va>+this.e?this.e:va;ka.push(wb.fromDateTimes(S,va));S=va;ba+=1}return ka}divideEqually(D){return this.isValid?this.splitBy(this.length()/D).slice(0,
D):[]}overlaps(D){return this.e>D.s&&this.s<D.e}abutsStart(D){return this.isValid?+this.e===+D.s:!1}abutsEnd(D){return this.isValid?+D.e===+this.s:!1}engulfs(D){return this.isValid?this.s<=D.s&&this.e>=D.e:!1}equals(D){return this.isValid&&D.isValid?this.s.equals(D.s)&&this.e.equals(D.e):!1}intersection(D){if(!this.isValid)return this;const S=this.s>D.s?this.s:D.s;D=this.e<D.e?this.e:D.e;return S>=D?null:wb.fromDateTimes(S,D)}union(D){return this.isValid?wb.fromDateTimes(this.s<D.s?this.s:D.s,this.e>
D.e?this.e:D.e):this}static merge(D){const [S,ba]=D.sort((ka,va)=>ka.s-va.s).reduce(([ka,va],Ia)=>va?va.overlaps(Ia)||va.abutsStart(Ia)?[ka,va.union(Ia)]:[ka.concat([va]),Ia]:[ka,Ia],[[],null]);ba&&S.push(ba);return S}static xor(D){let S=null,ba=0;const ka=[];D=D.map(va=>[{time:va.s,type:"s"},{time:va.e,type:"e"}]);D=Array.prototype.concat(...D).sort((va,Ia)=>va.time-Ia.time);for(const va of D)ba+="s"===va.type?1:-1,1===ba?S=va.time:(S&&+S!==+va.time&&ka.push(wb.fromDateTimes(S,va.time)),S=null);
return wb.merge(ka)}difference(...D){return wb.xor([this].concat(D)).map(S=>this.intersection(S)).filter(S=>S&&!S.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(D=La,S={}){return this.isValid?Db.create(this.s.loc.clone(S),D).formatInterval(this):
"Invalid Interval"}toISO(D){return this.isValid?`${this.s.toISO(D)}/${this.e.toISO(D)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(D){return this.isValid?`${this.s.toISOTime(D)}/${this.e.toISOTime(D)}`:"Invalid Interval"}toFormat(D,{separator:S=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(D)}${S}${this.e.toFormat(D)}`:"Invalid Interval"}toDuration(D,S){return this.isValid?this.e.diff(this.s,D,S):rb.invalid(this.invalidReason)}mapEndpoints(D){return wb.fromDateTimes(D(this.s),
D(this.e))}}class dc{static hasDST(D=vb.defaultZone){const S=kb.now().setZone(D).set({month:12});return!D.isUniversal&&S.offset!==S.set({month:6}).offset}static isValidIANAZone(D){return Mb.isValidZone(D)}static normalizeZone(D){return g(D,vb.defaultZone)}static getStartOfWeek({locale:D=null,locObj:S=null}={}){return(S||sb.create(D)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:D=null,locObj:S=null}={}){return(S||sb.create(D)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:D=
null,locObj:S=null}={}){return(S||sb.create(D)).getWeekendDays().slice()}static months(D="long",{locale:S=null,numberingSystem:ba=null,locObj:ka=null,outputCalendar:va="gregory"}={}){return(ka||sb.create(S,ba,va)).months(D)}static monthsFormat(D="long",{locale:S=null,numberingSystem:ba=null,locObj:ka=null,outputCalendar:va="gregory"}={}){return(ka||sb.create(S,ba,va)).months(D,!0)}static weekdays(D="long",{locale:S=null,numberingSystem:ba=null,locObj:ka=null}={}){return(ka||sb.create(S,ba,null)).weekdays(D)}static weekdaysFormat(D=
"long",{locale:S=null,numberingSystem:ba=null,locObj:ka=null}={}){return(ka||sb.create(S,ba,null)).weekdays(D,!0)}static meridiems({locale:D=null}={}){return sb.create(D).meridiems()}static eras(D="short",{locale:S=null}={}){return sb.create(S,null,"gregory").eras(D)}static features(){return{relative:L(),localeWeek:M()}}}const wc=`[ ${String.fromCharCode(160)}]`,lc=new RegExp(wc,"g"),fd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d",
"2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let xc=null;class qc{constructor(D,S){this.locale=D;this.format=S;this.tokens=ub(Db.parseFormat(S),D);this.units=this.tokens.map(ba=>$a(ba,D));this.disqualifyingUnit=this.units.find(ba=>ba.invalidReason);if(!this.disqualifyingUnit){const [ba,
ka]=gb(this.units);this.regex=RegExp(ba,"i");this.handlers=ka}}explainFromTokens(D){if(this.isValid){{var S=this.handlers;const Wa=D.match(this.regex);if(Wa){const db={};let mb=1;for(const jb in S)if(F(S,jb)){const lb=S[jb],tb=lb.groups?lb.groups+1:1;!lb.literal&&lb.token&&(db[lb.token.val[0]]=lb.deser(Wa.slice(mb,mb+tb)));mb+=tb}S=[Wa,db]}else S=[Wa,{}]}const [ba,ka]=S,[va,Ia,Ka]=ka?qb(ka):[null,null,void 0];if(F(ka,"a")&&F(ka,"H"))throw new Ua("Can't include meridiem when specifying 24-hour format");
return{input:D,tokens:this.tokens,regex:this.regex,rawMatches:ba,matches:ka,result:va,zone:Ia,specificOffset:Ka}}return{input:D,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}const zc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Jd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Kd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},
yc="year month day hour minute second millisecond".split(" "),Ld="weekYear weekNumber weekday hour minute second millisecond".split(" "),Md="year ordinal hour minute second millisecond".split(" ");let $b,Zb={};class kb{constructor(D){const S=D.zone||vb.defaultZone;let ba=D.invalid||(Number.isNaN(D.ts)?new Jb("invalid input"):null)||(S.isValid?null:Gb(S));this.ts=y(D.ts)?vb.now():D.ts;let ka=null;var va=null;ba||(D.old&&D.old.ts===this.ts&&D.old.zone.equals(S)?[ka,va]=[D.old.c,D.old.o]:(va=B(D.o)&&
!D.old?D.o:S.offset(this.ts),ka=Bb(this.ts,va),ka=(ba=Number.isNaN(ka.year)?new Jb("invalid input"):null)?null:ka,va=ba?null:va));this._zone=S;this.loc=D.loc||sb.create();this.invalid=ba;this.localWeekData=this.weekData=null;this.c=ka;this.o=va;this.isLuxonDateTime=!0}static now(){return new kb({})}static local(){const [D,S]=hb(arguments),[ba,ka,va,Ia,Ka,Wa,db]=S;return Va({year:ba,month:ka,day:va,hour:Ia,minute:Ka,second:Wa,millisecond:db},D)}static utc(){const [D,S]=hb(arguments),[ba,ka,va,Ia,Ka,
Wa,db]=S;D.zone=Cb.utcInstance;return Va({year:ba,month:ka,day:va,hour:Ia,minute:Ka,second:Wa,millisecond:db},D)}static fromJSDate(D,S={}){D="[object Date]"===Object.prototype.toString.call(D)?D.valueOf():NaN;if(Number.isNaN(D))return kb.invalid("invalid input");const ba=g(S.zone,vb.defaultZone);return ba.isValid?new kb({ts:D,zone:ba,loc:sb.fromObject(S)}):kb.invalid(Gb(ba))}static fromMillis(D,S={}){if(B(D))return-864E13>D||864E13<D?kb.invalid("Timestamp out of range"):new kb({ts:D,zone:g(S.zone,
vb.defaultZone),loc:sb.fromObject(S)});throw new ia(`fromMillis requires a numerical input, but received a ${typeof D} with value ${D}`);}static fromSeconds(D,S={}){if(B(D))return new kb({ts:1E3*D,zone:g(S.zone,vb.defaultZone),loc:sb.fromObject(S)});throw new ia("fromSeconds requires a numerical input");}static fromObject(D,S={}){D=D||{};var ba=g(S.zone,vb.defaultZone);if(!ba.isValid)return kb.invalid(Gb(ba));const ka=sb.fromObject(S),va=sa(D,ya),{minDaysInFirstWeek:Ia,startOfWeek:Ka}=w(va,ka);var Wa=
vb.now();S=y(S.specificOffset)?ba.offset(Wa):S.specificOffset;var db=!y(va.ordinal),mb=!y(va.year),jb=!y(va.month)||!y(va.day);mb=mb||jb;var lb=va.weekYear||va.weekNumber;if((mb||db)&&lb)throw new Ua("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(jb&&db)throw new Ua("Can't mix ordinal dates with month/day");jb=lb||va.weekday&&!mb;let tb=Bb(Wa,S);jb?(Wa=Ld,lb=Jd,tb=q(tb,Ia,Ka)):db?(Wa=Md,lb=Kd,tb=A(tb)):(Wa=yc,lb=zc);let yb=!1;for(var zb of Wa)y(va[zb])?va[zb]=yb?lb[zb]:
tb[zb]:yb=!0;jb?zb=z(va,Ia,Ka):db?(zb=C(va.year),Wa=R(va.ordinal,1,Z(va.year)?366:365),zb=zb?Wa?!1:p("ordinal",va.ordinal):p("year",va.year)):zb=k(va);if(zb=zb||v(va))return kb.invalid(zb);db=jb?x(va,Ia,Ka):db?u(va):va;const [Nb,Yb]=ma(db,S,ba);ba=new kb({ts:Nb,zone:ba,o:Yb,loc:ka});return va.weekday&&mb&&D.weekday!==ba.weekday?kb.invalid("mismatched weekday",`you can't specify both a weekday of ${va.weekday} and a date of ${ba.toISO()}`):ba.isValid?ba:kb.invalid(ba.invalid)}static fromISO(D,S={}){const [ba,
ka]=ea(D,[wd,Uc],[xd,Ad],[yd,Bd],[zd,Cd]);return Ha(ba,ka,S,"ISO 8601",D)}static fromRFC2822(D,S={}){const [ba,ka]=ea(D.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[sd,Aa]);return Ha(ba,ka,S,"RFC 2822",D)}static fromHTTP(D,S={}){const [ba,ka]=ea(D,[td,Ga],[ud,Ga],[vd,Fa]);return Ha(ba,ka,S,"HTTP",S)}static fromFormat(D,S,ba={}){if(y(D)||y(S))throw new ia("fromFormat requires an input string and a format");const {locale:ka=null,numberingSystem:va=null}=ba;var Ia=sb.fromOpts({locale:ka,
numberingSystem:va,defaultToEN:!0});Ia=(new qc(Ia,S)).explainFromTokens(D);const {result:Ka,zone:Wa,specificOffset:db,invalidReason:mb}=Ia,[jb,lb,tb,yb]=[Ka,Wa,db,mb];return yb?kb.invalid(yb):Ha(jb,lb,ba,`format ${S}`,D,tb)}static fromString(D,S,ba={}){return kb.fromFormat(D,S,ba)}static fromSQL(D,S={}){const [ba,ka]=ea(D,[Ed,Uc],[Fd,Gd]);return Ha(ba,ka,S,"SQL",D)}static invalid(D,S=null){if(!D)throw new ia("need to specify a reason the DateTime is invalid");D=D instanceof Jb?D:new Jb(D,S);if(vb.throwOnInvalid)throw new Xa(D);
return new kb({invalid:D})}static isDateTime(D){return D&&D.isLuxonDateTime||!1}static parseFormatForOpts(D,S={}){return(D=ob(D,sb.fromObject(S)))?D.map(ba=>ba?ba.val:null).join(""):null}static expandFormat(D,S={}){return ub(Db.parseFormat(D),sb.fromObject(S)).map(ba=>ba.val).join("")}static resetCache(){$b=void 0;Zb={}}get(D){return this[D]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:
null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?
this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Lb(this).weekYear:NaN}get weekNumber(){return this.isValid?Lb(this).weekNumber:NaN}get weekday(){return this.isValid?Lb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Eb(this).weekday:NaN}get localWeekNumber(){return this.isValid?
Eb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Eb(this).weekYear:NaN}get ordinal(){return this.isValid?A(this.c).ordinal:NaN}get monthShort(){return this.isValid?dc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?dc.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?dc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?dc.weekdays("long",{locObj:this.loc})[this.weekday-
1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||
this.isOffsetFixed)return[this];var D=pa(this.c),S=this.zone.offset(D-864E5),ba=this.zone.offset(D+864E5);S=this.zone.offset(D-6E4*S);var ka=this.zone.offset(D-6E4*ba);if(S===ka)return[this];ba=D-6E4*S;D-=6E4*ka;S=Bb(ba,S);ka=Bb(D,ka);return S.hour===ka.hour&&S.minute===ka.minute&&S.second===ka.second&&S.millisecond===ka.millisecond?[Hb(this,{ts:ba}),Hb(this,{ts:D})]:[this]}get isInLeapYear(){return Z(this.year)}get daysInMonth(){return fa(this.year,this.month)}get daysInYear(){return this.isValid?
Z(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?xa(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xa(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(D={}){const {locale:S,numberingSystem:ba,calendar:ka}=Db.create(this.loc.clone(D),D).resolvedOptions(this);return{locale:S,numberingSystem:ba,outputCalendar:ka}}toUTC(D=0,S={}){return this.setZone(Cb.instance(D),S)}toLocal(){return this.setZone(vb.defaultZone)}setZone(D,
{keepLocalTime:S=!1,keepCalendarTime:ba=!1}={}){D=g(D,vb.defaultZone);if(D.equals(this.zone))return this;if(D.isValid){let ka=this.ts;if(S||ba)S=D.offset(this.ts),ba=this.toObject(),[ka]=ma(ba,S,D);return Hb(this,{ts:ka,zone:D})}return kb.invalid(Gb(D))}reconfigure({locale:D,numberingSystem:S,outputCalendar:ba}={}){D=this.loc.clone({locale:D,numberingSystem:S,outputCalendar:ba});return Hb(this,{loc:D})}setLocale(D){return this.reconfigure({locale:D})}set(D){if(!this.isValid)return this;D=sa(D,ya);
const {minDaysInFirstWeek:S,startOfWeek:ba}=w(D,this.loc);var ka=!y(D.weekYear)||!y(D.weekNumber)||!y(D.weekday);const va=!y(D.ordinal),Ia=!y(D.year),Ka=!y(D.month)||!y(D.day),Wa=D.weekYear||D.weekNumber;if((Ia||Ka||va)&&Wa)throw new Ua("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ka&&va)throw new Ua("Can't mix ordinal dates with month/day");ka?ka=x({...q(this.c,S,ba),...D},S,ba):y(D.ordinal)?(ka={...this.toObject(),...D},y(D.day)&&(ka.day=Math.min(fa(ka.year,ka.month),
ka.day))):ka=u({...A(this.c),...D});const [db,mb]=ma(ka,this.o,this.zone);return Hb(this,{ts:db,o:mb})}plus(D){if(!this.isValid)return this;D=rb.fromDurationLike(D);return Hb(this,na(this,D))}minus(D){if(!this.isValid)return this;D=rb.fromDurationLike(D).negate();return Hb(this,na(this,D))}startOf(D,{useLocaleWeeks:S=!1}={}){if(!this.isValid)return this;const ba={};D=rb.normalizeUnit(D);switch(D){case "years":ba.month=1;case "quarters":case "months":ba.day=1;case "weeks":case "days":ba.hour=0;case "hours":ba.minute=
0;case "minutes":ba.second=0;case "seconds":ba.millisecond=0}if("weeks"===D)if(S){S=this.loc.getStartOfWeek();const {weekday:ka}=this;ka<S&&(ba.weekNumber=this.weekNumber-1);ba.weekday=S}else ba.weekday=1;"quarters"===D&&(ba.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(ba)}endOf(D,S){return this.isValid?this.plus({[D]:1}).startOf(D,S).minus(1):this}toFormat(D,S={}){return this.isValid?Db.create(this.loc.redefaultToEN(S)).formatDateTimeFromString(this,D):"Invalid DateTime"}toLocaleString(D=
La,S={}){return this.isValid?Db.create(this.loc.clone(S),D).formatDateTime(this):"Invalid DateTime"}toLocaleParts(D={}){return this.isValid?Db.create(this.loc.clone(D),D).formatDateTimeParts(this):[]}toISO({format:D="extended",suppressSeconds:S=!1,suppressMilliseconds:ba=!1,includeOffset:ka=!0,extendedZone:va=!1}={}){if(!this.isValid)return null;D="extended"===D;let Ia=Ta(this,D);return Ia=Ia+"T"+bb(this,D,S,ba,ka,va)}toISODate({format:D="extended"}={}){return this.isValid?Ta(this,"extended"===D):
null}toISOWeekDate(){return Ca(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:D=!1,suppressSeconds:S=!1,includeOffset:ba=!0,includePrefix:ka=!1,extendedZone:va=!1,format:Ia="extended"}={}){return this.isValid?(ka?"T":"")+bb(this,"extended"===Ia,S,D,ba,va):null}toRFC2822(){return Ca(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ca(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ta(this,!0):null}toSQLTime({includeOffset:D=!0,includeZone:S=!1,includeOffsetSpace:ba=
!0}={}){let ka="HH:mm:ss.SSS";if(S||D)ba&&(ka+=" "),S?ka+="z":D&&(ka+="ZZ");return Ca(this,ka,!0)}toSQL(D={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(D)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?
this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(D={}){if(!this.isValid)return{};const S={...this.c};D.includeConfig&&(S.outputCalendar=this.outputCalendar,S.numberingSystem=this.loc.numberingSystem,S.locale=this.loc.locale);return S}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(D,S="milliseconds",ba={}){if(!this.isValid||!D.isValid)return rb.invalid("created by diffing an invalid DateTime");
ba={locale:this.locale,numberingSystem:this.numberingSystem,...ba};const ka=(Array.isArray(S)?S:[S]).map(rb.normalizeUnit);S=D.valueOf()>this.valueOf();D=cb(S?this:D,S?D:this,ka,ba);return S?D.negate():D}diffNow(D="milliseconds",S={}){return this.diff(kb.now(),D,S)}until(D){return this.isValid?wb.fromDateTimes(this,D):this}hasSame(D,S,ba){if(!this.isValid)return!1;const ka=D.valueOf();D=this.setZone(D.zone,{keepLocalTime:!0});return D.startOf(S,ba)<=ka&&ka<=D.endOf(S,ba)}equals(D){return this.isValid&&
D.isValid&&this.valueOf()===D.valueOf()&&this.zone.equals(D.zone)&&this.loc.equals(D.loc)}toRelative(D={}){if(!this.isValid)return null;const S=D.base||kb.fromObject({},{zone:this.zone}),ba=D.padding?this<S?-D.padding:D.padding:0;let ka="years months days hours minutes seconds".split(" "),va=D.unit;Array.isArray(D.unit)&&(ka=D.unit,va=void 0);return eb(S,this.plus(ba),{...D,numeric:"always",units:ka,unit:va})}toRelativeCalendar(D={}){return this.isValid?eb(D.base||kb.fromObject({},{zone:this.zone}),
this,{...D,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...D){if(!D.every(kb.isDateTime))throw new ia("min requires all arguments be DateTimes");return G(D,S=>S.valueOf(),Math.min)}static max(...D){if(!D.every(kb.isDateTime))throw new ia("max requires all arguments be DateTimes");return G(D,S=>S.valueOf(),Math.max)}static fromFormatExplain(D,S,ba={}){const {locale:ka=null,numberingSystem:va=null}=ba;ba=sb.fromOpts({locale:ka,numberingSystem:va,defaultToEN:!0});return(new qc(ba,
S)).explainFromTokens(D)}static fromStringExplain(D,S,ba={}){return kb.fromFormatExplain(D,S,ba)}static buildFormatParser(D,S={}){const {locale:ba=null,numberingSystem:ka=null}=S;S=sb.fromOpts({locale:ba,numberingSystem:ka,defaultToEN:!0});return new qc(S,D)}static fromFormatParser(D,S,ba={}){if(y(D)||y(S))throw new ia("fromFormatParser requires an input string and a format parser");const {locale:ka=null,numberingSystem:va=null}=ba,Ia=sb.fromOpts({locale:ka,numberingSystem:va,defaultToEN:!0});if(!Ia.equals(S.locale))throw new ia(`fromFormatParser called with a locale of ${Ia}, `+
`but the format parser was created for ${S.locale}`);const {result:Ka,zone:Wa,specificOffset:db,invalidReason:mb}=S.explainFromTokens(D);return mb?kb.invalid(mb):Ha(Ka,Wa,ba,`format ${S.format}`,D,db)}static get DATE_SHORT(){return La}static get DATE_MED(){return Oa}static get DATE_MED_WITH_WEEKDAY(){return Za}static get DATE_FULL(){return fb}static get DATE_HUGE(){return pb}static get TIME_SIMPLE(){return Ib}static get TIME_WITH_SECONDS(){return Ob}static get TIME_WITH_SHORT_OFFSET(){return Rb}static get TIME_WITH_LONG_OFFSET(){return Kb}static get TIME_24_SIMPLE(){return Wb}static get TIME_24_WITH_SECONDS(){return Fb}static get TIME_24_WITH_SHORT_OFFSET(){return Sb}static get TIME_24_WITH_LONG_OFFSET(){return Tb}static get DATETIME_SHORT(){return Pb}static get DATETIME_SHORT_WITH_SECONDS(){return Xb}static get DATETIME_MED(){return Ac}static get DATETIME_MED_WITH_SECONDS(){return Bc}static get DATETIME_MED_WITH_WEEKDAY(){return gd}static get DATETIME_FULL(){return Cc}static get DATETIME_FULL_WITH_SECONDS(){return Dc}static get DATETIME_HUGE(){return Ec}static get DATETIME_HUGE_WITH_SECONDS(){return Fc}}
a.DateTime=kb;a.Duration=rb;a.FixedOffsetZone=Cb;a.IANAZone=Mb;a.Zone=Ub})},"esri/support/TablesMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){function f(p,r,t){if(p)for(let q=0,x=p.length;q<x;q++){var l=p.at(q);if(l[r]===t||"group"===l?.type&&(l=f(l.tables,r,t)))return l}}a.TablesMixin=
p=>{p=class extends p{constructor(...r){super(...r);this.tables=new c;this.addHandles([this.tables.on("after-add",t=>{t=t.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t);t.parent=this;"feature"!==t.type&&d.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",t=>{t.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const t of r)t.destroy();
this.tables.destroy()}set tables(r){this._set("tables",h.referenceSetter(r,this._get("tables")))}findTableById(r){return f(this.tables,"id",r)}findTableByUid(r){return f(this.tables,"uid",r)}};b.__decorate([n.property()],p.prototype,"tables",null);return p=b.__decorate([g.subclass("esri.support.TablesMixin")],p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Viewpoint":function(){define("./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){function p(){return{enabled:!this.camera}}var r;h=r=class extends h.JSONSupport{constructor(t){super(t);this.scale=this.rotation=0;this.camera=this.targetGeometry=null}castRotation(t){t%=360;0>t&&(t+=360);return t}clone(){return new r({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,
write:!0},"web-scene":{write:{overridePolicy:p}}}}})],h.prototype,"rotation",void 0);a.__decorate([n.cast("rotation")],h.prototype,"castRotation",null);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:p}}}}})],h.prototype,"scale",void 0);a.__decorate([d.property({types:c.geometryTypes,json:{read:f.fromJSON,write:!0,origins:{"web-scene":{read:f.fromJSON,write:{overridePolicy:p}}}}})],h.prototype,"targetGeometry",void 0);
a.__decorate([d.property({type:b,json:{write:!0}})],h.prototype,"camera",void 0);return h=r=a.__decorate([g.subclass("esri.Viewpoint")],h)})},"esri/Camera":function(){define("./chunks/tslib.es6 ./CameraLayout ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){c=class extends c.ClonableMixin(d.JSONSupport){constructor(...x){super(...x);this.position=new q([0,0,0]);this.tilt=this.heading=0;this.fov=55;this.layout=new b}normalizeCtorArgs(x,A,u,w){return x&&"object"===typeof x&&("x"in x||Array.isArray(x))?(x={position:x},null!=A&&(x.heading=A),null!=u&&(x.tilt=u),null!=w&&(x.fov=w),x):x}writePosition(x,A,u,w){const z=x.clone();z.x=l.ensureNumber(x.x||0);z.y=l.ensureNumber(x.y||0);z.z=x.hasZ?l.ensureNumber(x.z||0):x.z;
A[u]=z.write({},w)}readPosition(x,A){const u=new q;u.read(x,A);u.x=l.ensureNumber(u.x||0);u.y=l.ensureNumber(u.y||0);u.z=u.hasZ?l.ensureNumber(u.z||0):u.z;return u}equals(x){return null==x?!1:this.tilt===x.tilt&&this.heading===x.heading&&this.fov===x.fov&&this.position.equals(x.position)&&this.layout.equals(x.layout)}};a.__decorate([m.property({type:q,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0);a.__decorate([t.writer("position")],c.prototype,"writePosition",null);a.__decorate([p.reader("position")],
c.prototype,"readPosition",null);a.__decorate([m.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(x=>h.cyclicalDegrees.normalize(l.ensureNumber(x)))],c.prototype,"heading",void 0);a.__decorate([m.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(x=>n.clamp(l.ensureNumber(x),-180,180))],c.prototype,"tilt",void 0);a.__decorate([m.property({type:Number,nonNullable:!0,json:{default:55,write:!0}}),e.cast(x=>n.clamp(l.ensureNumber(x,55),1,170))],c.prototype,
"fov",void 0);a.__decorate([m.property({type:b,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"layout",void 0);return c=a.__decorate([r.subclass("esri.Camera")],c)})},"esri/CameraLayout":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){b=class extends b.Clonable{constructor(e){super(e);this.column=this.row=0;this.columns=this.rows=
1}equals(e){return null==e?!1:this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"row",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"column",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"rows",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{read:!1,
write:!1}})],b.prototype,"columns",void 0);return b=a.__decorate([m.subclass("esri.CameraLayout")],b)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g,f){h=p=>{p=class extends p{clone(){var r=g.getProperties(this);m.assertIsSome(r,"unable to clone instance of non-accessor class");var t=r.metadata;const l=
r.store,q={};r=new Map;for(var x in t){var A=t[x];const u=l?.originOf(x),w=A.clonable;if(A.readOnly||!1===w||u!==e.OriginId.USER&&u!==e.OriginId.DEFAULTS&&u!==e.OriginId.WEB_MAP&&u!==e.OriginId.WEB_SCENE)continue;A=this[x];let z=null;z="function"===typeof w?w(A):"reference"===w?A:d.tryClone(A);if(null==A||null!=z)u===e.OriginId.DEFAULTS?r.set(x,z):q[x]=z}t=new (Object.getPrototypeOf(this).constructor)(q);if(r.size&&(x=g.getProperties(t)?.store))for(const [u,w]of r)x.set(u,w,e.OriginId.DEFAULTS);return t}};
return p=b.__decorate([f.subclass("esri.core.Clonable")],p)};a.Clonable=class extends h(c){};a.Clonable=b.__decorate([f.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],function(a,b){function c(g,f,p,r,t=0,l=!1){r-=t;r<f?r+=h(g,f-r):r>p&&(r-=h(g,r-p));l&&r===p&&(r=f);return r+t}function h(g,f,p=0){return Math.ceil((f-p)/g)*g+p}class d{constructor(g,f){this.min=
g;this.max=f;this.range=f-g}normalize(g,f=0,p=!1){return c(this.range,this.min,this.max,g,f,p)}clamp(g,f=0){return b.clamp(g-f,this.min,this.max)+f}monotonic(g,f,p){return g<f?f:f+h(this.range,g-f,p)}minimalMonotonic(g,f,p){return c(this.range,g,g+this.range,f,p)}center(g,f,p){f=this.monotonic(g,f,p);return this.normalize((g+f)/2,p)}diff(g,f,p){return this.monotonic(g,f,p)-g}shortestSignedDiff(g,f){g=this.normalize(g);f=this.normalize(f);const p=f-g;g=f<g?this.minimalMonotonic(g,f)-g:f-this.minimalMonotonic(f,
g);return Math.abs(p)<Math.abs(g)?p:g}contains(g,f,p){f=this.minimalMonotonic(g,f);p=this.minimalMonotonic(g,p);return p>g&&p<f}}const n=new d(0,2*Math.PI),m=new d(-Math.PI,Math.PI),e=new d(0,360);a.Cyclical=d;a.cyclical2PI=n;a.cyclicalDegrees=e;a.cyclicalPI=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties ../../time/TimeExtent".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A){a.OperationalLayer=u=>{u=class extends u{constructor(){super(...arguments);this.persistenceEnabled=!0;this.title=null}readId(w,z,k){return"Group Layer"===k?.portalItem?.type?void 0:w}writeListMode(w,z,k,v){v&&"ground"===v.layerContainerType?z[k]=w:w&&l.willPropertyWrite(this,k,{},v)&&(z[k]=w)}writeOperationalLayerType(w,z,k,v){w&&"tables"!==v?.layerContainerType&&(z.layerType=w)}writeTitle(w,z){z.title=w??"Layer"}readTimeExtent(w){return w?A.fromArray(w):
null}writeTimeExtent(w,z,k,v){w&&"tables"!==v.layerContainerType&&(w.isEmpty?v?.messages&&v.messages.push(new c("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):z[k]=w.toArray())}read(w,z){z&&(z.layer=this);t.readLoadable(this,w,k=>super.read(w,k),z)}write(w,z){if(!this.persistenceEnabled&&!z?.ignorePersistenceEnabled)return null;if(z?.origin){var k=`${z.origin}/${z.layerContainerType||"operational-layers"}`;let v=!!q.supportedTypes[k]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===
this.operationalLayerType&&"web-scene/operational-layers"===k&&(v=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===k&&(v=!1);if(!v)return z.messages?.push(new c("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${k}'`,{layer:this})),null}w=super.write(w,{...z,layer:this});k=!!z&&!!z.messages&&!!z.messages.filter(v=>v instanceof c&&"web-document-write:property-required"===v.name).length;
return h.isBlobProtocol(w?.url)?(z?.messages?.push(new c("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&k?null:w}beforeSave(){}};b.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],u.prototype,"id",void 0);b.__decorate([g.reader("id",["id"])],u.prototype,"readId",
null);b.__decorate([d.property(x.listMode)],u.prototype,"listMode",void 0);b.__decorate([p.writer("listMode")],u.prototype,"writeListMode",null);b.__decorate([d.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:r.excludeTables}}}}})],u.prototype,"operationalLayerType",void 0);b.__decorate([p.writer("operationalLayerType")],u.prototype,
"writeOperationalLayerType",null);b.__decorate([d.property(x.opacity)],u.prototype,"opacity",void 0);b.__decorate([d.property({type:Boolean,readOnly:!1})],u.prototype,"persistenceEnabled",void 0);b.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],u.prototype,"title",void 0);b.__decorate([p.writer("title"),p.writer(["web-scene"],"title")],
u.prototype,"writeTitle",null);b.__decorate([d.property({type:A,json:{origins:{"web-scene":{write:{layerContainerTypes:r.excludeTables}}}}})],u.prototype,"visibilityTimeExtent",void 0);b.__decorate([g.reader("visibilityTimeExtent")],u.prototype,"readTimeExtent",null);b.__decorate([p.writer(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[n.Integer,n.Null]]}})],u.prototype,"writeTimeExtent",null);b.__decorate([d.property({type:Boolean,json:{origins:{"web-scene":{name:"visibility",
write:{enabled:!0,layerContainerTypes:r.excludeTables}}},name:"visibility",write:!0}})],u.prototype,"visible",void 0);return u=b.__decorate([f.subclass("esri.layers.mixins.OperationalLayer")],u)};a.isOperationalLayer=function(u){return"operationalLayerType"in u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/layerContainerType":function(){define(["exports"],function(a){a.excludeTables=["operational-layers","basemap","ground"];Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,
OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},c={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},h={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,
ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,
ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":b,"web-map/basemap":c,"web-map/tables":h,"link-chart/operational-layers":{...b,LinkChartLayer:!0},"link-chart/basemap":c,"link-chart/tables":h,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,
ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../symbols/support/ElevationInfo ../../tables/AttributeTableTemplate ../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,h,d,n,m,e){const g={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},f={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(w,z){return!z.disablePopup}},write:{enabled:!0,writer(w,z,k){z[k]=!w}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};d={type:String,json:{origins:{"portal-item":{write:!1}},
write:{isRequired:!0,ignoreOrigin:!0,writer:d.write}}};const r={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};n={value:null,type:n,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:b.excludeTables}}};var t={write:{enabled:!0,layerContainerTypes:b.excludeTables},read:!0};const l={type:Number,json:{origins:{"web-document":t,
"portal-item":{write:!0}}}};t={...l,json:{...l.json,origins:{"web-document":{...t,write:{enabled:!0,layerContainerTypes:b.excludeTables,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(w,z,k){if((!k||"service"===k.origin)&&z.drawingInfo&&void 0!==z.drawingInfo.transparency)return e.transparencyToOpacity(z.drawingInfo.transparency);if(z.layerDefinition?.drawingInfo&&
void 0!==z.layerDefinition.drawingInfo.transparency)return e.transparencyToOpacity(z.layerDefinition.drawingInfo.transparency)}}}};const q={type:c,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(w,z)=>{w=c.fromJSON(w);null!=z.spatialReference&&"object"===typeof z.spatialReference&&(w.spatialReference=h.fromJSON(z.spatialReference));return w}}}},read:!1}},x={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},A={type:Number,json:{origins:{service:{write:{enabled:!1}},
"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},name:"layerDefinition.minScale",write:!0}},u={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:b.excludeTables}}},name:"layerDefinition.maxScale",write:!0}};b={json:{write:{ignoreOrigin:!0,layerContainerTypes:b.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};a.attributeTableTemplate={type:m,json:{name:"attributeTableInfo",
write:!0,origins:{"web-scene":{read:!1,write:!1}}}};a.elevationInfo=n;a.id=x;a.labelsVisible=p;a.legendEnabled=r;a.listMode=b;a.maxScale=u;a.minScale=A;a.opacity=l;a.opacityDrawingInfo=t;a.popupEnabled=f;a.readOnlyService=function(w){return{type:w,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=q;a.screenSizePerspectiveEnabled=g;a.url=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t){var l;n=b.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});b=new b.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});c=l=class extends c.JSONSupport{constructor(q){super(q);this.offset=null}readFeatureExpressionInfo(q,x){if(null!=q)return q;if(x.featureExpression&&0===x.featureExpression.value)return{expression:"0"}}writeFeatureExpressionInfo(q,
x,A,u){x[A]=q.write({},u);"0"===q.expression&&(x.featureExpression={value:0})}get mode(){const {offset:q,featureExpressionInfo:x}=this;return this._isOverridden("mode")?this._get("mode"):null!=q||x?"relative-to-ground":"on-the-ground"}set mode(q){this._override("mode",q)}set unit(q){this._set("unit",q)}write(q,x){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(q,x):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?
this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(q){return this.mode===q.mode&&this.offset===q.offset&&this.unit===q.unit&&h.equalsMaybe(this.featureExpressionInfo,q.featureExpressionInfo)}};a.__decorate([d.property({type:r,json:{write:!0}})],c.prototype,"featureExpressionInfo",void 0);a.__decorate([g.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c.prototype,"readFeatureExpressionInfo",null);a.__decorate([p.writer("featureExpressionInfo",{featureExpressionInfo:{type:r},
"featureExpression.value":{type:[0]}})],c.prototype,"writeFeatureExpressionInfo",null);a.__decorate([d.property({type:n.apiValues,nonNullable:!0,json:{type:n.jsonValues,read:n.read,write:{writer:n.write,isRequired:!0}}})],c.prototype,"mode",null);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"offset",void 0);a.__decorate([d.property({type:t.supportedUnits,json:{type:String,read:b.read,write:b.write}})],c.prototype,"unit",null);return c=l=a.__decorate([f.subclass("esri.symbols.support.ElevationInfo")],
c)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f)}async collectRequiredFields(f,p){return e.collectArcadeFieldNames(f,p,this.expression)}clone(){return new g({expression:this.expression,
title:this.title})}equals(f){return this.expression===f.expression&&this.title===f.title}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=g=a.__decorate([m.subclass("esri.symbols.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(a,b,c,h,d,n,m){function e(V,O,P){if(V)for(const W of V)(V=(V=c.getDeepValue(W,O))&&"function"!==typeof V&&P.get(V))&&c.setDeepValue(W,V.name,O)}function g(V,O){if(!V||!O)return[];xa.clear();f(xa,V,O);return Array.from(xa).sort()}function f(V,O,P){if(P)if(O?.fields?.length)if(P.includes("*"))for(const {name:W}of O.fields)V.add(W);else for(const W of P)p(V,O,W);else if(P.includes("*"))V.clear(),V.add("*");else for(const W of P)null!=W&&V.add(W)}function p(V,O,P){"string"===typeof P&&(O?(O=
O.get(P))&&V.add(O.name):V.add(P))}async function r(V,O,P){if(P){var {arcadeUtils:W}=await m.loadArcade();P=W.extractFieldNames(P,O?.fields?.map(ca=>ca.name));for(const ca of P)p(V,O,ca)}}async function t(V,O,P){if(P&&"1\x3d1"!==P){const W=await d.parseWhereClause(P,O);if(!W.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:P});f(V,O,W.fieldNames)}}function l(V,O){for(const P of V)if(P?.valueType&&P.valueType===O)return P.name;return null}async function q(V,
O){if(O){var P=O.elevationInfo?.featureExpressionInfo;if(P)return P.collectRequiredFields(V,O.fieldsIndex)}}async function x(V,O,P){const W=[];P?.expressionInfos&&W.push(...P.expressionInfos.map(ca=>r(V,O.fieldsIndex,ca.expression)));P=P?.content;if(Array.isArray(P))for(const ca of P)"expression"===ca.type&&ca.expressionInfo&&W.push(r(V,O.fieldsIndex,ca.expressionInfo.expression));await Promise.all(W)}async function A(V,O,P){O&&P&&(P.valueExpression?await r(V,O.fieldsIndex,P.valueExpression):P.field&&
p(V,O.fieldsIndex,P.field))}function u(V){if(!V)return[];const O=V.geometryFieldsInfo;return O?g(V.fieldsIndex,[O.shapeAreaField,O.shapeLengthField]):[]}function w(V){const O=new Set;k(V).forEach(P=>O.add(P));u(V).forEach(P=>O.add(P.toLowerCase()));if(V=V&&"infoFor3D"in V?V.infoFor3D:void 0)Object.values(V.assetMapFieldRoles).forEach(P=>O.add(P.toLowerCase())),Object.values(V.transformFieldRoles).forEach(P=>O.add(P.toLowerCase()));return Array.from(O)}function z(V){if(!V)return[];V="editFieldsInfo"in
V&&V.editFieldsInfo;if(!V)return[];const {creationDateField:O,creatorField:P,editDateField:W,editorField:ca}=V;return[O,P,W,ca].filter(Boolean)}function k(V){return z(V).map(O=>O.toLowerCase())}async function v(V,O){const {labelingInfo:P,fieldsIndex:W}=O;P?.length&&await Promise.all(P.map(ca=>y(V,W,ca)))}async function y(V,O,P){if(P){var W=P.getLabelExpression();P=P.where;"arcade"===W.type?await r(V,O,W.expression):(W=W.expression.match(/{[^}]*}/g))&&W.forEach(ca=>{p(V,O,ca.slice(1,-1))});await t(V,
O,P)}}function B(V){return"number"===typeof V&&!isNaN(V)&&isFinite(V)}function C(V){return null===V||B(V)}function L(V){return null===V||Number.isInteger(V)}function M(V){return null!=V&&"string"===typeof V}function G(V){return null===V||M(V)}function E(){return!0}function F(V,O){let P;switch(V.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":P=
V.nullable?L:Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":P=V.nullable?C:B;break;case "string":case "esriFieldTypeString":P=V.nullable?G:M;break;default:P=E}return 1===arguments.length?P:P(O)}function H(V){return null!=V&&da.has(V.type)}function R(V){return null!=V&&("string"===V.type||"esriFieldTypeString"===V.type)}function J(V,O){return null==V||V.nullable&&null===O?null:H(V)&&!K(V.type,Number(O))?a.NumericRangeValidationError.OUT_OF_RANGE:
F(V,O)?V.domain?n.validateDomainValue(V,O):null:a.TypeValidationError.INVALID_TYPE}function K(V,O){V="string"===typeof V?Q(V):V;if(!V)return!1;const P=V.min,W=V.max;return V.isInteger?Number.isInteger(O)&&O>=P&&O<=W:O>=P&&O<=W}function Q(V){switch(V){case "esriFieldTypeSmallInteger":case "small-integer":return la;case "esriFieldTypeInteger":case "integer":return ua;case "esriFieldTypeBigInteger":case "big-integer":return Y;case "esriFieldTypeSingle":case "single":return ea;case "esriFieldTypeDouble":case "double":return ja}}
function N(V,O,P){if(!O?.attributes||!V){if(null!=P)for(var W of V??[])P.add(W);return!0}O=new Set(Object.keys(O.attributes));W=!1;for(const ca of V)if(!O.has(ca))if(W=!0,null!=P)P.add(ca);else break;return W}const U=/^([0-9_])/,Z=/[^a-z0-9_\u0080-\uffff]+/gi,fa="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),pa=["field","normalizationField"],xa=new Set,ra=new Set(["oid",
"global-id","guid"]),qa=new Set(["oid","global-id"]),za=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i],Da=["integer","small-integer","big-integer"],sa=["single","double"],X=[...Da,...sa],aa=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],ha=["esriFieldTypeSingle","esriFieldTypeDouble"],I=new Set([...Da,...aa]),T=new Set([...sa,...ha]),da=h.union(I,
T);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const la={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},ua={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Y={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,
isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},ea={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},ja={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=Y;a.collectArcadeFieldNames=r;a.collectElevationFields=q;a.collectFeatureReductionFields=async function(V,O,P){if(O&&P&&"fields"in P){var W=[];W.push(x(V,O,P.popupTemplate));P.fields&&W.push(...P.fields.map(async ca=>{ca.onStatisticExpression?
r(V,O.fieldsIndex,ca.onStatisticExpression.expression):V.add(ca.onStatisticField)}));await Promise.all(W)}};a.collectField=p;a.collectFields=f;a.collectFilterFields=async function(V,O,P){O&&(O.timeInfo&&P?.timeExtent&&f(V,O.fieldsIndex,[O.timeInfo.startField,O.timeInfo.endField]),O.floorInfo&&f(V,O.fieldsIndex,[O.floorInfo.floorField]),null!=P?.where&&await t(V,O.fieldsIndex,P.where))};a.collectLabelingFields=v;a.collectOrderByInfos=async function(V,O,P){O&&P&&await Promise.all(P.map(W=>A(V,O,W)))};
a.collectPopupTemplateFields=x;a.doubleRange=ja;a.extractSubstitutionTemplatesFromString=function(V){return(V=V?.match(/{[^}]+}/g))?V.map(O=>O.slice(1,-1).split(":")[0].trim()):[]};a.featureHasFields=function(V,O){return!N(V,O,null)};a.fixFields=g;a.fixRendererFields=function(V,O){if(null!=V&&null!=O)for(const P of Array.isArray(V)?V:[V])if(e(fa,P,O),"visualVariables"in P&&P.visualVariables)for(const W of P.visualVariables)e(pa,W,O)};a.fixTimeInfoFields=function(V,O){if(null!=V&&O?.fields?.length)if("startField"in
V){var P=O.get(V.startField);O=O.get(V.endField);V.startField=P?.name??null;V.endField=O?.name??null}else P=O.get(V.startTimeField),O=O.get(V.endTimeField),V.startTimeField=P?.name??null,V.endTimeField=O?.name??null};a.floatJSONTypes=ha;a.floatTypes=sa;a.getDisplayFieldName=function({displayField:V,fields:O}){if(V)return V;if(!O?.length)return null;if(!(V=l(O,"name-or-title")||l(O,"unique-identifier")||l(O,"type-or-category")))a:{for(const P of O)if(P?.name&&(O=P.name.toLowerCase(),O.includes("name")||
O.includes("title"))){V=P.name;break a}V=null}return V};a.getEditTrackingFields=z;a.getElevationFields=async function(V){if(!V)return[];const O=new Set;await q(O,V);return Array.from(O).sort()};a.getExpressionFields=async function(V,O){const P=new Set;for(const W of O)await r(P,V.fieldsIndex,W);return Array.from(P).sort()};a.getFeatureEditFields=function(V){return V?g(V.fieldsIndex,z(V)):[]};a.getFeatureGeometryFields=u;a.getFieldDefaultLength=function(V){V="string"===typeof V?{type:V}:V;if(R(V))return 255;
if("esriFieldTypeDate"===V.type||"date"===V.type)return 8};a.getFieldDefaultValue=function(V){const O=V.defaultValue;if(void 0!==O&&F(V,O))return O;if(V.nullable)return null};a.getFieldRange=function(V,O){if(O=n.getDomainRange(V,O))return O;if(H(V))return Q(V.type)};a.getLabelingFields=async function(V){if(!V)return[];const O=new Set;await v(O,V);return Array.from(O).sort()};a.getLowerCaseDefaultHiddenFields=w;a.getLowerCaseEditTrackingFields=k;a.getNumericTypeForValue=function(V){if(!B(V))return null;
if(Number.isInteger(V)){if(V>=la.min&&V<=la.max)return"esriFieldTypeSmallInteger";if(V>=ua.min&&V<=ua.max)return"esriFieldTypeInteger";if(V>=Y.min&&V<=Y.max)return"esriFieldTypeBigInteger"}return V>=ea.min&&V<=ea.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getRendererFields=async function(V,O){const P=new Set;V?.collectRequiredFields&&await V.collectRequiredFields(P,O);return Array.from(P).sort()};a.getTimeFields=async function(V){if(!V)return[];const O="timeInfo"in V&&V.timeInfo;return O?
g(V.fieldsIndex,[V.trackIdField,O.startField,O.endField]):[]};a.integerJSONTypes=aa;a.integerRange=ua;a.integerTypes=Da;a.isDateField=function(V){return null!=V&&("date"===V.type||"esriFieldTypeDate"===V.type)};a.isDateOnlyField=function(V){return null!=V&&("date-only"===V.type||"esriFieldTypeDateOnly"===V.type)};a.isFieldEditable=function(V,O){return V.editable&&!ra.has(V.type)&&!k(O).includes(V.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(V,O){const P=V.name?.toLowerCase()??"";return!(null!=
O?.objectIdField&&P===O.objectIdField.toLowerCase())&&!(null!=O?.globalIdField&&P===O.globalIdField.toLowerCase())&&!w(O).includes(P)&&!qa.has(V.type)&&!za.some(W=>W.test(P))};a.isGlobalIDField=function(V){return null!=V&&("global-id"===V.type||"esriFieldTypeGlobalID"===V.type)};a.isIntegerField=function(V){return null!=V&&I.has(V.type)};a.isNumberInRange=K;a.isNumericField=H;a.isObjectIDField=function(V){return null!=V&&("oid"===V.type||"esriFieldTypeOID"===V.type)};a.isRasterPixelValueField=function(V){return V?
["raster.itempixelvalue","raster.servicepixelvalue"].some(O=>V.toLowerCase().startsWith(O)):!1};a.isStringField=R;a.isTimeOnlyField=function(V){return null!=V&&("time-only"===V.type||"esriFieldTypeTimeOnly"===V.type)};a.isTimestampOffsetField=function(V){return null!=V&&("timestamp-offset"===V.type||"esriFieldTypeTimestampOffset"===V.type)};a.isValidFieldValue=function(V,O){return null===J(V,O)};a.isValueMatchingFieldType=F;a.normalizeFieldName=function(V){return null==V?null:V.trim().replaceAll(Z,
"_").replace(U,"F$1")||null};a.numericTypes=X;a.packFields=function(V,O,P=1){if(!O||!V)return[];if(O.includes("*"))return["*"];O=g(V,O);return O.length/V.fields.length>=P?["*"]:O};a.populateMissingFields=N;a.rendererFields=fa;a.sanitizeNullFieldValue=function(V){return null==V||"number"===typeof V&&isNaN(V)?null:V};a.singleRange=ea;a.smallIntegerRange=la;a.unpackFieldNames=function(V,O){return null==O||null==V?[]:O.includes("*")?(V.fields??[]).map(P=>P.name):O};a.validateFieldValue=J;a.validationErrorToString=
function(V,O,P){switch(V){case n.DomainValidationError.INVALID_CODED_VALUE:return`Value ${P} is not in the coded domain - field: ${O.name}, domain: ${JSON.stringify(O.domain)}`;case n.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${P} is out of the range of valid values - field: ${O.name}, domain: ${JSON.stringify(O.domain)}`;case a.TypeValidationError.INVALID_TYPE:return`Value ${P} is not a valid value for the field type - field: ${O.name}, type: ${O.type}, nullable: ${O.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:W,
max:ca}=Q(O.type);return`Value ${P} is out of range for the number type - field: ${O.name}, type: ${O.type}, value range is ${W} to ${ca}`}};a.visualVariableFields=pa;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],function(a,b){b.parseWhereClause=async function(c,h){const {WhereClause:d}=await new Promise((n,m)=>a(["./sql/WhereClause"],n,m));return d.create(c,{fieldsIndex:h})};b.sqlAnd=function(c,h){return"1\x3d1"===c?h??c:"1\x3d1"===
h?c??h:null!=c&&""!==c?null!=h&&""!==h?`(${c}) AND (${h})`:c:h};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports","../../widgets/support/dateUtils"],function(a,b){function c(g){return null!=g&&("date-only"===g.type||"esriFieldTypeDateOnly"===g.type)}function h(g){return null!=g&&("timestamp-offset"===g.type||"esriFieldTypeTimestampOffset"===g.type)}function d(g){return null!=g&&("time-only"===g.type||"esriFieldTypeTimeOnly"===
g.type)}function n(g,f){var p=f??g?.domain;if(p&&"range"===p.type){f="range"in p?p.range[0]:p.minValue;p="range"in p?p.range[1]:p.maxValue;var r=null!=g&&e.has(g.type);return c(g)||d(g)||h(g)?{...m(g,p,f),isInteger:r}:{min:null!=f&&"number"===typeof f?f:null,max:null!=p&&"number"===typeof p?p:null,rawMin:f,rawMax:p,isInteger:r}}}function m(g,f,p){return c(g)?{min:b.dateOnlyToDateTime(p)?.toMillis(),max:b.dateOnlyToDateTime(f)?.toMillis(),rawMin:p,rawMax:f}:d(g)?{min:b.timeOnlyToDateTime(p)?.toMillis(),
max:b.timeOnlyToDateTime(f)?.toMillis(),rawMin:p,rawMax:f}:h(g)?{min:b.timestampOffsetToDateTime(p)?.toMillis(),max:b.timestampOffsetToDateTime(f)?.toMillis(),rawMin:p,rawMax:f}:{max:null,min:null}}a.DomainValidationError=void 0;(function(g){g.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";g.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));const e=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));
a.dateTimeFieldValuesToNumericRange=m;a.getDomainRange=n;a.validateDomainValue=function(g,f,p){const r=p??g?.domain;if(!r)return null;switch(r.type){case "range":const {min:t,max:l}=n(g,p);if(null!=t&&+f<t||null!=l&&+f>l)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==r.codedValues||r.codedValues.every(q=>null==q||q.code!==f))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==r.codedValues||r.codedValues.every(q=>null==q||q.code!==
f))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dateUtils":function(){define("exports ../../intl ../../core/has ../../core/Error ../../core/mathUtils ../../core/maybe ../../intl/date ../../time/timeZoneUtils ./dataUtils ../../chunks/datetime ../../intl/locale".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){function r(G){return{locale:p.getLocale(),numberingSystem:"latn",zone:G??v}}function t(G,E){return null===
G?null:f.DateTime.fromMillis(G,r(E))}function l(G,E){if(null==G||!g.isString(G)||""===G)return E?(G=f.DateTime.local({zone:E}),{date:null,time:null,timeZoneOffset:G.isValid?G.offset.toString():null}):y;G=f.DateTime.fromISO(G,{setZone:!0});return{date:G.toFormat("yyyy-MM-dd",r()),time:G.toFormat(a.TimeStampOffsetPattern.HMS_MS,r()),timeZoneOffset:G.offset.toString()}}function q(G,E){if(null==G?.value||Array.isArray(G.value))return null;let F=null;F="valueAsDate"in G?f.DateTime.fromFormat(G.value,"yyyy-MM-dd",
r(E)):z(G.value);return F?.isValid?F:null}function x(G){const {max:E,min:F,value:H}=G;return isNaN(H)||null!=E&&H>E||null!=F&&H<F?!1:!0}function A(G){const {max:E,min:F,value:H}=G;return null!=E&&null!=F?d.clamp(H,F,E):null!=E&&H>E?E:null!=F&&H<F?F:H}function u(G){if(!G)return"";var E=G.split(".").at(0);if(!E||1>E.length)throw new h("invalid time-only field",`Cannot parse valid time-only field value from ${G}`);G=E.split(":");E=Array(3);for(let F=0;3>F;F++){const H=G.at(F)??"";E[F]=H.padStart(2,"0")}return E.join(":")}
function w(G){if(!G||!g.isString(G))return null;G=f.DateTime.fromFormat(G,"yyyy-MM-dd");return G.isValid?G:null}function z(G){return G&&g.isString(G)?n.mappedFind(B,E=>{E=f.DateTime.fromFormat(G,E);return E.isValid?E:null})??null:null}function k(G){if(!G||!g.isString(G))return null;G=f.DateTime.fromISO(G);return G.isValid?G:null}const v=e.utc,y={date:null,time:null,timeZoneOffset:null};b=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);
a.TimeStampOffsetPattern=void 0;(function(G){G.HM="HH:mm";G.HMS="HH:mm:ss";G.HMS_MS="HH:mm:ss.SSS"})(a.TimeStampOffsetPattern||(a.TimeStampOffsetPattern={}));const B=[a.TimeStampOffsetPattern.HMS_MS,a.TimeStampOffsetPattern.HMS,a.TimeStampOffsetPattern.HM,"TT"],C=a.TimeStampOffsetPattern.HMS;c=new Set(["date-only","time-only","timestamp-offset"]);const L=new Set(["small-integer","big-integer","integer","single","double"]),M=new Set(["date-picker","time-picker","datetimeoffset-picker","datetime-picker"]);
a.arcadeDateToFieldValue=function(G,E){switch(E){case "date":return G.getTime();case "date-only":return G.toISODate();case "time-only":return u(G.toISOTime(!0,!1));case "timestamp-offset":return G.toISOString(!1);default:return null}};a.clampValueToRange=A;a.createDateTimeFromFieldValue=t;a.dateFieldsWithStringFieldValue=c;a.dateOnlyToDateTime=w;a.dateTimeIsInRange=function(G){const {type:E,range:F,value:H}=G;if(null==H||!F||H===F.min||H===F.max)return!0;if("date"===E)return x({value:H,min:F.min,
max:F.max});const {rawMax:R,rawMin:J}=F;let K=G=null,Q=null;switch(E){case "date-only":G=w(R);K=w(J);Q=w(H);break;case "time-only":G=z(R);K=z(J);Q=z(H);break;case "timestamp-offset":G=k(R),K=k(J),Q=k(H)}return Q?x({value:Q.valueOf(),min:K?.valueOf(),max:G?.valueOf()}):!0};a.dateTimeToFieldValue=function(G){return G?.isValid?G.toMillis():null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern=C;a.getDefaultLocaleOptions=r;a.getISOFieldValueFromDateComponents=function(G){const {dateComponent:E,
defaultTimeZone:F,timeComponent:H,timeZoneComponent:R,oldValue:J}=G;if(!E?.value)return null;const {year:K,month:Q,day:N}=f.DateTime.fromFormat(E.value,"yyyy-MM-dd"),{hour:U,minute:Z,second:fa,millisecond:pa}=q(H,e.utc)??f.DateTime.now();G=l(J,F);G=R?.value?parseInt(R.value,10):null!=G.timeZoneOffset?parseInt(G.timeZoneOffset,10):(new Date).getTimezoneOffset();G=f.FixedOffsetZone.instance(G);G=f.DateTime.fromObject({year:K,month:Q,day:N,hour:U,minute:Z,second:fa,millisecond:pa},{zone:G});return G.isValid?
G.toISO({includeOffset:!0}):null};a.getIntlOptionsForField=function(G){switch(G.type){case "date":return m.convertDateFormatToIntlOptions("short-date-short-time");case "date-only":return m.convertDateFormatToIntlOptions("short-date");case "time-only":return m.convertDateFormatToIntlOptions("short-time");case "timestamp-offset":return{...m.convertDateFormatToIntlOptions("short-date-short-time"),timeZone:void 0,timeZoneName:"short"};default:return m.convertDateFormatToIntlOptions("short-date-short-time")}};
a.getLabelForDateFieldValue=function(G,E,F){if(!G||null==E)return null;switch(G.type){case "date":return m.formatDate(E,F);case "date-only":return m.formatDateOnly(E,F);case "time-only":return m.formatTimeOnly(E,F);case "timestamp-offset":return m.formatTimestamp(E,F);default:return null}};a.getLocalDateTimeFromComponent=q;a.getUnixFieldValueFromDateComponents=function(G){const {dateComponent:E,timeComponent:F,timeZone:H,max:R,min:J,oldValue:K}=G;var Q=q(E,H);G=!!G.applyRange;if(!Q)return null;var N=
null;if(null!=F?.value){N=q(F,H);var U=Date.now();U=f.DateTime.fromMillis(null!=R&&R<U?R:U,r(H));Q=Q||U;const {year:Z,month:fa,day:pa}=Q,{hour:xa,minute:ra,second:qa,millisecond:za}=N||U;N=Q.set({year:Z,month:fa,day:pa,hour:xa,minute:ra,second:qa,millisecond:za})}else{G=A({value:K??Date.now(),max:R,min:J});G=t(G,H);const {year:Z,month:fa,day:pa}=Q,{hour:xa,minute:ra,second:qa,millisecond:za}=G;G=!0;N=Q.set({year:Z,month:fa,day:pa,hour:xa,minute:ra,second:qa,millisecond:za})}if(!N.isValid)return null;
Q=N.toMillis();return G?A({value:Q,max:R,min:J}):Q};a.isArcadeDate=function(G){return!!G&&"object"===typeof G&&"getTime"in G&&"toISOString"in G&&"timeZone"in G};a.isCalciteDateComponent=G=>"valueAsDate"in G;a.isDateType=function(G){return M.has(G)};a.isInDST=function(G,E="system"){return f.DateTime.fromJSDate(G,{zone:E}).isInDST};a.isNumberType=function(G){return L.has(G)};a.normalizeTimeOnlyString=u;a.numberingSystem="latn";a.prepareISOFieldValueForDateComponents=l;a.prepareUnixFieldValueForDateComponents=
function(G,E){return null==G||!g.isNumber(G)||isNaN(G)?y:(G=t(G,E))?{date:G.toFormat("yyyy-MM-dd",r(E)),time:G.toFormat(C,r(E))}:y};a.supportedTimeFormats=B;a.timeOnlyToDateTime=z;a.timeResolutionToStepMap=b;a.timestampOffsetToDateTime=k;a.valueIsInRange=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),function(a,b,c,h,d,n,m,e){n.registerMessageBundleLoader(m.createJSONLoader({pattern:"esri/",
location:e.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;a.formatTimeOnly=b.formatTimeOnly;a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=c.convertNumberFormatToIntlOptions;a.formatNumber=c.formatNumber;a.substitute=h.substitute;a.getLocale=d.getLocale;a.onLocaleChange=d.onLocaleChange;a.prefersRTL=d.prefersRTL;a.setLocale=d.setLocale;a.fetchMessageBundle=n.fetchMessageBundle;a.normalizeMessageBundleLocale=
n.normalizeMessageBundleLocale;a.registerMessageBundleLoader=n.registerMessageBundleLoader;a.createJSONLoader=m.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function c(e){const g=e||n;if(!d.has(g)){var f=b.getLocale();f=h[b.getLocale()]||f;d.set(g,new Intl.NumberFormat(f,e))}return d.get(g)}const h={ar:"ar-u-nu-latn"};let d=new WeakMap,n={};b.beforeLocaleChange(()=>{d=new WeakMap;n={}});const m=
new Map;a.convertNumberFormatToIntlOptions=function(e={}){const g={};null!=e.digitSeparator&&(g.useGrouping=e.digitSeparator);null!=e.places&&(g.minimumFractionDigits=g.maximumFractionDigits=e.places);return g};a.formatNumber=function(e,g){Object.is(e,-0)&&(e=0);return c(g).format(e)};a.getFormatter=c;a.parseNumber=function(e,g=b.getLocale()){if(!e)return null;var f=m.get(g);if(!f){f=c().formatToParts(12345.6);const p=[...c({useGrouping:!1}).format(9876543210)].reverse(),r=new Map(p.map((u,w)=>[u,
w])),t=new RegExp(`[${f.find(u=>"group"===u.type)?.value}]`,"g"),l=new RegExp(`[${f.find(u=>"decimal"===u.type)?.value}]`),q=new RegExp(`[${p.join("")}]`,"g"),x=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,A=/[-\u2212\u2013\u2014\u2015]/g;f=u=>{u=u.trim().replaceAll(t,"").replace(l,".").replace(q,w=>String(r.get(w))).replaceAll(x,"").replaceAll(A,"-");if(""===u)return null;u=Number(u);return isNaN(u)?null:u};m.set(g,f)}return f(e)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(a,b,c,h,d,n){function m(e){switch(typeof e){case "string":return e;case "number":return n.formatNumber(e);case "boolean":return""+e;default:return e instanceof Date?d.formatDate(e):""}}a.substitute=function(e,g,f={}){const {format:p={}}=f;return h.replace(e,r=>{{const q=r.indexOf(":");if(-1===q)var t=r.trim();else{t=r.slice(0,q).trim();var l=r.slice(q+
1).trim()}if(t)if(r=c.getDeepValue(t,g),null==r)l="";else if(t=(l?p?.[l]:null)??p?.[t])b:switch(t.type){case "date":l=d.formatDate(r,t.intlOptions);break b;case "number":l=n.formatNumber(r,t.intlOptions);break b;default:b.getLogger("esri.intl.substitute").warn("missing format descriptor for key {key}"),l=m(r)}else if(l)b:switch(l.toLowerCase()){case "dateformat":l=d.formatDate(r);break b;case "numberformat":l=n.formatNumber(r);break b;default:b.getLogger("esri.intl.substitute").warn(`inline format is unsupported since 4.12: ${l}`),
l=/^(dateformat|datestring)/i.test(l)?d.formatDate(r):/^numberformat/i.test(l)?n.formatNumber(r):m(r)}else l=m(r);else l=""}return l})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,c,h){async function d(g,f,p,r){var t=f.exec(p);if(!t)throw new c("esri-intl:invalid-bundle",`Bundle id "${p}" is not compatible with the pattern "${f}"`);f=t[1]?`${t[1]}/`:"";t=t[2];const l=h.normalizeMessageBundleLocale(r);
r=`${f}${t}.json`;f=l?`${f}${t}_${l}.json`:r;let q;try{q=await n(g(f))}catch(x){if(f===r)throw new c("intl:unknown-bundle",`Bundle "${p}" cannot be loaded`,{error:x});try{q=await n(g(r))}catch(A){throw new c("intl:unknown-bundle",`Bundle "${p}" cannot be loaded`,{error:A});}}return q}async function n(g){if(null!=e.fetchBundleAsset)return e.fetchBundleAsset(g);g=await b(g,{responseType:"text"});return JSON.parse(g.data)}class m{constructor({base:g="",pattern:f,location:p=new URL(window.location.href)}){let r;
r="string"===typeof p?t=>(new URL(t,new URL(p,window.location.href))).href:p instanceof URL?t=>(new URL(t,p)).href:p;this.pattern="string"===typeof f?new RegExp(`^${f}`):f;this.getAssetUrl=r;g=g?g.endsWith("/")?g:g+"/":"";this.matcher=new RegExp(`^${g}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(g,f){return d(this.getAssetUrl,this.matcher,g,f)}}const e={};a.JSONLoader=m;a.createJSONLoader=function(g){return new m(g)};a.test=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dataUtils":function(){define(["exports"],
function(a){a.isNumber=function(b){return"number"===typeof b};a.isString=function(b){return"string"===typeof b||b instanceof String};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),function(a,b,c,h,d,n){function m(){e||=(async()=>{const f=await new Promise((p,r)=>a(["./arcadeUtils"],p,r));return{arcade:f.arcade,arcadeUtils:f,Dictionary:f.Dictionary,
Feature:f.arcadeFeature}})();return e}let e;c=(f,p,r)=>g.create(f,p,r,null,["$feature","$view"],[]);class g{constructor(f,p,r,t,l,q,x){this.services=null;this.script=f;this.evaluate=t;this.fields=(Array.isArray(q)?q:q?.fields)??[];this._syntaxTree=r;this._arcade=p;this._arcadeFeature=l;this._spatialReference=x;this._referencesGeometry=p.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(f,p,r,t,l,q){const {arcade:x,
Feature:A,Dictionary:u}=await m(),w=p instanceof n?p:n.fromJSON(p);let z;try{z=x.parseScript(f,q)}catch(L){return d.getLogger("esri.support.arcadeOnDemand").error(new h("arcade-bad-expression","Failed to parse arcade script",{script:f,error:L})),null}l=l.reduce((L,M)=>({...L,[M]:null}),{});let k=null;null!=t&&(k=new u(t),k.immutable=!0,l.$config=null);q=(t=x.scriptUsesGeometryEngine(z))&&x.enableGeometrySupport();const v=x.scriptUsesFeatureSet(z)&&x.enableFeatureSetSupport(),y=(p=x.scriptIsAsync(z))&&
x.enableAsyncSupport();l={vars:l,spatialReference:w,useAsync:!!y};await Promise.all([q,v,y]);q=new Set;await x.loadDependentModules(q,z,null,p,t);const B=new u;B.immutable=!1;B.setField("scale",0);const C=x.compileScript(z,l);return new g(f,x,z,(L,M)=>{const G=L.$view?.timeZone;"$view"in L&&L.$view&&(B.setField("scale","object"===typeof L.$view&&"scale"in L.$view?L.$view.scale:void 0),L.$view=B);k&&(L.$config=k);return C({vars:L,spatialReference:w,services:M,timeZone:G})},new A,r,w)}repurposeFeature(f){f.geometry&&
!f.geometry.spatialReference&&(f.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(f.geometry,f.attributes,{fields:this.fields});return this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}b.ArcadeExpression=g;b.createDictionaryExpression=(f,p,r,t)=>g.create(f,p,r,t,["$feature","$view"],[]);b.createLabelExpression=(f,p,r)=>g.create(f,p,r,null,["$feature","$view"],[]);b.createRendererExpression=
c;b.createRendererExpressionWithOptions=(f,p)=>g.create(f,p.spatialReference,p.fields,null,["$feature","$view"],[]);b.createVVExpression=c;b.loadArcade=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../core/arrayUtils","../../renderers/support/lengthUtils"],function(a,b,c){const h=function(){const d=Object.keys(c.meterIn);b.remove(d,"decimal-degrees");d.sort();return d}();a.getMetersPerUnit=function(d){return 1/
(c.meterIn[d]||1)};a.supportedUnits=h;a.supportsUnit=function(d){return!!d&&null!=c.meterIn[d]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,c){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,
"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/tables/AttributeTableTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./elements/AttributeTableGroupElement ./support/elements".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;const r=f.buildTypeMaps(g);b=p=class extends b.JSONSupport{constructor(t){super(t);this.orderByFields=this.elements=null}castElements(t){return f.ensureType(t,r)}readElements(t,l){return f.fromJSON(l.attributeTableElements,r)}writeElements(t,l){l.attributeTableElements=f.toJSON(t,r)}clone(){return new p({elements:c.clone(this.elements),orderByFields:this.orderByFields})}};a.__decorate([h.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([d.cast("elements")],
b.prototype,"castElements",null);a.__decorate([n.reader("elements",["attributeTableElements"])],b.prototype,"readElements",null);a.__decorate([e.writer("elements")],b.prototype,"writeElements",null);a.__decorate([h.property({type:[Object],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=p=a.__decorate([m.subclass("esri.tables.AttributeTableTemplate")],b)})},"esri/tables/elements/AttributeTableGroupElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AttributeTableElement ../support/elements".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;e=f=class extends e{constructor(r){super(r);this.elements=null;this.type="group"}castElements(r){return g.ensureType(r,p,!1)}readElements(r,t){return g.fromJSON(t.attributeTableElements,p,!1)}writeElements(r,t){t.attributeTableElements=g.toJSON(r,p,!1)}clone(){return new f({description:this.description,elements:b.clone(this.elements),label:this.label})}};a.__decorate([c.property({json:{write:!0}})],e.prototype,"elements",void 0);a.__decorate([h.cast("elements")],
e.prototype,"castElements",null);a.__decorate([d.reader("elements",["attributeTableElements"])],e.prototype,"readElements",null);a.__decorate([m.writer("elements")],e.prototype,"writeElements",null);a.__decorate([c.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);e=f=a.__decorate([n.subclass("esri.tables.elements.AttributeTableGroupElement")],e);const p=g.buildTypeMaps(e);return e})},"esri/tables/elements/AttributeTableElement":function(){define(["../../chunks/tslib.es6",
"../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,h){b=class extends b.JSONSupport{constructor(d){super(d);this.type=this.label=this.description=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property()],b.prototype,"type",void 0);return b=a.__decorate([h.subclass("esri.tables.elements.AttributeTableElement")],
b)})},"esri/tables/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttributeTableAttachmentElement ../elements/AttributeTableElement ../elements/AttributeTableFieldElement ../elements/AttributeTableRelationshipElement".split(" "),function(a,b,c,h,d,n){a.buildTypeMaps=function(m){return{typesWithGroup:{base:h,key:"type",typeMap:{attachment:c,field:d,group:m,relationship:n}},typesWithoutGroup:{base:h,key:"type",typeMap:{attachment:c,field:d,relationship:n}}}};
a.ensureType=function(m,e,g=!0){return m?m.map(f=>b.ensureOneOfType(g?e.typesWithGroup:e.typesWithoutGroup,f)):null};a.fromJSON=function(m,e,g=!0){if(!m)return null;const f=g?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return m.filter(p=>f[p.type]).map(p=>f[p.type].fromJSON(p))};a.toJSON=function(m,e,g=!0){if(!m)return null;const f=g?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return m.filter(p=>f[p.type]).map(p=>p.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/tables/elements/AttributeTableAttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./AttributeTableElement".split(" "),function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.displayType="auto";this.type="attachment"}clone(){return new e({description:this.description,displayType:this.displayType,label:this.label})}};
a.__decorate([b.property({type:["auto"],json:{write:!0}})],c.prototype,"displayType",void 0);a.__decorate([b.property({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.tables.elements.AttributeTableAttachmentElement")],c)})},"esri/tables/elements/AttributeTableFieldElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./AttributeTableElement".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.fieldName=null;this.type="field"}clone(){return new e({description:this.description,fieldName:this.fieldName,label:this.label})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([b.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.tables.elements.AttributeTableFieldElement")],c)})},"esri/tables/elements/AttributeTableRelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./AttributeTableElement".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.relationshipId=null;this.type="relationship"}clone(){return new e({description:this.description,label:this.label,relationshipId:this.relationshipId})}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"relationshipId",void 0);a.__decorate([b.property({type:["relationship"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.tables.elements.AttributeTableRelationshipElement")],
c)})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y){var B=null,C=null;b.PortalLayer=L=>{L=class extends L{constructor(){super(...arguments);this.resourceReferences={portalItem:null,paths:[]};this.userHasEditingPrivileges=!0;this.userHasUpdateItemPrivileges=this.userHasFullEditingPrivileges=!1}destroy(){this.portalItem=f.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0}set portalItem(M){M!==this._get("portalItem")&&(this.removeOrigin("portal-item"),
this._set("portalItem",M))}readPortalItem(M,G,E){if(G.itemId)return new k({id:G.itemId,portal:E?.portal})}writePortalItem(M,G){M?.id&&(G.itemId=M.id)}async loadFromPortal(M,G){if(this.portalItem?.id)try{const {load:E}=await new Promise((F,H)=>a(["../../portal/support/layersLoader"],F,H));p.throwIfAborted(G);return await E({instance:this,supportedTypes:M.supportedTypes,validateItem:M.validateItem,supportsData:M.supportsData,layerModuleTypeMap:M.layerModuleTypeMap},G)}catch(E){throw p.isAbortError(E)||
g.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${E}`),E;}}async finishLoadEditablePortalLayer(M){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(M).catch(G=>{p.throwIfAbortError(G);return!0}))}async setUserPrivileges(M,G){if(!h.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(G);if(this.url)try{const {features:{edit:E,fullEdit:F},content:{updateItem:H}}=await this._fetchUserPrivileges(M,
G);this._set("userHasEditingPrivileges",E);this._set("userHasFullEditingPrivileges",F);this._set("userHasUpdateItemPrivileges",H)}catch(E){p.throwIfAbortError(E)}}async _fetchUserPrivileges(M,G){let E=this.portalItem;if(!M||!E||!E.loaded||E.sourceUrl)return this._fetchFallbackUserPrivileges(G);const F=M===E.id;if(F&&E.portal.user)return y.getUserPrivileges(E);let H;if(F)H=E.portal.url;else try{H=await w.getOwningPortalUrl(this.url,G)}catch(J){p.throwIfAbortError(J)}if(!H||!r.hasSameCanonicalPortal(H,
E.portal.url))return this._fetchFallbackUserPrivileges(G);let R;try{const J=null!=G?G.signal:null;R=await d.id?.getCredential(`${H}/sharing`,{prompt:!1,signal:J})}catch(J){p.throwIfAbortError(J)}if(!R)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(F?await E.reload():(E=new k({id:M,portal:{url:H}}),await E.load(G)),E.portal.user)return y.getUserPrivileges(E)}catch(J){p.throwIfAbortError(J)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(M){let G=
!0;try{G=await this._fetchUserHasEditingPrivileges(M)}catch(E){p.throwIfAbortError(E)}return{features:{edit:G,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(M){const G=this.url?d.id?.findCredential(this.url):null;if(!G)return!0;M=B===G?C:await this._fetchEditingUser(M);B=G;C=M;return null==M?.privileges||M.privileges.includes("features:user:edit")}async _fetchEditingUser(M){var G=this.portalItem?.portal?.user;if(G)return G;G=d.id?.findServerInfo(this.url??"");if(!G?.owningSystemUrl)return null;
G=`${G.owningSystemUrl}/sharing/rest`;const E=z.getDefault();if(E&&E.loaded&&r.normalize(E.restUrl)===r.normalize(G))return E.user;M=await m.result(n(`${G}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=M?M.signal:null}));return M.ok?v.fromJSON(M.value.data):null}read(M,G){G&&(G.layer=this);super.read(M,G)}write(M,G){const E=G?.portal,F=this.portalItem?.id&&(this.portalItem.portal||z.getDefault());return E&&F&&!r.hasSamePortal(F.restUrl,E.restUrl)?(G.messages&&G.messages.push(new e("layer:cross-portal",
`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(M,{...G,layer:this})}};c.__decorate([t.property({type:k})],L.prototype,"portalItem",null);c.__decorate([x.reader("web-document","portalItem",["itemId"])],L.prototype,"readPortalItem",null);c.__decorate([u.writer("web-document",
"portalItem",{itemId:{type:String}})],L.prototype,"writePortalItem",null);c.__decorate([t.property({clonable:!1})],L.prototype,"resourceReferences",void 0);c.__decorate([t.property({type:Boolean,readOnly:!0})],L.prototype,"userHasEditingPrivileges",void 0);c.__decorate([t.property({type:Boolean,readOnly:!0})],L.prototype,"userHasFullEditingPrivileges",void 0);c.__decorate([t.property({type:Boolean,readOnly:!0})],L.prototype,"userHasUpdateItemPrivileges",void 0);return L=c.__decorate([A.subclass("esri.layers.mixins.PortalLayer")],
L)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,c,h){async function d(f){const p=f.spatialReference;if(p.isWGS84)return f.clone();if(p.isWebMercator)return h.webMercatorToGeographic(f);const r=c.WGS84;await b.initializeProjection(p,r);return b.project(f,r)}function n(f,p){if(!m(f,p)){const r=f.typeKeywords;
r?r.push(p):f.typeKeywords=[p]}}function m(f,p){return!!f.typeKeywords?.includes(p)}function e(f,p){if(f=f.typeKeywords)p=f.indexOf(p),-1<p&&f.splice(p,1)}const g={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};a.addTypeKeyword=
n;a.getUserPrivileges=function(f){const {portal:p,isOrgItem:r,itemControl:t}=f;var l=p.user?.privileges;f=l?l.includes("features:user:edit"):!0;l=r?!!l?.includes("features:user:fullEdit"):!1;const q="update"===t||"admin"===t;q?l=f=!0:l&&(f=!0);return{features:{edit:f,fullEdit:l},content:{updateItem:q}}};a.getWGS84ExtentForItem=async function(f){f=f.clone().normalize();let p;if(1<f.length)for(const r of f)p?r.width>p.width&&(p=r):p=r;else p=f[0];return d(p)};a.hasTypeKeyword=m;a.isHostedLayer=function(f){return m(f,
g.HOSTED_SERVICE)};a.removeTypeKeyword=e;a.toggleTypeKeyword=function(f,p,r){r?n(f,p):e(f,p)};a.typeKeyword=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../core/libs/gl-matrix-2/factories/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k){function v(){return!!fa&&p.isLoaded()}function y(){if(v())return!0;d.trackAccess(qa);B();return!1}function B(sa){null==xa&&(xa=Promise.all([p.load(),(new Promise((X,aa)=>a(["../chunks/geometryEngineBase"],X,aa))).then(X=>X.geometryEngineBase),new Promise((X,aa)=>a(["./geometryAdapters/hydrated"],X,aa))]));return xa.then(([,X,{hydratedAdapter:aa}])=>{h.throwIfAborted(sa);pa=aa;fa=X.default;fa._enableProjection(p.pe);qa.notify()})}function C(sa,X,
aa=null,ha=null){return Array.isArray(sa)?0===sa.length?[]:L(pa,sa,sa[0].spatialReference,X,aa,ha):L(pa,[sa],sa.spatialReference,X,aa,ha)[0]}function L(sa,X,aa,ha,I=null,T=null){if(null==aa||null==ha)return X;if(F(aa,ha,I))return X.map(da=>R(da,aa,ha));if(null==I&&e.isSphericalECEF(aa))return X.map(da=>R(da,aa,q.WGS84)).map(da=>E(da,ha));if(null==I&&e.isSphericalECEF(ha))return X.map(da=>E(da,q.WGS84)).map(da=>R(da,q.WGS84,ha));if(null==I){const da=w.cacheKey(aa,ha);void 0!==ra[da]?I=ra[da]:(I=G(aa,
ha,void 0),null==I&&(I=new w),ra[da]=I)}if(null==fa||null==sa)throw new za;return null!=T?fa._project(sa,X,aa,ha,I,T):fa._project(sa,X,aa,ha,I)}function M(sa,X){if(!v())for(const aa of sa)if(null!=aa&&!z.equals(aa.spatialReference,X)&&z.isValid(aa.spatialReference)&&z.isValid(X)&&!F(aa.spatialReference,X))return d.trackAccess(qa),{pending:B(),geometries:null};return{pending:null,geometries:sa.map(aa=>null==aa?null:z.equals(aa.spatialReference,X)?aa:z.isValid(aa.spatialReference)&&z.isValid(X)?E(aa,
X):null)}}function G(sa,X,aa=null){if(null==sa||null==X)return null;if(null==fa||null==pa)throw new za;sa=fa._getTransformation(pa,sa,X,aa,aa?.spatialReference);return null!==sa?w.fromGE(sa):null}function E(sa,X){try{const aa=C(sa,X);if(null==aa)return null;"xmin"in sa&&"xmin"in aa&&(aa.zmin=sa.zmin,aa.zmax=sa.zmax);const ha=k.getGeometryZScaler(aa.type,sa.spatialReference,X);null!=ha&&ha(aa);return aa}catch(aa){if(!(aa instanceof za))throw aa;return null}}function F(sa,X,aa){return aa?!1:z.equals(sa,
X)?!0:z.isValid(sa)&&z.isValid(X)&&!!A.getProjector(sa,X,A.projectorCache)}async function H(sa,X,aa,ha){if(v())return h.waitTick(ha);if(Array.isArray(sa))for(const {source:I,dest:T,geographicTransformation:da}of sa){if(I&&T&&!F(I,T,da))return B(ha)}else if(sa&&X&&!F(sa,X,aa))return B(ha);return h.waitTick(ha)}function R(sa,X,aa){return sa?"x"in sa?J(sa,X,new r,aa,0):"xmin"in sa?U(sa,X,new g,aa,0):"rings"in sa?N(sa,X,new t,aa,0):"paths"in sa?Q(sa,X,new l,aa,0):"points"in sa?K(sa,X,new f,aa,0):null:
null}function J(sa,X,aa,ha,I){Da[0]=sa.x;Da[1]=sa.y;const T=sa.z;Da[2]=void 0!==T?T:I;if(!x.projectBuffer(Da,X,0,Da,ha,0))return null;aa.x=Da[0];aa.y=Da[1];aa.spatialReference=ha;void 0!==T||e.isSphericalPCPF(ha)?(aa.z=Da[2],aa.hasZ=!0):(aa.z=void 0,aa.hasZ=!1);void 0===sa.m?(aa.m=void 0,aa.hasM=!1):(aa.m=sa.m,aa.hasM=!0);return aa}function K(sa,X,aa,ha,I){const {points:T,hasZ:da,hasM:la}=sa;sa=[];const ua=T.length,Y=[];for(var ea of T)Y.push(ea[0],ea[1],da?ea[2]:I);if(!x.projectBuffer(Y,X,0,Y,ha,
0,ua))return null;X=da||e.isSphericalPCPF(ha);for(I=0;I<ua;++I){ea=3*I;const ja=Y[ea],V=Y[ea+1];X&&la?sa.push([ja,V,Y[ea+2],T[I][3]]):X?sa.push([ja,V,Y[ea+2]]):la?sa.push([ja,V,T[I][2]]):sa.push([ja,V])}aa.points=sa;aa.spatialReference=ha;aa.hasZ=da;aa.hasM=la;return aa}function Q(sa,X,aa,ha,I){const {paths:T,hasZ:da,hasM:la}=sa;sa=[];if(!Z(T,da??!1,la??!1,X,sa,ha,I))return null;X=da||e.isSphericalPCPF(ha);aa.paths=sa;aa.spatialReference=ha;aa.hasZ=X;aa.hasM=la;return aa}function N(sa,X,aa,ha,I){const {rings:T,
hasZ:da,hasM:la}=sa;sa=[];if(!Z(T,da??!1,la??!1,X,sa,ha,I))return null;X=da||e.isSphericalPCPF(ha);aa.rings=sa;aa.spatialReference=ha;aa.hasZ=X;aa.hasM=la;return aa}function U(sa,X,aa,ha,I){const {xmin:T,ymin:da,xmax:la,ymax:ua,hasZ:Y,hasM:ea}=sa;if(!u.projectXYZToVector(T,da,Y?sa.zmin:I,X,Da,ha))return null;const ja=Y||e.isSphericalPCPF(ha);aa.xmin=Da[0];aa.ymin=Da[1];ja&&(aa.zmin=Da[2]);if(!u.projectXYZToVector(la,ua,Y?sa.zmax:I,X,Da,ha))return null;aa.xmax=Da[0];aa.ymax=Da[1];ja&&(aa.zmax=Da[2]);
ea&&(aa.mmin=sa.mmin,aa.mmax=sa.mmax);aa.spatialReference=ha;return aa}function Z(sa,X,aa,ha,I,T,da=0){const la=[];for(const ua of sa)for(const Y of ua)la.push(Y[0],Y[1],X?Y[2]:da);if(!x.projectBuffer(la,ha,0,la,T,0))return!1;ha=0;I.length=0;X=X||e.isSphericalPCPF(T);for(const ua of sa){sa=[];for(const Y of ua)X&&aa?sa.push([la[ha++],la[ha++],la[ha++],Y[3]]):X?sa.push([la[ha++],la[ha++],la[ha++]]):(aa?sa.push([la[ha++],la[ha++],Y[2]]):sa.push([la[ha++],la[ha++]]),ha++);I.push(sa)}return!0}let fa=
null,pa=null,xa=null,ra={};const qa=new n.SimpleObservable;class za extends c{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const Da=m.create();b.canProjectWithoutEngine=F;b.getTransformation=G;b.getTransformations=function(sa,X,aa=null){if(null==fa||null==pa)throw new za;sa=fa._getTransformationBySuitability(pa,sa,X,aa,aa?.spatialReference);if(null!==sa){X=[];for(const ha of sa)X.push(w.fromGE(ha));return X}return[]};b.initializeProjection=
H;b.isEqualBaseGCS=function(sa,X){if(z.equals(sa,X))return!0;if(!z.isValid(sa)||!z.isValid(X))return!1;sa=z.isWGS84(sa)||z.isWebMercator(sa)||z.isCGCS2000(sa);X=z.isWGS84(X)||z.isWebMercator(X)||z.isCGCS2000(X);return sa&&X};b.isLoaded=v;b.isLoadedOrLoad=y;b.isLoadedOrLoadFor=function(sa,X){return sa&&X?F(sa,X)||y():!0};b.load=B;b.project=C;b.projectExtent=function(sa,X,aa=X.spatialReference,ha=0){return null!=sa.spatialReference&&null!=aa&&null!=U(sa,sa.spatialReference,X,aa,ha)};b.projectMany=L;
b.projectMultipoint=function(sa,X,aa=X.spatialReference,ha=0){return null!=sa.spatialReference&&null!=aa&&null!=K(sa,sa.spatialReference,X,aa,ha)};b.projectOrLoad=function(sa,X){sa=M([sa],X);return null!=sa.pending?{pending:sa.pending,geometry:null}:null!=sa.geometries?{pending:null,geometry:sa.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=M;b.projectPoint=function(sa,X,aa=X.spatialReference,ha=0){return null!=aa&&null!=sa.spatialReference&&null!=J(sa,sa.spatialReference,X,aa,ha)};
b.projectPolygon=function(sa,X,aa=X.spatialReference,ha=0){return null!=sa.spatialReference&&null!=aa&&null!=N(sa,sa.spatialReference,X,aa,ha)};b.projectPolyline=function(sa,X,aa=X.spatialReference,ha=0){return null!=sa.spatialReference&&null!=aa&&null!=Q(sa,sa.spatialReference,X,aa,ha)};b.projectWithZConversion=async function(sa,X,aa){const ha=sa.spatialReference;null!=ha&&null!=X&&await H(ha,X,null,aa);return E(sa,X)};b.projectWithoutEngine=R;b.requiresLoad=function(sa,X){return!F(sa,X)&&!v()};
b.test={get loadPromise(){return xa}};b.tryProjectWithZConversion=E;b.unload=function(){xa=pa=fa=null;ra={}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(a,b){a.projectBuffer=function(c,h,d,n,m,e,g=Math.floor(c.length/3)){h=b.getProjector(h,m,b.projectorCache);if(null==h)return!1;if(h===b.copy3){if(c===n&&d===e)return!0;g=d+3*g;for(let f=d,p=e;f<g;f++,p++)n[p]=c[f];return!0}g=d+3*g;for(let f=
d,p=e;f<g;f+=3,p+=3)h(c,f,n,p);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),function(a,b,c,h,d,n,m,e){function g(X,aa,ha=Q()){return null==X||null==aa?null:K(X,aa,ha).projector}function f(X,aa){if(!X)return a.ProjectionID.UNKNOWN;
if(aa.spatialReference===X)return aa.spatialReferenceId;aa.spatialReference=X;"metersPerUnit"in aa&&(aa.metersPerUnit=c.getMetersPerUnitForSR(X,1));return h.isSphericalECEF(X)?aa.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:m.isWGS84(X)?aa.spatialReferenceId=a.ProjectionID.WGS84:m.isWebMercator(X)?aa.spatialReferenceId=a.ProjectionID.WEB_MERCATOR:m.isPlateCarree(X)?aa.spatialReferenceId=a.ProjectionID.PLATE_CARREE:X.wkt===h.WGS84ECEFSpatialReferenceLike.wkt?aa.spatialReferenceId=a.ProjectionID.WGS84_ECEF:
X.wkid===e.SupportedGCSWkids.CGCS2000?aa.spatialReferenceId=a.ProjectionID.CGCS2000:X.wkt===h.SphericalPCPFMarsLike.wkt?aa.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:X.wkt===h.SphericalPCPFMoonLike.wkt?aa.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:m.isMars(X)?aa.spatialReferenceId=a.ProjectionID.GCSMARS2000:m.isMoon(X)?aa.spatialReferenceId=a.ProjectionID.GCSMOON2000:aa.spatialReferenceId=a.ProjectionID.UNKNOWN}function p(X,aa,ha,I){X!==ha&&(ha[I++]=X[aa++],ha[I++]=X[aa++],ha[I]=
X[aa])}function r(X,aa,ha,I){ha[I]=X[aa]/za*xa;ha[I+1]=xa*(qa-2*Math.atan(Math.exp(-X[aa+1]/za)));ha[I+2]=X[aa+2]}function t(X,aa,ha,I){const T=X[aa]/za,da=qa-2*Math.atan(Math.exp(-X[aa+1]/za));X=za+X[aa+2];aa=Math.cos(da)*X;ha[I]=Math.cos(T)*aa;ha[I+1]=Math.sin(T)*aa;ha[I+2]=Math.sin(da)*X}function l(X,aa,ha,I){r(X,aa,ha,I);F(ha,I,ha,I)}function q(X,aa,ha,I,T){var da=.4999999*ra;da=b.clamp(pa*X[aa+1],-da,da);da=Math.sin(da);ha[I++]=pa*X[aa]*T.radius;ha[I++]=T.halfSemiMajorAxis*Math.log((1+da)/(1-
da));ha[I]=X[aa+2]}function x(X,aa,ha,I){q(X,aa,ha,I,d.earth)}function A(X,aa,ha,I){ha[I]=X[aa]*Da;ha[I+1]=X[aa+1]*Da;ha[I+2]=X[aa+2]}function u(X,aa,ha,I){ha[I]=X[aa]*sa;ha[I+1]=X[aa+1]*sa;ha[I+2]=X[aa+2]}function w(X,aa,ha,I){r(X,aa,ha,I);A(ha,I,ha,I)}function z(X,aa,ha,I,T){T+=X[aa+2];const da=pa*X[aa+1];X=pa*X[aa];aa=Math.cos(da)*T;ha[I]=Math.cos(X)*aa;ha[I+1]=Math.sin(X)*aa;ha[I+2]=Math.sin(da)*T}function k(X,aa,ha,I){z(X,aa,ha,I,d.moon.radius)}function v(X,aa,ha,I){z(X,aa,ha,I,d.mars.radius)}
function y(X,aa,ha,I){z(X,aa,ha,I,d.earth.radius)}function B(X,aa,ha,I,T){var da=X[aa];const la=X[aa+1];aa=X[aa+2];X=Math.sqrt(da*da+la*la+aa*aa);aa=b.asinClamped(aa/(0===X?1:X));da=Math.atan2(la,da);ha[I++]=xa*da;ha[I++]=xa*aa;ha[I]=X-T}function C(X,aa,ha,I){B(X,aa,ha,I,d.moon.radius)}function L(X,aa,ha,I){B(X,aa,ha,I,d.mars.radius)}function M(X,aa,ha,I){B(X,aa,ha,I,d.earth.radius)}function G(X,aa,ha,I){M(X,aa,ha,I);x(ha,I,ha,I)}function E(X,aa,ha,I){M(X,aa,ha,I);F(ha,I,ha,I)}function F(X,aa,ha,
I){var T=d.earth;const da=pa*X[aa];var la=pa*X[aa+1];X=X[aa+2];aa=Math.sin(la);la=Math.cos(la);const ua=T.radius/Math.sqrt(1-T.eccentricitySquared*aa*aa);ha[I++]=(ua+X)*la*Math.cos(da);ha[I++]=(ua+X)*la*Math.sin(da);ha[I++]=(ua*(1-T.eccentricitySquared)+X)*aa}function H(X,aa,ha,I){var T=n.earthEllipsoidConstants,da=X[aa],la=X[aa+1];X=X[aa+2];let ua;aa=Math.abs(X);var Y=da*da+la*la;var ea=Math.sqrt(Y);var ja=Y+X*X;var V=Math.sqrt(ja);da=Math.atan2(la,da);var O=X*X/ja;ja=Y/ja;la=T.a2/V;Y=T.a3-T.a4/
V;.3<ja?(O=aa/V*(1+ja*(T.a1+la+O*Y)/V),V=Math.asin(O),la=O*O,ja=Math.sqrt(1-la)):(ja=ea/V*(1-O*(T.a5-la-ja*Y)/V),V=Math.acos(ja),la=1-ja*ja,O=Math.sqrt(la));ua=1-d.earth.eccentricitySquared*la;la=d.earth.radius/Math.sqrt(ua);T=T.a6*la;la=ea-la*ja;Y=aa-T*O;aa=ja*la+O*Y;ea=ja*Y-O*la;T=ea/(T/ua+aa);V+=T;0>X&&(V=-V);ha[I++]=xa*da;ha[I++]=xa*V;ha[I]=aa+ea*T/2}function R(X,aa,ha,I){H(X,aa,ha,I);y(ha,I,ha,I)}function J(X,aa,ha,I){H(X,aa,ha,I);x(ha,I,ha,I)}function K(X,aa,ha){if(null==X||null==aa||ha.source.spatialReference===
X&&ha.dest.spatialReference===aa)return ha;const I=f(X,ha.source),T=f(aa,ha.dest);I===a.ProjectionID.UNKNOWN&&T===a.ProjectionID.UNKNOWN?m.equals(X,aa)?ha.projector=p:ha.projector=null:ha.projector=N[I][T];return ha}function Q(){return{source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},projector:p}}a.ProjectionID=void 0;(function(X){X[X.UNKNOWN=0]="UNKNOWN";X[X.SPHERICAL_ECEF=
1]="SPHERICAL_ECEF";X[X.WGS84=2]="WGS84";X[X.WEB_MERCATOR=3]="WEB_MERCATOR";X[X.WGS84_ECEF=4]="WGS84_ECEF";X[X.CGCS2000=5]="CGCS2000";X[X.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF";X[X.GCSMARS2000=7]="GCSMARS2000";X[X.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF";X[X.GCSMOON2000=9]="GCSMOON2000";X[X.LON_LAT=10]="LON_LAT";X[X.PLATE_CARREE=11]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID={}));const N={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:p,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:y,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:x,[a.ProjectionID.PLATE_CARREE]:A,[a.ProjectionID.WGS84]:p,[a.ProjectionID.WGS84_ECEF]:F},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:p,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:y,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:x,[a.ProjectionID.PLATE_CARREE]:A,[a.ProjectionID.WGS84]:p,[a.ProjectionID.WGS84_ECEF]:F},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:p,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:v,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,
[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:p,[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:k,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},
[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:r,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:r,[a.ProjectionID.SPHERICAL_ECEF]:t,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:p,[a.ProjectionID.PLATE_CARREE]:w,[a.ProjectionID.WGS84]:r,[a.ProjectionID.WGS84_ECEF]:l},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:H,[a.ProjectionID.GCSMARS2000]:null,
[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:H,[a.ProjectionID.SPHERICAL_ECEF]:R,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:J,[a.ProjectionID.PLATE_CARREE]:function(X,aa,ha,I){H(X,aa,ha,I);A(ha,I,ha,I)},[a.ProjectionID.WGS84]:H,[a.ProjectionID.WGS84_ECEF]:p},[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:M,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:M,[a.ProjectionID.SPHERICAL_ECEF]:p,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:G,[a.ProjectionID.PLATE_CARREE]:function(X,aa,ha,I){M(X,aa,ha,I);A(ha,I,ha,I)},[a.ProjectionID.WGS84]:M,[a.ProjectionID.WGS84_ECEF]:E},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:L,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:L,
[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:p,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:C,[a.ProjectionID.LON_LAT]:C,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:p,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:p,
[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:p,[a.ProjectionID.GCSMARS2000]:p,[a.ProjectionID.GCSMOON2000]:p,[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:y,[a.ProjectionID.SPHERICAL_MARS_PCPF]:v,[a.ProjectionID.SPHERICAL_MOON_PCPF]:k,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:x,[a.ProjectionID.PLATE_CARREE]:A,[a.ProjectionID.WGS84]:p,
[a.ProjectionID.WGS84_ECEF]:F},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:u,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:u,[a.ProjectionID.SPHERICAL_ECEF]:function(X,aa,ha,I){u(X,aa,ha,I);y(ha,I,ha,I)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(X,aa,ha,I){u(X,aa,ha,I);x(ha,I,ha,I)},[a.ProjectionID.PLATE_CARREE]:p,[a.ProjectionID.WGS84]:u,
[a.ProjectionID.WGS84_ECEF]:function(X,aa,ha,I){u(X,aa,ha,I);F(ha,I,ha,I)}}},U={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},Z={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},fa=Q(),pa=b.deg2rad(1),xa=b.rad2deg(1),ra=Math.PI,qa=.5*ra,za=d.earth.radius,Da=za*ra/180,sa=180/(za*ra);a.classifySpatialReference=f;a.copy3=p;a.createEmptyProjectorCache=Q;a.destClassificationCache=Z;a.getProjector=g;a.getProjectorName=function(X,aa){switch(g(X,aa,fa)){case p:return"copy3";
case y:return"wgs84ToSphericalECEF";case x:return"wgs84ToWebMercator";case A:return"wgs84ToPlateCarree";case F:return"wgs84ToWGS84ECEF";case r:return"webMercatorToWGS84";case t:return"webMercatorToSphericalECEF";case l:return"webMercatorToWGS84ECEF";case w:return"webMercatorToPlateCarree";case H:return"wgs84ECEFToWGS84";case R:return"wgs84ECEFToSphericalECEF";case J:return"wgs84ECEFToWebMercator";case M:return"sphericalECEFToWGS84";case G:return"sphericalECEFToWebMercator";case L:return"sphericalMarsPCPFToMars2000";
case C:return"sphericalMoonPCPFToMoon2000";case E:return"sphericalECEFToWGS84ECEF";case v:return"mars2000ToSphericalPCPF";case k:return"moon2000ToSphericalPCPF";default:return null}};a.invPlateCarreeScale=sa;a.lonLatToWebMercatorComparable=q;a.populateProjectorCache=K;a.projectionTable=N;a.projectorCache=fa;a.sourceClassificationCache=U;a.sphericalPCPFtoLonLatElevation=B;a.wgs84ToWebMercator=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports",
"./Ellipsoid"],function(a,b){const c=Math.PI/180,h=b.earth.radius,d=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,
f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,
f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},
104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:h*d,a2:h*
d*h*d,a3:h*d*d/2,a4:h*d*h*d*2.5,a5:h*d+h*d*d/2,a6:1-d};a.spheroids=b;a.toRadians=c;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","./projectBuffer"],function(a,b,c){const h=b.create();a.projectXYZToVector=function(d,n,m,e,g,f){h[0]=d;h[1]=n;h[2]=m;return c.projectBuffer(h,e,0,g,f,0)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(c,h){return[c.wkid?.toString()??"-1",c.wkt?.toString()??"",c.wkt2?.toString()??"",h.wkid?.toString()??"-1",h.wkt?.toString()??"",h.wkt2?.toString()??""].join()}static fromGE(c){const h=new b;let d="";for(const n of c.steps)c=a.fromGE(n),h.steps.push(c),d+=c.uid.toString()+",";h._cachedProjection={};h._gtlistentry=null;h._chain=
d;return h}constructor(c){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(c?.steps)for(const h of c.steps)h instanceof a?this.steps.push(h):this.steps.push(new a({wkid:h.wkid,wkt:h.wkt,isInverse:h.isInverse}))}getInverse(){const c=new b;c.steps=[];for(let h=this.steps.length-1;0<=h;h--)c.steps.push(this.steps[h].getInverse());return c}getGTListEntry(){let c="";for(const h of this.steps)c+=h.uid.toString()+",";c!==this._chain&&(this._gtlistentry=null,this._cachedProjection=
{},this._chain=c);return this._gtlistentry}assignCachedGe(c,h,d){this._cachedProjection[b.cacheKey(c,h)]=d}getCachedGeTransformation(c,h){let d="";for(const n of this.steps)d+=n.uid.toString()+",";d!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=d);c=this._cachedProjection[b.cacheKey(c,h)];return void 0===c?null:c}}return b})},"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=0;class b{static fromGE(c){const h=new b;h._wkt=c.wkt;
h._wkid=c.wkid;h._isInverse=c.isInverse;return h}constructor(c){this.uid=a++;c?(this._wkt=null!=c.wkt?c.wkt:null,this._wkid=null!=c.wkid?c.wkid:-1,this._isInverse=null!=c.isInverse?!0===c.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(c){this._wkt=c;this.uid=a++}get wkid(){return this._wkid}set wkid(c){this._wkid=c;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(c){this._isInverse=c;this.uid=a++}getInverse(){const c=new b;c._wkt=
this.wkt;c._wkid=this._wkid;c._isInverse=!this.isInverse;return c}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,c,h){a.getGeometryZScaler=function(d,n,m){if(null==n||null==m||m.vcsWkid||h.equals(n,m)||c.isSphericalPCPF(n)||c.isSphericalPCPF(m))return null;n=b.getMetersPerVerticalUnitForSR(n);m=b.getMetersPerVerticalUnitForSR(m);const e=n/m;if(1===e)return null;switch(d){case "point":case "esriGeometryPoint":return g=>
{null!=g?.z&&(g.z*=e)};case "polyline":case "esriGeometryPolyline":return g=>{if(g)for(const f of g.paths)for(const p of f)2<p.length&&(p[2]*=e)};case "polygon":case "esriGeometryPolygon":return g=>{if(g)for(const f of g.rings)for(const p of f)2<p.length&&(p[2]*=e)};case "multipoint":case "esriGeometryMultipoint":return g=>{if(g)for(const f of g.points)2<f.length&&(f[2]*=e)};case "extent":case "esriGeometryEnvelope":return g=>{g&&null!=g.zmin&&null!=g.zmax&&(g.zmin*=e,g.zmax*=e)};default:return null}};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){a.ScaleRangeLayer=e=>{e=class extends e{constructor(){super(...arguments);this.maxScale=this.minScale=0}get effectiveScaleRange(){const g={minScale:this.minScale,maxScale:this.maxScale};
var f=this.parent;f&&"effectiveScaleRange"in f&&(f=f.effectiveScaleRange,g.minScale=0<g.minScale?0<f.minScale?Math.min(g.minScale,f.minScale):g.minScale:f.minScale,g.maxScale=0<g.maxScale?0<f.maxScale?Math.max(g.maxScale,f.maxScale):g.maxScale:f.maxScale);return(f=this._get("effectiveScaleRange"))&&f.minScale===g.minScale&&f.maxScale===g.maxScale?f:g}};b.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0);b.__decorate([c.property({type:Number,nonNullable:!0,
json:{write:!0}})],e.prototype,"maxScale",void 0);b.__decorate([c.property({readOnly:!0})],e.prototype,"effectiveScaleRange",null);return e=b.__decorate([m.subclass("esri.layers.mixins.ScaleRangeLayer")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ./refresh".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){a.RefreshableLayer=r=>{r=class extends r{constructor(...t){super(...t);this.refreshTimestamp=this.refreshInterval=0;this._debounceHasDataChanged=d.debounce(()=>this.hasDataChanged());this.when().then(()=>{this.destroyed||p.registerLayer(this)},()=>{})}destroy(){p.unregisterLayer(this)}castRefreshInterval(t){return.1<=t?t:0>=t?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(t=Date.now()){d.ignoreAbortErrors(this._debounceHasDataChanged()).then(l=>
{l&&this._set("refreshTimestamp",t);this.emit("refresh",{dataChanged:l})},l=>{h.getLogger(this).error(l);this.emit("refresh",{dataChanged:!1,error:l})})}async hasDataChanged(){return!0}get test(){}};b.__decorate([n.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:f.excludeTables}}}}})],r.prototype,"refreshInterval",void 0);b.__decorate([m.cast("refreshInterval")],r.prototype,"castRefreshInterval",null);b.__decorate([n.property({readOnly:!0})],r.prototype,
"refreshTimestamp",void 0);b.__decorate([n.property({readOnly:!0})],r.prototype,"refreshParameters",null);return r=b.__decorate([g.subclass("esri.layers.mixins.RefreshableLayer")],r)};a.isRefreshableLayer=function(r){return null!=r&&"object"===typeof r&&"refreshTimestamp"in r&&"refresh"in r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define(["exports","../../core/Collection","../../core/reactiveUtils","../../core/accessorSupport/trackingUtils"],
function(a,b,c,h){function d(r){return null!=r&&"object"===typeof r&&"refreshInterval"in r&&"refresh"in r}function n(r,t){return Number.isFinite(r)&&Number.isFinite(t)?0>=t?r:n(t,r%t):0}function m(){var r=Date.now();let t=!1;for(const l of e){const q=l.deref();if(!q)t=!0;else if(q.refreshInterval){const x=g.get(q)??0;r-x+5>=6E4*q.refreshInterval&&(g.set(q,r),q.refresh(r))}}if(t)for(r=e.length-1;0<=r;r--)e.at(r).deref()||e.removeAt(r)}const e=new b,g=new WeakMap;let f=0,p=0;h.autorun(()=>{const r=
Date.now();let t=0;for(const l of e){const q=l.deref();q&&(t=n(Math.round(6E4*q.refreshInterval),t),q.refreshInterval?g.get(q)||g.set(q,r):g.delete(q))}t!==p&&(p=t,clearInterval(f),f=0===p?0:setInterval(m,p))},c.sync);a.registerLayer=function(r){d(r)&&e.push(new WeakRef(r))};a.test={get hasRefreshTimer(){return 0<f},get tickInterval(){return p},forceRefresh(){m()},hasLayer(r){return d(r)&&e.some(t=>t.deref()===r)},clear(){for(const r of e){const t=r.deref();t&&g.delete(t)}e.removeAll()}};a.unregisterLayer=
function(r){const t=e.find(l=>l.deref()===r);t&&e.remove(t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ./LayerLoadContext ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),function(a,b,c,h,d,n,m,e,g){async function f(F,H,R){if(H){H=H.map(J=>p(J,R));H=await Promise.allSettled(H);
for(const J of H)"rejected"!==J.status&&J.value&&F.add(J.value)}}async function p(F,H){const R=await t(F,H);return r(R,F,H)}async function r(F,H,R){F=new F;F.read(H,R.context);"group"===F.type&&("GroupLayer"===H.layerType?await x(F,H,R):q(H)?A(F,H,R.context):l(H)&&await u(F,H,R.context));await g.loadStyleRenderer(F,R.context);return F}async function t(F,H){var R=H.context;let J;switch(R.origin){case "web-scene":switch(R.layerContainerType){case "basemap":J=y;break;case "ground":J=k;break;case "tables":J=
v;break;default:J=z}break;case "link-chart":switch(R.layerContainerType){case "basemap":J=E;break;case "tables":J=G;break;default:J=M}break;default:switch(R.layerContainerType){case "basemap":J=L;break;case "tables":J=C;break;default:J=B}}let K=F.layerType||F.type;!K&&H?.defaultLayerType&&(K=H.defaultLayerType);H=(H=J[K])?d.layerLookupMap[H]:d.layerLookupMap.UnknownLayer;q(F)?(R=R?.portal,F.itemId&&(F=new n({id:F.itemId,portal:R}),await F.load(),F=(await e.selectLayerClassPath(F,new h.LayerLoadContext)).className||
"UnknownLayer",H=d.layerLookupMap[F])):"ArcGISFeatureLayer"===K?m.isMapNotesLayer(F)||m.isMarkupLayer(F)?H=d.layerLookupMap.MapNotesLayer:m.isRouteLayer(F)?H=d.layerLookupMap.RouteLayer:l(F)&&(H=d.layerLookupMap.GroupLayer):F.wmtsInfo?.url&&F.wmtsInfo.layerIdentifier?H=d.layerLookupMap.WMTSLayer:"WFS"===K&&"2.0.0"!==F.wfsInfo?.version&&(H=d.layerLookupMap.UnsupportedLayer);return H()}function l(F){return"ArcGISFeatureLayer"!==F.layerType||q(F)?!1:1<(F.featureCollection?.layers?.length??0)}function q(F){return"Feature Collection"===
F.type}async function x(F,H,R){const J=new b;H=f(J,Array.isArray(H.layers)?H.layers:[],R);try{try{if(await H,"group"===F.type)return F.layers.addMany(J),F}catch(K){F.destroy();for(const Q of J)Q.destroy();throw K;}}catch(K){throw K;}}function A(F,H,R){H.itemId&&(F.portalItem=new n({id:H.itemId,portal:R?.portal}),F.when(()=>{const J=K=>{var Q=K.layerId;w(K,F,H,Q,R);(Q=H.featureCollection?.layers?.[Q])&&K.read(Q,R)};F.layers?.forEach(J);F.tables?.forEach(J)}))}async function u(F,H,R){const J=await (0,d.layerLookupMap.FeatureLayer)();
var K=H.featureCollection;const Q=K?.showLegend;K=K?.layers?.map((N,U)=>{const Z=new J;Z.read(N,R);N={...R,ignoreDefaults:!0};w(Z,F,H,U,N);null!=Q&&Z.read({showLegend:Q},N);return Z});F.layers.addMany(K??[])}function w(F,H,R,J,K){F.read({id:`${H.id}-sublayer-${J}`,visibility:R.visibleLayers?.includes(J)??!0},K)}const z={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISSceneServiceLayer:"SceneLayer",
ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BuildingSceneLayer:"BuildingSceneLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",IntegratedMeshLayer:"IntegratedMeshLayer",KML:"KMLLayer",LineOfSightLayer:"LineOfSightLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",
OrientedImageryLayer:"OrientedImageryLayer",PointCloudLayer:"PointCloudLayer",RasterDataLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",ViewshedLayer:"ViewshedLayer",Voxel:"VoxelLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},k={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},v={ArcGISFeatureLayer:"FeatureLayer"},y={ArcGISImageServiceLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",
ArcGISSceneServiceLayer:"SceneLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WMS:"UnsupportedLayer",WebTiledLayer:"WebTileLayer"},B={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",
ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoJSON:"GeoJSONLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"KnowledgeGraphLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",
SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},C={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"UnsupportedLayer"},L={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",
DefaultTileLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},M={...B,LinkChartLayer:"LinkChartLayer"},G={...C},E={...L};a.populateGroupLayer=x;a.populateOperationalLayers=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/LayerLoadContext":function(){define(["exports","../../support/requestPresets"],function(a,b){class c{constructor(){this._serviceMetadatas=new Map;this._itemDatas=
new Map}async fetchServiceMetadata(h,d){const n=this._serviceMetadatas.get(h);if(n)return n;d=await b.fetchArcGISServiceJSON(h,d);this._serviceMetadatas.set(h,d);return d}async fetchItemData(h){const {id:d}=h;if(!d)return null;const {_itemDatas:n}=this;if(n.has(d))return n.get(d);h=await h.fetchData();n.set(d,h);return h}async fetchCustomParameters(h,d){return(h=await this.fetchItemData(h))&&"object"===typeof h&&(d?d(h):h.customParameters)||null}}a.LayerLoadContext=c;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../request"],function(a,b){a.fetchArcGISServiceJSON=async function(c,h){({data:c}=await b(c,{responseType:"json",query:{f:"json",...h?.customParameters,token:h?.apiKey}}));return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const c=h=>Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,
{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((h,d)=>a(["../BingMapsLayer"],n=>h(c(n)),d))).default,BuildingSceneLayer:async()=>(await new Promise((h,d)=>a(["../BuildingSceneLayer"],n=>h(c(n)),d))).default,CSVLayer:async()=>(await new Promise((h,d)=>a(["../CSVLayer"],n=>h(c(n)),d))).default,CatalogLayer:async()=>(await new Promise((h,d)=>a(["../CatalogLayer"],n=>h(c(n)),d))).default,DimensionLayer:async()=>(await new Promise((h,d)=>a(["../DimensionLayer"],n=>h(c(n)),
d))).default,ElevationLayer:async()=>(await new Promise((h,d)=>a(["../ElevationLayer"],n=>h(c(n)),d))).default,FeatureLayer:async()=>(await new Promise((h,d)=>a(["../FeatureLayer"],n=>h(c(n)),d))).default,GeoJSONLayer:async()=>(await new Promise((h,d)=>a(["../GeoJSONLayer"],n=>h(c(n)),d))).default,GeoRSSLayer:async()=>(await new Promise((h,d)=>a(["../GeoRSSLayer"],n=>h(c(n)),d))).default,GroupLayer:async()=>(await new Promise((h,d)=>a(["../GroupLayer"],n=>h(c(n)),d))).default,ImageryLayer:async()=>
(await new Promise((h,d)=>a(["../ImageryLayer"],n=>h(c(n)),d))).default,ImageryTileLayer:async()=>(await new Promise((h,d)=>a(["../ImageryTileLayer"],n=>h(c(n)),d))).default,IntegratedMesh3DTilesLayer:async()=>(await new Promise((h,d)=>a(["../IntegratedMesh3DTilesLayer"],n=>h(c(n)),d))).default,IntegratedMeshLayer:async()=>(await new Promise((h,d)=>a(["../IntegratedMeshLayer"],n=>h(c(n)),d))).default,KMLLayer:async()=>(await new Promise((h,d)=>a(["../KMLLayer"],n=>h(c(n)),d))).default,KnowledgeGraphLayer:async()=>
(await new Promise((h,d)=>a(["../KnowledgeGraphLayer"],n=>h(c(n)),d))).default,LineOfSightLayer:async()=>(await new Promise((h,d)=>a(["../LineOfSightLayer"],n=>h(c(n)),d))).default,LinkChartLayer:async()=>(await new Promise((h,d)=>a(["../LinkChartLayer"],n=>h(c(n)),d))).default,MapImageLayer:async()=>(await new Promise((h,d)=>a(["../MapImageLayer"],n=>h(c(n)),d))).default,MapNotesLayer:async()=>(await new Promise((h,d)=>a(["../MapNotesLayer"],n=>h(c(n)),d))).default,MediaLayer:async()=>(await new Promise((h,
d)=>a(["../MediaLayer"],n=>h(c(n)),d))).default,OGCFeatureLayer:async()=>(await new Promise((h,d)=>a(["../OGCFeatureLayer"],n=>h(c(n)),d))).default,OpenStreetMapLayer:async()=>(await new Promise((h,d)=>a(["../OpenStreetMapLayer"],n=>h(c(n)),d))).default,OrientedImageryLayer:async()=>(await new Promise((h,d)=>a(["../OrientedImageryLayer"],n=>h(c(n)),d))).default,PointCloudLayer:async()=>(await new Promise((h,d)=>a(["../PointCloudLayer"],n=>h(c(n)),d))).default,RouteLayer:async()=>(await new Promise((h,
d)=>a(["../RouteLayer"],n=>h(c(n)),d))).default,SceneLayer:async()=>(await new Promise((h,d)=>a(["../SceneLayer"],n=>h(c(n)),d))).default,StreamLayer:async()=>(await new Promise((h,d)=>a(["../StreamLayer"],n=>h(c(n)),d))).default,SubtypeGroupLayer:async()=>(await new Promise((h,d)=>a(["../SubtypeGroupLayer"],n=>h(c(n)),d))).default,TileLayer:async()=>(await new Promise((h,d)=>a(["../TileLayer"],n=>h(c(n)),d))).default,UnknownLayer:async()=>(await new Promise((h,d)=>a(["../UnknownLayer"],n=>h(c(n)),
d))).default,UnsupportedLayer:async()=>(await new Promise((h,d)=>a(["../UnsupportedLayer"],n=>h(c(n)),d))).default,VectorTileLayer:async()=>(await new Promise((h,d)=>a(["../VectorTileLayer"],n=>h(c(n)),d))).default,VideoLayer:async()=>(await new Promise((h,d)=>a(["../VideoLayer"],n=>h(c(n)),d))).default,ViewshedLayer:async()=>(await new Promise((h,d)=>a(["../ViewshedLayer"],n=>h(c(n)),d))).default,VoxelLayer:async()=>(await new Promise((h,d)=>a(["../VoxelLayer"],n=>h(c(n)),d))).default,WFSLayer:async()=>
(await new Promise((h,d)=>a(["../WFSLayer"],n=>h(c(n)),d))).default,WMSLayer:async()=>(await new Promise((h,d)=>a(["../WMSLayer"],n=>h(c(n)),d))).default,WMTSLayer:async()=>(await new Promise((h,d)=>a(["../WMTSLayer"],n=>h(c(n)),d))).default,WebTileLayer:async()=>(await new Promise((h,d)=>a(["../WebTileLayer"],n=>h(c(n)),d))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],function(a){function b(c,
h){return c.layerType&&"ArcGISFeatureLayer"===c.layerType?c.featureCollectionType===h?!0:!1:!1}a.isMapNotesLayer=function(c){return b(c,"notes")};a.isMarkupLayer=function(c){return b(c,"markup")};a.isRouteLayer=function(c){return b(c,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/associatedFeatureServiceUtils ../../layers/support/fetchService ../../layers/support/LayerLoadContext ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./loadUtils ./portalItemUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){async function p(v){await v.load();const y=new d.LayerLoadContext;v=await r(v,y);return t(v)}async function r(v,y){switch(v.type){case "3DTiles Service":return{className:"IntegratedMesh3DTilesLayer"};case "CSV":return{className:"CSVLayer"};case "Feature Collection":return A(v);case "Feature Service":return q(v,y);case "Feed":return{className:"StreamLayer"};case "GeoJson":return{className:"GeoJSONLayer"};case "Group Layer":return{className:"GroupLayer"};case "Image Service":return u(v,
y);case "KML":return{className:"KMLLayer"};case "Knowledge Graph Layer":return{className:"KnowledgeGraphLayer"};case "Map Service":return l(v,y);case "Media Layer":return{className:"MediaLayer"};case "Scene Service":return x(v,y);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "WFS":return{className:"WFSLayer"};case "WMS":return{className:"WMSLayer"};case "WMTS":return{className:"WMTSLayer"};default:throw new b("portal:unknown-item-type",
"Unknown item type '${type}'",{type:v.type});}}async function t(v){return{constructor:await (0,m.layerLookupMap[v.className])(),properties:v.properties}}async function l(v,y){return await w(v,y)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function q(v,y){v=await z(v,y);if("object"===typeof v){const {sourceJSON:B,className:C}=v;y={sourceJSON:B};null!=v.id&&(y.layerId=v.id);return{className:C||"FeatureLayer",properties:y}}return{className:"GroupLayer"}}async function x(v,y){var B=await z(v,
y,async()=>{try{if(!v.url)return[];const {serverUrl:C}=await c.findAssociatedFeatureService(v.url,{sceneLayerItem:v});return(await y.fetchServiceMetadata(C))?.tables??[]}catch{return[]}});if("object"===typeof B){const C={};let L=void 0;null!=B.id?(C.layerId=B.id,L=`${v.url}/layers/${B.id}`):L=v.url;if(v.typeKeywords?.length)for(const M of Object.keys(n.sceneServiceLayerTypeToClassName))if(v.typeKeywords.includes(M))return{className:n.sceneServiceLayerTypeToClassName[M]};B=await y.fetchServiceMetadata(L,
{customParameters:await y.fetchCustomParameters(v,M=>g.getFirstLayerOrTable(M)?.customParameters)});return{className:n.sceneServiceLayerTypeToClassName[B?.layerType]||"SceneLayer",properties:C}}return!1===B&&"Voxel"===(await y.fetchServiceMetadata(v.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function A(v){await v.load();const y=f.hasTypeKeyword(v,"Map Notes"),B=f.hasTypeKeyword(v,"Markup");if(y||B)return{className:"MapNotesLayer"};if(f.hasTypeKeyword(v,"Route Layer"))return{className:"RouteLayer"};
v=await v.fetchData();return 1===g.getNumLayersAndTables(v)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function u(v,y){await v.load();var B=v.typeKeywords?.map(C=>C.toLowerCase())??[];if(B.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(B.includes("tiled imagery"))return{className:"ImageryTileLayer"};B=(await y.fetchItemData(v))?.layerType;if("ArcGISTiledImageServiceLayer"===B)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===B)return{className:"ImageryLayer"};
B=await y.fetchServiceMetadata(v.url,{customParameters:await y.fetchCustomParameters(v)});v=B.cacheType?.toLowerCase();y=B.capabilities?.toLowerCase().includes("tilesonly");B=B.tileInfo?.format?.toLowerCase()??"";B=null==v&&"jpg jpeg png png8 png24 png32 mixed".split(" ").includes(B);return"map"===v||B||y?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function w(v,y){({tileInfo:v}=await y.fetchServiceMetadata(v.url,{customParameters:await y.fetchCustomParameters(v)}));return v}async function z(v,
y,B){const {url:C,type:L}=v,M="Feature Service"===L;if(!C)return{};if(/\/\d+$/.test(C))return M?(B=await y.fetchServiceMetadata(C,{customParameters:await y.fetchCustomParameters(v,E=>g.getFirstLayerOrTable(E)?.customParameters)}),{id:B.id,className:h.getLayerModuleType(B.type),sourceJSON:B}):{};await v.load();let G=await y.fetchItemData(v);if(M)return v=await g.preprocessFSItemData(G,C,y),B=k(v),"object"===typeof B&&(v=g.getLayerOrTable(v,B.id),B.className=g.layerTypeToLayerModuleType(v?.layerType)),
B;"Scene Service"===L&&(G=await g.populateSceneServiceItemData(v,G,y));if(0<g.getNumLayersAndTables(G))return k(G);v=await y.fetchServiceMetadata(C);B&&(v.tables=await B());return k(v)}function k(v){return 1===g.getNumLayersAndTables(v)?{id:g.getFirstLayerOrTable(v)?.id}:!1}a.fromItem=async function(v){({portalItem:v}=v);!v||v instanceof e||(v=new e(v));const y=await p(v);return new y.constructor({portalItem:v,...y.properties})};a.selectLayerClassPath=r;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/associatedFeatureServiceUtils":function(){define("exports ../../kernel ../../request ../../core/Error ../../core/promiseUtils ./arcgisLayerUrl ../../portal/Portal ../../portal/PortalItem".split(" "),function(a,b,c,h,d,n,m,e){async function g(l){var q=(await f(l)).serviceItemId;if(!q)return null;q=new e({id:q,apiKey:l.apiKey});const x=await p(l);null!=x&&(q.portal=new m({url:x}));try{return await q.load({signal:l.signal})}catch(A){return d.throwIfAbortError(A),
null}}async function f(l){if(l.rootDocument)return l.rootDocument;const q={query:{f:"json",...l.customParameters,token:l.apiKey},responseType:"json",signal:l.signal};try{const x=await c(l.sceneServerUrl,q);l.rootDocument=x.data}catch{l.rootDocument={}}return l.rootDocument}async function p(l){var q=b.id?.findServerInfo(l.sceneServerUrl);if(q?.owningSystemUrl)return q.owningSystemUrl;q=l.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const x=(await c(q,{query:{f:"json"},responseType:"json",
signal:l.signal})).data.owningSystemUrl;if(x)return x}catch(x){d.throwIfAbortError(x)}return null}async function r(l,q){l=n.parse(l);if(!l)throw new h("invalid-feature-service-url","Invalid feature service url");const x=l.url.path;l=q.layerId;if(null==l)return{serverUrl:x};var A=f(q),u=q.featureServiceItem?await q.featureServiceItem.fetchData("json"):null;const w=(u?.layers?.[0]||u?.tables?.[0])?.customParameters,z=y=>c(x,{query:{f:"json",...w},responseType:"json",authMode:y,signal:q.signal});u=z("anonymous").catch(()=>
z("no-prompt"));const [k,v]=await Promise.all([u,A]);A=v?.layers;u=k.data&&k.data.layers;if(!Array.isArray(u))throw Error("expected layers array");if(!Array.isArray(A)){if(null!=l&&l<u.length)return{serverUrl:x,layerId:u[l].id}}else for(let y=0;y<Math.min(A.length,u.length);y++)if(A[y].id===l)return{serverUrl:x,layerId:u[y].id};throw Error("could not find matching associated sublayer");}async function t({sceneLayerItem:l,signal:q}){if(!l)return null;try{const x=(await l.fetchRelatedItems({relationshipType:"Service2Service",
direction:"reverse"},{signal:q})).find(u=>"Feature Service"===u.type)||null;if(!x)return null;const A=new e({portal:x.portal,id:x.id});await A.load();return A}catch(x){return d.throwIfAbortError(x),null}}a.findAssociatedFeatureService=async function(l,q){l=n.parse(l);if(!l)throw new h("invalid-url","Invalid scene service url");l={...q,sceneServerUrl:l.url.path,layerId:l.sublayer??void 0};l.sceneLayerItem??(l.sceneLayerItem=await g(l));if(null==l.sceneLayerItem)return r(l.sceneServerUrl.replace("/SceneServer",
"/FeatureServer"),l);q=await t(l);if(!q?.url)throw new h("related-service-not-found","Could not find feature service through portal item relationship");l.featureServiceItem=q;l=await r(q.url,l);l.portalItem=q;return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function h(r){if(null==r)return null;r=b.urlToObject(r);r=r?.path.match(g)||r?.path.match(f);
if(!r)return null;const [,t,l,q,x]=r;r=l.indexOf("/");return{title:n(-1!==r?l.slice(r+1):l),serverType:m[q.toLowerCase()],sublayer:null!=x&&""!==x?parseInt(x,10):null,url:{path:t}}}function d(r){return(r=b.urlToObject(r).path.match(p))?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function n(r){r=r.replaceAll(/\s*[/_]+\s*/g," ");return r[0].toUpperCase()+r.slice(1)}const m={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",
streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},e=Object.values(m),g=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),f=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),p=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=n;a.isArcGISUrl=function(r){return g.test(r)};a.isHostedAgolService=function(r){r=b.getOrigin(r,
!0);if(!r)return!1;r=r.toLowerCase();return r.endsWith(".arcgis.com")&&(r.startsWith("services")||r.startsWith("tiles")||r.startsWith("features"))};a.isServerOrServicesAGOLUrl=function(r){if(!r)return!1;r=(new b.Url(b.makeAbsolute(r))).authority?.toLowerCase();return"server.arcgisonline.com"===r||"services.arcgisonline.com"===r};a.isWmsServer=function(r){if(!r)return!1;var t=r.toLowerCase();r=t.includes("/services/");const l=t.includes("/mapserver/wmsserver"),q=t.includes("/imageserver/wmsserver");
t=t.includes("/wmsserver");return r&&(l||q||t)};a.parse=h;a.parseNonStandardSublayerUrl=d;a.sanitizeUrl=function(r,t){return r?b.removeTrailingSlash(b.removeQueryParameters(r,t)):r};a.sanitizeUrlWithLayerId=function(r){let {url:t}=r;if(!t)return{url:t};t=b.removeQueryParameters(t,r.logger);const l=b.urlToObject(t),q=h(l.path);let x=void 0;null!=q?(null!=q.sublayer&&null==r.layer.layerId&&(x=q.sublayer),t=q.url.path):r.nonStandardUrlAllowed&&(r=d(l.path),null!=r&&(t=r.serviceUrl,x=r.sublayerId));return{url:b.removeTrailingSlash(t),
layerId:x}};a.serverTypes=e;a.titleFromUrlAndName=function(r,t){const l=[];r&&(r=h(r),null!=r&&r.title&&l.push(r.title));t&&(t=n(t),l.push(t));if(2===l.length){if(l[0].toLowerCase().includes(l[1].toLowerCase()))return l[0];if(l[1].toLowerCase().includes(l[0].toLowerCase()))return l[1]}return l.join(" - ")};a.writeUrlWithLayerId=function(r,t,l,q,x){c.write(t,q,"url",x);q.url&&null!=r.layerId&&(q.url=b.join(q.url,l,r.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/fetchService":function(){define(["exports","../../support/requestPresets"],function(a,b){function c(g){({type:g}=g);return g?e.has(g):!1}function h(g){return"Table"===g.type}function d(g){g.layers=g.layers?.filter(c);g.tables=g.tables?.filter(h)}function n(g){g.type||(g.type="Feature Layer")}function m(g){g.type||(g.type="Table")}const e=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);a.fetchFeatureService=async function(g,f){const {loadContext:p,...r}=f||
{},t=p?await p.fetchServiceMetadata(g,r):await b.fetchArcGISServiceJSON(g,r);t.layers?.forEach(n);t.tables?.forEach(m);d(t);f={serviceJSON:t};if(10.5>(t.currentVersion??0))return f;g=`${g}/layers`;g=p?await p.fetchServiceMetadata(g,r):await b.fetchArcGISServiceJSON(g,r);g.layers?.forEach(n);g.tables?.forEach(m);d(g);f.layersJSON={layers:g.layers,tables:g.tables};return f};a.getLayerModuleType=function(g){switch(g){case "Oriented Imagery Layer":return"OrientedImageryLayer";case "Catalog Layer":return"CatalogLayer"}return"FeatureLayer"};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/loadUtils":function(){define(["exports","../../layers/support/associatedFeatureServiceUtils","../../layers/support/fetchService"],function(a,b,c){function h(n){const m={id:n.id,name:n.name};n=c.getLayerModuleType(n.type);"FeatureLayer"!==n&&(m.layerType=n);return m}function d(n){if(!n)return null;const {layers:m,tables:e}=n;return m?.length?m[0]:e?.length?e[0]:null}a.createSublayerData=h;a.getFirstLayerOrTable=d;
a.getLayerOrTable=function(n,m){return null==m?null:[...(n.layers||[]),...(n.tables||[])].find(e=>e.id===m)};a.getNumLayersAndTables=function(n){return(n?.layers?.length??0)+(n?.tables?.length??0)};a.getSublayersByLayerType=function(n,m){return[...(n.layers||[]),...(n.tables||[])].filter(({layerType:e})=>e?e===m:"ArcGISFeatureLayer"===m)};a.instanceTypeToLayerType=function(n){switch(n){case "catalog":return"CatalogLayer";case "feature":return"ArcGISFeatureLayer";case "oriented-imagery":return"OrientedImageryLayer";
case "subtype-group":return"SubtypeGroupLayer"}return null};a.layerTypeToLayerModuleType=function(n){switch(n){case "CatalogLayer":return"CatalogLayer";case "OrientedImageryLayer":return"OrientedImageryLayer";case "SubtypeGroupLayer":return"SubtypeGroupLayer"}return"FeatureLayer"};a.populateSceneServiceItemData=async function(n,m,e){if(!n?.url)return m??{};m??={};if(!m.layers){const p=await e.fetchServiceMetadata(n.url);m.layers=p.layers?.map(h)}const {serverUrl:g,portalItem:f}=await b.findAssociatedFeatureService(n.url,
{sceneLayerItem:n,customParameters:d(m)?.customParameters}).catch(()=>({serverUrl:null,portalItem:null}));if(null==g)return m.tables=[],m;!m.tables&&f&&(n=await f.fetchData().catch(()=>null),n?.tables?m.tables=n.tables.map(h):(e=await e.fetchServiceMetadata(g,{customParameters:d(n)?.customParameters}).catch(()=>null),m.tables=e?.tables?.map(h)));if(m.tables)for(const p of m.tables)p.url=`${g}/${p.id}`;return m};a.preprocessFSItemData=async function(n,m,e){if(null==n?.layers||null==n?.tables)m=await e.fetchServiceMetadata(m,
{customParameters:d(n)?.customParameters}),n=n||{},n.layers=n.layers||m?.layers?.map(h),n.tables=n.tables||m?.tables?.map(h);return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,c,h){a.loadStyleRenderer=async function(d,n,m){var e=d&&d.getAtOrigin&&d.getAtOrigin("renderer",n.origin);e&&"unique-value"===e.type&&e.styleOrigin&&(e=
await b.result(e.populateFromStyle()),c.throwIfAborted(m),!1===e.ok&&(m=e.error,n?.messages&&n.messages.push(new h("renderer:style-reference",`Failed to create unique value renderer from style reference: ${m.message}`,{error:m,context:n})),d.clear("renderer",n?.origin)))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/lang ../core/Logger ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/layerContainerType ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../support/popupUtils ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff ../webdoc/interfaces ../webdoc/support/opacityUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G,E,F,H,R,J,K,Q,N,U,Z,fa,pa,xa,ra,qa,za,Da,sa,X,aa,ha,I,T,da,la,ua,Y,ea,ja,V,O,P,W,ca,oa,Aa,Ga,Fa,Pa,Na,Qa,Sa,Ya){function cb(ta,Ba){return new u("layer:unsupported",`Layer (${ta.title}, ${ta.id}) of type '${ta.declaredClass}' ${Ba}`,{layer:ta})}function ab(ta,Ba,Ra){ta=!!Ra?.writeLayerSchema;return{enabled:ta,ignoreOrigin:ta}}const nb=ta=>Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"}));
h=ja.defineFieldProperties();x=class extends qa.FeatureLayerBase(za.FeatureReductionLayer(ra.FeatureEffectLayer(aa.PublishableLayer(xa.EditBusLayer(fa.BlendLayer(sa.OrderedLayer(T.TemporalLayer(I.ScaleRangeLayer(ha.RefreshableLayer(Z.ArcGISService(Da.OperationalLayer(X.PortalLayer(k.MultiOriginJSONMixin(pa.CustomParametersMixin(U.APIKeyMixin(x.ClonableMixin(Q))))))))))))))))){constructor(...ta){super(...ta);this.geometryType=this.fullExtent=this.formTemplate=this.fieldsIndex=this.fields=this.dynamicDataSource=
this.displayField=this.copyright=this.charts=this.attributeTableTemplate=null;this.hasZ=this.hasM=void 0;this.infoFor3D=null;this.isTable=!1;this.labelsVisible=!0;this.labelingInfo=null;this.legendEnabled=!0;this.path=this.outFields=this.objectIdField=null;this.popupEnabled=!0;this.resourceInfo=this.popupTemplate=null;this.screenSizePerspectiveEnabled=!0;this.spatialReference=K.WGS84;this.subtypeCode=null;this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]);
this.title=this.timeInfo=this.templates=null;this.sublayerTitleMode="item-title";this.type="feature";this.types=this.typeIdField=null;this.visible=!0;this._debouncedSaveOperations=y.debounce(async(Ba,Ra,$a)=>{const {save:gb,saveAs:qb}=await new Promise((ub,ob)=>a(["./save/featureLayerUtils"],ub,ob));switch(Ba){case Sa.SaveOperationType.SAVE:return gb(this,Ra);case Sa.SaveOperationType.SAVE_AS:return qb(this,$a,Ra)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(ta,Ba){return"string"===typeof ta?
{url:ta,...Ba}:ta}load(ta){const Ba=null!=ta?ta.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(Ba).then($a=>this.initLayerProperties($a))),Promise.resolve(this);const Ra=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},ta).catch(y.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const $a=await this._fetchFirstValidLayerId(Ba);
null!=$a&&(this.layerId=$a)}if(!this.url&&!this._hasMemorySource())throw new u("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(Ba))}).then(()=>ua.ensureLayerCredential(this,"load",ta));this.addResolvingPromise(Ra);return Promise.resolve(this)}warnInvisibleDrapedSymbols(){"on-the-ground"===this.elevationInfo?.mode&&"simple"===this.renderer?.type&&"polygon-3d"===this.renderer.symbol?.type&&
this.renderer.symbol.symbolLayers.some(ta=>"fill"!==ta.type||null==ta.material?!1:!ta.material.color||ta.material.color.a*this.opacity<Qa.alphaCutoff?(this.loadWarnings.push(new L("feature-layer:invisible-draped-symbols","FeatureLayer has fully transparent symbols which will no longer render or highlight",{layer:this})),!0):!1)}readCapabilities(ta,Ba){Ba=Ba.layerDefinition||Ba;return W.getFeatureLayerCapabilities(Ba,this.url)}get createQueryVersion(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");
this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(ta){this._overrideIfSome("editingEnabled",
ta)}readEditingEnabled(ta,Ba){return this._readEditingEnabled(Ba,!1)}readEditingEnabledFromWebMap(ta,Ba,Ra){return this._readEditingEnabled(Ba,!0,Ra)}writeEditingEnabled(ta,Ba){this._writeEditingEnabled(ta,Ba,!1)}writeEditingEnabledToWebMap(ta,Ba,Ra,$a){this._writeEditingEnabled(ta,Ba,!0,$a)}get effectiveEditingEnabled(){return ua.computeEffectiveEditingEnabled(this)}readIsTable(ta,Ba){Ba=Ba?.layerDefinition??Ba;return"Table"===Ba.type||!Ba.geometryType}writeIsTable(ta,Ba,Ra,$a){$a?.writeLayerSchema&&
v.setDeepValue(Ra,ta?"Table":"Feature Layer",Ba)}readGlobalIdField(ta,Ba){return ua.readGlobalIdField(Ba.layerDefinition||Ba)}readObjectIdField(ta,Ba){return ua.readObjectIdField(Ba.layerDefinition||Ba)}get parsedUrl(){const ta=C.urlToObject(this.url);null!=ta&&(null!=this.dynamicDataSource?ta.path=C.join(ta.path,"dynamicLayer"):null!=this.layerId&&(ta.path=C.join(ta.path,this.layerId.toString())));return ta}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(ta){V.fixRendererFields(ta,
this.fieldsIndex);this._set("renderer",ta)}readRenderer(ta,Ba,Ra){Ba=Ba.layerDefinition||Ba;return(ta=Ba.drawingInfo?.renderer)?((ta=r.read(ta,Ba,Ra)??void 0)||z.getLogger(this).error("Failed to create renderer",{rendererDefinition:Ba.drawingInfo.renderer,layer:this,context:Ra}),ta):ua.createDefaultRenderer(Ba,Ra)}set source(ta){const Ba=this._get("source");Ba!==ta&&(Ba&&Ba instanceof A&&this._resetMemorySource(Ba),ta&&ta instanceof A&&this._initMemorySource(ta),this._set("source",ta))}castSource(ta){return ta?
Array.isArray(ta)||ta instanceof A?new N.MemorySource({layer:this,items:ta}):ta:null}readSource(ta,Ba){ta=Fa.fromJSON(Ba.featureSet);return new N.MemorySource({layer:this,items:ta?.features??[]})}readTemplates(ta,Ba){Ba=Ba.editFieldsInfo;const Ra=Ba?.editorField;ta=ta?.map($a=>Y.fromJSON($a));this._fixTemplates(ta,Ba?.creatorField);this._fixTemplates(ta,Ra);return ta}readTitle(ta,Ba){ta=Ba.layerDefinition?.name??Ba.name;Ba=Ba.title||Ba.layerDefinition?.title;if(ta){Ba=this.portalItem?.title;if("item-title"===
this.sublayerTitleMode)return this.url?da.titleFromUrlAndName(this.url,ta):ta;if(!ta&&this.url){const Ra=da.parse(this.url);null!=Ra&&(ta=Ra.title)}if(!ta)return;"item-title-and-service-name"===this.sublayerTitleMode&&Ba&&Ba!==ta&&(ta=Ba+" - "+ta);return da.cleanTitle(ta)}if("item-title"===this.sublayerTitleMode&&Ba)return Ba}readTitleFromWebMap(ta,Ba){return Ba.title||Ba.layerDefinition?.name}readTypeIdField(ta,Ba){Ba=Ba.layerDefinition||Ba;let Ra=Ba.typeIdField;Ra&&Ba.fields&&(Ra=Ra.toLowerCase(),
ta=Ba.fields.find($a=>$a.name.toLowerCase()===Ra))&&(Ra=ta.name);return Ra}readTypes(ta,Ba){Ba=Ba.layerDefinition||Ba;ta=Ba.types;Ba=Ba.editFieldsInfo;const Ra=Ba?.creatorField,$a=Ba?.editorField;return ta?.map(gb=>{gb=ea.fromJSON(gb);this._fixTemplates(gb.templates,Ra);this._fixTemplates(gb.templates,$a);return gb})}readVisible(ta,Ba){if(null!=Ba.layerDefinition?.defaultVisibility)return!!Ba.layerDefinition.defaultVisibility;if(null!=Ba.visibility)return!!Ba.visibility}async addAttachment(ta,Ba){ta=
await ua.addAttachment(this,ta,Ba,"FeatureLayer");this.lastEditsEventDate=new Date;return ta}async updateAttachment(ta,Ba,Ra){ta=await ua.updateAttachment(this,ta,Ba,Ra,"FeatureLayer");this.lastEditsEventDate=new Date;return ta}async applyEdits(ta,Ba){return ua.applyEdits(this,ta,Ba)}async uploadAssets(ta,Ba){return ua.uploadAssets(this,ta,Ba)}on(ta,Ba){return super.on(ta,Ba)}createPopupTemplate(ta){return Na.createPopupTemplate(this,ta)}async createGraphicsSource(ta){if(this._hasMemorySource()&&
this.source)return this.source.load({signal:ta});const {default:Ba}=await y.whenOrAbort(new Promise((Ra,$a)=>a(["./graphics/sources/FeatureLayerSource"],gb=>Ra(nb(gb)),$a)),ta);return(new Ba({layer:this,supportedSourceTypes:this.supportedSourceTypes})).load({signal:ta})}createQuery(){const ta=ua.createQuery(this);ta.dynamicDataSource=this.dynamicDataSource;const Ba=B.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);ta.where=Ba||"1\x3d1";return ta}async deleteAttachments(ta,
Ba){ta=await ua.deleteAttachments(this,ta,Ba,"FeatureLayer");this.lastEditsEventDate=new Date;return ta}async fetchRecomputedExtents(ta){return ua.fetchRecomputedExtents(this,ta,"FeatureLayer")}getFeatureType(ta){return ua.getFeatureType(this.types,this.typeIdField,ta)}getFieldDomain(ta,Ba){var Ra=Ba?.feature,$a=!!this.subtypes?.length;if($a&&!Ba?.excludeImpliedDomains){const gb=ua.computeDomainFromSubtypes(this,ta);if(gb)return gb}if($a=$a&&ua.getFeatureSubtype(this,Ra))return Ba=$a?.domains?.[ta],
"inherited"===Ba?.type?this._getLayerDomain(ta):Ba;$a=this.getFeatureType(Ra);Ra=this._getLayerDomain(ta);return $a&&($a=$a.domains&&$a.domains[ta])&&"inherited"!==$a?.type?$a:Ra?Ra:!Ba?.excludeImpliedDomains&&(ta=ua.computeDomainFromTypes(this,ta))?ta:null}getField(ta){return this.fieldsIndex.get(ta)}async queryAttachments(ta,Ba){return ua.queryAttachments(this,ta,Ba,"FeatureLayer")}async queryFeatures(ta,Ba){const Ra=await this.load();ta=await Ra.source.queryFeatures(Pa.from(ta)??Ra.createQuery(),
Ba);if(ta?.features)for(const $a of ta.features)$a.layer=$a.sourceLayer=Ra;return ta}async queryObjectIds(ta,Ba){return ua.queryObjectIds(this,ta,Ba,"FeatureLayer")}async queryFeatureCount(ta,Ba){return ua.queryFeatureCount(this,ta,Ba,"FeatureLayer")}async queryExtent(ta,Ba){return ua.queryExtent(this,ta,Ba,"FeatureLayer")}async queryRelatedFeatures(ta,Ba){return ua.queryRelatedFeatures(this,ta,Ba,"FeatureLayer")}async queryRelatedFeaturesCount(ta,Ba){return ua.queryRelatedFeaturesCount(this,ta,Ba,
"FeatureLayer")}async queryTopFeatures(ta,Ba){const {source:Ra,capabilities:$a}=await this.load();if(!Ra.queryTopFeatures||!$a?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopFeatures capability");const gb=await new Promise((qb,ub)=>a(["../rest/support/TopFeaturesQuery"],ob=>qb(nb(ob)),ub));ta=await Ra.queryTopFeatures(gb.default.from(ta),Ba);if(ta?.features)for(const qb of ta.features)qb.layer=qb.sourceLayer=this;return ta}async queryBins(ta,Ba){const {source:Ra,
capabilities:$a}=await this.load();if(!Ra.queryBins||!$a?.operations?.supportsQueryBins)throw new u("FeatureLayer","Layer source does not support queryBins capability");ua.validateBinsQuery(ta,$a,"FeatureLayer");const gb=await new Promise((qb,ub)=>a(["../rest/support/BinsQuery"],ob=>qb(nb(ob)),ub));ta=await Ra.queryBins(gb.default.from(ta),Ba);if(ta.features)for(const qb of ta.features)qb.layer=qb.sourceLayer=this;return ta}async queryTopObjectIds(ta,Ba){const {source:Ra,capabilities:$a}=await this.load();
if(!Ra.queryTopObjectIds||!$a?.query.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopObjectIds capability");const gb=await new Promise((qb,ub)=>a(["../rest/support/TopFeaturesQuery"],ob=>qb(nb(ob)),ub));return Ra.queryTopObjectIds(gb.default.from(ta),Ba)}async queryTopFeaturesExtent(ta,Ba){const {source:Ra,capabilities:$a}=await this.load();if(!Ra.queryTopExtents||!$a?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryTopExtents capability");
const gb=await new Promise((qb,ub)=>a(["../rest/support/TopFeaturesQuery"],ob=>qb(nb(ob)),ub));return Ra.queryTopExtents(gb.default.from(ta),Ba)}async queryTopFeatureCount(ta,Ba){const {source:Ra,capabilities:$a}=await this.load();if(!Ra.queryTopCount||!$a?.query?.supportsTopFeaturesQuery)throw new u("FeatureLayer","Layer source does not support queryFeatureCount capability");const gb=await new Promise((qb,ub)=>a(["../rest/support/TopFeaturesQuery"],ob=>qb(nb(ob)),ub));return Ra.queryTopCount(gb.default.from(ta),
Ba)}read(ta,Ba){const Ra=ta.featureCollection;if(Ra||"Feature Collection"===ta.type)this.resourceInfo=ta;if(Ra){const $a=Ra.layers;$a&&1===$a.length&&(super.read($a[0],Ba),null!=Ra.showLegend&&super.read({showLegend:Ra.showLegend},Ba))}super.read(ta,Ba);Ba&&"service"===Ba.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(ta,Ba){Ba={...Ba,origin:Ba?.origin??void 0,writeLayerSchema:Ba?.writeLayerSchema??
this._hasMemorySource()};const {origin:Ra,layerContainerType:$a,messages:gb}=Ba;if(this.dynamicDataSource)return gb?.push(cb(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===Ra||"web-scene"===Ra)&&"tables"!==$a)return gb?.push(cb(this,`a table source can only be written to tables, not ${$a}`)),null;if(this._hasMemorySource())return gb?.push(cb(this,"using an in-memory table source cannot be written to web scenes and web maps")),
null}else if(this.loaded&&("web-map"===Ra||"web-scene"===Ra)&&"tables"===$a)return gb?.push(cb(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(ta,Ba)}clone(){if(this._hasMemorySource())throw new u("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(ta){return this.loaded?"memory"===this.source?.type?!0:oa.serviceSupportsSpatialReference(this,
ta):!1}async save(ta){return this._debouncedSaveOperations(Sa.SaveOperationType.SAVE,ta)}async saveAs(ta,Ba){return this._debouncedSaveOperations(Sa.SaveOperationType.SAVE_AS,Ba,ta)}_readEditingEnabled(ta,Ba,Ra){let $a=ta.layerDefinition?.capabilities;if($a)return this._hasEditingCapability($a);$a=ta.capabilities;if(Ba&&"web-map"===Ra?.origin&&!this._hasMemorySource()&&$a)return this._hasEditingCapability($a)}_hasEditingCapability(ta){return ta.toLowerCase().split(",").map(Ba=>Ba.trim()).includes("editing")}_writeEditingEnabled(ta,
Ba,Ra,$a){ta||(ta=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",v.setDeepValue("layerDefinition.capabilities",ta,Ba),Ra&&!$a?.writeLayerSchema&&(Ba.capabilities=ta))}_getLayerDomain(ta){return(ta=this.fieldsIndex.get(ta))?ta.domain:null}_fetchFirstValidLayerId(ta){return l(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:ta}).then(Ba=>{if(Ba=Ba.data)return this.findFirstValidLayerId(Ba)})}async initLayerProperties(ta){this._set("source",
ta);ta.sourceJSON&&(this.sourceJSON=ta.sourceJSON,this.read(ta.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();this._verifyFields();V.fixRendererFields(this.renderer,this.fieldsIndex);V.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return Ga.loadStyleRenderer(this,{origin:"service"})}async hasDataChanged(){return ua.hasDataChanged(this)}async fetchPublishingStatus(){const ta=this.source;return ta?.fetchPublishingStatus?
ta.fetchPublishingStatus():"unavailable"}_verifyFields(){const ta=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+ta+")");this.isTable||this._hasMemorySource()||-1!==ta.search(/\/FeatureServer\//i)||this.fields?.some(Ba=>"geometry"===Ba.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+ta+
")")}_fixTemplates(ta,Ba){ta&&ta.forEach(Ra=>{(Ra=Ra.prototype?.attributes)&&Ba&&delete Ra[Ba]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new u("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new u("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");}_initMemorySource(ta){ta.forEach(Ba=>{Ba.layer=this;Ba.sourceLayer=this});this.addHandles([ta.on("after-add",
Ba=>{Ba.item.layer=this;Ba.item.sourceLayer=this}),ta.on("after-remove",Ba=>{Ba.item.layer=null;Ba.item.sourceLayer=null})],"fl-source")}_resetMemorySource(ta){ta.forEach(Ba=>{Ba.layer=null;Ba.sourceLayer=null});this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(ta){if(Array.isArray(ta.layers)&&0<ta.layers.length)return ta.layers[0].id;if(Array.isArray(ta.tables)&&0<ta.tables.length)return ta.tables[0].id}};b.__decorate([M.property(la.attributeTableTemplate)],
x.prototype,"attributeTableTemplate",void 0);b.__decorate([E.reader("service","capabilities")],x.prototype,"readCapabilities",null);b.__decorate([M.property({json:{origins:{"web-scene":{write:!1}},write:!0}})],x.prototype,"charts",void 0);b.__decorate([M.property({readOnly:!0})],x.prototype,"createQueryVersion",null);b.__decorate([M.property({json:{read:{source:"layerDefinition.copyrightText"}}})],x.prototype,"copyright",void 0);b.__decorate([M.property({json:{read:{source:"layerDefinition.displayField"}}})],
x.prototype,"displayField",void 0);b.__decorate([M.property({types:q.symbolTypes,readOnly:!0})],x.prototype,"defaultSymbol",void 0);b.__decorate([M.property({type:Aa.DataLayerSource})],x.prototype,"dynamicDataSource",void 0);b.__decorate([M.property({type:Boolean})],x.prototype,"editingEnabled",null);b.__decorate([E.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],x.prototype,"readEditingEnabled",null);b.__decorate([E.reader("web-map","editingEnabled",["capabilities",
"layerDefinition.capabilities"])],x.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([H.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],x.prototype,"writeEditingEnabled",null);b.__decorate([H.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],x.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([M.property({readOnly:!0})],x.prototype,"effectiveEditingEnabled",null);b.__decorate([M.property({...h.fields,
json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:ab}}}}})],x.prototype,"fields",void 0);b.__decorate([M.property(h.fieldsIndex)],x.prototype,"fieldsIndex",void 0);b.__decorate([M.property({type:J,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],x.prototype,"formTemplate",void 0);b.__decorate([M.property({json:{read:{source:"layerDefinition.extent"}}})],x.prototype,"fullExtent",
void 0);b.__decorate([M.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:ab,writer(ta,Ba,Ra){(ta=ta?ua.geometryTypeKebabDict.toJSON(ta):null)&&v.setDeepValue(Ra,ta,Ba)}}}},read:{source:"layerDefinition.geometryType",reader:ua.geometryTypeKebabDict.read}}})],x.prototype,"geometryType",void 0);b.__decorate([M.property({json:{read:{source:"layerDefinition.hasM"}}})],x.prototype,"hasM",void 0);b.__decorate([M.property({json:{read:{source:"layerDefinition.hasZ"}}})],
x.prototype,"hasZ",void 0);b.__decorate([M.property(la.id)],x.prototype,"id",void 0);b.__decorate([M.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],x.prototype,"infoFor3D",void 0);b.__decorate([M.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],x.prototype,"isTable",void 0);b.__decorate([E.reader("service","isTable",["type","geometryType"]),E.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],x.prototype,"readIsTable",null);
b.__decorate([H.writer("web-map","isTable")],x.prototype,"writeIsTable",null);b.__decorate([M.property(la.labelsVisible)],x.prototype,"labelsVisible",void 0);b.__decorate([M.property({type:[O],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:P.reader,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:P.reader,write:{enabled:!0,layerContainerTypes:R.excludeTables}}},name:"layerDefinition.drawingInfo.labelingInfo",read:P.reader,write:!0}})],x.prototype,"labelingInfo",
void 0);b.__decorate([M.property((()=>{const ta=w.clone(la.opacityDrawingInfo);ta.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(Ba,Ra,$a){v.setDeepValue($a,Ya.opacityToTransparency(Ba),Ra)}}};return ta})())],x.prototype,"opacity",void 0);b.__decorate([M.property(la.legendEnabled)],x.prototype,"legendEnabled",void 0);b.__decorate([M.property({type:["show","hide"],json:(()=>{const ta=w.clone(la.listMode.json);ta.origins["portal-item"]={read:!1,write:!1};
return ta})()})],x.prototype,"listMode",void 0);b.__decorate([E.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],x.prototype,"readGlobalIdField",null);b.__decorate([M.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:ab}}}}})],x.prototype,"objectIdField",void 0);b.__decorate([E.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],x.prototype,"readObjectIdField",null);b.__decorate([M.property({value:"ArcGISFeatureLayer",
type:["ArcGISFeatureLayer"]})],x.prototype,"operationalLayerType",void 0);b.__decorate([M.property(h.outFields)],x.prototype,"outFields",void 0);b.__decorate([M.property({readOnly:!0})],x.prototype,"parsedUrl",null);b.__decorate([M.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],x.prototype,"path",void 0);b.__decorate([M.property(la.popupEnabled)],x.prototype,"popupEnabled",void 0);b.__decorate([M.property({type:c,json:{name:"popupInfo",write:!0}})],x.prototype,"popupTemplate",
void 0);b.__decorate([M.property({readOnly:!0})],x.prototype,"defaultPopupTemplate",null);b.__decorate([M.property({types:t.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:t.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:R.excludeTables,overridePolicy(ta,Ba,Ra){return{ignoreOrigin:Ra?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(ta,Ba,Ra){return{ignoreOrigin:Ra?.writeLayerSchema}}}}})],
x.prototype,"renderer",null);b.__decorate([E.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),E.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],x.prototype,"readRenderer",null);b.__decorate([M.property()],x.prototype,"resourceInfo",void 0);b.__decorate([M.property((()=>{const ta=w.clone(la.screenSizePerspectiveEnabled);ta.json.origins["portal-item"]={read:!1,write:!1};return ta})())],x.prototype,"screenSizePerspectiveEnabled",void 0);
b.__decorate([M.property({clonable:!1})],x.prototype,"source",null);b.__decorate([G.cast("source")],x.prototype,"castSource",null);b.__decorate([E.reader("portal-item","source",["featureSet"]),E.reader("web-map","source",["featureSet"])],x.prototype,"readSource",null);b.__decorate([M.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],x.prototype,"spatialReference",void 0);b.__decorate([M.property({type:Number})],x.prototype,"subtypeCode",void 0);b.__decorate([M.property({type:[Y]})],
x.prototype,"templates",void 0);b.__decorate([E.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],x.prototype,"readTemplates",null);b.__decorate([M.property({type:ca})],x.prototype,"timeInfo",void 0);b.__decorate([M.property()],x.prototype,"title",void 0);b.__decorate([E.reader("service","title",["name"]),E.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],x.prototype,"readTitle",null);b.__decorate([E.reader("web-map","title",["layerDefinition.name",
"title"])],x.prototype,"readTitleFromWebMap",null);b.__decorate([M.property({type:String})],x.prototype,"sublayerTitleMode",void 0);b.__decorate([M.property({json:{read:!1}})],x.prototype,"type",void 0);b.__decorate([M.property({type:String})],x.prototype,"typeIdField",void 0);b.__decorate([E.reader("service","typeIdField"),E.reader("typeIdField",["layerDefinition.typeIdField"])],x.prototype,"readTypeIdField",null);b.__decorate([M.property({type:[ea]})],x.prototype,"types",void 0);b.__decorate([E.reader("service",
"types",["types"]),E.reader("types",["layerDefinition.types"])],x.prototype,"readTypes",null);b.__decorate([M.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],x.prototype,"visible",void 0);b.__decorate([E.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],x.prototype,"readVisible",null);return x=b.__decorate([F.subclass("esri.layers.FeatureLayer")],x)})},"esri/PopupTemplate":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/UtilityNetworkAssociationsContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G,E,F,H,R){k=c.ofType({key:"type",defaultKeyValue:"button",base:k,typeMap:{button:v,toggle:y}});const J={base:H,key:"type",typeMap:{media:B,custom:R,text:C,attachments:L,fields:M,expression:G,relationship:E,utilityNetworkAssociations:F}},K=new Set("attachments fields media text expression relationship".split(" ")),Q=new Set([...K,"utility-network-associations"]);b=class extends b.ClonableMixin(h.JSONSupport){constructor(){super(...arguments);
this.actions=null;this.content="";this.layerOptions=this.fieldInfos=this.expressionInfos=null;this.lastEditInfoEnabled=!0;this.outFields=null;this.returnGeometry=this.overwriteActions=!1;this.title=""}castContent(N){if(Array.isArray(N))return N.map(U=>t.ensureOneOfType(J,U));if("string"===typeof N||"function"===typeof N||N instanceof HTMLElement||m.isPromiseLike(N))return N;n.getLogger(this).error("content error","unsupported content value",{value:N});return null}readContent(N,U){({popupElements:N}=
U);return Array.isArray(N)&&0<N.length?this._readPopupInfoElements(U.description,U.mediaInfos,N):this._readPopupInfo(U)}writeWebSceneContent(N,U,Z,fa){this._writePopupTemplateContent(N,U,fa)}writeWebMapContent(N,U,Z,fa){this._writePopupTemplateContent(N,U,fa)}writeFieldInfos(N,U,Z,fa){({content:Z}=this);Z=Array.isArray(Z)?Z:null;if(N){const pa=Z?Z.filter(ra=>"fields"===ra.type):[],xa=pa.length&&pa.every(ra=>ra.fieldInfos?.length);U.fieldInfos=N.filter(Boolean).map(ra=>{ra=ra.toJSON(fa);xa&&(ra.visible=
!1);return ra})}if(Z)for(const pa of Z)"fields"===pa.type&&this._writeFieldsContent(pa,U)}writeLayerOptions(N,U,Z,fa){U[Z]=!N||null===N.showNoDataRecords&&null===N.returnTopmostRaster?null:N.toJSON(fa)}writeTitle(N,U){U.title=N||""}async collectRequiredFields(N,U){const Z=this.expressionInfos||[];await this._collectExpressionInfoFields(N,U,[...Z,...this._getContentExpressionInfos(this.content,Z)]);l.collectFields(N,U,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),
...this._getContentFields(this.content)])}async getRequiredFields(N){const U=new Set;await this.collectRequiredFields(U,N);return[...U].sort()}_writePopupTemplateContent(N,U,Z){"string"===typeof N?U.description=N:Array.isArray(N)&&(U.popupElements=N.filter(fa=>"web-scene"===Z?.origin?K.has(fa.type):Q.has(fa.type)).map(fa=>fa?.toJSON(Z)),U.popupElements.forEach(fa=>{"attachments"===fa.type?this._writeAttachmentContent(U):"media"===fa.type?this._writeMediaContent(fa,U):"text"===fa.type?this._writeTextContent(fa,
U):"relationship"===fa.type&&this._writeRelationshipContent(fa,U)}))}_writeFieldsContent(N,U){Array.isArray(N.fieldInfos)&&N.fieldInfos.length&&(N=d.clone(N.fieldInfos),Array.isArray(U.fieldInfos)?N.forEach(Z=>{const fa=U.fieldInfos.find(pa=>pa.fieldName?.toLowerCase()===Z.fieldName?.toLowerCase());fa?fa.visible=!0:U.fieldInfos.push(Z)}):U.fieldInfos=N)}_writeAttachmentContent(N){N.showAttachments||(N.showAttachments=!0)}_writeRelationshipContent(N,U){var Z=N.orderByFields?.map(fa=>this._toFieldOrderJSON(fa,
N.relationshipId))||[];Z=[...(U.relatedRecordsInfo?.orderByFields||[]),...Z];U.relatedRecordsInfo={showRelatedRecords:!0,...(Z?.length&&{orderByFields:Z})}}_writeTextContent(N,U){!U.description&&N.text&&(U.description=N.text)}_writeMediaContent(N,U){Array.isArray(N.mediaInfos)&&N.mediaInfos.length&&(N=d.clone(N.mediaInfos),Array.isArray(U.mediaInfos)?U.mediaInfos=[...U.mediaInfos,...N]:U.mediaInfos=N)}_readPopupInfoElements(N,U,Z){var fa=!1,pa=!1;return Z.map(xa=>{if("media"===xa.type)return xa.mediaInfos||
!U||pa||(xa.mediaInfos=U,pa=!0),B.fromJSON(xa);if("text"===xa.type)return xa.text||!N||fa||(xa.text=N,fa=!0),C.fromJSON(xa);if("attachments"===xa.type)return L.fromJSON(xa);if("fields"===xa.type)return M.fromJSON(xa);if("expression"===xa.type)return G.fromJSON(xa);if("relationship"===xa.type)return E.fromJSON(xa);if("utilityNetworkAssociations"===xa.type)return F.fromJSON(xa)}).filter(Boolean)}_toRelationshipContent(N){const {field:U,order:Z}=N;if(!U?.startsWith("relationships/"))return null;var fa=
U.replace("relationships/","").split("/");if(2!==fa.length)return null;N=parseInt(fa[0],10);fa=fa[1];return"number"===typeof N&&fa?E.fromJSON({relationshipId:N,orderByFields:[{field:fa,order:Z}]}):null}_toFieldOrderJSON(N,U){const {order:Z,field:fa}=N;return{field:`${"relationships/"}${U}/${fa}`,order:Z}}_readPopupInfo({description:N,mediaInfos:U,showAttachments:Z,relatedRecordsInfo:fa={showRelatedRecords:!1}}){const pa=[];N?pa.push(new C({text:N})):pa.push(new M);Array.isArray(U)&&U.length&&pa.push(B.fromJSON({mediaInfos:U}));
Z&&pa.push(L.fromJSON({displayType:"auto"}));const {showRelatedRecords:xa,orderByFields:ra}=fa;xa&&ra?.length&&ra.forEach(qa=>{(qa=this._toRelationshipContent(qa))&&pa.push(qa)});return pa.length?pa:N}_getContentElementFields(N){var U=N?.type;return"attachments"===U?[...this._extractFieldNames(N.title),...this._extractFieldNames(N.description)]:"custom"===U?N.outFields||[]:"fields"===U?[...this._extractFieldNames(N.title),...this._extractFieldNames(N.description),...this._getFieldInfoFields(N.fieldInfos??
this.fieldInfos)]:"media"===U?(U=N.mediaInfos||[],[...this._extractFieldNames(N.title),...this._extractFieldNames(N.description),...U.reduce((Z,fa)=>[...Z,...this._getMediaInfoFields(fa)],[])]):"text"===U?this._extractFieldNames(N.text):"relationship"===U||"utility-network-associations"===U?[...this._extractFieldNames(N.title),...this._extractFieldNames(N.description)]:[]}_getMediaInfoFields(N){const {caption:U,title:Z,value:fa}=N,{fields:pa,normalizeField:xa,tooltipField:ra,sourceURL:qa,linkURL:za}=
fa||{};N=[...this._extractFieldNames(Z),...this._extractFieldNames(U),...this._extractFieldNames(qa),...this._extractFieldNames(za),...(pa??[])];xa&&N.push(xa);ra&&N.push(ra);return N}_getContentExpressionInfos(N,U){return Array.isArray(N)?N.reduce((Z,fa)=>[...Z,...("expression"===fa.type&&fa.expressionInfo?[fa.expressionInfo]:[])],U):[]}_getContentFields(N){return"string"===typeof N?this._extractFieldNames(N):Array.isArray(N)?N.reduce((U,Z)=>[...U,...this._getContentElementFields(Z)],[]):[]}async _collectExpressionInfoFields(N,
U,Z){Z&&await Promise.all(Z.map(fa=>l.collectArcadeFieldNames(N,U,fa.expression)))}_getFieldInfoFields(N){return N?N.filter(({fieldName:U,visible:Z})=>(void 0===Z||!!Z)&&!!U&&!U.startsWith("relationships/")&&!U.startsWith("expression/")).map(U=>U.fieldName):[]}_getActionsFields(N){return N?N.toArray().reduce((U,Z)=>[...U,...this._getActionFields(Z)],[]):[]}_getActionFields(N){const {className:U,title:Z,type:fa}=N;N="button"===fa||"toggle"===fa?N.image:"";return[...this._extractFieldNames(Z),...this._extractFieldNames(U),
...this._extractFieldNames(N)]}_getTitleFields(N){return"string"===typeof N?this._extractFieldNames(N):[]}_extractFieldNames(N){return l.extractSubstitutionTemplatesFromString(N).filter(U=>!(0===U.indexOf("relationships/")||0===U.indexOf("expression/")))}};a.__decorate([e.property({type:k})],b.prototype,"actions",void 0);a.__decorate([e.property()],b.prototype,"content",void 0);a.__decorate([g.cast("content")],b.prototype,"castContent",null);a.__decorate([f.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],
b.prototype,"readContent",null);a.__decorate([r.writer("web-scene","content",{popupElements:{type:c.ofType(q.persistableWebSceneTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:w}})],b.prototype,"writeWebSceneContent",null);a.__decorate([r.writer("content",{popupElements:{type:c.ofType(q.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:c.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:w}})],
b.prototype,"writeWebMapContent",null);a.__decorate([e.property({type:[x],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([e.property({type:[A]})],b.prototype,"fieldInfos",void 0);a.__decorate([r.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);a.__decorate([e.property({type:u})],b.prototype,"layerOptions",void 0);a.__decorate([r.writer("layerOptions")],b.prototype,"writeLayerOptions",null);a.__decorate([e.property({type:Boolean,json:{read:{source:"showLastEditInfo"},
write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);a.__decorate([e.property()],b.prototype,"outFields",void 0);a.__decorate([e.property()],b.prototype,"overwriteActions",void 0);a.__decorate([e.property()],b.prototype,"returnGeometry",void 0);a.__decorate([e.property({json:{type:String}})],b.prototype,"title",void 0);a.__decorate([r.writer("title")],b.prototype,"writeTitle",null);return b=a.__decorate([p.subclass("esri.PopupTemplate")],b)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent ./content/UtilityNetworkAssociationsContent".split(" "),
function(a,b,c,h,d,n,m,e,g,f){const p={base:null,key:"type",typeMap:{attachment:b,media:m,text:g,expression:d,field:n,relationship:e,utilityNetworkAssociations:f}},r={base:null,key:"type",typeMap:{attachment:b,media:m,text:g,expression:d,field:n,relationship:e}};a.AttachmentsContent=b;a.BaseContent=c;a.CustomContent=h;a.ExpressionContent=d;a.FieldsContent=n;a.MediaContent=m;a.RelationshipContent=e;a.TextContent=g;a.UtilityNetworkAssociationsContent=f;a.isContent=function(t){return t instanceof c};
a.persistableTypes=p;a.persistableWebSceneTypes=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.description=null;this.displayType="auto";this.title=null;
this.type="attachments"}clone(){return new e({description:this.description,displayType:this.displayType,title:this.title})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);a.__decorate([b.property({type:["auto","preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"title",void 0);a.__decorate([b.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,
"type",void 0);return c=e=a.__decorate([n.subclass("esri.popup.content.AttachmentsContent")],c)})},"esri/popup/content/Content":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e);this.type=null}};a.__decorate([c.property({type:"attachments custom fields media text expression relationship utility-network-associations".split(" "),
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,c,h,d,n,m){var e;h=e=class extends m{constructor(g){super(g);this.outFields=this.destroyer=this.creator=null;
this.type="custom"}clone(){return new e({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?b.clone(this.outFields):null})}};a.__decorate([c.property()],h.prototype,"creator",void 0);a.__decorate([c.property()],h.prototype,"destroyer",void 0);a.__decorate([c.property()],h.prototype,"outFields",void 0);a.__decorate([c.property({type:["custom"],readOnly:!0})],h.prototype,"type",void 0);return h=e=a.__decorate([n.subclass("esri.popup.content.CustomContent")],h)})},
"esri/popup/content/ExpressionContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),function(a,b,c,h,d,n,m,e){var g;c=g=class extends e{constructor(f){super(f);this.expressionInfo=null;this.type="expression"}clone(){return new g({expressionInfo:this.expressionInfo?.clone()})}};a.__decorate([b.property({type:m,
json:{write:!0}})],c.prototype,"expressionInfo",void 0);a.__decorate([b.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.ExpressionContent")],c)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,
b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.expression=this.title=null;this.returnType="dictionary"}clone(){return new e({title:this.title,expression:this.expression})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"returnType",void 0);return b=
e=a.__decorate([m.subclass("esri.popup.ElementExpressionInfo")],b)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,c,h,d,n,m,e,g){var f;h=f=class extends g{constructor(p){super(p);this.title=this.fieldInfos=this.description=this.attributes=
null;this.type="fields"}writeFieldInfos(p,r){r.fieldInfos=p&&p.map(t=>t.toJSON())}clone(){return new f(b.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};a.__decorate([c.property({type:Object,json:{write:!0}})],h.prototype,"attributes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"description",void 0);a.__decorate([c.property({type:[e]})],h.prototype,"fieldInfos",void 0);a.__decorate([m.writer("fieldInfos")],
h.prototype,"writeFieldInfos",null);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"title",void 0);a.__decorate([c.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);return h=f=a.__decorate([n.subclass("esri.popup.content.FieldsContent")],h)})},"esri/popup/FieldInfo":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;c=p=class extends c.JSONSupport{constructor(r){super(r);this.fieldName=null;this.format=void 0;this.isEditable=!0;this.label=null;this.stringFieldOption="text-box";this.tooltip=this.statisticType=null;this.visible=!0}clone(){return new p({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};a.__decorate([h.property({type:String,
json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([h.property({type:f,json:{write:!0}})],c.prototype,"format",void 0);a.__decorate([h.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],c.prototype,"isEditable",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([e.enumeration(new b.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],c.prototype,"stringFieldOption",
void 0);a.__decorate([h.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],c.prototype,"statisticType",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"tooltip",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],c.prototype,"visible",void 0);return c=p=a.__decorate([g.subclass("esri.popup.FieldInfo")],c)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date".split(" "),
function(a,b,c,h,d,n,m,e,g,f){b=class extends b.ClonableMixin(c.JSONSupport){constructor(p){super(p);this.dateFormat=null;this.digitSeparator=!1;this.places=null}};a.__decorate([e.enumeration(f.dateFormatJSONMap)],b.prototype,"dateFormat",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);a.__decorate([h.property({type:d.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=a.__decorate([g.subclass("esri.popup.support.FieldInfoFormat")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){var x;
h=x=class extends p{constructor(A){super(A);this.title=this.mediaInfos=this.description=this.attributes=this.activeMediaInfoIndex=null;this.type="media"}readMediaInfos(A){return A&&A.map(u=>{if("image"===u.type)return r.fromJSON(u);if("barchart"===u.type)return g.fromJSON(u);if("columnchart"===u.type)return f.fromJSON(u);if("linechart"===u.type)return t.fromJSON(u);if("piechart"===u.type)return l.fromJSON(u)}).filter(Boolean)}writeMediaInfos(A,u){u.mediaInfos=A&&A.map(w=>w.toJSON())}clone(){return new x(b.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,
attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};a.__decorate([c.property()],h.prototype,"activeMediaInfoIndex",void 0);a.__decorate([c.property({type:Object,json:{write:!0}})],h.prototype,"attributes",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"description",void 0);a.__decorate([c.property({types:[q.types]})],h.prototype,"mediaInfos",void 0);a.__decorate([n.reader("mediaInfos")],h.prototype,"readMediaInfos",
null);a.__decorate([e.writer("mediaInfos")],h.prototype,"writeMediaInfos",null);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"title",void 0);a.__decorate([c.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);return h=x=a.__decorate([m.subclass("esri.popup.content.MediaContent")],h)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);this.type="bar-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:e.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.BarChartMediaInfo")],c)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,c,h,d,n,m,e){c=class extends m{constructor(g){super(g);this.type=null;this.value=void 0}};a.__decorate([b.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e,json:{write:!0}})],c.prototype,"value",void 0);return c=a.__decorate([n.subclass("esri.popup.content.mixins.ChartMediaInfo")],c)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e);this.altText=null;this.title=this.caption="";this.type=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),function(a,b,c,h,d,n,m,e){var g;
c=g=class extends c.JSONSupport{constructor(f){super(f);this.colors=null;this.fields=[];this.normalizeField=null;this.series=[];this.tooltipField=null}clone(){return new g({colors:h.clone(this.colors),fields:h.clone(this.fields),normalizeField:this.normalizeField,series:h.clone(this.series),tooltipField:this.tooltipField})}};a.__decorate([d.property({type:[b],json:{type:[[n.Integer]],write:!0}})],c.prototype,"colors",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],c.prototype,"fields",
void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"normalizeField",void 0);a.__decorate([d.property({type:[e],json:{read:!1}})],c.prototype,"series",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"tooltipField",void 0);return c=g=a.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],c)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){var e;b=e=class extends b{constructor(g){super(g);this.value=this.tooltip=this.fieldName=this.color=null}clone(){return new e({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};a.__decorate([c.property()],b.prototype,"color",void 0);a.__decorate([c.property()],b.prototype,"fieldName",void 0);a.__decorate([c.property()],b.prototype,"tooltip",void 0);a.__decorate([c.property()],b.prototype,"value",void 0);return b=e=a.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
b)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);this.type="column-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:e.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.ColumnChartMediaInfo")],c)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);this.refreshInterval=0;this.type="image";this.value=void 0}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"refreshInterval",void 0);a.__decorate([b.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e,
json:{write:!0}})],c.prototype,"value",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.ImageMediaInfo")],c)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);
this.sourceURL=this.linkURL=null}clone(){return new e({linkURL:this.linkURL,sourceURL:this.sourceURL})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=e=a.__decorate([m.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);this.type="line-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:e.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.LineChartMediaInfo")],c)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);this.type="pie-chart"}clone(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};a.__decorate([b.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:e.chartTypeKebabDict.write}})],c.prototype,"type",void 0);return c=g=a.__decorate([n.subclass("esri.popup.content.PieChartMediaInfo")],c)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,c,h,d,n,m){a.types={base:m,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":c,"line-chart":d,"pie-chart":n,image:h}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,h,d,n,m,e,g){b=class extends b.ClonableMixin(e){constructor(f){super(f);this.displayCount=this.description=null;this.displayType="list";this.title=this.relationshipId=this.orderByFields=null;this.type="relationship"}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:Number,json:{type:h.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([c.property({type:["list"],json:{write:!0}})],b.prototype,
"displayType",void 0);a.__decorate([c.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([c.property({type:Number,json:{type:h.Integer,write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.popup.content.RelationshipContent")],b)})},
"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.order=this.field=null}clone(){return new e({field:this.field,order:this.order})}};a.__decorate([c.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);a.__decorate([c.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=e=a.__decorate([m.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);
this.text=null;this.type="text"}clone(){return new e({text:this.text})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.popup.content.TextContent")],c)})},"esri/popup/content/UtilityNetworkAssociationsContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Content ../support/UtilityNetworkAssociationType".split(" "),
function(a,b,c,h,d,n,m,e,g,f){b=class extends b.ClonableMixin(g){constructor(p){super(p);this.title=this.description=null;this.associationTypes=[];this.type="utility-network-associations"}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:[f],json:{write:!0}})],b.prototype,"associationTypes",void 0);a.__decorate([m.enumeration({utilityNetworkAssociations:"utility-network-associations"})],
b.prototype,"type",void 0);return b=a.__decorate([e.subclass("esri.popup.content.UtilityNetworkAssociationsContent")],b)})},"esri/popup/support/UtilityNetworkAssociationType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){b=class extends b.ClonableMixin(c.JSONSupport){constructor(g){super(g);
this.type=this.description=this.title=null;this.open=!1;this.associatedAssetType=this.associatedAssetGroup=this.associatedNetworkSourceId=null}};a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([h.property({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],b.prototype,"type",void 0);a.__decorate([h.property({type:Boolean,
json:{read:!1}})],b.prototype,"open",void 0);a.__decorate([h.property({type:Number,json:{type:d.Integer,write:!0}})],b.prototype,"associatedNetworkSourceId",void 0);a.__decorate([h.property({type:Number,json:{type:d.Integer,write:!0}})],b.prototype,"associatedAssetGroup",void 0);a.__decorate([h.property({type:Number,json:{type:d.Integer,write:!0}})],b.prototype,"associatedAssetType",void 0);return b=a.__decorate([e.subclass("esri.popup.support.UtilityNetworkAssociationType")],b)})},"esri/popup/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.returnType=this.expression=this.title=this.name=null}clone(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);a.__decorate([c.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=e=a.__decorate([m.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.showNoDataRecords=
this.returnTopmostRaster=null}clone(){return new e({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);a.__decorate([c.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=e=a.__decorate([m.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,h,d,n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f);this.orderByFields=this.showRelatedRecords=null}clone(){return new g({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?c.clone(this.orderByFields):null})}};a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);a.__decorate([h.property({type:[e],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=g=a.__decorate([m.subclass("esri.popup.RelatedRecordsInfo")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends c.IdentifiableMixin(b){constructor(f){super(f);this.active=!1;this.className=null;this.disabled=!1;this.id=this.icon=null;this.indicator=!1;this.type=this.title=null;
this.visible=!0}clone(){return new g({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};a.__decorate([h.property()],b.prototype,"active",void 0);a.__decorate([h.property()],b.prototype,"className",void 0);a.__decorate([h.property()],b.prototype,"disabled",void 0);a.__decorate([h.property()],b.prototype,"icon",void 0);a.__decorate([h.property()],b.prototype,"id",void 0);a.__decorate([h.property()],
b.prototype,"indicator",void 0);a.__decorate([h.property()],b.prototype,"title",void 0);a.__decorate([h.property()],b.prototype,"type",void 0);a.__decorate([h.property()],b.prototype,"visible",void 0);return b=g=a.__decorate([e.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.image=null;this.type="button"}clone(){return new e({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};a.__decorate([b.property()],c.prototype,"image",void 0);return c=e=a.__decorate([n.subclass("esri.support.actions.ActionButton")],c)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.image=null;this.type="toggle";this.value=!1}clone(){return new e({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};a.__decorate([b.property()],c.prototype,"image",void 0);a.__decorate([b.property()],c.prototype,"value",void 0);return c=e=a.__decorate([n.subclass("esri.support.actions.ActionToggle")],
c)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/RendererLegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w){var z;c=new c.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const k=r.ensureType(x);l=z=class extends q.VisualVariablesMixin(l){constructor(v){super(v);this._compiledValueExpression={valueExpression:null,compiledFunction:null};this.field=this.defaultSymbol=this.defaultLabel=this.classBreakInfos=this.backgroundFillSymbol=null;this.isMaxInclusive=!0;this.normalizationTotal=this.normalizationField=
this.legendOptions=null;this.type="class-breaks";this.valueExpressionTitle=this.valueExpression=null;this._set("classBreakInfos",[])}readClassBreakInfos(v,y,B){if(Array.isArray(v)){var C=y.minValue;return v.map(L=>{const M=new x;M.read(L,B);null==M.minValue&&(M.minValue=C);null==M.maxValue&&(M.maxValue=M.minValue);C=M.maxValue;return M})}}writeClassBreakInfos(v,y,B,C){v=v.map(L=>L.write({},C));this._areClassBreaksConsecutive()&&v.forEach(L=>delete L.classMinValue);y[B]=v}castField(v){return null==
v?v:"function"===typeof v?(d.getLogger(this).error(".field: field must be a string value"),null):r.ensureString(v)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let v=this._get("normalizationType");const y=!!this.normalizationField,B=null!=this.normalizationTotal;if(y||B)v=y&&"field"||B&&"percent-of-total"||null,y&&B&&d.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
v||"percent-of-total"===v)v=null;return v}set normalizationType(v){this._set("normalizationType",v)}addClassBreakInfo(v,y,B){let C=null;C="number"===typeof v?new x({minValue:v,maxValue:y,symbol:b.ensureType(B)}):k(h.clone(v));this.classBreakInfos.push(C);1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(v,y){const B=this.classBreakInfos.length;for(let C=0;C<B;C++){const L=[this.classBreakInfos[C].minValue,this.classBreakInfos[C].maxValue];if(L[0]===v&&L[1]===y){this.classBreakInfos.splice(C,
1);break}}}getBreakIndex(v,y){this.valueExpression&&null==y?.arcade&&d.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(v,y):this._getBreakIndexForField(v)}async getClassBreakInfo(v,y){let B=y;this.valueExpression&&null==y?.arcade&&(B={...B,arcade:await w.loadArcade()});v=this.getBreakIndex(v,B);return-1!==v?this.classBreakInfos[v]:null}getSymbol(v,y){if(this.valueExpression&&null==y?.arcade)d.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");
else return v=this.getBreakIndex(v,y),-1<v?this.classBreakInfos[v].symbol:this.defaultSymbol}async getSymbolAsync(v,y){let B=y;if(this.valueExpression&&null==y?.arcade){y=await w.loadArcade();const {arcadeUtils:C}=y;C.hasGeometryOperations(this.valueExpression)&&await C.enableGeometryOperations();B={...B,arcade:y}}v=this.getBreakIndex(v,B);return-1<v?this.classBreakInfos[v].symbol:this.defaultSymbol}getSymbols(){const v=[];this.classBreakInfos.forEach(y=>{y.symbol&&v.push(y.symbol)});this.defaultSymbol&&
v.push(this.defaultSymbol);return v}getAttributeHash(){return this.visualVariables?.reduce((v,y)=>v+y.getAttributeHash(),"")??""}getMeshHash(){const v=JSON.stringify(this.backgroundFillSymbol),y=JSON.stringify(this.defaultSymbol),B=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,C=this.classBreakInfos.reduce((L,M)=>L+M.getMeshHash(),"");return`${v}.${y}.${C}.${B}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}clone(){return new z({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:h.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:h.clone(this.visualVariables),
legendOptions:h.clone(this.legendOptions),authoringInfo:h.clone(this.authoringInfo)})}async collectRequiredFields(v,y){v=[this.collectVVRequiredFields(v,y),this.collectSymbolFields(v,y)];await Promise.all(v)}async collectSymbolFields(v,y){const B=[...this.getSymbols().map(C=>C.collectRequiredFields(v,y)),t.collectArcadeFieldNames(v,y,this.valueExpression)];t.collectField(v,y,this.field);t.collectField(v,y,this.normalizationField);await Promise.all(B)}_getBreakIndexForExpression(v,y){const {viewingMode:B,
scale:C,spatialReference:L,arcade:M,timeZone:G}=y??{};({valueExpression:y}=this);var E=this._compiledValueExpression.valueExpression===y?this._compiledValueExpression.compiledFunction:null;const F=M.arcadeUtils;E||(E=F.createSyntaxTree(y),E=F.createFunction(E),this._compiledValueExpression.compiledFunction=E);this._compiledValueExpression.valueExpression=y;v=F.executeFunction(E,F.createExecContext(v,F.getViewInfo({viewingMode:B,scale:C,spatialReference:L}),G));return this._getBreakIndexfromInfos(v)}_getBreakIndexForField(v){var y=
v.attributes;v=this.normalizationType;let B=parseFloat(y[this.field]);if(v){const C=this.normalizationTotal;y=parseFloat(this.normalizationField?y[this.normalizationField]:void 0);if("log"===v)B=Math.log(B)*Math.LOG10E;else if("percent-of-total"===v&&null!=C&&!isNaN(C))B=B/C*100;else if("field"===v&&!isNaN(y)){if(isNaN(B)||isNaN(y))return-1;B/=y}}return this._getBreakIndexfromInfos(B)}_getBreakIndexfromInfos(v){const y=this.isMaxInclusive;if(null!=v&&"number"===typeof v&&!isNaN(v))for(let B=0;B<this.classBreakInfos.length;B++){const C=
[this.classBreakInfos[B].minValue,this.classBreakInfos[B].maxValue];if(C[0]<=v&&(y?v<=C[1]:v<C[1]))return B}return-1}_areClassBreaksConsecutive(){const v=this.classBreakInfos,y=v.length;for(let B=1;B<y;B++)if(v[B-1].maxValue!==v[B].minValue)return!1;return!0}};a.__decorate([n.property(A.rendererBackgroundFillSymbolProperty)],l.prototype,"backgroundFillSymbol",void 0);a.__decorate([n.property({type:[x]})],l.prototype,"classBreakInfos",void 0);a.__decorate([g.reader("classBreakInfos")],l.prototype,
"readClassBreakInfos",null);a.__decorate([p.writer("classBreakInfos")],l.prototype,"writeClassBreakInfos",null);a.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"defaultLabel",void 0);a.__decorate([n.property(A.rendererSymbolProperty)],l.prototype,"defaultSymbol",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"field",void 0);a.__decorate([m.cast("field")],l.prototype,"castField",null);a.__decorate([n.property({type:Boolean})],l.prototype,"isMaxInclusive",
void 0);a.__decorate([n.property({type:u,json:{write:!0}})],l.prototype,"legendOptions",void 0);a.__decorate([n.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],l.prototype,"minValue",null);a.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"normalizationField",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],l.prototype,"normalizationTotal",
void 0);a.__decorate([n.property({type:c.apiValues,value:null,json:{type:c.jsonValues,read:c.read,write:c.write}})],l.prototype,"normalizationType",null);a.__decorate([e.enumeration({classBreaks:"class-breaks"})],l.prototype,"type",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"valueExpression",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"valueExpressionTitle",void 0);return l=z=a.__decorate([f.subclass("esri.renderers.ClassBreaksRenderer")],
l)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G,E,F,H,R){const J={base:B,key:"type",typeMap:{"simple-fill":k,"picture-fill":A,"picture-marker":u,"simple-line":v,"simple-marker":y,text:M,"label-3d":f,"line-3d":p,"mesh-3d":l,"point-3d":w,"polygon-3d":z,"web-style":F,cim:h},errorContext:"symbol"},K={base:B,key:"type",typeMap:{"picture-marker":u,"simple-marker":y,"point-3d":w,cim:h},errorContext:"symbol"},Q={base:B,key:"type",typeMap:{"simple-line":v,"line-3d":p,cim:h},errorContext:"symbol"},
N={base:B,key:"type",typeMap:{"simple-fill":k,"picture-fill":A,"polygon-3d":z,cim:h},errorContext:"symbol"},U={base:B,key:"type",typeMap:{"picture-marker":u,"simple-marker":y,text:M,"web-style":F,cim:h},errorContext:"symbol"};c=c.createTypeReader({types:J});const Z={base:B,key:"type",typeMap:{"simple-fill":k,"picture-fill":A,"picture-marker":u,"simple-line":v,"simple-marker":y,text:M,"line-3d":p,"mesh-3d":l,"point-3d":w,"polygon-3d":z,"web-style":F,cim:h},errorContext:"symbol"},fa={base:B,key:"type",
typeMap:{text:M,"label-3d":f},errorContext:"symbol"},pa={base:B,key:"type",typeMap:{"label-3d":f,"line-3d":p,"mesh-3d":l,"point-3d":w,"polygon-3d":z,"web-style":F},errorContext:"symbol"},xa={base:B,key:"type",typeMap:{"line-3d":p,"mesh-3d":l,"point-3d":w,"polygon-3d":z,"web-style":F,cim:h},errorContext:"symbol"},ra={base:B,key:"type",typeMap:{"label-3d":f},errorContext:"symbol"};b=b.ensureOneOfType(J);a.CIMSymbol=h;a.ExtrudeSymbol3DLayer=d;a.BaseFillSymbol=n;a.FillSymbol3DLayer=m;a.Font=e;a.IconSymbol3DLayer=
g;a.LabelSymbol3D=f;a.LineSymbol3D=p;a.LineSymbol3DLayer=r;a.BaseMarkerSymbol=t;a.MeshSymbol3D=l;a.ObjectSymbol3DLayer=q;a.PathSymbol3DLayer=x;a.PictureFillSymbol=A;a.PictureMarkerSymbol=u;a.PointSymbol3D=w;a.PolygonSymbol3D=z;a.SimpleFillSymbol=k;a.SimpleLineSymbol=v;a.SimpleMarkerSymbol=y;a.BaseSymbol=B;a.BaseSymbol3D=C;a.BaseSymbol3DLayer=L;a.TextSymbol=M;a.TextSymbol3DLayer=G;a.WaterSymbol3DLayer=E;a.WebStyleSymbol=F;a.LineCallout3D=H;a.LineCallout3DBorder=R;a.ensureType=b;a.isSymbol=function(qa){return qa instanceof
B};a.isSymbol2D=function(qa){if(!qa)return!1;switch(qa.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(qa){if(!qa)return!1;switch(qa.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.lineSymbolTypes=Q;a.pointSymbolTypes=K;a.polygonSymbolTypes=N;a.readSymbol=c;a.symbolTypes=J;a.symbolTypes3D=pa;a.symbolTypesCluster=
U;a.symbolTypesLabel=fa;a.symbolTypesLabel3D=ra;a.symbolTypesRenderer=Z;a.symbolTypesRenderer3D=xa;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){var t;d=t=class extends r{constructor(l){super(l);this.data=null;this.type="cim"}readData(l,q){return q}writeData(l,q){Object.assign(q,l)}async collectRequiredFields(l,q){if("CIMSymbolReference"===this.data?.type){var x=this.data.primitiveOverrides;x&&(x=x.map(A=>(A=A.valueExpressionInfo)?p.collectArcadeFieldNames(l,q,A.expression):null),await Promise.all(x))}}clone(){return new t({data:b.clone(this.data)})}hash(){return c.numericHash(JSON.stringify(this.data)).toString()}};
a.__decorate([h.property({json:{write:!1}})],d.prototype,"color",void 0);a.__decorate([h.property({json:{write:!0}})],d.prototype,"data",void 0);a.__decorate([e.reader("data",["symbol"])],d.prototype,"readData",null);a.__decorate([f.writer("data",{})],d.prototype,"writeData",null);a.__decorate([m.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],d.prototype,"type",void 0);return d=t=a.__decorate([g.subclass("esri.symbols.CIMSymbol")],d)})},"esri/symbols/Symbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g,f){c=new c.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let p=0;h=class extends h.JSONSupport{constructor(r){super(r);this.id=`sym${p++}`;this.type=null;this.color=new b([0,
0,0,1])}readColor(r){return null!=r?.[0]?[r[0],r[1],r[2],r[3]/255]:r}async collectRequiredFields(r,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};a.__decorate([d.property({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],h.prototype,"type",void 0);a.__decorate([d.property({type:b,json:{write:{allowNull:!0}}})],h.prototype,"color",void 0);a.__decorate([g.reader("color")],h.prototype,"readColor",null);return h=a.__decorate([f.subclass("esri.symbols.Symbol")],
h)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;c=p=class extends e{constructor(r){super(r);this.type="extrude";this.size=1;this.material=null;this.castShadows=!0;this.edges=null}clone(){return new p({edges:this.edges?.clone(),
enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};a.__decorate([n.enumeration({Extrude:"extrude"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],c.prototype,"size",void 0);a.__decorate([b.property({type:f.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,
"castShadows",void 0);a.__decorate([b.property(g.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=p=a.__decorate([m.subclass("esri.symbols.ExtrudeSymbol3DLayer")],c)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),function(a,b,c,h,d,n,m,e){b=class extends b.JSONSupport{constructor(g){super(g);
this.enabled=!0;this.type=null;this.ignoreDrivers=!1}writeEnabled(g,f,p){g||(f[p]=g)}};a.__decorate([c.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);a.__decorate([e.writer("enabled")],b.prototype,"writeEnabled",null);a.__decorate([c.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.symbols.Symbol3DLayer")],b)})},"esri/symbols/edges/utils":function(){define(["exports",
"./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,c,h){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:h,sketch:c}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){c=class extends c.JSONSupport{constructor(p){super(p);this.color=new b([0,0,0,1]);this.extensionLength=0;this.size=d.px2pt(1)}clone(){}cloneProperties(){return{color:h.clone(this.color),size:this.size,extensionLength:this.extensionLength}}};a.__decorate([n.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);a.__decorate([n.property(f.colorAndTransparencyProperty)],c.prototype,"color",void 0);a.__decorate([n.property({...f.screenSizeProperty,
json:{write:{overridePolicy(p){return{enabled:!!p}}}}})],c.prototype,"extensionLength",void 0);a.__decorate([n.property(f.screenSizeProperty)],c.prototype,"size",void 0);return c=a.__decorate([g.subclass("esri.symbols.edges.Edges3D")],c)})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,c,h,d){c={type:Number,cast:c.toPt,json:{write:!0}};a.colorAndTransparencyProperty=
{type:b,json:{type:[h.Integer],default:null,read:{source:["color","transparency"],reader:function(n,m){n=null!=m.transparency?d.transparencyToOpacity(m.transparency):1;return(m=m.color)&&Array.isArray(m)?new b([m[0]||0,m[1]||0,m[2]||0,n]):null}},write:{target:{color:{type:[h.Integer]},transparency:{type:h.Integer}},writer:function(n,m){m.color=n.toJSON().slice(0,3);n=d.opacityToTransparency(n.a);0!==n&&(m.transparency=n)}}}};a.screenSizeProperty=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends e{constructor(f){super(f);this.type="sketch"}clone(){return new g(this.cloneProperties())}};a.__decorate([n.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=
g=a.__decorate([m.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends e{constructor(f){super(f);this.type="solid"}clone(){return new g(this.cloneProperties())}};a.__decorate([n.enumeration({solid:"solid"},
{readOnly:!0})],b.prototype,"type",void 0);return b=g=a.__decorate([m.subclass("esri.symbols.edges.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64 ./materialUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;a.Symbol3DMaterial=
p=class extends c.JSONSupport{constructor(r){super(r);this.emissiveFactor=this.color=null}clone(){const r={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?g.clone(this.emissiveFactor):null};return new p(r)}};b.__decorate([h.property(f.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);b.__decorate([h.property({type:[Number],json:{write:!1}})],a.Symbol3DMaterial.prototype,"emissiveFactor",void 0);a.Symbol3DMaterial=p=b.__decorate([e.subclass("esri.symbols.support.Symbol3DMaterial")],
a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),function(a,b,c,h,d,n,m,e){c=class extends e{constructor(g){super(g);this.type=this.outline=null}hash(){return`${this.type}.${this.outline?.hash()}`}};a.__decorate([b.property({types:{key:"type",
base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":m}},json:{default:null,write:!0}})],c.prototype,"outline",void 0);a.__decorate([b.property({type:["simple-fill","picture-fill"],readOnly:!0})],c.prototype,"type",void 0);return c=a.__decorate([n.subclass("esri.symbols.FillSymbol")],c)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;b=new b.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});f=r=class extends f{constructor(...t){super(...t);this.type="simple-line";this.style="solid";this.join=
this.cap="round";this.marker=null;this.miterLimit=2}normalizeCtorArgs(t,l,q,x,A,u){if(t&&"string"!==typeof t)return t;const w={};null!=t&&(w.style=t);null!=l&&(w.color=l);null!=q&&(w.width=h.toPt(q));null!=x&&(w.cap=x);null!=A&&(w.join=A);null!=u&&(w.miterLimit=h.toPt(u));return w}clone(){return new r({color:c.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};
a.__decorate([e.enumeration({esriSLS:"simple-line"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],f.prototype,"style",void 0);a.__decorate([d.property({type:["butt","round","square"],json:{write:{overridePolicy:(t,l,q)=>({enabled:"round"!==t&&null==q?.origin})}}})],f.prototype,"cap",void 0);a.__decorate([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,l,q)=>({enabled:"round"!==t&&null==q?.origin})}}})],
f.prototype,"join",void 0);a.__decorate([d.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":p}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"marker",void 0);a.__decorate([d.property({type:Number,json:{read:!1,write:!1}})],f.prototype,"miterLimit",void 0);return f=r=a.__decorate([g.subclass("esri.symbols.SimpleLineSymbol")],f)})},"esri/symbols/LineSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,c,h,d,n,m,e,g){h=class extends g{constructor(f){super(f);this.type="simple-line";this.width=.75}hash(){return`${this.type}.${this.width}`}};a.__decorate([m.enumeration({esriSLS:"simple-line"},{readOnly:!0})],h.prototype,"type",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,json:{write:!0}})],h.prototype,"width",void 0);return h=a.__decorate([e.subclass("esri.symbols.LineSymbol")],h)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){var t;c=t=class extends c.JSONSupport{constructor(l){super(l);this.placement="begin-end";this.type="line-marker";this.style="arrow"}writeStyle(l,q,x,A){q[x]="web-map"===A?.origin?"arrow":l}set color(l){this._set("color",l)}readColor(l){return null!=l?.[0]?[l[0],l[1],l[2],l[3]/255]:l}writeColor(l,q,x,A){"web-map"!==A?.origin&&(q[x]=l)}clone(){return new t({color:h.clone(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};
a.__decorate([d.property({type:["begin","end","begin-end"],json:{write:!0}})],c.prototype,"placement",void 0);a.__decorate([e.enumeration({"line-marker":"line-marker"},{readOnly:!0}),d.property({json:{origins:{"web-map":{write:!1}}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:r.lineMarkerStyles})],c.prototype,"style",void 0);a.__decorate([p.writer("style")],c.prototype,"writeStyle",null);a.__decorate([d.property({type:b,value:null,json:{write:{allowNull:!0}}})],c.prototype,"color",
null);a.__decorate([g.reader("color")],c.prototype,"readColor",null);a.__decorate([p.writer("color")],c.prototype,"writeColor",null);return c=t=a.__decorate([f.subclass("esri.symbols.LineSymbolMarker")],c)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){var x;c=x=class extends e{constructor(A){super(A);this.type="fill";this.pattern=this.material=null;this.castShadows=!0;this.edges=this.outline=null}clone(){const A={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new x(A)}static fromSimpleFillSymbol(A){const u=
A.outline&&A.outline.style&&"solid"!==A.outline.style?new f({style:A.outline.style}):null,w={size:A.outline?.width??0,color:(A.outline?.color??t.white).clone(),pattern:u};u&&A.outline?.cap&&(w.patternCap=A.outline.cap);return new x({material:new l.Symbol3DFillMaterial({color:(A.color??t.transparentWhite).clone()}),pattern:A.style&&"solid"!==A.style?new p({style:A.style}):null,outline:w})}};a.__decorate([n.enumeration({Fill:"fill"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:l.Symbol3DFillMaterial,
json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property(r.symbol3dPatternProperty)],c.prototype,"pattern",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property({type:q.Symbol3DOutline,json:{write:!0}})],c.prototype,"outline",void 0);a.__decorate([b.property(g.symbol3dEdgesProperty)],c.prototype,"edges",void 0);return c=x=a.__decorate([m.subclass("esri.symbols.FillSymbol3DLayer")],c)})},
"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;b=b.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",
null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});g=p=class extends g{constructor(r){super(r);this.type="style";this.style="solid"}clone(){return new p({style:this.style})}};a.__decorate([c.property({type:["style"]})],g.prototype,"type",void 0);a.__decorate([m.enumeration(b),c.property({type:f.lineStyles})],g.prototype,"style",void 0);return g=p=a.__decorate([e.subclass("esri.symbols.patterns.LineStylePattern3D")],
g)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e)}clone(){throw Error("Subclasses of LinePattern3D should implement their own clone method.");}};a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,
write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.symbols.patterns.LinePattern3D")],b)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);this.type="style";this.style="solid"}clone(){return new g({style:this.style})}};a.__decorate([b.property({type:["style"]})],c.prototype,"type",void 0);a.__decorate([b.property({type:e,json:{read:!0,write:!0}})],c.prototype,"style",void 0);return c=g=a.__decorate([n.subclass("esri.symbols.patterns.StylePattern3D")],c)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e);this.type="style"}clone(){throw Error("Subclasses of Pattern3D should implement their own clone method.");}};a.__decorate([c.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,c,h,d){h={types:{key:"type",base:h,typeMap:{style:d}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:c}},json:{write:!0}};a.symbol3dPatternProperty=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const c=new b("white"),
h=new b("black");b=new b([255,255,255,0]);a.black=h;a.isBlack=function(d){return 0===d.r&&0===d.g&&0===d.b};a.transparentWhite=b;a.white=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64 ./Symbol3DMaterial".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;a.Symbol3DFillMaterial=p=class extends f.Symbol3DMaterial{constructor(r){super(r);this.colorMixMode=null}clone(){const r={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?g.clone(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new p(r)}};b.__decorate([m.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=p=b.__decorate([e.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t){var l;a.Symbol3DOutline=
l=class extends h.JSONSupport{constructor(q){super(q);this.color=new c([0,0,0,1]);this.size=d.px2pt(1);this.pattern=null;this.patternCap="butt"}clone(){const q={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new l(q)}};b.__decorate([n.property(r.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([n.property(r.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",
void 0);b.__decorate([n.property(p.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,"pattern",void 0);b.__decorate([n.property({type:t.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=l=b.__decorate([f.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports",
"../../core/has","../../core/libs/gl-matrix-2/factories/vec3f64","../../geometry/support/aaBoundingBox"],function(a,b,c,h){const d=h.fromValues(-.5,-.5,-.5,.5,.5,.5),n=h.fromValues(-.5,-.5,0,.5,.5,1),m=h.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];h=[...b,"none"];a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerBoundingBoxTetrahedron=m;a.objectSymbolLayerBoundingBoxUnitCube=d;a.objectSymbolLayerBoundingBoxUnitCylinder=n;a.objectSymbolLayerPrimitiveBoundingBox=function(e){switch(e){case "sphere":case "cube":case "diamond":return d;
case "cylinder":case "cone":case "inverted-cone":return n;case "tetrahedron":return m}};a.objectSymbolLayerSizeWithResourceSize=function(e,{isPrimitive:g,width:f,depth:p,height:r}){g=g?10:1;if(null==f&&null==r&&null==p)return[g*e[0],g*e[1],g*e[2]];f=c.fromValues(f,p,r);let t;for(p=0;3>p;p++)if(r=f[p],null!=r){t=r/e[p];break}for(p=0;3>p;p++)null==f[p]&&(f[p]=e[p]*t);return f};a.pathCaps=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../Extent","./aaBoundingRect","./DoubleArray"],function(a,b,c,h){function d(u=x){return[u[0],u[1],u[2],u[3],u[4],u[5]]}function n(u,w,z,k,v,y,B=d()){B[0]=u;B[1]=w;B[2]=z;B[3]=k;B[4]=v;B[5]=y;return B}function m(u,w,z,k=d()){t(k,q);e(k,u,w,z);return k}function e(u,w,z=0,k=w.length/3){let v=u[0],y=u[1],B=u[2],C=u[3],L=u[4],M=u[5];for(let G=0;G<k;G++)v=Math.min(v,w[z+3*G]),y=Math.min(y,w[z+3*G+1]),B=Math.min(B,w[z+3*G+2]),C=Math.max(C,w[z+3*G]),L=Math.max(L,w[z+3*G+1]),M=Math.max(M,w[z+3*G+2]);u[0]=
v;u[1]=y;u[2]=B;u[3]=C;u[4]=L;u[5]=M}function g(u){return u[0]>=u[3]?0:u[3]-u[0]}function f(u){return u[1]>=u[4]?0:u[4]-u[1]}function p(u){return u[2]>=u[5]?0:u[5]-u[2]}function r(u,w){return Math.max(w[0],u[0])<=Math.min(w[3],u[3])&&Math.max(w[1],u[1])<=Math.min(w[4],u[4])&&Math.max(w[2],u[2])<=Math.min(w[5],u[5])}function t(u,w){u[0]=w[0];u[1]=w[1];u[2]=w[2];u[3]=w[3];u[4]=w[4];u[5]=w[5];return u}function l(u){return 6===u.length}const q=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],
x=[0,0,0,0,0,0],A=d();a.allFinite=function(u){for(let w=0;6>w;w++)if(!isFinite(u[w]))return!1;return!0};a.center=function(u,w=[0,0,0]){w[0]=u[0]+g(u)/2;w[1]=u[1]+f(u)/2;w[2]=u[2]+p(u)/2;return w};a.contains=function(u,w){return w[0]>=u[0]&&w[1]>=u[1]&&w[2]>=u[2]&&w[3]<=u[3]&&w[4]<=u[4]&&w[5]<=u[5]};a.containsPoint=function(u,w){return w[0]>=u[0]&&w[1]>=u[1]&&w[2]>=u[2]&&w[0]<=u[3]&&w[1]<=u[4]&&w[2]<=u[5]};a.containsPointWithMargin=function(u,w,z){return w[0]>=u[0]-z&&w[1]>=u[1]-z&&w[2]>=u[2]-z&&w[0]<=
u[3]+z&&w[1]<=u[4]+z&&w[2]<=u[5]+z};a.create=d;a.depth=f;a.diameter=function(u){const w=g(u),z=p(u);u=f(u);return Math.sqrt(w*w+z*z+u*u)};a.empty=function(u){return u?t(u,q):d(q)};a.equals=function(u,w,z){if(null==u||null==w)return u===w;if(!l(u)||!l(w))return!1;if(z)for(let k=0;k<u.length;k++){if(!z(u[k],w[k]))return!1}else for(z=0;z<u.length;z++)if(u[z]!==w[z])return!1;return!0};a.expandWithAABB=function(u,w){u[0]=Math.min(u[0],w[0]);u[1]=Math.min(u[1],w[1]);u[2]=Math.min(u[2],w[2]);u[3]=Math.max(u[3],
w[3]);u[4]=Math.max(u[4],w[4]);u[5]=Math.max(u[5],w[5])};a.expandWithBuffer=e;a.expandWithNestedArray=function(u,w,z){const k=w.length;let v=u[0],y=u[1],B=u[2],C=u[3],L=u[4],M=u[5];if(z)for(z=0;z<k;z++){var G=w[z];v=Math.min(v,G[0]);y=Math.min(y,G[1]);B=Math.min(B,G[2]);C=Math.max(C,G[0]);L=Math.max(L,G[1]);M=Math.max(M,G[2])}else for(z=0;z<k;z++)G=w[z],v=Math.min(v,G[0]),y=Math.min(y,G[1]),C=Math.max(C,G[0]),L=Math.max(L,G[1]);u[0]=v;u[1]=y;u[2]=B;u[3]=C;u[4]=L;u[5]=M};a.expandWithOffset=function(u,
w,z,k){u[0]=Math.min(u[0],u[0]+w);u[3]=Math.max(u[3],u[3]+w);u[1]=Math.min(u[1],u[1]+z);u[4]=Math.max(u[4],u[4]+z);u[2]=Math.min(u[2],u[2]+k);u[5]=Math.max(u[5],u[5]+k)};a.expandWithRect=function(u,w){u[0]=Math.min(u[0],w[0]);u[1]=Math.min(u[1],w[1]);u[3]=Math.max(u[3],w[2]);u[4]=Math.max(u[4],w[3])};a.expandWithVec3=function(u,w){u[0]=Math.min(u[0],w[0]);u[1]=Math.min(u[1],w[1]);u[2]=Math.min(u[2],w[2]);u[3]=Math.max(u[3],w[0]);u[4]=Math.max(u[4],w[1]);u[5]=Math.max(u[5],w[2])};a.fromBuffer=function(u,
w=d()){return m(u,0,u.length/3,w)};a.fromExtent=function(u,w=d()){w[0]=u.xmin;w[1]=u.ymin;w[2]=u.hasZ?u.zmin:-Infinity;w[3]=u.xmax;w[4]=u.ymax;w[5]=u.hasZ?u.zmax:Infinity;return w};a.fromMinMax=function(u,w,z=d()){z[0]=u[0];z[1]=u[1];z[2]=u[2];z[3]=w[0];z[4]=w[1];z[5]=w[2];return z};a.fromRect=function(u,w){u[0]=w[0];u[1]=w[1];u[2]=Number.NEGATIVE_INFINITY;u[3]=w[2];u[4]=w[3];u[5]=Number.POSITIVE_INFINITY;return u};a.fromRectValues=function(u,w,z,k,v){u[0]=w;u[1]=z;u[2]=Number.NEGATIVE_INFINITY;u[3]=
k;u[4]=v;u[5]=Number.POSITIVE_INFINITY;return u};a.fromSubBuffer=m;a.fromValues=n;a.getMax=function(u,w){w[0]=u[3];w[1]=u[4];w[2]=u[5];return w};a.getMin=function(u,w){w[0]=u[0];w[1]=u[1];w[2]=u[2];return w};a.height=p;a.intersects=r;a.intersectsClippingArea=function(u,w){return null==w?!0:r(u,w)};a.is=l;a.isPoint=function(u){return 0===g(u)&&0===f(u)&&0===p(u)};a.maximumDimension=function(u){return Math.max(g(u),p(u),f(u))};a.negativeInfinity=q;a.offset=function(u,w,z,k,v=u){v[0]=u[0]+w;v[1]=u[1]+
z;v[2]=u[2]+k;v[3]=u[3]+w;v[4]=u[4]+z;v[5]=u[5]+k;return v};a.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.scale=function(u,w,z=u){const k=u[0]+g(u)/2,v=u[1]+f(u)/2,y=u[2]+p(u)/2;z[0]=k+(u[0]-k)*w;z[1]=v+(u[1]-v)*w;z[2]=y+(u[2]-y)*w;z[3]=k+(u[3]-k)*w;z[4]=v+(u[4]-v)*w;z[5]=y+(u[5]-y)*w;return z};a.set=t;a.setMax=function(u,w,z=u){z[3]=w[0];z[4]=w[1];z[5]=w[2];z!==u&&(z[0]=u[0],z[1]=u[1],z[2]=u[2]);return u};a.setMin=function(u,w,z=u){z[0]=w[0];z[1]=w[1];z[2]=w[2];
z!==u&&(z[3]=u[3],z[4]=u[4],z[5]=u[5]);return z};a.size=function(u,w=[0,0,0]){w[0]=g(u);w[1]=f(u);w[2]=p(u);return w};a.toCorners=function(u,w=h.newDoubleArray(24)){const [z,k,v,y,B,C]=u;w[0]=z;w[1]=k;w[2]=v;w[3]=z;w[4]=k;w[5]=C;w[6]=z;w[7]=B;w[8]=v;w[9]=z;w[10]=B;w[11]=C;w[12]=y;w[13]=k;w[14]=v;w[15]=y;w[16]=k;w[17]=C;w[18]=y;w[19]=B;w[20]=v;w[21]=y;w[22]=B;w[23]=C;return w};a.toExtent=function(u,w){return isFinite(u[2])||isFinite(u[5])?new b({xmin:u[0],xmax:u[3],ymin:u[1],ymax:u[4],zmin:u[2],zmax:u[5],
spatialReference:w}):new b({xmin:u[0],xmax:u[3],ymin:u[1],ymax:u[4],spatialReference:w})};a.toRect=function(u,w){w||=c.create();w[0]=u[0];w[1]=u[1];w[2]=u[3];w[3]=u[4];return w};a.width=g;a.wrap=function(u,w,z,k,v,y){return n(u,w,z,k,v,y,A)};a.zero=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(a,b){a.copyInto=function(c,h){for(let d=0;d<h.length;++d)c[d]=h[d];return c};a.doubleArrayFrom=
function(c){return(b.isArray(c)?c.length:c.byteLength/8)<=b.nativeArrayMaxSize?Array.from(c):new Float64Array(c)};a.doubleSubArray=function(c,h,d){return Array.isArray(c)?c.slice(h,h+d):c.subarray(h,h+d)};a.newDoubleArray=function(c,h=!1){return c<=b.nativeArrayMaxSize?h?Array(c).fill(0):Array(c):new Float64Array(c)};a.toFloat64Array=function(c){return Array.isArray(c)?new Float64Array(c):c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;b=f=class extends b.JSONSupport{constructor(p){super(p);this.decoration="none";this.family="sans-serif";this.size=9;this.weight=this.style="normal"}castSize(p){return c.toPt(p)}clone(){return new f({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};a.__decorate([h.property({type:g.fontDecorations,json:{default:"none",write:!0}})],
b.prototype,"decoration",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);a.__decorate([h.property({type:Number,json:{write:{overridePolicy(p,r,t){return{enabled:!t||!t.textSymbol3D}}}}})],b.prototype,"size",void 0);a.__decorate([d.cast("size")],b.prototype,"castSize",null);a.__decorate([h.property({type:g.fontStyles,json:{default:"normal",write:!0}})],b.prototype,"style",void 0);a.__decorate([h.property({type:g.fontWeights,json:{default:"normal",write:!0}})],
b.prototype,"weight",void 0);return b=f=a.__decorate([e.subclass("esri.symbols.Font")],b)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,c){const h={type:Number,cast:g=>{g=c.ensureNumber(g);return 0===g?1:b.clamp(g,.1,4)},nonNullable:!0},d=["left","right","center"],n=["baseline","top","middle","bottom"],m={type:d,nonNullable:!0},e={type:n,nonNullable:!0};a.backgroundPadding=8;a.fontDecorations=["none","underline",
"line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=m;a.horizontalAlignments=d;a.lineHeightProperty=h;a.verticalAlignmentProperty=e;a.verticalAlignments=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){function x(z){const k="width"in z?z.width:z.size,v="height"in z?z.height:z.size,y=A(z.xoffset);z=A(z.yoffset);return(y||z)&&k&&v?{x:-y/k,y:z/v}:null}function A(z){return isFinite(z)?z:0}var u;n=u=class extends g{constructor(z){super(z);this.resource=this.material=null;this.type="icon";this.size=12;this.anchor="center";this.outline=this.anchorPosition=null;this.angle=0}clone(){return new u({anchor:this.anchor,anchorPosition:b.clone(this.anchorPosition),enabled:this.enabled,
material:b.clone(this.material),outline:b.clone(this.outline),resource:b.clone(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(z){const k=z.color||f.white,v=x(z),y=z.outline&&0<z.outline.width?{size:z.outline.width,color:(z.outline.color||f.white).clone()}:null;var B=u,C=z.size,L=z.angle;{z=z.style;const M=w[z];M?z=M:(c.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${z} cannot be mapped to Icon symbol. Fallback to "circle"`),z="circle")}return new B({size:C,angle:L,
resource:{primitive:z},material:{color:k},outline:y,anchor:v?"relative":void 0,anchorPosition:v})}static fromPictureMarkerSymbol(z){const k=!z.color||f.isBlack(z.color)?f.white:z.color,v=x(z);return new u({size:z.width<=z.height?z.height:z.width,angle:z.angle,resource:{href:z.url},material:{color:k.clone()},anchor:v?"relative":void 0,anchorPosition:v})}static fromCIMSymbol(z){return new u({resource:{href:h.makeData({mediaType:"application/json",data:JSON.stringify(z.data)})}})}};a.__decorate([d.property({type:q.Symbol3DMaterial,
json:{write:!0}})],n.prototype,"material",void 0);a.__decorate([d.property({type:p.IconSymbol3DLayerResource,json:{write:!0}})],n.prototype,"resource",void 0);a.__decorate([m.enumeration({Icon:"icon"},{readOnly:!0})],n.prototype,"type",void 0);a.__decorate([d.property(r.screenSizeProperty)],n.prototype,"size",void 0);a.__decorate([m.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",
relative:"relative"},{default:"center"})],n.prototype,"anchor",void 0);a.__decorate([d.property({type:t.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:z=>new t.Symbol3DAnchorPosition2D({x:z[0],y:z[1]})},write:{writer:(z,k)=>{k.anchorPosition=[z.x,z.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],n.prototype,"anchorPosition",void 0);a.__decorate([d.property({type:l.Symbol3DIconOutline,json:{write:!0}})],n.prototype,"outline",void 0);a.__decorate([d.property({type:Number,
json:{write:!0,default:0}})],n.prototype,"angle",void 0);n=u=a.__decorate([e.subclass("esri.symbols.IconSymbol3DLayer")],n);const w={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return n})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){var q;c=c.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=q=class extends h.JSONSupport{constructor(x){super(x)}readHref(x,A,u){return x?l.fromJSON(x,u):A.dataURI}writeHref(x,A,u,w){x&&(d.isDataProtocol(x)?A.dataURI=x:(A.href=l.toJSON(x,w),d.isAbsolute(A.href)&&(A.href=d.normalize(A.href))))}clone(){return new q({href:this.href,primitive:this.primitive})}};b.__decorate([n.property({type:String,
json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([p.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([t.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([f.enumeration(c)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);a.IconSymbol3DLayerResource=q=b.__decorate([r.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){var g;a.Symbol3DAnchorPosition2D=g=class extends c{constructor(){super(...arguments);
this.y=this.x=0}clone(){return new g({x:this.x,y:this.y})}};b.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=g=b.__decorate([e.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;a.Symbol3DIconOutline=r=class extends h.JSONSupport{constructor(t){super(t);this.color=new c([0,0,0,1]);this.size=d.px2pt(1)}clone(){const t={color:null!=this.color?this.color.clone():null,size:this.size};return new r(t)}};b.__decorate([n.property(p.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);b.__decorate([n.property(p.screenSizeProperty)],a.Symbol3DIconOutline.prototype,"size",void 0);a.Symbol3DIconOutline=r=b.__decorate([f.subclass("esri.symbols.support.Symbol3DIconOutline")],
a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r){var t;const l=b.ofType({base:null,
key:"type",typeMap:{text:f}});d=t=class extends g{constructor(q){super(q);this.styleOrigin=this.callout=this.verticalOffset=null;this.symbolLayers=new l;this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return p.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return p.hasVisibleVerticalOffset(this)}clone(){return new t({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail),callout:c.clone(this.callout),verticalOffset:c.clone(this.verticalOffset)})}static fromTextSymbol(q){return new t({symbolLayers:new b([f.fromTextSymbol(q)])})}};
a.__decorate([h.property({type:r,json:{write:!0}})],d.prototype,"verticalOffset",void 0);a.__decorate([h.property(p.calloutProperty)],d.prototype,"callout",void 0);a.__decorate([h.property({json:{read:!1,write:!1}})],d.prototype,"styleOrigin",void 0);a.__decorate([h.property({type:l})],d.prototype,"symbolLayers",void 0);a.__decorate([m.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],d.prototype,"type",void 0);return d=t=a.__decorate([e.subclass("esri.symbols.LabelSymbol3D")],d)})},"esri/symbols/Symbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M){const G={icon:u,object:z,line:w,path:k,fill:A,extrude:x,text:B,water:C};g=b.ofType({base:y,key:"type",typeMap:G,errorContext:"symbol-layer"});v=class extends v{constructor(E){super(E);this.type=this.thumbnail=this.styleOrigin=null;this._set("symbolLayers",new ((this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers)?.type||b))}get color(){return null}set color(E){this.constructed&&h.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(E){c.referenceSetter(E,
this._get("symbolLayers"))}readStyleOrigin(E,F,H){if(E.styleUrl&&E.name)return F=q.fromJSON(E.styleUrl,H),new L({styleUrl:F,name:E.name});if(E.styleName&&E.name)return new L({portal:H?.portal||l.getDefault(),styleName:E.styleName,name:E.name});H?.messages&&H.messages.push(new n("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:H,definition:E}))}writeStyleOrigin(E,F,H,R){E.styleUrl&&E.name?(H=q.toJSON(E.styleUrl,R),d.isAbsolute(H)&&
(H=d.normalize(H)),F.styleOrigin={styleUrl:H,name:E.name}):E.styleName&&E.name&&(E.portal&&R?.portal&&!d.hasSamePortal(E.portal.restUrl,R.portal.restUrl)?R?.messages&&R.messages.push(new n("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):F.styleOrigin={styleName:E.styleName,name:E.name})}normalizeCtorArgs(E){return E instanceof y||E&&G[E.type]?{symbolLayers:[E]}:Array.isArray(E)?{symbolLayers:E}:
E}};a.__decorate([m.property({json:{read:!1,write:!1}})],v.prototype,"color",null);a.__decorate([m.property({type:g,nonNullable:!0,json:{write:!0}}),e.cast(c.castForReferenceSetter)],v.prototype,"symbolLayers",null);a.__decorate([m.property({type:L})],v.prototype,"styleOrigin",void 0);a.__decorate([p.reader("styleOrigin")],v.prototype,"readStyleOrigin",null);a.__decorate([t.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
v.prototype,"writeStyleOrigin",null);a.__decorate([m.property({type:M.Thumbnail,json:{read:!1}})],v.prototype,"thumbnail",void 0);a.__decorate([m.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],v.prototype,"type",void 0);return v=a.__decorate([r.subclass("esri.symbols.Symbol3D")],v)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x){var A;h=A=class extends f{constructor(u){super(u);this.material=null;this.type="line";this.join="miter";this.cap="butt";this.size=b.px2pt(1);this.marker=this.pattern=null}clone(){const u={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new A(u)}static fromSimpleLineSymbol(u){u=
{enabled:!0,size:u.width??b.px2pt(1),cap:u.cap||"butt",join:u.join||"miter",pattern:u.style?new p({style:u.style}):null,material:new q.Symbol3DMaterial({color:(u.color||t.white).clone()}),marker:u.marker?new g({placement:u.marker.placement,style:u.marker.style,color:u.marker.color?.clone()??null}):null};return new A(u)}};a.__decorate([c.property({type:q.Symbol3DMaterial,json:{write:!0}})],h.prototype,"material",void 0);a.__decorate([m.enumeration({Line:"line"},{readOnly:!0})],h.prototype,"type",void 0);
a.__decorate([c.property({type:x.lineJoins,json:{write:!0,default:"miter"}})],h.prototype,"join",void 0);a.__decorate([c.property({type:x.lineCaps,json:{write:!0,default:"butt"}})],h.prototype,"cap",void 0);a.__decorate([c.property(l.screenSizeProperty)],h.prototype,"size",void 0);a.__decorate([c.property(r.symbol3dLinePatternProperty)],h.prototype,"pattern",void 0);a.__decorate([c.property({types:{key:"type",base:g,typeMap:{style:g}},json:{write:!0}})],h.prototype,"marker",void 0);return h=A=a.__decorate([e.subclass("esri.symbols.LineSymbol3DLayer")],
h)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,b,c,h,d,n,m,e,g,f){c=class extends c.ClonableMixin(h.JSONSupport){constructor(p){super(p);this.type="style";this.placement="begin-end";this.style="arrow";this.color=null}equals(p){return null!=
p&&p.placement===this.placement&&p.style===this.style&&(null==this.color&&null==p.color||null!=this.color&&null!=p.color&&this.color.toJSON()===p.color.toJSON())}};a.__decorate([d.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],c.prototype,"type",void 0);a.__decorate([d.property({type:f.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],c.prototype,"placement",void 0);a.__decorate([d.property({type:f.lineMarkerStyles,json:{default:"arrow",write:!0}})],c.prototype,
"style",void 0);a.__decorate([d.property({type:b,json:{type:[n.Integer],default:null,write:!0}})],c.prototype,"color",void 0);return c=a.__decorate([g.subclass("esri.symbols.LineStyleMarker3D")],c)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;c=r=class extends e{constructor(t){super(t);this.material=null;this.castShadows=!0;this.resource=null;this.type="object";this.roll=this.tilt=this.heading=this.anchorPosition=this.anchor=this.depth=this.height=this.width=void 0}clone(){return new r({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,
resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!==typeof this.resource.href}};a.__decorate([b.property({type:p.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([b.property({type:g.ObjectSymbol3DLayerResource,json:{write:!0}})],c.prototype,"resource",void 0);a.__decorate([n.enumeration({Object:"object"},
{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"width",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"depth",void 0);a.__decorate([n.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],c.prototype,"anchor",void 0);a.__decorate([b.property({type:f.Symbol3DAnchorPosition3D,
json:{type:[Number],read:{reader:t=>new f.Symbol3DAnchorPosition3D({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,l)=>{l.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],c.prototype,"anchorPosition",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"heading",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"tilt",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"roll",void 0);
a.__decorate([b.property({readOnly:!0})],c.prototype,"isPrimitive",null);return c=r=a.__decorate([m.subclass("esri.symbols.ObjectSymbol3DLayer")],c)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;c=c.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=r=class extends h.JSONSupport{clone(){return new r({href:this.href,primitive:this.primitive})}};b.__decorate([d.property({type:String,json:{read:p.read,write:p.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([g.enumeration(c)],a.ObjectSymbol3DLayerResource.prototype,
"primitive",void 0);a.ObjectSymbol3DLayerResource=r=b.__decorate([f.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){var g;a.Symbol3DAnchorPosition3D=g=class extends c{constructor(){super(...arguments);this.z=this.y=this.x=0}clone(){return new g({x:this.x,y:this.y,z:this.z})}};b.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([h.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=g=b.__decorate([e.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){var r;
c=r=class extends g{constructor(t){super(t);this.material=null;this.castShadows=!0;this.type="path";this.profile="circle";this.join="miter";this.cap="butt";this.height=this.width=void 0;this.anchor="center";this.profileRotation="all"}readWidth(t,l){return null!=t?t:null==l.height&&null!=l.size?l.size:void 0}readHeight(t,l){return null!=t?t:null==l.width&&null!=l.size?l.size:void 0}clone(){return new r({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,
profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};a.__decorate([b.property({type:f.Symbol3DMaterial,json:{write:!0}})],c.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],c.prototype,"castShadows",void 0);a.__decorate([n.enumeration({Path:"path"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([b.property({type:["circle","quad"],json:{write:!0,
default:"circle"}})],c.prototype,"profile",void 0);a.__decorate([b.property({type:p.lineJoins,json:{write:!0,default:"miter"}})],c.prototype,"join",void 0);a.__decorate([b.property({type:p.pathCaps,json:{write:!0,default:"butt"}})],c.prototype,"cap",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],c.prototype,"width",void 0);a.__decorate([m.reader("width",["width","size","height"])],c.prototype,"readWidth",null);a.__decorate([b.property({type:Number,
json:{write:!0}})],c.prototype,"height",void 0);a.__decorate([m.reader("height",["height","size","width"])],c.prototype,"readHeight",null);a.__decorate([b.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],c.prototype,"anchor",void 0);a.__decorate([b.property({type:["heading","all"],json:{write:!0,default:"all"}})],c.prototype,"profileRotation",void 0);return c=r=a.__decorate([e.subclass("esri.symbols.PathSymbol3DLayer")],c)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){var x;h=x=class extends f{constructor(A){super(A);this._userSize=void 0;this.halo=null;this.horizontalAlignment="center";this.lineHeight=1;this.text=this.background=this.material=null;this.type="text";this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(A){null!=A&&null!=this._userSize&&(A.size=this._userSize);this._set("font",A)}writeFont(A,u,w,z){u.font=A.write({},{...z,textSymbol3D:!0});delete u.font.size}get size(){return null!=
this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(A){this._userSize=A;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}clone(){const A=new x({enabled:this.enabled,font:this.font&&b.clone(this.font),halo:this.halo&&b.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:b.clone(this.background)});
A._userSize=this._userSize;return A}static fromTextSymbol(A){var u=x,w=null!=A.font?A.font.clone():new g;var z=A.haloColor;var k=A.haloSize;z=z&&null!=k&&0<k?new r.Symbol3DHalo({color:b.clone(z),size:k}):null;return new u({font:w,halo:z,horizontalAlignment:A.horizontalAlignment,lineHeight:A.lineHeight,material:A.color?new t.Symbol3DMaterial({color:A.color.clone()}):null,text:A.text,verticalAlignment:A.verticalAlignment,background:A.backgroundColor?new l.Symbol3DTextBackground({color:A.backgroundColor.clone()}):
null})}};a.__decorate([c.property({type:g,json:{write:!0}})],h.prototype,"font",null);a.__decorate([e.writer("font")],h.prototype,"writeFont",null);a.__decorate([c.property({type:r.Symbol3DHalo,json:{write:!0}})],h.prototype,"halo",void 0);a.__decorate([c.property({...q.horizontalAlignmentProperty,json:{default:"center",write:!0}})],h.prototype,"horizontalAlignment",void 0);a.__decorate([c.property({...q.lineHeightProperty,json:{default:1,write:!0}})],h.prototype,"lineHeight",void 0);a.__decorate([c.property({type:t.Symbol3DMaterial,
json:{write:!0}})],h.prototype,"material",void 0);a.__decorate([c.property({type:l.Symbol3DTextBackground,json:{write:!0}})],h.prototype,"background",void 0);a.__decorate([c.property(p.screenSizeProperty)],h.prototype,"size",null);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"text",void 0);a.__decorate([n.enumeration({Text:"text"},{readOnly:!0})],h.prototype,"type",void 0);a.__decorate([c.property({...q.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],h.prototype,
"verticalAlignment",void 0);return h=x=a.__decorate([m.subclass("esri.symbols.TextSymbol3DLayer")],h)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;a.Symbol3DHalo=p=class extends h.JSONSupport{constructor(){super(...arguments);
this.color=new c([0,0,0,1]);this.size=0}clone(){const r={color:d.clone(this.color),size:this.size};return new p(r)}};b.__decorate([n.property(f.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([n.property(f.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=p=b.__decorate([g.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){a.Symbol3DTextBackground=class extends c.ClonableMixin(h.JSONSupport){constructor(p){super(p);this.color=null}};b.__decorate([d.property(f.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=b.__decorate([g.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,c,h,d,n,m,e){var g;e=g=class extends e{constructor(p){super(p);this.color=f.clone();this.type="water";this.waterbodySize="medium";this.waveDirection=null;this.waveStrength="moderate"}clone(){return new g({color:c.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};a.__decorate([h.property({type:b,nonNullable:!0,json:{type:[d.Integer],write:(p,r,t)=>r[t]=p.toArray(b.AlphaMode.UNLESS_OPAQUE),default:()=>f.clone(),defaultEquals:p=>
p.toCss(!0)===f.toCss(!0)}})],e.prototype,"color",void 0);a.__decorate([n.enumeration({Water:"water"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([h.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],e.prototype,"waterbodySize",void 0);a.__decorate([h.property({type:Number,json:{write:!0,default:null}})],e.prototype,"waveDirection",void 0);a.__decorate([h.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],e.prototype,
"waveStrength",void 0);a=e=g=a.__decorate([m.subclass("esri.symbols.WaterSymbol3DLayer")],e);const f=new b([0,119,190]);return a})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends b{constructor(f){super(f);this.portal=this.styleName=
this.styleUrl=this.name=null}clone(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};a.__decorate([c.property({type:String})],b.prototype,"name",void 0);a.__decorate([c.property({type:String})],b.prototype,"styleUrl",void 0);a.__decorate([c.property({type:String})],b.prototype,"styleName",void 0);a.__decorate([c.property({type:e})],b.prototype,"portal",void 0);return b=g=a.__decorate([m.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){var g;a.Thumbnail=g=class extends c{constructor(){super(...arguments);this.url=""}clone(){return new g({url:this.url})}};b.__decorate([h.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=g=b.__decorate([e.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,c){function h(d){if(!d)return!1;
d=d.verticalOffset;return!d||0>=d.screenLength||null!=d.maxWorldLength&&0>=d.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:c}},json:{write:!0}};a.hasCalloutSupport=function(d){return"point-3d"===d.type||"label-3d"===d.type};a.hasVisibleCallout=function(d){if(!d||!d.supportsCallout||!d.supportsCallout())return!1;const n=d.callout;return n&&n.visible?h(d)?!0:!1:!1};a.hasVisibleVerticalOffset=h;a.textSymbolLayerSupportsVerticalOffset=function(d){return"center"===d.horizontalAlignment};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e);this.visible=!0}clone(){throw Error("Subclasses of Callout3D should implement their own clone method.");
}};a.__decorate([c.property({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);a.__decorate([c.property({readOnly:!0})],b.prototype,"visible",void 0);return b=a.__decorate([m.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){var t;n=t=class extends f{constructor(l){super(l);this.type="line";this.color=new b([0,0,0,1]);this.size=h.px2pt(1);this.border=null}get visible(){return 0<this.size&&null!=this.color&&0<this.color.a}clone(){return new t({color:c.clone(this.color),size:this.size,border:c.clone(this.border)})}};a.__decorate([e.enumeration({line:"line"})],n.prototype,"type",void 0);a.__decorate([d.property(r.colorAndTransparencyProperty)],n.prototype,"color",void 0);a.__decorate([d.property(r.screenSizeProperty)],
n.prototype,"size",void 0);a.__decorate([d.property({type:p,json:{write:!0}})],n.prototype,"border",void 0);a.__decorate([d.property({readOnly:!0})],n.prototype,"visible",null);return n=t=a.__decorate([g.subclass("esri.symbols.callouts.LineCallout3D")],n)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;c=f=class extends c.JSONSupport{constructor(p){super(p);this.color=new b("white")}clone(){return new f({color:h.clone(this.color)})}};a.__decorate([d.property(g.colorAndTransparencyProperty)],c.prototype,"color",void 0);return c=f=a.__decorate([e.subclass("esri.symbols.callouts.LineCallout3DBorder")],c)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,c,h,d,n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f);this.minWorldLength=this.screenLength=0;this.maxWorldLength=null}clone(){return new g({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};a.__decorate([c.property(e.screenSizeProperty)],b.prototype,"screenLength",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0);a.__decorate([c.property({type:Number,
json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=g=a.__decorate([m.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){var r;
const t=b.ofType({base:null,key:"type",typeMap:{line:g,path:f}});d=b.ofType({base:null,key:"type",typeMap:{line:g,path:f}});p=r=class extends p{constructor(l){super(l);this.symbolLayers=new t;this.type="line-3d"}clone(){return new r({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail)})}static fromSimpleLineSymbol(l){return new r({symbolLayers:new b([g.fromSimpleLineSymbol(l)])})}};a.__decorate([h.property({type:t,json:{type:d}})],p.prototype,
"symbolLayers",void 0);a.__decorate([m.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],p.prototype,"type",void 0);return p=r=a.__decorate([e.subclass("esri.symbols.LineSymbol3D")],p)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,c,h,d,n,m,e){d=class extends e{constructor(g){super(g);
this.angle=0;this.type=null;this.yoffset=this.xoffset=0;this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};a.__decorate([c.property({type:Number,json:{read:g=>g&&-1*g,write:(g,f)=>f.angle=g&&-1*g}})],d.prototype,"angle",void 0);a.__decorate([c.property({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,"type",void 0);a.__decorate([c.property({type:Number,cast:b.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);a.__decorate([c.property({type:Number,
cast:b.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);a.__decorate([c.property({cast:g=>"auto"===g?g:h.ensureNumber(b.toPt(g)),json:{write:!0}})],d.prototype,"size",void 0);return d=a.__decorate([m.subclass("esri.symbols.MarkerSymbol")],d)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;const r=b.ofType({base:null,key:"type",typeMap:{fill:g}});d=p=class extends f{constructor(t){super(t);this.symbolLayers=new r;this.type="mesh-3d"}clone(){return new p({styleOrigin:c.clone(this.styleOrigin),symbolLayers:c.clone(this.symbolLayers),thumbnail:c.clone(this.thumbnail)})}static fromSimpleFillSymbol(t){return new p({symbolLayers:new b([g.fromSimpleFillSymbol(t)])})}};a.__decorate([h.property({type:r})],d.prototype,"symbolLayers",void 0);a.__decorate([m.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],d.prototype,"type",void 0);return d=p=a.__decorate([e.subclass("esri.symbols.MeshSymbol3D")],d)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;d=p=class extends g{constructor(...r){super(...r);
this.type="picture-fill";this.url=null;this.yscale=this.xscale=1;this.height=this.width=12;this.yoffset=this.xoffset=0;this.source=null}normalizeCtorArgs(r,t,l,q){if(r&&"string"!==typeof r&&null==r.imageData)return r;const x={};r&&(x.url=r);t&&(x.outline=t);null!=l&&(x.width=c.toPt(l));null!=q&&(x.height=c.toPt(q));return x}clone(){const r=new p({color:b.clone(this.color),height:this.height,outline:b.clone(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});r._set("source",b.clone(this.source));return r}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};a.__decorate([m.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([h.property(f.urlPropertyDefinition)],d.prototype,"url",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"xscale",void 0);a.__decorate([h.property({type:Number,
json:{write:!0}})],d.prototype,"yscale",void 0);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0);a.__decorate([h.property(f.sourcePropertyDefinition)],d.prototype,
"source",void 0);return d=p=a.__decorate([e.subclass("esri.symbols.PictureFillSymbol")],d)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,c){function h(e,g,f){return g.imageData?b.makeData({mediaType:g.contentType||"image/png",isBase64:!0,data:g.imageData}):d(g.url,f)}function d(e,g){if(!b.isAbsolute(e)){if(g){var {origin:f,layer:p}=g;if("service"!==f&&"portal-item"!==f)var r=null;else r=p?.type,r="feature"===
r||"stream"===r?p.parsedUrl?.path:"map-image"===r||"tile"===r?g.url?.path:null}else r=null;if(r)return b.join(r,"images",e)}return c.fromJSON(e,g)}function n(e,g,f,p){if(b.isDataProtocol(e)){if(e=b.dataComponents(e))g.contentType=e.mediaType,g.imageData=e.data,f&&f.imageData===g.imageData&&f.url&&c.write(f.url,g,"url",p)}else c.write(e,g,"url",p)}const m={json:{read:{source:["imageData","url"],reader:h},write:{writer(e,g,f,p){n(e,g,this.source,p)}}}};a.read=d;a.readImageDataOrUrl=h;a.sourcePropertyDefinition=
{readOnly:!0,json:{read:{source:["imageData","url"],reader(e,g,f){e={};g.imageData&&(e.imageData=g.imageData);g.contentType&&(e.contentType=g.contentType);g.url&&(e.url=d(g.url,f));return e}}}};a.urlPropertyDefinition=m;a.writeImageDataAndUrl=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;d=r=class extends f{constructor(...t){super(...t);this.color=null;this.type="picture-marker";this.source=this.url=null;this.width=this.height=12;this.size=null}normalizeCtorArgs(t,l,q){if(t&&"string"!==typeof t&&null==t.imageData)return t;const x={};t&&(x.url=t);null!=l&&(x.width=c.toPt(l));null!=q&&(x.height=c.toPt(q));return x}readHeight(t,l){return l.size||t}readWidth(t,l){return l.size||t}clone(){const t=new r({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});t._set("source",b.clone(this.source));return t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a.__decorate([h.property({json:{write:!1}})],d.prototype,"color",void 0);a.__decorate([m.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],d.prototype,"type",void 0);a.__decorate([h.property(p.urlPropertyDefinition)],d.prototype,"url",void 0);a.__decorate([h.property(p.sourcePropertyDefinition)],d.prototype,"source",
void 0);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"height",void 0);a.__decorate([e.reader("height",["height","size"])],d.prototype,"readHeight",null);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"width",void 0);a.__decorate([h.property({json:{write:!1}})],d.prototype,"size",void 0);return d=r=a.__decorate([g.subclass("esri.symbols.PictureMarkerSymbol")],d)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/tslib.es6 ../Color ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./callouts/LineCallout3D ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x){var A;const u=c.ofType({base:null,key:"type",typeMap:{icon:f,object:p,text:t}});n=A=class extends r{constructor(w){super(w);this.callout=this.verticalOffset=null;this.symbolLayers=new u;this.type="point-3d"}supportsCallout(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const w of this.symbolLayers.items)switch(w.type){case "icon":case "text":case "object":continue;default:return!1}return!0}hasVisibleCallout(){return l.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return l.hasVisibleVerticalOffset(this)}clone(){return new A({verticalOffset:h.clone(this.verticalOffset),
callout:h.clone(this.callout),styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})}static fromSimpleMarkerSymbol(w){return new A({symbolLayers:new c([f.fromSimpleMarkerSymbol(w)])})}static fromPictureMarkerSymbol(w){return new A({symbolLayers:new c([f.fromPictureMarkerSymbol(w)])})}static fromCIMSymbol(w){return"CIMPointSymbol"!==w.data?.symbol?.type?null:w.data.symbol?.callout?new A({symbolLayers:new c([f.fromCIMSymbol(w)]),callout:new q({size:.5,
color:new b([0,0,0])}),verticalOffset:new x({screenLength:40})}):new A({symbolLayers:new c([f.fromCIMSymbol(w)])})}static fromTextSymbol(w){return new A({symbolLayers:new c([t.fromTextSymbol(w)])})}};a.__decorate([d.property({type:x,json:{write:!0}})],n.prototype,"verticalOffset",void 0);a.__decorate([d.property(l.calloutProperty)],n.prototype,"callout",void 0);a.__decorate([d.property({type:u,json:{origins:{"web-scene":{write:!0}}}})],n.prototype,"symbolLayers",void 0);a.__decorate([e.enumeration({PointSymbol3D:"point-3d"},
{readOnly:!0})],n.prototype,"type",void 0);return n=A=a.__decorate([g.subclass("esri.symbols.PointSymbol3D")],n)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/deprecate ../core/lang ../core/Logger ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u){var w;const z=b.ofType({base:null,key:"type",typeMap:{extrude:p,fill:r,icon:t,line:l,object:q,text:A,water:u}});e=w=class extends x{constructor(k){super(k);this.symbolLayers=new z;this.type="polygon-3d"}initialize(){const k=v=>{"line"===v.type&&c.deprecated(d.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"});"text"===v.type&&
c.deprecated(d.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const v of this.symbolLayers)k(v);this.addHandles(n.on(()=>this.symbolLayers,"after-add",({item:v})=>k(v),n.sync))}clone(){return new w({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})}static fromJSON(k){const v=new w;v.read(k);if(2===v.symbolLayers.length&&
"fill"===v.symbolLayers.at(0).type&&"line"===v.symbolLayers.at(1).type){const y=v.symbolLayers.at(0),B=v.symbolLayers.at(1);!B.enabled||k.symbolLayers?.[1]&&!1===k.symbolLayers[1].enable||(y.outline={size:B.size,color:null!=B.material?B.material.color:null});v.symbolLayers.removeAt(1)}return v}static fromSimpleFillSymbol(k){return new w({symbolLayers:new b([r.fromSimpleFillSymbol(k)])})}};a.__decorate([m.property({type:z,json:{write:!0}})],e.prototype,"symbolLayers",void 0);a.__decorate([g.enumeration({PolygonSymbol3D:"polygon-3d"},
{readOnly:!0})],e.prototype,"type",void 0);return e=w=a.__decorate([f.subclass("esri.symbols.PolygonSymbol3D")],e)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){var r;c=new c.JSONMap({esriSFSSolid:"solid",
esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});f=r=class extends f{constructor(...t){super(...t);this.color=new b([0,0,0,.25]);this.outline=new p;this.type="simple-fill";this.style="solid"}normalizeCtorArgs(t,l,q){if(t&&"string"!==typeof t)return t;const x={};t&&(x.style=t);l&&(x.outline=l);q&&(x.color=q);return x}clone(){return new r({color:h.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};a.__decorate([d.property()],f.prototype,"color",void 0);a.__decorate([d.property()],f.prototype,"outline",void 0);a.__decorate([e.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([d.property({type:c.apiValues,json:{read:c.read,write:c.write}})],f.prototype,"style",void 0);return f=r=a.__decorate([g.subclass("esri.symbols.SimpleFillSymbol")],
f)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t){var l;c=new c.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",
esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});r=l=class extends r{constructor(...q){super(...q);this.color=new b([255,255,255,.25]);this.type="simple-marker";this.size=12;this.style="circle";this.outline=new t}normalizeCtorArgs(q,x,A,u){if(q&&"string"!==typeof q)return q;const w={};q&&(w.style=q);null!=x&&(w.size=d.toPt(x));A&&(w.outline=A);u&&(w.color=u);return w}writeColor(q,x){q&&"x"!==this.style&&"cross"!==this.style&&(x.color=q.toJSON());null===q&&(x.color=
null)}set path(q){this.style="path";this._set("path",q)}clone(){return new l({angle:this.angle,color:h.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};a.__decorate([n.property()],r.prototype,"color",void 0);a.__decorate([p.writer("color")],r.prototype,"writeColor",null);a.__decorate([g.enumeration({esriSMS:"simple-marker"},
{readOnly:!0})],r.prototype,"type",void 0);a.__decorate([n.property()],r.prototype,"size",void 0);a.__decorate([n.property({type:c.apiValues,json:{read:c.read,write:c.write}})],r.prototype,"style",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],r.prototype,"path",null);a.__decorate([n.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":t}},json:{default:null,write:!0}})],r.prototype,"outline",void 0);return r=l=a.__decorate([f.subclass("esri.symbols.SimpleMarkerSymbol")],
r)})},"esri/symbols/TextSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r){var t;p=t=class extends p{constructor(...l){super(...l);this.borderLineSize=this.borderLineColor=
this.backgroundColor=null;this.font=new f;this.horizontalAlignment="center";this.kerning=!0;this.rightToLeft=this.haloSize=this.haloColor=null;this.rotated=!1;this.text="";this.type="text";this.verticalAlignment="baseline";this.angle=this.yoffset=this.xoffset=0;this.width=null;this.lineWidth=192;this.lineHeight=1}normalizeCtorArgs(l,q,x){if(l&&"string"!==typeof l)return l;const A={};l&&(A.text=l);q&&(A.font=q);x&&(A.color=x);return A}writeLineWidth(l,q,x,A){A&&"string"!==typeof A||(q[x]=l)}castLineWidth(l){return h.toPt(l)}writeLineHeight(l,
q,x,A){A&&"string"!==typeof A||(q[x]=l)}clone(){return new t({angle:this.angle,backgroundColor:c.clone(this.backgroundColor),borderLineColor:c.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:c.clone(this.color),font:this.font&&this.font.clone(),haloColor:c.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,
verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};
a.__decorate([d.property({type:b,json:{write:!0}})],p.prototype,"backgroundColor",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],p.prototype,"borderLineColor",void 0);a.__decorate([d.property({type:Number,json:{write:!0},cast:h.toPt})],p.prototype,"borderLineSize",void 0);a.__decorate([d.property({type:f,json:{write:!0}})],p.prototype,"font",void 0);a.__decorate([d.property({...r.horizontalAlignmentProperty,json:{write:!0}})],p.prototype,"horizontalAlignment",void 0);a.__decorate([d.property({type:Boolean,
json:{write:!0}})],p.prototype,"kerning",void 0);a.__decorate([d.property({type:b,json:{write:!0}})],p.prototype,"haloColor",void 0);a.__decorate([d.property({type:Number,cast:h.toPt,json:{write:!0}})],p.prototype,"haloSize",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],p.prototype,"rightToLeft",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0}})],p.prototype,"rotated",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],p.prototype,"text",void 0);a.__decorate([m.enumeration({esriTS:"text"},
{readOnly:!0})],p.prototype,"type",void 0);a.__decorate([d.property({...r.verticalAlignmentProperty,json:{write:!0}})],p.prototype,"verticalAlignment",void 0);a.__decorate([d.property({type:Number,cast:h.toPt,json:{write:!0}})],p.prototype,"xoffset",void 0);a.__decorate([d.property({type:Number,cast:h.toPt,json:{write:!0}})],p.prototype,"yoffset",void 0);a.__decorate([d.property({type:Number,json:{read:l=>l&&-1*l,write:(l,q)=>q.angle=l&&-1*l}})],p.prototype,"angle",void 0);a.__decorate([d.property({type:Number,
json:{write:!0}})],p.prototype,"width",void 0);a.__decorate([d.property({type:Number})],p.prototype,"lineWidth",void 0);a.__decorate([g.writer("lineWidth")],p.prototype,"writeLineWidth",null);a.__decorate([n.cast("lineWidth")],p.prototype,"castLineWidth",null);a.__decorate([d.property(r.lineHeightProperty)],p.prototype,"lineHeight",void 0);a.__decorate([g.writer("lineHeight")],p.prototype,"writeLineHeight",null);return p=t=a.__decorate([e.subclass("esri.symbols.TextSymbol")],p)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t){var l;n=l=class extends r{constructor(q){super(q);this.name=this.thumbnail=this.styleUrl=this.portal=this.styleName=this.color=null;this.type="web-style"}get _fetchCacheKey(){const q=null!=this.portal?this.portal:f.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${q.user?q.user.username:null}:${q.url}`}read(q,x){this.portal=x?.portal;super.read(q,x)}clone(){return new l({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(q){return this._fetchSymbol("webRef",
q)}fetchCIMSymbol(q){return this._fetchSymbol("cimRef",q)}async _fetchSymbol(q,x){const A=null!=x?x.cache:null,u=A?this._fetchCacheKey:null;if(null!=A){var w=u&&A.get(u);if(w)return w.clone()}({resolveWebStyleSymbol:w}=await new Promise((z,k)=>a(["./support/webStyleSymbolUtils"],z,k)));h.throwIfAborted(x);x=w(this,{portal:this.portal},q,x);x.catch(z=>{c.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",z)});x=await x;if(!("webRef"===q&&"point-3d"===x.type||"cimRef"===q&&
"cim"===x.type))return null;null!=A&&A.set(u,x.clone());return x}};b.__decorate([d.property({json:{write:!1}})],n.prototype,"color",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],n.prototype,"styleName",void 0);b.__decorate([d.property({type:f,json:{write:!1}})],n.prototype,"portal",void 0);b.__decorate([d.property({type:String,json:{read:p.read,write:p.write}})],n.prototype,"styleUrl",void 0);b.__decorate([d.property({type:t.Thumbnail,json:{read:!1}})],n.prototype,"thumbnail",void 0);
b.__decorate([d.property({type:String,json:{write:!0}})],n.prototype,"name",void 0);b.__decorate([e.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],n.prototype,"type",void 0);b.__decorate([d.property()],n.prototype,"_fetchCacheKey",null);return n=l=b.__decorate([g.subclass("esri.symbols.WebStyleSymbol")],n)})},"esri/renderers/Renderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,c,h,d,n,m,e,g){b=new b.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});c=class extends c.JSONSupport{constructor(f){super(f);this.type=this.authoringInfo=null}async getRequiredFields(f){if(!this.collectRequiredFields)return[];const p=new Set;await this.collectRequiredFields(p,f);return Array.from(p).sort()}getSymbol(f,p){}async getSymbolAsync(f,p){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};
a.__decorate([h.property({type:g,json:{write:!0}})],c.prototype,"authoringInfo",void 0);a.__decorate([h.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],c.prototype,"type",void 0);return c=a.__decorate([e.subclass("esri.renderers.Renderer")],c)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;const t=new b.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),l=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",
flow:"flow"});b=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const q="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers".split(" ");c=r=class extends c.JSONSupport{constructor(x){super(x);this.fadeRatio=this.colorRamp=null;this.isAutoGenerated=!1;this.visualVariables=this.minSliderValue=this.maxSliderValue=
this.lengthUnit=null}get classificationMethod(){const x=this._get("classificationMethod"),A=this.type;return A&&"relationship"!==A?"class-breaks-size"===A||"class-breaks-color"===A?x||"manual":null:x}set classificationMethod(x){this._set("classificationMethod",x)}readColorRamp(x){return x?p.fromJSON(x):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(x){this._set("fields",x)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(x){this._set("field1",
x)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(x){this._set("field2",x)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(x){this._set("flowTheme",x)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(x){this._set("focus",x)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(x){this._set("numClasses",x)}get statistics(){return"univariate-color-size"===
this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(x){this._set("statistics",x)}get standardDeviationInterval(){const x=this.type;return x&&"relationship"!==x&&"class-breaks-size"!==x&&"class-breaks-color"!==x?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(x){this._set("standardDeviationInterval",x)}get type(){return this._get("type")}set type(x){let A=
x;"classed-size"===x?A="class-breaks-size":"classed-color"===x&&(A="class-breaks-color");this._set("type",A)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(x){this._set("univariateSymbolStyle",x)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(x){this._set("univariateTheme",x)}clone(){return new r({classificationMethod:this.classificationMethod,
colorRamp:h.clone(this.colorRamp),fadeRatio:h.clone(this.fadeRatio),fields:this.fields?.slice(),field1:h.clone(this.field1),field2:h.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(x=>x.clone()),
univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};a.__decorate([d.property({type:t.apiValues,value:null,json:{type:t.jsonValues,read:t.read,write:t.write,origins:{"web-document":{default:"manual",type:t.jsonValues,read:t.read,write:t.write}}}})],c.prototype,"classificationMethod",null);a.__decorate([d.property({types:p.types,json:{write:!0}})],c.prototype,"colorRamp",void 0);a.__decorate([m.reader("colorRamp")],c.prototype,"readColorRamp",
null);a.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"fadeRatio",void 0);a.__decorate([d.property({type:[String],value:null,json:{write:!0}})],c.prototype,"fields",null);a.__decorate([d.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],c.prototype,"field1",null);a.__decorate([d.property({type:g.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],c.prototype,"field2",null);a.__decorate([d.property({type:["flow-line","wave-front"],
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"flowTheme",null);a.__decorate([d.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],c.prototype,"focus",null);a.__decorate([d.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],c.prototype,"isAutoGenerated",void 0);a.__decorate([d.property({type:Number,value:null,json:{type:n.Integer,write:!0}})],c.prototype,"numClasses",null);a.__decorate([d.property({type:q,json:{type:q,
read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],c.prototype,"lengthUnit",void 0);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"maxSliderValue",void 0);a.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"minSliderValue",void 0);a.__decorate([d.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"statistics",null);
a.__decorate([d.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],c.prototype,"standardDeviationInterval",null);a.__decorate([d.property({type:l.apiValues,value:null,json:{type:l.jsonValues,read:l.read,write:l.write,origins:{"web-scene":{type:b.jsonValues,write:{writer:b.write,overridePolicy(x){return{enabled:"flow"!==x}}}}}}})],c.prototype,"type",null);a.__decorate([d.property({type:[f],json:{write:!0}})],c.prototype,"visualVariables",void 0);a.__decorate([d.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),
value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"univariateSymbolStyle",null);a.__decorate([d.property({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],c.prototype,"univariateTheme",null);return c=r=a.__decorate([e.subclass("esri.renderers.support.AuthoringInfo")],c)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;a.AuthoringInfoFieldInfo=f=class extends c.JSONSupport{constructor(p){super(p);this.label=this.normalizationField=this.field="";this.classBreakInfos=[]}clone(){return new f({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:h.clone(this.classBreakInfos)})}};b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,
"normalizationField",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([d.property({type:[g.AuthoringInfoClassBreakInfo],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=f=b.__decorate([e.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){var g;a.AuthoringInfoClassBreakInfo=g=class extends c.JSONSupport{constructor(f){super(f);this.maxValue=this.minValue=0}clone(){return new g({minValue:this.minValue,maxValue:this.maxValue})}};b.__decorate([h.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([h.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=g=b.__decorate([e.subclass("esri.renderers.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./AuthoringInfoSizeStop".split(" "),function(a,b,c,h,d,n,m,e){var g;const f=new b.JSONMap({percentTotal:"percent-of-total",
ratio:"ratio",percent:"percent"});b=new b.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const p={key(q){return"number"===typeof q?"number":"string"},typeMap:{number:Number,string:String},base:null},r=["high-to-low","above-and-below","centered-on","extremes"],t=[...(new Set("high-to-low above-and-below centered-on extremes above below high-to-low above-and-below above below reference-size".split(" ")))],l="seconds minutes hours days months years".split(" ");
c=g=class extends c.JSONSupport{constructor(q){super(q);this.units=this.type=this.startTime=this.minSliderValue=this.maxSliderValue=this.field=this.endTime=null}castEndTime(q){return"string"===typeof q||"number"===typeof q?q:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(q){this._set("normalizationField",q)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(q){this._set("referenceSizeScale",
q)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(q){this._set("referenceSizeSymbolStyle",q)}castStartTime(q){return"string"===typeof q||"number"===typeof q?q:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(q){this._set("sizeStops",q)}get style(){return"color"===this.type?this._get("style"):null}set style(q){this._set("style",q)}get theme(){return"color"===
this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(q){this._set("theme",q)}clone(){return new g({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:h.clone(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};
a.__decorate([d.property({types:p,json:{write:!0}})],c.prototype,"endTime",void 0);a.__decorate([n.cast("endTime")],c.prototype,"castEndTime",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxSliderValue",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"minSliderValue",void 0);a.__decorate([d.property({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],
c.prototype,"normalizationField",null);a.__decorate([d.property({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"referenceSizeScale",null);a.__decorate([d.property({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"referenceSizeSymbolStyle",null);a.__decorate([d.property({types:p,json:{write:!0}})],c.prototype,"startTime",void 0);a.__decorate([n.cast("startTime")],c.prototype,
"castStartTime",null);a.__decorate([d.property({type:[e],json:{origins:{"web-scene":{write:!1}},write:!0}})],c.prototype,"sizeStops",null);a.__decorate([d.property({type:f.apiValues,value:null,json:{type:f.jsonValues,read:f.read,write:f.write}})],c.prototype,"style",null);a.__decorate([d.property({type:t,value:null,json:{type:t,origins:{"web-scene":{type:r,write:{writer:(q,x)=>{r.includes(q)&&(x.theme=q)}}}},write:!0}})],c.prototype,"theme",null);a.__decorate([d.property({type:b.apiValues,json:{type:b.jsonValues,
read:b.read,write:b.write}})],c.prototype,"type",void 0);a.__decorate([d.property({type:l,json:{type:l,write:!0}})],c.prototype,"units",void 0);return c=g=a.__decorate([m.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],c)})},"esri/renderers/support/AuthoringInfoSizeStop":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.value=this.size=this.label=null}clone(){return new e({label:this.label,value:this.value,size:this.size})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=e=a.__decorate([m.subclass("esri.renderers.support.AuthoringInfoSizeStop")],
b)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,c,h){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:h}};a.fromJSON=function(d){return d?.type?"algorithmic"===d.type?b.fromJSON(d):"multipart"===d.type?h.fromJSON(d):null:null};a.types=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,c,h,d,n,m,e){var g;e=g=class extends e{constructor(f){super(f);this.toColor=this.fromColor=this.algorithm=null;this.type="algorithmic"}clone(){return new g({fromColor:c.clone(this.fromColor),toColor:c.clone(this.toColor),algorithm:this.algorithm})}};a.__decorate([n.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],e.prototype,"algorithm",void 0);a.__decorate([h.property({type:b,json:{type:[d.Integer],write:!0}})],e.prototype,"fromColor",
void 0);a.__decorate([h.property({type:b,json:{type:[d.Integer],write:!0}})],e.prototype,"toColor",void 0);a.__decorate([h.property({type:["algorithmic"]})],e.prototype,"type",void 0);return e=g=a.__decorate([m.subclass("esri.rest.support.AlgorithmicColorRamp")],e)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e);this.type=null}};a.__decorate([c.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.rest.support.ColorRamp")],b)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,c,h,d,n,m,e){var g;h=g=class extends e{constructor(f){super(f);this.colorRamps=null;this.type="multipart"}clone(){return new g({colorRamps:b.clone(this.colorRamps)})}};a.__decorate([c.property({type:[m],json:{write:!0}})],h.prototype,"colorRamps",void 0);a.__decorate([c.property({type:["multipart"]})],h.prototype,"type",void 0);return h=g=a.__decorate([n.subclass("esri.rest.support.MultipartColorRamp")],h)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A){const u={base:x,key:"type",typeMap:{opacity:t,color:r,rotation:l,size:q}};a.VisualVariablesMixin=w=>{w=class extends w{constructor(){super(...arguments);this._vvFactory=new A}set visualVariables(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(z,k,v){return this._vvFactory.readVariables(z,k,v)}writeVisualVariables(z,k,v,y){k[v]=this._vvFactory.writeVariables(z,y)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;
for(const z of this.visualVariables)if(z.arcadeRequired)return!0;return!1}hasVisualVariables(z,k){return z?0<this.getVisualVariablesForType(z,k).length:0<this.getVisualVariablesForType("size",k).length||0<this.getVisualVariablesForType("color",k).length||0<this.getVisualVariablesForType("opacity",k).length||0<this.getVisualVariablesForType("rotation",k).length}getVisualVariablesForType(z,k){const v=this.visualVariables;return v?v.filter(y=>y.type===z&&("string"===typeof k?y.target===k:!1===k?!y.target:
!0)):[]}async collectVVRequiredFields(z,k){var v=[];this.visualVariables&&(v=v.concat(this.visualVariables));for(const B of v)if(B&&(B.field&&f.collectField(z,k,B.field),B.normalizationField&&f.collectField(z,k,B.normalizationField),B.valueExpression)){{v=z;var y=k;const C=p.matchRandomRotationExpression(B.valueExpression);null!=C?(f.collectField(v,y,C),v=!0):v=!1}v||await f.collectArcadeFieldNames(z,k,B.valueExpression)}}};b.__decorate([c.property({types:[u],value:null,json:{write:!0}})],w.prototype,
"visualVariables",null);b.__decorate([m.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],w.prototype,"readVisualVariables",null);b.__decorate([g.writer("visualVariables")],w.prototype,"writeVisualVariables",null);return w=b.__decorate([e.subclass("esri.renderers.mixins.VisualVariablesMixin")],w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;
a.matchRandomRotationExpression=function(c){return c.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),function(a,b,c,h,d,n,m,e){var g;c=g=class extends m{constructor(f){super(f);
this.type="color";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(f){f&&Array.isArray(f)&&(f=f.filter(p=>!!p),f.sort((p,r)=>p.value-r.value));this._set("stops",f)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(f=>f.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&
this.stops.map(f=>f.value||0)}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["color"],json:{type:["colorInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[e],json:{write:!0}})],c.prototype,"stops",null);return c=g=a.__decorate([n.subclass("esri.renderers.visualVariables.ColorVariable")],c)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,c,h,d,n,m,e,g){b=new b.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});c=class extends c.JSONSupport{constructor(f){super(f);this.legendOptions=this.valueExpressionTitle=this.valueExpression=this.field=this.type=this.index=null}castField(f){return null==f?f:"function"===typeof f?(h.getLogger(this).error(".field: field must be a string value"),null):e.ensureString(f)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};
a.__decorate([d.property()],c.prototype,"index",void 0);a.__decorate([d.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],c.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([n.cast("field")],c.prototype,"castField",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",
void 0);a.__decorate([d.property({readOnly:!0})],c.prototype,"arcadeRequired",null);a.__decorate([d.property({type:g,json:{write:!0}})],c.prototype,"legendOptions",void 0);return c=a.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariable")],c)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/Clonable ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){b=class extends b.ClonableMixin(c.JSONSupport){constructor(){super(...arguments);this.title=this.showLegend=null}};a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"showLegend",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=a.__decorate([e.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;c=f=class extends c.JSONSupport{constructor(p){super(p);this.value=this.label=this.color=null}writeValue(p,r,t){r[t]=null==p?0:p}clone(){return new f({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};a.__decorate([h.property({type:b,json:{type:[d.Integer],write:!0}})],c.prototype,"color",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([h.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
c.prototype,"value",void 0);a.__decorate([g.writer("value")],c.prototype,"writeValue",null);return c=f=a.__decorate([e.subclass("esri.renderers.visualVariables.support.ColorStop")],c)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),function(a,b,c,h,d,n,m,e){var g;
c=g=class extends m{constructor(f){super(f);this.type="opacity";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(f){f&&Array.isArray(f)&&(f=f.filter(p=>!!p),f.sort((p,r)=>p.value-r.value));this._set("stops",f)}clone(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(f=>
f.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(f=>f.value||0)}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["opacity"],json:{type:["transparencyInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[e],
json:{write:!0}})],c.prototype,"stops",null);return c=g=a.__decorate([n.subclass("esri.renderers.visualVariables.OpacityVariable")],c)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;b=p=class extends b.JSONSupport{constructor(r){super(r);this.value=this.opacity=this.label=null}readOpacity(r,t){return f.transparencyToOpacity(t.transparency)}writeOpacity(r,t,l){t[l]=f.opacityToTransparency(r)}clone(){return new p({label:this.label,opacity:this.opacity,value:this.value})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,json:{type:h.Integer,write:{target:"transparency"}}})],
b.prototype,"opacity",void 0);a.__decorate([m.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);a.__decorate([g.writer("opacity")],b.prototype,"writeOpacity",null);a.__decorate([c.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=p=a.__decorate([e.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.axis=null;this.type="rotation";this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new e({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};a.__decorate([b.property({readOnly:!0})],c.prototype,"cache",null);a.__decorate([b.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],c.prototype,"axis",void 0);a.__decorate([b.property({type:["rotation"],json:{type:["rotationInfo"]}})],c.prototype,"type",void 0);a.__decorate([b.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],c.prototype,"rotationType",void 0);return c=e=a.__decorate([n.subclass("esri.renderers.visualVariables.RotationVariable")],c)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/castSizeVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){function x(v){if(null!=v){if("string"===typeof v||"number"===typeof v)return p.castSizeFromStringOrNumber(v);if("size"===v.type){if(l.isSizeVariable(v))return v;v={...v};delete v.type;return new k(v)}}}function A(v,y,B){if("object"!==typeof v)return v;y=new k;y.read(v,B);return y}var u;const w=new c.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new c.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",
mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});let k=u=class extends f{constructor(v){super(v);this.target=this.scaleBy=this.normalizationField=this.legendOptions=this.axis=null;this.type="size";this.valueUnit=this.valueRepresentation=this.valueExpression=this.useSymbolValue=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=
this.valueExpression&&q.viewScaleRE.test(this.valueExpression)}}set index(v){l.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${v}].maxSize`);l.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${v}].minSize`);this._set("index",v)}get inputValueType(){return l.getInputValueType(this)}set maxDataValue(v){v&&this.stops&&(h.getLogger(this).warn("cannot set maxDataValue when stops is not null."),v=null);this._set("maxDataValue",v)}set maxSize(v){v&&this.stops&&(h.getLogger(this).warn("cannot set maxSize when stops is not null."),
v=null);this._set("maxSize",v)}castMaxSize(v){return x(v)}readMaxSize(v,y,B){return A(v,y,B)}set minDataValue(v){v&&this.stops&&(h.getLogger(this).warn("cannot set minDataValue when stops is not null."),v=null);this._set("minDataValue",v)}set minSize(v){v&&this.stops&&(h.getLogger(this).warn("cannot set minSize when stops is not null."),v=null);this._set("minSize",v)}castMinSize(v){return x(v)}readMinSize(v,y,B){return A(v,y,B)}get arcadeRequired(){return this.valueExpression?!0:null!=this.minSize&&
"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(v){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?v&&Array.isArray(v)&&(v=v.filter(y=>!!y),v.sort((y,B)=>y.value-B.value)):v&&(h.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),v=null);this._set("stops",v)}get transformationType(){return l.getTransformationType(this,
this.inputValueType)}readValueExpression(v,y){return v||y.expression&&"$view.scale"}writeValueExpressionWebScene(v,y,B,C){"$view.scale"===v?C?.messages&&(v=this.index,C.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof v?v:`visualVariables[${v}]`)+".valueExpression",context:C}))):y[B]=v}readValueUnit(v){return v?z.read(v):
null}clone(){return new u({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:l.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:l.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(v=>v.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,
valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===l.TransformationType.ClampedLinear){const {minSize:v,maxSize:y}=this;this.minSize=y;this.maxSize=v;return this}if(this.transformationType===l.TransformationType.Stops){const v=this.stops;if(!v)return this;const y=v.map(C=>C.size).reverse(),B=v.length;for(let C=0;C<B;C++)v[C].size=y[C]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(v=>
v.value||0)}};a.__decorate([d.property({readOnly:!0})],k.prototype,"cache",null);a.__decorate([d.property({type:w.apiValues,json:{type:w.jsonValues,origins:{"web-map":{read:!1}},read:w.read,write:w.write}})],k.prototype,"axis",void 0);a.__decorate([d.property()],k.prototype,"index",null);a.__decorate([d.property({type:String,readOnly:!0})],k.prototype,"inputValueType",null);a.__decorate([d.property({type:t,json:{write:!0}})],k.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,
value:null,json:{write:!0}})],k.prototype,"maxDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],k.prototype,"maxSize",null);a.__decorate([n.cast("maxSize")],k.prototype,"castMaxSize",null);a.__decorate([m.reader("maxSize")],k.prototype,"readMaxSize",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],k.prototype,"minDataValue",null);a.__decorate([d.property({type:Number,value:null,json:{write:!0}})],k.prototype,"minSize",null);a.__decorate([n.cast("minSize")],
k.prototype,"castMinSize",null);a.__decorate([m.reader("minSize")],k.prototype,"readMinSize",null);a.__decorate([d.property({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0);a.__decorate([d.property({readOnly:!0})],k.prototype,"arcadeRequired",null);a.__decorate([d.property({type:String})],k.prototype,"scaleBy",void 0);a.__decorate([d.property({type:[r],value:null,json:{write:!0}})],k.prototype,"stops",null);a.__decorate([d.property({type:["outline"],json:{write:!0}})],k.prototype,
"target",void 0);a.__decorate([d.property({type:String,readOnly:!0})],k.prototype,"transformationType",null);a.__decorate([d.property({type:["size"],json:{type:["sizeInfo"]}})],k.prototype,"type",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],k.prototype,"useSymbolValue",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0);a.__decorate([m.reader("valueExpression",["valueExpression","expression"])],k.prototype,
"readValueExpression",null);a.__decorate([g.writer("web-scene","valueExpression")],k.prototype,"writeValueExpressionWebScene",null);a.__decorate([d.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],k.prototype,"valueRepresentation",void 0);a.__decorate([d.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],k.prototype,"valueUnit",void 0);a.__decorate([m.reader("valueUnit")],k.prototype,"readValueUnit",
null);return k=u=a.__decorate([e.subclass("esri.renderers.visualVariables.SizeVariable")],k)})},"esri/renderers/visualVariables/support/castSizeVariable":function(){define(["exports","../../../core/screenUtils"],function(a,b){a.castSizeFromStringOrNumber=function(c){return b.toPt(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f);this.useMaxValue=this.useMinValue=this.value=this.size=this.label=null}clone(){return new g({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([h.property({type:Number,cast:c.toPt,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([h.property({type:Number,
json:{write:!0}})],b.prototype,"value",void 0);a.__decorate([h.property({type:Boolean,json:{write:!1}})],b.prototype,"useMinValue",void 0);a.__decorate([h.property({type:Boolean,json:{write:!1}})],b.prototype,"useMaxValue",void 0);return b=g=a.__decorate([e.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,c,h,d,n,m){c=class extends m{constructor(){super(...arguments);this.customValues=null}};a.__decorate([b.property({type:[Number],json:{write:!0}})],c.prototype,"customValues",void 0);return c=a.__decorate([n.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],c)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function b(c){return c.valueExpression?a.InputValueType.Expression:c.field&&"string"===typeof c.field?
a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(c){c.Unknown="unknown";c.Expression="expression";c.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(c){c.Unknown="unknown";c.Stops="stops";c.ClampedLinear="clamped-linear";c.Proportional="proportional";c.Additive="additive";c.Constant="constant";c.Identity="identity";c.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=
b;a.getTransformationType=function(c,h){return(h||b(c))===a.InputValueType.Unknown?a.TransformationType.Constant:c.stops?a.TransformationType.Stops:null!=c.minSize&&null!=c.maxSize&&null!=c.minDataValue&&null!=c.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(c.valueUnit||"unknown")?null!=c.minSize&&null!=c.minDataValue?c.minSize&&c.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=
function(c){return c&&"esri.renderers.visualVariables.SizeVariable"===c.declaredClass};a.isValidNumber=function(c){return null!=c&&!isNaN(c)&&isFinite(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),function(a,b,c,h,d,n,m){function e(v,y,B){if(v="visualVariables"in
v&&v.visualVariables?v.visualVariables.find(R=>"color"===R.type):v)if("esri.renderers.visualVariables.ColorVariable"!==v.declaredClass)u("ColorVariable");else{var C="number"===typeof y,L=C?null:y,M=L?.attributes,G=C?y:null,E=v.field,{ipData:F,hasExpression:H}=v.cache;y=v.cache.compiledFunc;if(!E&&!H)return(B=v.stops)&&B[0]&&B[0].color;if("number"!==typeof G)if(H){if(null==B?.arcade){w();return}G=B.arcade.arcadeUtils;E=G.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});
L=G.createExecContext(L,E,B.timeZone);y||(y=G.createSyntaxTree(v.valueExpression),y=G.createFunction(y),v.cache.compiledFunc=y);G=G.executeFunction(y,L)}else M&&(G=M[E]);L=v.normalizationField;M=null!=M&&null!=L?parseFloat(M[L]):void 0;if(null!=G&&(!L||C||!isNaN(M)&&0!==M)&&(isNaN(M)||C||(G/=M),C=x(G,F)))return M=C[0],L=C[1],B=M===L?v.stops[M].color:b.blendColors(v.stops[M].color,v.stops[L].color,C[2],null!=B?B.color:void 0),new b(B)}}function g(v,y,B){if(v="visualVariables"in v&&v.visualVariables?
v.visualVariables.find(R=>"opacity"===R.type):v)if("esri.renderers.visualVariables.OpacityVariable"!==v.declaredClass)u("OpacityVariable");else{var C="number"===typeof y,L=C?null:y,M=L?.attributes,G=C?y:null,E=v.field,{ipData:F,hasExpression:H}=v.cache;y=v.cache.compiledFunc;if(!E&&!H)return(v=v.stops)&&v[0]&&v[0].opacity;if("number"!==typeof G)if(H){if(null==B?.arcade){w();return}G=B.arcade.arcadeUtils;E=G.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});
B=G.createExecContext(L,E,B.timeZone);y||(L=G.createSyntaxTree(v.valueExpression),y=G.createFunction(L),v.cache.compiledFunc=y);G=G.executeFunction(y,B)}else M&&(G=M[E]);B=v.normalizationField;M=null!=M&&null!=B?parseFloat(M[B]):void 0;if(null!=G&&(!B||C||!isNaN(M)&&0!==M)&&(isNaN(M)||C||(G/=M),C=x(G,F))){B=C[0];M=C[1];if(B===M)return v.stops[B].opacity;B=v.stops[B].opacity;return B+(v.stops[M].opacity-B)*C[2]}}}function f(v,y,B){if(v="visualVariables"in v&&v.visualVariables?v.visualVariables.find(R=>
"rotation"===R.type):v)if("esri.renderers.visualVariables.RotationVariable"!==v.declaredClass)u("RotationVariable");else{var C=v.axis||"heading",L="heading"===C&&"arithmetic"===v.rotationType?90:0;C="heading"===C&&"arithmetic"===v.rotationType?-1:1;var M="number"===typeof y?null:y,G=M?.attributes,E=v.field,{hasExpression:F}=v.cache;y=v.cache.compiledFunc;var H=0;if(!E&&!F)return H;if(F){if(null==B?.arcade){w();return}G=B.arcade.arcadeUtils;E=G.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,
spatialReference:B.spatialReference});B=G.createExecContext(M,E,B.timeZone);y||(y=G.createSyntaxTree(v.valueExpression),y=G.createFunction(y),v.cache.compiledFunc=y);H=G.executeFunction(y,B)}else G&&(H=G[E]||0);return H="number"!==typeof H||isNaN(H)?null:L+C*H}}function p(v,y,B){const C="number"===typeof y;var L=C?null:y;const M=L?.attributes;var G=C?y:null,{isScaleDriven:E}=v.cache;y=v.cache.compiledFunc;if(E)L=null!=B?B.scale:void 0,B=null!=B?B.view:void 0,null==L||"3d"===B?(L=B=null,(L=v.stops)?
(B=L[0].value,L=L[L.length-1].value):(B=v.minDataValue||0,L=v.maxDataValue||0),B=(B+L)/2):B=L,G=B;else if(!C)switch(v.inputValueType){case m.InputValueType.Expression:if(null==B?.arcade){w();return}G=B.arcade.arcadeUtils;E=G.getViewInfo({viewingMode:B.viewingMode,scale:B.scale,spatialReference:B.spatialReference});B=G.createExecContext(L,E,B.timeZone);y||(L=G.createSyntaxTree(v.valueExpression),y=G.createFunction(L),v.cache.compiledFunc=y);G=G.executeFunction(y,B);break;case m.InputValueType.Field:M&&
(G=M[v.field]);break;case m.InputValueType.Unknown:G=null}if(!m.isValidNumber(G))return null;if(C||!v.normalizationField)return G;v=M?parseFloat(M[v.normalizationField]):null;return m.isValidNumber(v)&&0!==v?G/v:null}function r(v,y,B){if(v="visualVariables"in v&&v.visualVariables?v.visualVariables.find(L=>"size"===L.type):v)if("esri.renderers.visualVariables.SizeVariable"!==v.declaredClass)u("SizeVariable");else{var C=p(v,y,B);y=q(C,v,y,B,v.cache.ipData);return null===y||void 0===y||isNaN(y)?0:y}}
function t(v,y,B){return null==v?null:m.isSizeVariable(v)?r(v,y,B):m.isValidNumber(v)?v:null}function l(v,y,B){return m.isValidNumber(B)&&v>B?B:m.isValidNumber(y)&&v<y?y:v}function q(v,y,B,C,L){switch(y.transformationType){case m.TransformationType.Additive:return C=t(y.minSize,B,C),v+((C||y.minDataValue)??0);case m.TransformationType.Constant:return v=y.stops,v=v?.length&&v[0].size,null==v&&(v=y.minSize),t(v,B,C);case m.TransformationType.ClampedLinear:L=(v-y.minDataValue)/(y.maxDataValue-y.minDataValue);
var M=t(y.minSize,B,C);B=t(y.maxSize,B,C);C=null!=C?C.shape:void 0;v<=y.minDataValue?y=M:v>=y.maxDataValue?y=B:null==M||null==B?y=null:"area"===y.scaleBy&&C?(v=(y="circle"===C)?k*(M/2)**2:M*M,v+=L*((y?k*(B/2)**2:B*B)-v),y=y?2*Math.sqrt(v/k):Math.sqrt(v)):y=M+L*(B-M);return y;case m.TransformationType.Proportional:return L=null!=C?C.shape:void 0,v/=y.minDataValue,M=t(y.minSize,B,C),y=t(y.maxSize,B,C),C=null,C="circle"===L?2*Math.sqrt(v*(M/2)**2):"square"===L||"diamond"===L||"image"===L?Math.sqrt(v*
M**2):v*M,l(C,M,y);case m.TransformationType.Stops:{const [G,E,F]=x(v,L);G===E?y=t(y.stops?.[G].size,B,C):(v=t(y.stops?.[G].size,B,C),y=t(y.stops?.[E].size,B,C),y=v+(y-v)*F)}return y;case m.TransformationType.RealWorldSize:return L=(C?.resolution??1)*n.meterIn[y.valueUnit],M=t(y.minSize,B,C),C=t(y.maxSize,B,C),{valueRepresentation:y}=y,B=null,B="area"===y?2*Math.sqrt(v/k)/L:"radius"===y||"distance"===y?2*v/L:v/L,l(B,M,C);case m.TransformationType.Identity:return v;case m.TransformationType.Unknown:return null}}
function x(v,y){if(y){var B=0,C=y.length-1;y.some((L,M)=>{if(v<L)return C=M,!0;B=M;return!1});return[B,C,(v-y[B])/(y[C]-y[B])]}}const A=()=>d.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=v=>A().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${v}`),w=()=>A().error("Use of arcade expressions requires an arcade context"),z=new c,k=Math.PI;a.getAllSizes=function(v,y,B){const C=["proportional","proportional","proportional"];for(const L of v)switch(v=
L.useSymbolValue?"symbol-value":r(L,y,B),L.axis){case "width":C[0]=v;break;case "depth":C[1]=v;break;case "height":C[2]=v;break;case "width-and-depth":C[0]=v;C[1]=v;break;case "all":case void 0:case null:C[0]=v;C[1]=v;C[2]=v;break;default:h.neverReached(L.axis)}return C};a.getColor=e;a.getOpacity=g;a.getRotationAngle=f;a.getSize=r;a.getSizeForValue=q;a.getSizeFromNumberOrVariable=t;a.getSizeRangeAtScale=function(v,y,B){const {isScaleDriven:C}=v.cache;if(!(C&&"3d"===B||y))return null;B={scale:y,view:B};
y=t(v.minSize,z,B);v=t(v.maxSize,z,B);if(null!=y||null!=v)return y>v&&(B=v,v=y,y=B),{minSize:y,maxSize:v}};a.getVisualVariableValues=function(v,y,B){if(v.visualVariables){var C=[],L=[],M=[],G=[],E=[];for(const F of v.visualVariables)switch(F.type){case "color":L.push(F);break;case "opacity":M.push(F);break;case "rotation":E.push(F);break;case "size":G.push(F)}L.forEach(F=>{const H=e(F,y,B);C.push({variable:F,value:H})});M.forEach(F=>{const H=g(F,y,B);C.push({variable:F,value:H})});E.forEach(F=>{const H=
f(F,y,B);C.push({variable:F,value:H})});G.forEach(F=>{const H=r(F,y,B);C.push({variable:F,value:H})});return C.filter(F=>null!=F.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/deprecate ./core/JSONSupport ./core/Logger ./core/reactiveUtils ./core/uid ./core/accessorSupport/decorators/property ./core/has ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){var x;d=x=class extends d.ClonableMixin(m.JSONSupport){constructor(A){super(A);this.isAggregate=!1;this.sourceLayer=this.popupTemplate=this.origin=this.layer=null;this._version=0;Object.defineProperty(this,"uid",{value:f.generateUID(),configurable:!0});Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1});1<arguments.length&&n.deprecatedConstructorSignature(e.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(A){const u=
this._get("aggregateGeometries");JSON.stringify(u)!==JSON.stringify(A)&&this._set("aggregateGeometries",A)}set attributes(A){const u=this._get("attributes");u!==A&&(this._set("attributes",A),this._notifyLayer("attributes",u,A))}set geometry(A){const u=this._get("geometry");u!==A&&(this._set("geometry",A),"mesh"!==A?.type&&this._notifyLayer("geometry",u,A))}set symbol(A){const u=this._get("symbol");u!==A&&(this._set("symbol",A),this._notifyLayer("symbol",u,A))}get version(){return this._version}set visible(A){const u=
this._get("visible");u!==A&&(this._set("visible",A),this._notifyLayer("visible",u,A))}cloneShallow(){return new x({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(A=!1){if(this.popupTemplate)return this.popupTemplate;const u=this.origin&&"layer"in this.origin?
this.origin.layer:null;for(const w of[u,this.sourceLayer,this.layer])if(w){if("popupTemplate"in w&&w.popupTemplate)return w.popupTemplate;if(A&&"defaultPopupTemplate"in w&&null!=w.defaultPopupTemplate)return w.defaultPopupTemplate}return null}getAttribute(A){return this.attributes?.[A]}setAttribute(A,u){if(this.attributes){const w=this.getAttribute(A);this.attributes[A]=u;this._notifyLayer("attributes",w,u,A)}else this.attributes={[A]:u},this._notifyLayer("attributes",void 0,u,A)}getObjectId(){return this.sourceLayer?
"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null}toJSON(){var A=this.aggregateGeometries;if(null==A)A=null;else{var u={};for(const w in A){const z=A[w];z&&(u[w]=z.toJSON())}A=0!==Object.keys(u).length?u:null}return{aggregateGeometries:A,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:m.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},
popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(A={}){var {geometry:u}=this;"mesh"===u?.type&&(u={origin:u.origin,transform:u.transform},this._notifyLayer("origin-transform",u,u,A.action))}_notifyLayer(A,u,w,z){this._version++;this.layer&&"graphicChanged"in this.layer&&(u={graphic:this,property:A,oldValue:u,newValue:w},"origin-transform"===A&&(u.action=z),"attributes"===A&&(u.attributeName=z),this.layer.graphicChanged(u))}_watchMeshGeometryChanges(){this.addHandles([g.when(()=>
"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:A,origin:u})=>{if(this._lastMeshTransform.localMatrix!==A||this._lastMeshTransform.origin!==u)this._lastMeshTransform.localMatrix=A,this._lastMeshTransform.origin=u,this.notifyMeshTransformChanged()}),g.when(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const A=this.geometry;"mesh"===
A?.type&&A.vertexSpace.origin?(this._lastMeshTransform.localMatrix=A.transform?.localMatrix,this._lastMeshTransform.origin=A.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0);this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(A,u)=>A===u,sync:!0})])}};a.__decorate([p.property({value:null,json:{read:function(A){if(!A)return null;const u={};for(const w in A){const z=q.fromJSON(A[w]);z&&(u[w]=z)}return 0!==Object.keys(u).length?u:
null}}})],d.prototype,"aggregateGeometries",null);a.__decorate([p.property({value:null})],d.prototype,"attributes",null);a.__decorate([p.property({value:null,types:b.geometryTypes,json:{read:q.fromJSON}})],d.prototype,"geometry",null);a.__decorate([p.property({type:Boolean})],d.prototype,"isAggregate",void 0);a.__decorate([p.property({clonable:"reference"})],d.prototype,"layer",void 0);a.__decorate([p.property({clonable:"reference"})],d.prototype,"origin",void 0);a.__decorate([p.property({type:c})],
d.prototype,"popupTemplate",void 0);a.__decorate([p.property({clonable:"reference"})],d.prototype,"sourceLayer",void 0);a.__decorate([p.property({value:null,types:h.symbolTypes})],d.prototype,"symbol",null);a.__decorate([p.property({clonable:!1,json:{read:!1,write:!1}})],d.prototype,"_version",void 0);a.__decorate([p.property({type:Boolean,value:!0})],d.prototype,"visible",null);return d=x=a.__decorate([l.subclass("esri.Graphic")],d)})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t){const l={color:f,size:t,opacity:p,rotation:r},q=new c.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),x=/^\[([^\]]+)\]$/i;b=class extends b{constructor(){super(...arguments);this.sizeVariables=this.rotationVariables=this.opacityVariables=this.colorVariables=null}set visualVariables(A){this._resetVariables();A=A?.filter(w=>!!w);if(A?.length){for(var u of A)switch(u.type){case "color":this.colorVariables.push(u);break;
case "opacity":this.opacityVariables.push(u);break;case "rotation":this.rotationVariables.push(u);break;case "size":this.sizeVariables.push(u)}this.sizeVariables.length&&this.sizeVariables.some(w=>!!w.target)&&A.sort((w,z)=>{let k=null;return k=w.target===z.target?0:w.target?1:-1});for(u=0;u<A.length;u++)A[u].index=u}this._set("visualVariables",A)}readVariables(A,u,w){const {rotationExpression:z,rotationType:k}=u;if(u=z?.match(x)?.[1])A||=[],A.push({type:"rotationInfo",rotationType:k,field:u});if(A)return A.map(v=>
{var y=q.read(v.type);const B=l[y];B||(h.getLogger(this).warn(`Unknown variable type: ${y}`),w?.messages&&w.messages.push(new d("visual-variable:unsupported",`visualVariable of type '${y}' is not supported`,{definition:v,context:w})));y=new B;y.read(v,w);return y})}writeVariables(A,u){const w=[];for(const z of A)(A=z.toJSON(u))&&w.push(A);return w}_resetVariables(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]}};a.__decorate([n.property()],b.prototype,
"visualVariables",null);return b=a.__decorate([g.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f);this.minValue=
this.label=this.description=null;this.maxValue=0;this.symbol=null}clone(){return new g({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const f=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${f}`}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property({type:Number,
json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);a.__decorate([c.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);a.__decorate([c.property(e.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);return b=g=a.__decorate([m.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/object ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),
function(a,b,c,h,d,n,m){h={types:b.symbolTypesRenderer,json:{write:{writer:d.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:d.write},read:{reader:h.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};c=c.deepMerge({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},h);const e={cast:g=>null==g||"string"===typeof g||"number"===typeof g?g:`${g}`,json:{type:String,write:{writer:(g,f)=>{f.value=g?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:n,key:"type",
typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"],cim:b.symbolTypes.typeMap.cim}},json:{write:{writer:d.write},origins:{"web-scene":{type:m,write:{writer:d.write}}}}};a.rendererSymbolProperty=h;a.requiredRendererSymbolProperty=c;a.uniqueValueProperty=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,c,h,d,n,m){function e(g,f,p){if(null==g)return null;const {context:r,isLabelSymbol:t}=p;var l=r?.origin;p=r?.messages;if("web-scene"===l&&!(g instanceof d||g instanceof m)){l=n.to3D(g,{retainCIM:!0,hasLabelingContext:t});if(null!=l.symbol)return l.symbol.write(f,r);p?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:g,context:r,error:l.error}));return null}return h.isSceneServiceLayer(r?.layer)&&
g instanceof d&&("polygon-3d"===g.type||"line-3d"===g.type)?(p?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:g,context:r})),null):("web-map"===l||"portal-item"===l&&!h.isSceneServiceLayer(r?.layer))&&(g instanceof d||g instanceof m)?(p?.push(new c("symbol:unsupported",`Symbols of type '${g.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,
{symbol:g,context:r})),null):g.write(f,r)}a.fromJSON=function(g,f){return b.readSymbol(g,null,f)};a.write=function(g,f,p,r){g=e(g,{},{context:r,isLabelSymbol:!1});null!=g&&(f[p]=g)};a.writeLabelSymbol=function(g,f,p,r){g=e(g,{},{context:r,isLabelSymbol:!0});null!=g&&(f[p]=g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ./defaults3D ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){const x={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};a.defaultTo3DOptions=x;a.to3D=function(A,u=x){if(!A)return{symbol:null};const {retainId:w=x.retainId,ignoreDrivers:z=x.ignoreDrivers,hasLabelingContext:k=x.hasLabelingContext,retainCIM:v=x.retainCIM,cimFallbackEnabled:y=x.cimFallbackEnabled}=u;let B=null;if(b.isSymbol3D(A)||A instanceof d)B=A.clone();else if("cim"===A.type){const C=A.data?.symbol?.type;switch(C){case "CIMPointSymbol":B=v?A.clone():
n.fromCIMSymbol(A);break;case "CIMLineSymbol":y&&(B=h.defaultRendererPolylineSymbol3D.clone(),u?.logWarning?.("#useCIMFallbackSymbology()","Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case "CIMPolygonSymbol":y&&(B=h.defaultRendererPolygonSymbol3D.clone(),u?.logWarning?.("#useCIMFallbackSymbology()","Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!B)return{error:new c("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${C||
"unknown"}' is unsupported in 3D`,{symbol:A})}}else if(A instanceof m)B=e.fromSimpleLineSymbol(A);else if(A instanceof g)B=n.fromSimpleMarkerSymbol(A);else if(A instanceof f)B=n.fromPictureMarkerSymbol(A);else if(A instanceof p)B=u.geometryType&&"mesh"===u.geometryType?r.fromSimpleFillSymbol(A):t.fromSimpleFillSymbol(A);else if(A instanceof l)B=k?q.fromTextSymbol(A):n.fromTextSymbol(A);else return{error:new c("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${A.type||A.declaredClass}' is unsupported in 3D`,
{symbol:A})};w&&B&&"cim"!==B.type&&(B.id=A.id);z&&b.isSymbol3D(B)&&B.symbolLayers.forEach(C=>C.ignoreDrivers=!0);return{symbol:B}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults3D":function(){define("exports ../../Color ../../symbols ../../core/Collection ../../core/has ../../core/screenUtils ../FillSymbol3DLayer ../LineSymbol3D ../MeshSymbol3D ../PointSymbol3D ../PolygonSymbol3D ../edges/SolidEdges3D ./defaults ./defaultsJSON ../LineSymbol3DLayer".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){const x=f.fromSimpleMarkerSymbol(t.defaultPointSymbol2D),A=e.fromSimpleLineSymbol(t.defaultPolylineSymbol2D),u=p.fromSimpleFillSymbol(t.defaultPolygonSymbol2D),w=new g({symbolLayers:new h([new m({material:{color:l.defaultColor},edges:new r({size:n.px2pt(1),color:new b(l.defaultOutlineColor)})})])});c=new e({symbolLayers:new h([new q({material:{color:new b([0,0,0])},size:n.px2pt(1)})])});b=new p({symbolLayers:new h([new m({outline:{color:new b([0,0,0]),size:n.px2pt(1)}})])});
a.defaultRendererPolygonSymbol3D=b;a.defaultRendererPolylineSymbol3D=c;a.getDefaultSymbol3D=function(z){if(null==z)return null;switch(z.type){case "mesh":return w;case "point":case "multipoint":return x;case "polyline":return A;case "polygon":case "extent":return u}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),
function(a,b,c,h,d,n,m){const e=d.fromJSON(m.defaultPointSymbolJSON),g=h.fromJSON(m.defaultPolylineSymbolJSON),f=c.fromJSON(m.defaultPolygonSymbolJSON);b=n.fromJSON(m.defaultTextSymbolJSON);d=d.fromJSON(m.errorPointSymbolJSON);h=h.fromJSON(m.errorPolylineSymbolJSON);c=c.fromJSON(m.errorPolygonSymbolJSON);a.defaultPointSymbol2D=e;a.defaultPolygonSymbol2D=f;a.defaultPolylineSymbol2D=g;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=d;a.errorPolygonSymbol2D=c;a.errorPolylineSymbol2D=h;a.getDefaultSymbol2D=
function(p){if(null==p)return null;switch(p.type){case "point":case "multipoint":return e;case "polyline":return g;case "polygon":case "extent":return f}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(a){const b=[252,146,31,255],c={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},h={type:"esriSLS",style:"esriSLSSolid",
width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=c;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=h;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,
text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/RendererLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g,f){c=c.strict()({ascendingValues:"ascending-values",descendingValues:"descending-values"});b=class extends b.ClonableMixin(h.JSONSupport){constructor(p){super(p);this.order=this.title=null}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([g.enumeration(c)],b.prototype,"order",void 0);return b=a.__decorate([f.subclass("esri.renderers.support.RendererLegendOptions")],b)})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;h=r=class extends f.VisualVariablesMixin(g){constructor(t){super(t);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type="dictionary"}get _loader(){return new p.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(t,l){t&&(l.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,l,q,x){x?.origin||super.writeVisualVariables(t,l,q,x)}clone(){return new r({config:b.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:b.clone(this.fieldMap),url:b.clone(this.url),visualVariables:b.clone(this.visualVariables)})}async getSymbolAsync(t,l){return this._loader.getSymbolAsync(t,l)}async collectRequiredFields(t,l){await this.collectVVRequiredFields(t,l);this.scaleExpression&&await e.collectArcadeFieldNames(t,l,this.scaleExpression);for(const q in this.fieldMap){const x=this.fieldMap[q];l.has(x)&&t.add(x)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((t,
l)=>t+l.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};a.__decorate([c.property({type:p.DictionaryLoader})],h.prototype,"_loader",null);a.__decorate([c.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],h.prototype,"config",void 0);a.__decorate([c.property({type:Object,json:{write:!0}})],h.prototype,"fieldMap",void 0);a.__decorate([c.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],h.prototype,"scaleExpression",void 0);a.__decorate([m.writer("scaleExpression")],h.prototype,"writeData",null);a.__decorate([c.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],h.prototype,"scaleExpressionTitle",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"url",void 0);
a.__decorate([m.writer("visualVariables")],h.prototype,"writeVisualVariables",null);return h=r=a.__decorate([n.subclass("esri.renderers.DictionaryRenderer")],h)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../Color ../../request ../../core/Error ../../core/has ../../core/lang ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/Version ../../geometry/support/jsonUtils ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol ../../symbols/cim/OverrideHelper ../../symbols/cim/utils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x){const A={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class u{constructor(w,z,k){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new e.LRUCache(100);this._dictionaryPromise=this._fieldIndex=this._dictionaryVersion=null;this.url=w;this.config=z;this.fieldMap=k}getSymbolFields(){return this._symbolFields}async getSymbolAsync(w,z){this._dictionaryPromise||
(this._dictionaryPromise=this.fetchResources(z));try{var k=await this._dictionaryPromise}catch(E){if(g.isAbortError(E))return this._dictionaryPromise=null}var v=this._dictionaryVersion?.greaterEqual(4,0),y={};if(this.fieldMap)for(var B of this._symbolFields){var C=x.getFieldName(this.fieldMap[B],this._fieldIndex);if(C){var L=w.attributes[C];y[B]=v?L:null!=L?""+w.attributes[C]:""}else y[B]=""}v=null;try{v=k?.(y,z)}catch(E){return null}if(!v||"string"!==typeof v||"invalid"===v)return null;v=v.split(";");
k=[];y=[];for(B=0;B<v.length;B++)if(C=v[B])if(C.includes("po:")){var M=C.slice(3).split("|");3===M.length&&(C=M[0],L=M[1],M=M[2],"countrylabel"===C&&"TextString"===L?null!=this.fieldMap&&(C=this.fieldMap.countrylabel,null==C&&(C="countrylabel",this.fieldMap[C]=C),w.attributes[C]=M):("DashTemplate"===L?M=M.split(" ").map(E=>Number(E)):"Color"===L?(M=(new b(M)).toRgba(),M=[M[0],M[1],M[2],255*M[3]]):M=Number(M),y.push({primitiveName:C,propertyName:L,value:M,defaultValue:null})))}else if(C.includes("|"))for(var G of C.split("|")){if(this._itemNames.has(G)){k.push(G);
break}}else if(this._itemNames.has(C))k.push(C);else if(0===B){k.length=0;G="Invalid_P";null!=w.geometry&&(p.isPolygon(w.geometry)?G="Invalid_A":p.isPolyline(w.geometry)&&(G="Invalid_L"));k.push(G);break}return this._cimPartsToCIMSymbol(w,k,y,null==w.geometry||!w.geometry.hasZ&&"point"===w.geometry.type?!0:!1,z)}async fetchResources(w){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var z=c(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},
signal:null!=w?w.signal:null}),[{data:k}]=await Promise.all([z,t.loadArcade()]);if(!k)throw this._dictionaryPromise=null,new h("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:v,dictionary_version:y,expression:B,itemsNames:C}=k;z=!1;y&&(this._dictionaryVersion=f.Version.parse(y),z=this._dictionaryVersion.greaterEqual(4,0));this._refSymbolUrlTemplate=this.url+"/"+k.cimRefTemplateUrl;this._itemNames=new Set(C);this._symbolFields=v.symbol;k={};if(this.config){const G=this.config;
for(var L in G)k[L]=G[L]}if(v.configuration)for(var M of v.configuration)k.hasOwnProperty(M.name)||(k[M.name]=M.value);L=[];if(w?.fields&&this.fieldMap)for(const G in this.fieldMap){const E=this.fieldMap[G];M=w.fields.filter(F=>F.name.toLowerCase()===E?.toLowerCase());0<M.length&&L.push({...M[0],type:z?M[0].type:"esriFieldTypeString"})}0<L.length&&(this._fieldIndex=new r(L));return this._dictionaryPromise=w=t.createDictionaryExpression(B,null!=w?w.spatialReference:null,L,k).then(G=>{const E={scale:0};
return(F,H)=>{if(null==G)return null;F=G.repurposeFeature({geometry:null,attributes:F});E.scale=null!=H?H.scale??void 0:void 0;return G.evaluate({$feature:F,$view:E},G.services)}}).catch(G=>{m.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictionary expression failed:",G);return null})}m.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")}async _cimPartsToCIMSymbol(w,z,k,v,y){const B=Array(z.length);for(let L=0;L<z.length;L++)B[L]=this._getSymbolPart(z[L],
y);z=await Promise.all(B);if(y=this.fieldMap){z=n.clone(z);for(var C of z)q.OverrideHelper.applyDictionaryTextOverrides(C,w,y,this._fieldIndex,x.getTextCasing(C))}if((C=z)&&0!==C.length){w={...C[0]};if(1<C.length){w.effects=null;w.symbolLayers=[];for(const L of C){C=L;if(null!=C.effects)for(const M of C.symbolLayers)null==M.effects?M.effects=C.effects:M.effects.unshift(...C.effects);w.symbolLayers.unshift(...C.symbolLayers)}}v&&(w.callout=A);k={type:"CIMSymbolReference",symbol:w,primitiveOverrides:k}}else k=
null;return new l({data:k})}async _getSymbolPart(w,z){var k=this._symbolCache.get(w);if(k)return k;if(this._ongoingRequests.has(w))return this._ongoingRequests.get(w).then(v=>v.data);k=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,w);z=c(k,{responseType:"json",query:{f:"json"},...z});this._ongoingRequests.set(w,z);z.finally(()=>this._ongoingRequests.delete(w));try{const v=await z;this._symbolCache.put(w,v.data);return v.data}catch(v){throw v;}}}a.DictionaryLoader=u;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports","./MemCache"],function(a,b){class c{constructor(h,d){this._storage=new b.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=h;this._storage.register(this);d&&this._storage.registerRemoveFunc("",d)}destroy(){this._storage.deregister(this);this._storage.destroy()}put(h,d,n=1){this._storage.put(this,h,d,n,1)}pop(h){return this._storage.pop(this,h)}get(h){return this._storage.get(this,h)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(h){this._storage.maxSize=
h}resetHitRate(){}}a.LRUCache=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","./PooledArray"],function(a,b){a.RemoveMode=void 0;(function(m){m[m.ALL=0]="ALL";m[m.SOME=1]="SOME"})(a.RemoveMode||(a.RemoveMode={}));class c{constructor(m,e,g){this.name=m;this._storage=e;this.id=`${d++}:`;this.size=0;this.maxSize=-1;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);g&&(this._storage.registerRemoveFunc(this.id,g),
this._removeFunc=!0)}destroy(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(m){return this._storage.getSize(this,m)}resetHitRate(){this._hit=this._miss=0}put(m,e,g,f=0){this._storage.put(this,m,e,g,f)}pop(m){m=this._storage.pop(this,m);void 0===m?++this._miss:++this._hit;return m}get(m){m=this._storage.get(this,
m);void 0===m?++this._miss:++this._hit;return m}peek(m){return this._storage.peek(this,m)}updateSize(m,e,g){this._storage.updateSize(this,m,e,g)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class h{get size(){return this._size}constructor(m=10485760){this._maxSize=m;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}destroy(){this.clearAll();
this._removeFuncs.clear();this._users.clear();this._db=null}register(m){this._users.push(m)}deregister(m){this._users.removeUnordered(m)}registerRemoveFunc(m,e){this._removeFuncs.push([m,e])}deregisterRemoveFunc(m){this._removeFuncs.filterInPlace(e=>e[0]!==m)}get maxSize(){return this._maxSize}set maxSize(m){this._maxSize=Math.max(m,-1);this._checkSize()}getSize(m,e){return this._db.get(m.id+e)?.size??0}put(m,e,g,f,p){e=m.id+e;const r=this._db.get(e);r&&(this._size-=r.size,m.size-=r.size,this._db.delete(e),
r.entry!==g&&this._notifyRemove(e,r.entry,r.size,a.RemoveMode.ALL));f>this._maxSize?this._notifyRemove(e,g,f,a.RemoveMode.ALL):void 0===g?console.warn("Refusing to cache undefined entry "):!f||0>f?(console.warn(`Refusing to cache entry with size ${f} for key ${e}`),this._notifyRemove(e,g,0,a.RemoveMode.ALL)):(this._db.set(e,new n(g,f,1+Math.max(p,-4)- -3)),this._size+=f,m.size+=f,this._checkSize())}updateSize(m,e,g,f){e=m.id+e;const p=this._db.get(e);if(p&&p.entry===g){this._size-=p.size;for(m.size-=
p.size;f>this._maxSize;)if(f=this._notifyRemove(e,g,f,a.RemoveMode.SOME),!(null!=f&&0<f)){this._db.delete(e);return}p.size=f;this._size+=f;m.size+=f;this._checkSize()}}pop(m,e){e=m.id+e;const g=this._db.get(e);if(g)return this._size-=g.size,m.size-=g.size,this._db.delete(e),++this._hit,g.entry;++this._miss}get(m,e){e=m.id+e;m=this._db.get(e);if(void 0===m)++this._miss;else return this._db.delete(e),m.lives=m.lifetime,this._db.set(e,m),++this._hit,m.entry}peek(m,e){(m=this._db.get(m.id+e))?++this._hit:
++this._miss;return m?.entry}get performanceInfo(){const m={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},g=[];this._db.forEach((r,t)=>{const l=r.lifetime;g[l]=(g[l]||0)+r.size;this._users.forAll(q=>{const {id:x,name:A}=q;t.startsWith(x)&&(e[A]=(e[A]||0)+r.size)})});const f={};this._users.forAll(r=>{const t=r.name;"hitRate"in r&&"number"===typeof r.hitRate&&!isNaN(r.hitRate)&&
0<r.hitRate?(e[t]=e[t]||0,f[t]=Math.round(100*r.hitRate)+"%"):f[t]="0%"});var p=Object.keys(e);p.sort((r,t)=>e[t]-e[r]);p.forEach(r=>m[r]=Math.round(e[r]/2**20)+"MB / "+f[r]);for(p=g.length-1;0<=p;--p){const r=g[p];r&&(m["Priority "+(p+-3-1)]=Math.round(r/this._size*100)+"%")}return m}resetStats(){this._hit=this._miss=0;this._users.forAll(m=>m.resetHitRate())}clear(m){const e=m.id;this._db.forEach((g,f)=>{f.startsWith(e)&&(this._size-=g.size,this._db.delete(f),this._notifyRemove(f,g.entry,g.size,
a.RemoveMode.ALL))});m.size=0}clearAll(){this._db.forEach((m,e)=>this._notifyRemove(e,m.entry,m.size,a.RemoveMode.ALL));this._users.forAll(m=>m.size=0);this._size=0;this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(m,e,g,f){let p;this._removeFuncs.some(r=>m.startsWith(r[0])?(r=r[1](e,f,g),"number"===typeof r&&(p=r),!0):!1);return p}_checkSize(){this._users.forAll(m=>this._checkSizeLimits(m));this._checkSizeLimits()}_checkSizeLimits(m){const e=m??this;if(!(0>e.maxSize||
e.size<=e.maxSize)){for(var g=m?.id,f=!0;f;){f=!1;for(const [p,r]of this._db)if(0===r.lifetime&&(!g||p.startsWith(g))){this._purgeItem(p,r,m);if(e.size<=.9*e.maxSize)return;f||=this._db.has(p)}}for(const [p,r]of this._db)if(!g||p.startsWith(g))if(this._purgeItem(p,r,m),e.size<=.9*e.maxSize)break}}_purgeItem(m,e,g=this._users.find(f=>m.startsWith(f.id))){this._db.delete(m);if(1>=e.lives){this._size-=e.size;g&&(g.size-=e.size);const f=this._notifyRemove(m,e.entry,e.size,a.RemoveMode.SOME);null!=f&&
0<f&&(this._size+=f,g&&(g.size+=f),e.lives=e.lifetime,e.size=f,this._db.set(m,e))}else--e.lives,this._db.set(m,e)}}let d=0;class n{constructor(m,e,g){this.entry=m;this.size=e;this.lives=this.lifetime=g}}a.MemCache=c;a.MemCacheStorage=h;a.MinPriority=-3;a.NoPriority=-4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Version":function(){define(["exports","./Error"],function(a,b){a.Version=class c{constructor(h,d,n=""){this.major=h;this.minor=d;this._context=n}lessThan(h,d){return this.major<
h||h===this.major&&this.minor<d}greaterEqual(h,d){return!this.lessThan(h,d)}validate(h){if(this.major!==h.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:h});}clone(){return new c(this.major,this.minor,this._context)}static parse(h,d=""){const [n,m]=h.split(".");var e=/^\s*\d+\s*$/;if(!n?.match||!e.test(n))throw new b((d&&d+":")+"invalid-version",
"Expected major version to be a number, but got '${version}'",{version:h});if(!m?.match||!e.test(m))throw new b((d&&d+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:h});h=parseInt(n,10);e=parseInt(m,10);return new c(h,e,d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define("../../core/Error ../../core/JSONSupport ../../core/Logger ../../core/MapUtils ../../core/sql/UnknownTimeZone ./fieldUtils ../../time/timeZoneUtils ../../chunks/datetime".split(" "),
function(a,b,c,h,d,n,m,e){function g(l){return l.trim().toLowerCase()}function f(l){const q=new Map;if(!l.fields)return q;const x=!0===l.datesInUnknownTimezone,{timeInfo:A,editFieldsInfo:u}=l;var w=(A?"startField"in A?A.startField:A.startTimeField:"")??"";const z=(A?"endField"in A?A.endField:A.endTimeField:"")??"",k="dateFieldsTimeZone"in l?l.dateFieldsTimeZone??null:l.dateFieldsTimeReference?m.fromTimeReference(l.dateFieldsTimeReference):null,v=u?"timeZone"in u?u.timeZone??k:u.dateFieldsTimeReference?
m.fromTimeReference(u.dateFieldsTimeReference):k??m.utc:null,y=A?"timeZone"in A?A.timeZone??k:A.timeReference?m.fromTimeReference(A.timeReference):k:null;w=new Map([[g(u?.creationDateField??""),v],[g(u?.editDateField??""),v],[g(w),y],[g(z),y]]);for(const {name:B,type:C}of l.fields)t.has(C)?q.set(B,m.unknown):"date"!==C&&"esriFieldTypeDate"!==C?q.set(B,null):x?q.set(B,m.unknown):(l=w.get(g(B??""))??k,q.set(B,l));return q}const p=new Map;class r{static fromJSON(l){return new r(l.fields,l.timeZoneByFieldName)}static fromLayer(l){return new r(l.fields??
[],f(l))}static fromLayerJSON(l){return new r(l.fields??[],f(l))}constructor(l=[],q){this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this._requiredFields=null;this.dateFields=[];this.numericFields=[];this.fields=l||[];this._timeZoneByFieldName=q?new Map(q):null;l=[];for(const x of this.fields){q=x?.name;const A=n.normalizeFieldName(q)?.toLowerCase()??"";if(q&&A){const u=g(q);this._fieldsMap.set(q,x);this._fieldsMap.set(u,x);this._normalizedFieldsMap.set(A,
x);l.push(`${u}:${x.type}:${this._timeZoneByFieldName?.get(q)}`);n.isDateField(x)?(this.dateFields.push(x),this._dateFieldsSet.add(x)):n.isNumericField(x)&&(this._numericFieldsSet.add(x),this.numericFields.push(x));n.isObjectIDField(x)||n.isGlobalIDField(x)||(x.editable=null==x.editable||!!x.editable,x.nullable=null==x.nullable||!!x.nullable)}}l.sort();this.uid=l.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const l of this.fields)n.isObjectIDField(l)||n.isGlobalIDField(l)||
l.nullable||void 0!==n.getFieldDefaultValue(l)||this._requiredFields.push(l)}return this._requiredFields}equals(l){return this.uid===l?.uid}has(l){return null!=this.get(l)}get(l){if(l){var q=this._fieldsMap.get(l);if(q)return q;(q=this._fieldsMap.get(g(l))??this._normalizedFieldsMap.get(n.normalizeFieldName(l)?.toLowerCase()??""))&&this._fieldsMap.set(l,q);return q}}getTimeZone(l){l=this.get(l&&"string"!==typeof l?l.name:l);return l?this._timeZoneByFieldName?this._timeZoneByFieldName.get(l.name):
"date"===l.type||"esriFieldTypeDate"===l.type?(c.getLogger("esri.layers.support.FieldsIndex").error(new a("getTimeZone:no-timezone-information",`no time zone information for field '${l.name}'`)),m.utc):t.has(l.type)?m.unknown:null:null}getLuxonTimeZone(l){const q=this.getTimeZone(l);return q?q===m.unknown?d.UnknownTimeZone.instance:q===m.utc?e.FixedOffsetZone.utcInstance:h.getOrCreateMapValue(p,q,()=>e.IANAZone.create(q)):null}isDateField(l){return this._dateFieldsSet.has(this.get(l))}isTimeOnlyField(l){return n.isTimeOnlyField(this.get(l))}isNumericField(l){return this._numericFieldsSet.has(this.get(l))}normalizeFieldName(l){return this.get(l)?.name??
void 0}toJSON(){return{fields:this.fields.map(l=>b.isSerializable(l)?l.toJSON():l),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}const t=new Set("time-only date-only timestamp-offset esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "));return r})},"esri/core/sql/UnknownTimeZone":function(){define(["exports","../../chunks/datetime"],function(a,b){function c(d){return d instanceof b.Zone?d===h.instance?!0:!1:"unknown"===
d?.toString().toLowerCase()?!0:!1}class h{}h.instance=new b.IANAZone("Etc/UTC");a.UnknownTimeZone=h;a.adoptTimeZone=function(d,n){return b.DateTime.fromObject({day:d.day,year:d.year,month:d.month,hour:d.hour,minute:d.minute,second:d.second,millisecond:d.millisecond},{zone:n})};a.isUnknownTimeZone=c;a.substituteUnknownTimezone=function(d){return c(d)?h.instance:d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/OverrideHelper":function(){define("exports ../../Color ../../core/colorUtils ../../core/lang ../../support/arcadeOnDemand ./utils ../../views/2d/arcade/callExpressionWithFeature".split(" "),
function(a,b,c,h,d,n,m){class e{static findApplicableOverrides(g,f,p){if(g&&f){if(g.primitiveName){let r=!1;for(const t of p)if(t.primitiveName===g.primitiveName){r=!0;break}if(!r)for(const t of f)t.primitiveName===g.primitiveName&&p.push(t)}switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(g.effects)for(const r of g.effects)e.findApplicableOverrides(r,f,p);if(g.symbolLayers)for(const r of g.symbolLayers)e.findApplicableOverrides(r,f,p);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(g.effects)for(const r of g.effects)e.findApplicableOverrides(r,
f,p);g.markerPlacement&&e.findApplicableOverrides(g.markerPlacement,f,p);if("CIMVectorMarker"===g.type){if(g.markerGraphics)for(const r of g.markerGraphics)e.findApplicableOverrides(r,f,p),e.findApplicableOverrides(r.symbol,f,p)}else"CIMCharacterMarker"===g.type?e.findApplicableOverrides(g.symbol,f,p):"CIMHatchFill"===g.type?e.findApplicableOverrides(g.lineSymbol,f,p):"CIMPictureMarker"===g.type&&e.findApplicableOverrides(g.animatedSymbolProperties,f,p)}}}static findEffectOverrides(g,f){if(!g)return null;
"CIMGeometricEffectDashes"===g.type&&n.normalizeDashEffectTemplate(g);if(!f||!g.primitiveName)return{type:"cim-effect-param",effect:g,overrides:[]};const p=n.toLowerCaseProps(g);g=g.primitiveName;const r=[];for(const t of f)t.primitiveName===g&&r.push(n.toLowerCaseProps(t));return{type:"cim-effect-param",effect:p,overrides:n.normalizePrimitiveOverrideProps(r)}}static async resolveSymbolOverrides(g,f,p,r,t,l,q){if(!g?.symbol)return null;let {symbol:x,primitiveOverrides:A}=g;g=!!A;if(!g&&!r)return x;
x=h.clone(x);A=h.clone(A);let u=!0;f||(f={attributes:{}},u=!1);g&&(u||(A=A.filter(w=>!w.valueExpressionInfo?.expression.includes("$feature"))),q||(A=A.filter(w=>!w.valueExpressionInfo?.expression.includes("$view"))),0<A.length&&(g=n.attributesToFields(f.attributes),await e.createRenderExpressions(A,{spatialReference:p,fields:g,geometryType:t}),e.evaluateOverrides(A,f,t??"esriGeometryPoint",l,q)),e.applyOverrides(x,A));r&&e.applyDictionaryTextOverrides(x,f,r,null);return x}static async createRenderExpressions(g,
f){const p=[];for(const r of g){const t=r.valueExpressionInfo;t&&!e._expressionToRenderExpression.has(t.expression)&&(g=d.createRendererExpression(t.expression,f.spatialReference,f.fields),p.push(g),g.then(l=>e._expressionToRenderExpression.set(t.expression,l)))}0<p.length&&await Promise.all(p)}static evaluateOverrides(g,f,p,r,t){t={$view:{scale:t?.scale}};for(const l of g){if(l.value&&"object"===typeof l.value&&c.isRGB(l.value)&&("Color"===l.propertyName||"StrokeColor"===l.propertyName)){a:{g=l.value;
if(!g){g=[0,0,0,0];break a}const {r:q,g:x,b:A,a:u}=g;g=[q,x,A,255*u]}l.value=g}if(g=l.valueExpressionInfo)if(g=e._expressionToRenderExpression.get(g.expression))l.value=m(g,f,t,p,r)}}static applyDictionaryTextOverrides(g,f,p,r,t="Normal"){if(g?.type)switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":case "CIMTextSymbol":var l=g.symbolLayers;if(!l)break;for(var q of l)q&&"CIMVectorMarker"===q.type&&e.applyDictionaryTextOverrides(q,f,p,r,"CIMTextSymbol"===g.type?g.textCase:
t);break;case "CIMVectorMarker":g=g.markerGraphics;if(!g)break;for(l of g)l&&e.applyDictionaryTextOverrides(l,f,p,r);break;case "CIMMarkerGraphic":(q=g.textString)&&q.includes("[")&&(p=n.analyzeTextParts(q,p),g.textString=n.assignTextValuesFromFeature(f,p,r,t))}}static applyOverrides(g,f,p,r){if(g.primitiveName)for(const t of f)if(t.primitiveName===g.primitiveName){const l=n.uncapitalize(t.propertyName);r&&r.push({cim:g,nocapPropertyName:l,value:g[l]});if(p){let q=!1;for(const x of p)x.primitiveName===
g.primitiveName&&(q=!0);q||p.push(t)}null!=t.value&&(g[l]=t.value)}switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(g.effects)for(const t of g.effects)e.applyOverrides(t,f,p,r);if(g.symbolLayers)for(const t of g.symbolLayers)e.applyOverrides(t,f,p,r);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(g.effects)for(const t of g.effects)e.applyOverrides(t,f,p,r);if("CIMVectorMarker"===g.type&&g.markerGraphics)for(const t of g.markerGraphics)e.applyOverrides(t,
f,p,r),e.applyOverrides(t.symbol,f,p,r)}}static restoreOverrides(g){for(const f of g)f.cim[f.nocapPropertyName]=f.value}static buildOverrideKey(g){let f="";for(const p of g)void 0!==p.value&&(f+=`${p.primitiveName}${p.propertyName}${JSON.stringify(p.value)}`);return f}static toValue(g,f){return"DashTemplate"===g?f.split(" ").map(p=>Number(p)):"Color"===g?(g=(new b(f)).toRgba(),g[3]*=255,g):f}}e._expressionToRenderExpression=new Map;a.OverrideHelper=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/colorUtils":function(){define("exports ../Color ./arrayUtils ./lang ../chunks/vec42 ./libs/gl-matrix-2/factories/vec4f64".split(" "),function(a,b,c,h,d,n){function m(y){return"r"in y&&"g"in y&&"b"in y}function e(y,B){const C=[];let L,M;if(y[0].length!==B.length)throw Error("dimensions do not match");const G=y.length,E=y[0].length;let F=0;for(L=0;L<G;L++){for(M=F=0;M<E;M++)F+=y[L][M]*B[M];C.push(F)}return C}function g(y){y=[y.r/255,y.g/255,y.b/255].map(B=>.04045>=B?B/12.92:((B+.055)/1.055)**
2.4);y=e(z,y);return{x:100*y[0],y:100*y[1],z:100*y[2]}}function f(y){y=e(k,[y.x/100,y.y/100,y.z/100]).map(B=>Math.min(1,Math.max(.0031308>=B?12.92*B:1.055*B**(1/2.4)-.055,0)));return{r:Math.round(255*y[0]),g:Math.round(255*y[1]),b:Math.round(255*y[2])}}function p(y){y=[y.x/95.047,y.y/100,y.z/108.883].map(B=>B>(6/29)**3?B**(1/3):1/3*(29/6)**2*B+4/29);return{l:116*y[1]-16,a:500*(y[0]-y[1]),b:200*(y[1]-y[2])}}function r(y){const B=y.l;y=[(B+16)/116+y.a/500,(B+16)/116,(B+16)/116-y.b/200].map(C=>C>6/29?
C**3:3*(6/29)**2*(C-4/29));return{x:95.047*y[0],y:100*y[1],z:108.883*y[2]}}function t(y){if(m(y))return y;if("l"in y&&"c"in y&&"h"in y){var B=y.c,C=y.h;return f(r({l:y.l,a:B*Math.cos(C),b:B*Math.sin(C)}))}if("l"in y&&"a"in y&&"b"in y)return f(r(y));if("x"in y&&"y"in y&&"z"in y)return f(y);if("h"in y&&"s"in y&&"v"in y){C=(y.h+360)%360/60;B=y.v/100*255;y=y.s/100*B;const L=y*(1-Math.abs(C%2-1));switch(Math.floor(C)){case 0:C={r:y,g:L,b:0};break;case 1:C={r:L,g:y,b:0};break;case 2:C={r:0,g:y,b:L};break;
case 3:C={r:0,g:L,b:y};break;case 4:C={r:L,g:0,b:y};break;case 5:case 6:C={r:y,g:0,b:L};break;default:C={r:0,g:0,b:0}}C.r=Math.round(C.r+B-y);C.g=Math.round(C.g+B-y);C.b=Math.round(C.b+B-y);return C}return y}function l(y){if("h"in y&&"s"in y&&"v"in y)return y;var B=t(y);y=B.r;const C=B.g,L=B.b;B=Math.max(y,C,L);const M=B-Math.min(y,C,L);y=0===M?0:B===y?(C-L)/M%6:B===C?(L-y)/M+2:(y-C)/M+4;0>y&&(y+=6);return{h:60*y,s:100*(0===M?0:M/B),v:100/255*B}}function q(y){return"l"in y&&"a"in y&&"b"in y?y:p(g(t(y)))}
function x(y){let {r:B,g:C,b:L,a:M}=y;1>M&&(B=Math.round(M*B+255*(1-M)),C=Math.round(M*C+255*(1-M)),L=Math.round(M*L+255*(1-M)));return new b({r:B,g:C,b:L})}function A(y,B){const {r:C,g:L,b:M}=B?.ignoreAlpha?y:x(y);return.2126*C+.7152*L+.0722*M}function u(y,B,C={}){const L=[],M=y.length-1,G=Math.ceil((B-y.length)/M);a:for(let E=0;E<M;E++){const F=y[E],H=y[E+1];for(let R=1;R<=G;R++)if(L.push(w(F,H,R/(G+1),C)),L.length+y.length===B)break a}return[...y.map(E=>E.clone()),...c.shuffle(L,C.seed??1)]}function w(y,
B,C,L={}){var M=y.r,G=y.g;y=y.b;M=Math.round(M+(B.r-M)*C);G=Math.round(G+(B.g-G)*C);B=Math.round(y+(B.b-y)*C);if(!L.offset)return new b([M,G,B]);L=c.getRandomNumberGenerator(L.seed);return new b([v(M,L),v(G,L),v(B,L)])}const z=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],k=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.BrightnessThreshold=void 0;(function(y){y[y.Low=160]="Low";y[y.High=225]="High"})(a.BrightnessThreshold||(a.BrightnessThreshold={}));const v=
(y,B)=>{B=Math.floor(10*B())-5;return Math.min(255,Math.max(0,y+B))};a.colorEquals=function(y,B){return y===B||null!=y&&y.equals(B)};a.colorVectorEquals=function(y,B){return y===B||null!=y&&null!=B&&d.equals(y,B)};a.colorVectorToColorAndOpacity=function(y){return n.fromValues(y[0],y[1],y[2],3<y.length?y[3]:1)};a.createUniqueColors=function(y,B,C={}){if(0===y.length||0>=B)return[];y=y.map(M=>"string"===typeof M?new b(M):M);if(1===y.length||1===B){C=[];y=y[0];for(var L=0;L<B;L++)C.push(y.clone());return C}C.shuffle&&
(y=c.shuffle(h.clone(y),C.seed));if(y.length>=B){C=[];L=(y.length-1)/(B-1);for(let M=0;M<B;M++)C.push(y[Math.round(M*L)].clone());return C}return u(y,B,C)};a.darken=function(y,B){var C=q(y);C.l*=1-B;B=t(C);C=y.clone();C.setColor(B);C.a=y.a;return C};a.desaturate=function(y,B){var C=l(y);C.s*=B;B=t(C);C=y.clone();C.setColor(B);C.a=y.a;return C};a.getColorLuminance=A;a.getColorTheme=function(y){return x(y).isBright?"light":"dark"};a.getContrast=function(y,B=a.BrightnessThreshold.High){return A(y,{ignoreAlpha:!0})>
B?new b([0,0,0,y.a]):new b([255,255,255,y.a])};a.isRGB=m;a.multiplyOpacity=function(y,B){y=y.clone();y.a*=B;return y};a.multiplyOpacityToUnitRGBA=function(y,B){y=b.toUnitRGBA(y);y[3]*=B;return y};a.toHSV=l;a.toLAB=q;a.toLCH=function(y){if(!("l"in y&&"c"in y&&"h"in y)){var B=p(g(t(y)));y=B.l;var C=B.a;const L=B.b;B=Math.sqrt(C*C+L*L);C=Math.atan2(L,C);C=0<C?C:C+2*Math.PI;y={l:y,c:B,h:C}}return y};a.toRGB=t;a.unitRGBAFromColor=function(y){return b.toUnitRGBA(y)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],function(a,b){function c(J,K){J[0]=K[0];J[1]=K[1];J[2]=K[2];J[3]=K[3];return J}function h(J,K){J[0]=K[0];J[1]=K[1];J[2]=K[2];return J}function d(J,K,Q,N,U){J[0]=K;J[1]=Q;J[2]=N;J[3]=U;return J}function n(J,K,Q){J[0]=K[0]+Q[0];J[1]=K[1]+Q[1];J[2]=K[2]+Q[2];J[3]=K[3]+Q[3];return J}function m(J,K,Q){J[0]=K[0]-Q[0];J[1]=K[1]-Q[1];J[2]=K[2]-Q[2];J[3]=K[3]-Q[3];return J}function e(J,K,Q){J[0]=K[0]*
Q[0];J[1]=K[1]*Q[1];J[2]=K[2]*Q[2];J[3]=K[3]*Q[3];return J}function g(J,K,Q){J[0]=K[0]/Q[0];J[1]=K[1]/Q[1];J[2]=K[2]/Q[2];J[3]=K[3]/Q[3];return J}function f(J,K){J[0]=Math.ceil(K[0]);J[1]=Math.ceil(K[1]);J[2]=Math.ceil(K[2]);J[3]=Math.ceil(K[3]);return J}function p(J,K){J[0]=Math.floor(K[0]);J[1]=Math.floor(K[1]);J[2]=Math.floor(K[2]);J[3]=Math.floor(K[3]);return J}function r(J,K,Q){J[0]=Math.min(K[0],Q[0]);J[1]=Math.min(K[1],Q[1]);J[2]=Math.min(K[2],Q[2]);J[3]=Math.min(K[3],Q[3]);return J}function t(J,
K,Q){J[0]=Math.max(K[0],Q[0]);J[1]=Math.max(K[1],Q[1]);J[2]=Math.max(K[2],Q[2]);J[3]=Math.max(K[3],Q[3]);return J}function l(J,K){J[0]=Math.round(K[0]);J[1]=Math.round(K[1]);J[2]=Math.round(K[2]);J[3]=Math.round(K[3]);return J}function q(J,K,Q){J[0]=K[0]*Q;J[1]=K[1]*Q;J[2]=K[2]*Q;J[3]=K[3]*Q;return J}function x(J,K,Q,N){J[0]=K[0]+Q[0]*N;J[1]=K[1]+Q[1]*N;J[2]=K[2]+Q[2]*N;J[3]=K[3]+Q[3]*N;return J}function A(J,K){const Q=K[0]-J[0],N=K[1]-J[1],U=K[2]-J[2];J=K[3]-J[3];return Math.sqrt(Q*Q+N*N+U*U+J*J)}
function u(J,K){const Q=K[0]-J[0],N=K[1]-J[1],U=K[2]-J[2];J=K[3]-J[3];return Q*Q+N*N+U*U+J*J}function w(J){const K=J[0],Q=J[1],N=J[2];J=J[3];return Math.sqrt(K*K+Q*Q+N*N+J*J)}function z(J){const K=J[0],Q=J[1],N=J[2];J=J[3];return K*K+Q*Q+N*N+J*J}function k(J,K){J[0]=-K[0];J[1]=-K[1];J[2]=-K[2];J[3]=-K[3];return J}function v(J,K){J[0]=1/K[0];J[1]=1/K[1];J[2]=1/K[2];J[3]=1/K[3];return J}function y(J,K){const Q=K[0],N=K[1],U=K[2];K=K[3];let Z=Q*Q+N*N+U*U+K*K;0<Z&&(Z=1/Math.sqrt(Z),J[0]=Q*Z,J[1]=N*Z,
J[2]=U*Z,J[3]=K*Z);return J}function B(J,K){return J[0]*K[0]+J[1]*K[1]+J[2]*K[2]+J[3]*K[3]}function C(J,K,Q,N){const U=K[0],Z=K[1],fa=K[2];K=K[3];J[0]=U+N*(Q[0]-U);J[1]=Z+N*(Q[1]-Z);J[2]=fa+N*(Q[2]-fa);J[3]=K+N*(Q[3]-K);return J}function L(J,K=1){var Q=b.RANDOM;let N,U,Z,fa,pa,xa;do N=2*Q()-1,U=2*Q()-1,pa=N*N+U*U;while(1<=pa);do Z=2*Q()-1,fa=2*Q()-1,xa=Z*Z+fa*fa;while(1<=xa);Q=Math.sqrt((1-pa)/xa);J[0]=K*N;J[1]=K*U;J[2]=K*Z*Q;J[3]=K*fa*Q;return J}function M(J,K,Q){const N=K[0],U=K[1],Z=K[2];K=K[3];
J[0]=Q[0]*N+Q[4]*U+Q[8]*Z+Q[12]*K;J[1]=Q[1]*N+Q[5]*U+Q[9]*Z+Q[13]*K;J[2]=Q[2]*N+Q[6]*U+Q[10]*Z+Q[14]*K;J[3]=Q[3]*N+Q[7]*U+Q[11]*Z+Q[15]*K;return J}function G(J,K,Q){var N=K[0];const U=K[1],Z=K[2],fa=Q[0],pa=Q[1],xa=Q[2];Q=Q[3];const ra=Q*N+pa*Z-xa*U,qa=Q*U+xa*N-fa*Z,za=Q*Z+fa*U-pa*N;N=-fa*N-pa*U-xa*Z;J[0]=ra*Q+N*-fa+qa*-xa-za*-pa;J[1]=qa*Q+N*-pa+za*-fa-ra*-xa;J[2]=za*Q+N*-xa+ra*-pa-qa*-fa;J[3]=K[3];return J}function E(J){return"vec4("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+")"}function F(J,K){return J[0]===
K[0]&&J[1]===K[1]&&J[2]===K[2]&&J[3]===K[3]}function H(J,K){const Q=J[0],N=J[1],U=J[2];J=J[3];const Z=K[0],fa=K[1],pa=K[2];K=K[3];const xa=b.getEpsilon();return Math.abs(Q-Z)<=xa*Math.max(1,Math.abs(Q),Math.abs(Z))&&Math.abs(N-fa)<=xa*Math.max(1,Math.abs(N),Math.abs(fa))&&Math.abs(U-pa)<=xa*Math.max(1,Math.abs(U),Math.abs(pa))&&Math.abs(J-K)<=xa*Math.max(1,Math.abs(J),Math.abs(K))}const R=Object.freeze(Object.defineProperty({__proto__:null,add:n,ceil:f,copy:c,copyVec3:h,dist:A,distance:A,div:g,divide:g,
dot:B,equals:H,exactEquals:F,floor:p,inverse:v,len:w,length:w,lerp:C,max:t,min:r,mul:e,multiply:e,negate:k,normalize:y,random:L,round:l,scale:q,scaleAndAdd:x,set:d,sqrDist:u,sqrLen:z,squaredDistance:u,squaredLength:z,str:E,sub:m,subtract:m,transformMat4:M,transformQuat:G},Symbol.toStringTag,{value:"Module"}));a.add=n;a.ceil=f;a.copy=c;a.copyVec3=h;a.dist=A;a.distance=A;a.div=g;a.divide=g;a.dot=B;a.equals=H;a.exactEquals=F;a.floor=p;a.inverse=v;a.len=w;a.length=w;a.lerp=C;a.max=t;a.min=r;a.mul=e;a.multiply=
e;a.negate=k;a.normalize=y;a.random=L;a.round=l;a.scale=q;a.scaleAndAdd=x;a.set=d;a.sqrDist=u;a.sqrLen=z;a.squaredDistance=u;a.squaredLength=z;a.str=E;a.sub=m;a.subtract=m;a.transformMat4=M;a.transformQuat=G;a.vec4=R})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function c(k){return[k[0],k[1],k[2],k[3]]}function h(k,v,y,B){return[k,v,y,B]}function d(k,v,y,B){return[k,v,y,B]}function n(k,v=b()){const y=Math.min(4,k.length);
for(let B=0;B<y;++B)v[B]=k[B];return v}function m(k,v){return new Float64Array(k,v,4)}function e(){return b()}function g(){return[1,1,1,1]}function f(){return[1,0,0,0]}function p(){return[0,1,0,0]}function r(){return[0,0,1,0]}function t(){return[0,0,0,1]}const l=b(),q=g(),x=f(),A=p(),u=r(),w=t(),z=Object.freeze(Object.defineProperty({__proto__:null,ONES:q,UNIT_W:w,UNIT_X:x,UNIT_Y:A,UNIT_Z:u,ZEROS:l,clone:c,create:b,createView:m,freeze:d,fromArray:n,fromValues:h,ones:g,unitW:t,unitX:f,unitY:p,unitZ:r,
zeros:e},Symbol.toStringTag,{value:"Module"}));a.ONES=q;a.UNIT_W=w;a.UNIT_X=x;a.UNIT_Y=A;a.UNIT_Z=u;a.ZEROS=l;a.clone=c;a.create=b;a.createView=m;a.freeze=d;a.fromArray=n;a.fromValues=h;a.ones=g;a.unitW=t;a.unitX=f;a.unitY=p;a.unitZ=r;a.vec4f64=z;a.zeros=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/utils":function(){define(["require","exports","./defaultCIMValues"],function(a,b,c){function h(k){return"function"===typeof k}function d(k){let v=k.length;for(;v--;)if(!" /-,\n".includes(k.charAt(v)))return!1;
return!0}function n(k,v){"string"!==typeof k&&(k=String(k));switch(v){case "LowerCase":return k.toLowerCase();case "Allcaps":return k.toUpperCase();default:return k}}function m(k){return k?[k[0],k[1],k[2],k[3]/255]:[0,0,0,0]}function e(k){return null!=k&&("CIMMarkerPlacementAlongLineRandomSize"===k.type||"CIMMarkerPlacementAlongLineSameSize"===k.type||"CIMMarkerPlacementAlongLineVariableSize"===k.type||"CIMMarkerPlacementAtExtremities"===k.type||"CIMMarkerPlacementAtMeasuredUnits"===k.type||"CIMMarkerPlacementAtRatioPositions"===
k.type||"CIMMarkerPlacementOnLine"===k.type||"CIMMarkerPlacementOnVertices"===k.type)}function g(k){if(!k)return null;switch(k.type){case "CIMPolygonSymbol":if(k.symbolLayers)for(const v of k.symbolLayers)if(k=g(v),null!=k)return k;break;case "CIMTextSymbol":return g(k.symbol);case "CIMSolidFill":return k.color}return null}function f(k){if(k)switch(k.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(k=k.symbolLayers)for(const v of k)if(k=f(v),null!=k)return k;break;case "CIMTextSymbol":return f(k.symbol);
case "CIMSolidStroke":return k.color}}function p(k){if(k)switch(k.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(k.symbolLayers)for(const v of k.symbolLayers)if(k=p(v),void 0!==k)return k;break;case "CIMTextSymbol":return p(k.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return k.width}}function r(k){return k?k.charAt(0).toLowerCase()+k.slice(1):k}function t(k){if(null==k)return!1;if(Array.isArray(k))return k.every(v=>t(v));switch(typeof k){case "string":return!!k;
case "number":return!isNaN(k)}}function l(k,v){if("color"===v||"outlinecolor"===v||"backgroundcolor"===v||"borderlinecolor"===v||"tintcolor"===v)return[...c.defaultCIMColor[v]];const y=c.defaultCIMValues[k];if(!y)throw Error(`InternalError: default value for type ${k}.`);return y[v]}function q(k){return k.split(" ").map(v=>Number(v))}function x(k){return"string"===typeof k?q(k):k}function A(k){if(null==k)return"Normal";switch(k.type){case "CIMTextSymbol":return k.textCase??"Normal";case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var v=
k.symbolLayers;if(!v)break;for(var y of v)if("CIMVectorMarker"===y.type)return A(y);break;case "CIMVectorMarker":if(y=k.markerGraphics)for(v of y)if(v.symbol)return A(v.symbol)}return"Normal"}function u(k,v){return null!==v?(v=v.get(k))?v.name:k:k}function w(k,v,y,B,C){return(y=y*Math.PI/180)?(Math.sin(y)*k+Math.cos(y)*v)*B+C:v*B+C}function z(k,v,y,B,C){return(y=y*Math.PI/180)?(Math.cos(y)*k-Math.sin(y)*v)*B+C:k*B+C}b.adjustTextCase=n;b.analyzeTextParts=function(k,v){const y=[];var B=0;let C=-1;do C=
k.indexOf("[",B),C>=B&&(C>B&&(B=k.slice(B,C),y.push([B,null,d(B)])),B=C+1,C=k.indexOf("]",B),C>=B&&(C>B&&(B=k.slice(B,C),(B=v[B])&&y.push([null,B,!1])),B=C+1));while(-1!==C);B<k.length&&(k=k.slice(B),y.push([k,null,d(k)]));return y};b.applyParentTransform=function(k,v,y,B,C,L,M=!0){const {infos:G}=L;L=1;let E=0;var F=0,H=0;let R=1;for(const {absoluteAnchorPoint:J,offsetX:K,offsetY:Q,rotation:N,size:U,frameHeight:Z,rotateClockWise:fa,scaleSymbolsProportionally:pa}of G)R=J?1:L,F=z(K,Q,E,R,F),H=w(K,
Q,E,R,H),Z&&(pa||M)&&(L*=U/Z),E=fa?E-N:E+N;M=z(B,C,E,R,F);B=w(B,C,E,R,H);return{size:k*L,rotation:y?E-v:E+v,offsetX:M,offsetY:B}};b.assignTextValuesFromFeature=function(k,v,y,B){let C="",L=null;for(const M of v){const [G,E,F]=M;if(G)F?L=G:(L&&(C+=L,L=null),C+=G);else if(v=E,null!=y&&(v=u(E,y)),v=k.attributes[v])L&&(C+=L,L=null),C+=v}return n(C,B)};b.attributesToFields=function(k){return(k?Object.keys(k):[]).map(v=>({name:v,alias:v,type:"string"===typeof k[v]?"esriFieldTypeString":"esriFieldTypeDouble"}))};
b.colorToArray=function(k){return[k.r,k.g,k.b,k.a]};b.evaluateValueOrFunction=function(k,v,y,B){return h(k)?k(v,y,B):k};b.fromCIMFontDecoration=function(k){return k.underline?"underline":k.strikethrough?"line-through":"none"};b.fromCIMFontStyle=function(k){let v="normal",y="normal";k&&(k=k.toLowerCase(),k.includes("italic")?v="italic":k.includes("oblique")&&(v="oblique"),k.includes("bold")?y="bold":k.includes("light")&&(y="lighter"));return{style:v,weight:y}};b.fromCIMHorizontalAlignment=function(k){switch(k){default:return"left";
case "Right":return"right";case "Center":return"center";case "Justify":return"center"}};b.fromCIMVerticalAlignment=function(k){switch(k){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}};b.getDefaultCIMValue=l;b.getEnum=(k,v)=>null==k?v:k;b.getFieldName=u;b.getFillColor=g;b.getFontStyle=function(k){if(!k)return"normal";switch(k.toLowerCase()){case "italic":return"italic";case "oblique":return"oblique";default:return"normal"}};b.getFontWeight=
function(k){if(!k)return"normal";switch(k.toLowerCase()){case "bold":return"bold";case "bolder":return"bolder";case "lighter":return"lighter";default:return"normal"}};b.getNumericValue=(k,v=0)=>null==k||isNaN(k)?v:k;b.getProcessParam=function(k,v,y){const B="Color"===y||"TintColor"===y||"ToColor"===y,C="Rotation"===y||"Angle"===y||"ToRotation"===y;let L=v[r(y)];null!=L&&(B?L=[L[0]/255,L[1]/255,L[2]/255,L[3]/255]:C&&(L*=Math.PI/180));null==L&&(L=l(v.type,y.toLowerCase()),null!=L&&(B?L=[L[0]/255,L[1]/
255,L[2]/255,L[3]]:C&&(L*=Math.PI/180)));null!=v.primitiveName&&(k=k[v.primitiveName],null!=k&&(k=k[y],null!=k&&("string"===typeof k||"number"===typeof k||Array.isArray(k)?(L=k,null!=L&&(B?L=[L[0]/255,L[1]/255,L[2]/255,L[3]/255]:C&&(L*=Math.PI/180))):(L={valueExpressionInfo:k,defaultValue:L},null!=L&&(B?L={type:"Process",op:"ArcadeColor",value:L}:C&&(L={type:"Process",op:"Divide",left:L,right:180/Math.PI}))))));if(null==L)throw Error(`Failed to derive a value or an expression for "${y}".`);return L};
b.getSize=function(k){if(k)switch(k.type){case "CIMTextSymbol":return k.height;case "CIMPointSymbol":var v=0;if(k.symbolLayers)for(var y of k.symbolLayers)if(y)switch(y.type){case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":k=y.size??c.defaultCIMValues.CIMVectorMarker.size,k>v&&(v=k)}return v;case "CIMLineSymbol":case "CIMPolygonSymbol":y=0;if(k.symbolLayers)for(v of k.symbolLayers)if(v)switch(v.type){case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":k=
v.width;null!=k&&k>y&&(y=k);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":v.markerPlacement&&e(v.markerPlacement)&&(k=v.size??c.defaultCIMValues.CIMVectorMarker.size,k>y&&(y=k));break;case "CIMPictureFill":k=v.height,null!=k&&k>y&&(y=k)}return y}};b.getStrokeColor=f;b.getStrokeWidth=p;b.getTextCasing=A;b.getTintColor=k=>k.tintColor?m(k.tintColor):[255,255,255,1];b.getValue=(k,v)=>null!=k?k:v;b.importGeometryEngine=function(){return new Promise((k,
v)=>a(["../../geometry/geometryEngineJSON"],k,v))};b.isCIMFill=function(k){return null!=k&&("CIMGradientFill"===k.type||"CIMHatchFill"===k.type||"CIMPictureFill"===k.type||"CIMSolidFill"===k.type||"CIMWaterFill"===k.type)};b.isCIMMarker=function(k){return"CIMVectorMarker"===k.type||"CIMPictureMarker"===k.type||"CIMBarChartMarker"===k.type||"CIMCharacterMarker"===k.type||"CIMPieChartMarker"===k.type||"CIMStackedBarChartMarker"===k.type};b.isCIMMarkerStrokePlacement=e;b.isCIMStroke=function(k){return"CIMGradientStroke"===
k.type||"CIMPictureStroke"===k.type||"CIMSolidStroke"===k.type};b.isFeatureValueFn=h;b.isGeometryEngineRequired=k=>{if(!k)return!1;for(const v of k)switch(v.type){case "CIMGeometricEffectBuffer":case "CIMGeometricEffectOffset":case "CIMGeometricEffectDonut":return!0}return!1};b.isSVGImage=k=>k.includes("data:image/svg+xml");b.isValidCIMValue=t;b.mapCIMSymbolToGeometryType=function(k){if(!k)return null;switch(k.type){case "CIMPointSymbol":case "CIMTextSymbol":return"esriGeometryPoint";case "CIMLineSymbol":return"esriGeometryPolyline";
case "CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}};b.normalizeAlpha=m;b.normalizeDashEffectTemplate=function(k){k?.dashTemplate&&(k.dashTemplate=x(k.dashTemplate));return k};b.normalizeDashTemplate=x;b.normalizePrimitiveOverrideProps=function(k){return k.map(v=>({...v,propertyName:r(v.propertyName)}))};b.parseDashTemplate=q;b.resampleHermite=function(k,v,y,B,C,L,M=!0){const G=v/C;y/=L;const E=Math.ceil(G/2),F=Math.ceil(y/2);for(let J=0;J<L;J++)for(let K=0;K<C;K++){const Q=4*
(K+(M?L-J-1:J)*C);var H=0;let N=0,U=0,Z=0,fa=0,pa=0,xa=0;const ra=(J+.5)*y;for(let qa=Math.floor(J*y);qa<(J+1)*y;qa++){var R=Math.abs(ra-(qa+.5))/F;const za=(K+.5)*G;R*=R;for(let Da=Math.floor(K*G);Da<(K+1)*G;Da++){let sa=Math.abs(za-(Da+.5))/E;H=Math.sqrt(R+sa*sa);-1<=H&&1>=H&&(H=2*H*H*H-3*H*H+1,0<H&&(sa=4*(Da+qa*v),xa+=H*k[sa+3],U+=H,255>k[sa+3]&&(H=H*k[sa+3]/250),Z+=H*k[sa],fa+=H*k[sa+1],pa+=H*k[sa+2],N+=H))}}B[Q]=Z/N;B[Q+1]=fa/N;B[Q+2]=pa/N;B[Q+3]=xa/U}};b.toCIMSymbolJSON=function(k){return k.data?.symbol??
null};b.toLowerCaseProps=function(k){const v={};for(const y in k){const B=k[y];v[r(y)]=B}return v};b.uncapitalize=r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/defaultCIMValues":function(){define(["exports","./enums"],function(a,b){b={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",
offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",
capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",
width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},
CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},
CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,
reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:b.AnimatedSymbolRepeatType.Loop,repeatdelay:0,easing:b.AnimatedSymbolEasingType.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};a.defaultCIMColor=
{color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]};a.defaultCIMValues=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/enums":function(){define(["exports"],function(a){a.CapType=void 0;(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));a.JoinType=void 0;(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";
b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));a.Alignment=void 0;(function(b){b[b.SCREEN=0]="SCREEN";b[b.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}));a.ExternalColorMixMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Ignore=1]="Ignore";b[b.Multiply=99]="Multiply"})(a.ExternalColorMixMode||(a.ExternalColorMixMode={}));a.ExtremityPlacement=void 0;(function(b){b.Both="Both";b.JustBegin="JustBegin";b.JustEnd="JustEnd";b.None="None"})(a.ExtremityPlacement||(a.ExtremityPlacement=
{}));a.FillMode=void 0;(function(b){b[b.Mosaic=0]="Mosaic";b[b.Centered=1]="Centered"})(a.FillMode||(a.FillMode={}));a.FontEffects=void 0;(function(b){b[b.Normal=0]="Normal";b[b.Superscript=1]="Superscript";b[b.Subscript=2]="Subscript"})(a.FontEffects||(a.FontEffects={}));a.FontEncoding=void 0;(function(b){b[b.MSSymbol=0]="MSSymbol";b[b.Unicode=1]="Unicode"})(a.FontEncoding||(a.FontEncoding={}));a.FontType=void 0;(function(b){b[b.Unspecified=0]="Unspecified";b[b.TrueType=1]="TrueType";b[b.PSOpenType=
2]="PSOpenType";b[b.TTOpenType=3]="TTOpenType";b[b.Type1=4]="Type1"})(a.FontType||(a.FontType={}));a.AngleAlignment=void 0;(function(b){b[b.Display=0]="Display";b[b.Map=1]="Map"})(a.AngleAlignment||(a.AngleAlignment={}));a.AnimatedSymbolRepeatType=void 0;(function(b){b.None="None";b.Loop="Loop";b.Oscillate="Oscillate"})(a.AnimatedSymbolRepeatType||(a.AnimatedSymbolRepeatType={}));a.AnimatedSymbolEasingType=void 0;(function(b){b.Linear="Linear";b.EaseIn="EaseIn";b.EaseOut="EaseOut";b.EaseInOut="EaseInOut"})(a.AnimatedSymbolEasingType||
(a.AnimatedSymbolEasingType={}));a.DominantSizeAxis=void 0;(function(b){b[b.Z=0]="Z";b[b.X=1]="X";b[b.Y=2]="Y"})(a.DominantSizeAxis||(a.DominantSizeAxis={}));a.RotationOrder=void 0;(function(b){b[b.XYZ=0]="XYZ";b[b.ZXY=1]="ZXY";b[b.YXZ=2]="YXZ"})(a.RotationOrder||(a.RotationOrder={}));a.BalloonCalloutStyle=void 0;(function(b){b[b.Rectangle=0]="Rectangle";b[b.RoundedRectangle=1]="RoundedRectangle";b[b.Oval=2]="Oval"})(a.BalloonCalloutStyle||(a.BalloonCalloutStyle={}));a.BlendingMode=void 0;(function(b){b[b.None=
0]="None";b[b.Alpha=1]="Alpha";b[b.Screen=2]="Screen";b[b.Multiply=3]="Multiply";b[b.Add=4]="Add"})(a.BlendingMode||(a.BlendingMode={}));a.BlockProgression=void 0;(function(b){b[b.TTB=0]="TTB";b[b.RTL=1]="RTL";b[b.BTT=2]="BTT"})(a.BlockProgression||(a.BlockProgression={}));a.BillBoardMode=void 0;(function(b){b[b.None=0]="None";b[b.SignPost=1]="SignPost";b[b.FaceNearPlane=2]="FaceNearPlane"})(a.BillBoardMode||(a.BillBoardMode={}));a.CGAAttributeType=void 0;(function(b){b[b.Float=0]="Float";b[b.String=
1]="String";b[b.Boolean=2]="Boolean"})(a.CGAAttributeType||(a.CGAAttributeType={}));a.ClippingType=void 0;(function(b){b[b.Intersect=0]="Intersect";b[b.Subtract=1]="Subtract"})(a.ClippingType||(a.ClippingType={}));a.GeometricEffectArrowType=void 0;(function(b){b.OpenEnded="OpenEnded";b.Block="Block";b.Crossed="Crossed"})(a.GeometricEffectArrowType||(a.GeometricEffectArrowType={}));a.GeometricEffectControlMeasureLineRule=void 0;(function(b){b.FullGeometry="FullGeometry";b.PerpendicularFromFirstSegment=
"PerpendicularFromFirstSegment";b.ReversedFirstSegment="ReversedFirstSegment";b.PerpendicularToSecondSegment="PerpendicularToSecondSegment";b.SecondSegmentWithTicks="SecondSegmentWithTicks";b.DoublePerpendicular="DoublePerpendicular";b.OppositeToFirstSegment="OppositeToFirstSegment";b.TriplePerpendicular="TriplePerpendicular";b.HalfCircleFirstSegment="HalfCircleFirstSegment";b.HalfCircleSecondSegment="HalfCircleSecondSegment";b.HalfCircleExtended="HalfCircleExtended";b.OpenCircle="OpenCircle";b.CoverageEdgesWithTicks=
"CoverageEdgesWithTicks";b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";b.GapExtentMidline="GapExtentMidline";b.Chevron="Chevron";b.PerpendicularWithArc="PerpendicularWithArc";b.ClosedHalfCircle="ClosedHalfCircle";b.TripleParallelExtended="TripleParallelExtended";b.ParallelWithTicks="ParallelWithTicks";b.Parallel="Parallel";b.PerpendicularToFirstSegment="PerpendicularToFirstSegment";b.ParallelOffset="ParallelOffset";b.OffsetOpposite="OffsetOpposite";b.OffsetSame="OffsetSame";b.CircleWithArc=
"CircleWithArc";b.DoubleJog="DoubleJog";b.PerpendicularOffset="PerpendicularOffset";b.LineExcludingLastSegment="LineExcludingLastSegment";b.MultivertexArrow="MultivertexArrow";b.CrossedArrow="CrossedArrow";b.ChevronArrow="ChevronArrow";b.ChevronArrowOffset="ChevronArrowOffset";b.PartialFirstSegment="PartialFirstSegment";b.Arch="Arch";b.CurvedParallelTicks="CurvedParallelTicks";b.Arc90Degrees="Arc90Degrees";b.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks";b.ConcentricCircles="ConcentricCircles";
b.DoubleJogArrow="DoubleJogArrow";b.LinkedChevrons="LinkedChevrons";b.SegmentThenHalfCircle="SegmentThenHalfCircle";b.LineWithStraightTicks="LineWithStraightTicks";b.DoubleCurve="DoubleCurve";b.ParallelWithTicksByWidth="ParallelWithTicksByWidth";b.EnclosingRoundedRectangle="EnclosingRoundedRectangle"})(a.GeometricEffectControlMeasureLineRule||(a.GeometricEffectControlMeasureLineRule={}));a.GeometricEffectDonutMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";
b.Square="Square";b.TrueBuffer="TrueBuffer"})(a.GeometricEffectDonutMethod||(a.GeometricEffectDonutMethod={}));a.GeometricEffectEnclosingPolygonMethod=void 0;(function(b){b.ClosePath="ClosePath";b.ConvexHull="ConvexHull";b.RectangularBox="RectangularBox"})(a.GeometricEffectEnclosingPolygonMethod||(a.GeometricEffectEnclosingPolygonMethod={}));a.GeometricEffectExtensionOrigin=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectExtensionOrigin||(a.GeometricEffectExtensionOrigin=
{}));a.GeometricEffectOffsetMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square"})(a.GeometricEffectOffsetMethod||(a.GeometricEffectOffsetMethod={}));a.GeometricEffectOffsetOption=void 0;(function(b){b.Fast="Fast";b.Accurate="Accurate"})(a.GeometricEffectOffsetOption||(a.GeometricEffectOffsetOption={}));a.GeometricEffectOffsetTangentMethod=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectOffsetTangentMethod||
(a.GeometricEffectOffsetTangentMethod={}));a.GeometricEffectWaveform=void 0;(function(b){b.Sinus="Sinus";b.Square="Square";b.Triangle="Triangle";b.Random="Random"})(a.GeometricEffectWaveform||(a.GeometricEffectWaveform={}));a.GlyphHinting=void 0;(function(b){b[b.None=0]="None";b[b.Default=1]="Default";b[b.Force=2]="Force"})(a.GlyphHinting||(a.GlyphHinting={}));a.GradientAlignment=void 0;(function(b){b[b.Buffered=0]="Buffered";b[b.Left=1]="Left";b[b.Right=2]="Right";b[b.AlongLine=3]="AlongLine"})(a.GradientAlignment||
(a.GradientAlignment={}));a.GradientFillMethod=void 0;(function(b){b[b.Linear=0]="Linear";b[b.Rectangular=1]="Rectangular";b[b.Circular=2]="Circular";b[b.Buffered=3]="Buffered"})(a.GradientFillMethod||(a.GradientFillMethod={}));a.GradientStrokeType=void 0;(function(b){b[b.Discrete=0]="Discrete";b[b.Continuous=1]="Continuous"})(a.GradientStrokeType||(a.GradientStrokeType={}));a.GradientStrokeMethod=void 0;(function(b){b[b.AcrossLine=0]="AcrossLine";b[b.AloneLine=1]="AloneLine"})(a.GradientStrokeMethod||
(a.GradientStrokeMethod={}));a.HorizontalAlignment=void 0;(function(b){b[b.Left=0]="Left";b[b.Right=1]="Right";b[b.Center=2]="Center";b[b.Justify=3]="Justify"})(a.HorizontalAlignment||(a.HorizontalAlignment={}));a.LeaderLineStyle=void 0;(function(b){b[b.Base=0]="Base";b[b.MidPoint=1]="MidPoint";b[b.ThreePoint=2]="ThreePoint";b[b.FourPoint=3]="FourPoint";b[b.Underline=4]="Underline";b[b.CircularCW=5]="CircularCW";b[b.CircularCCW=6]="CircularCCW"})(a.LeaderLineStyle||(a.LeaderLineStyle={}));a.LineCapStyle=
void 0;(function(b){b.Butt="Butt";b.Round="Round";b.Square="Square"})(a.LineCapStyle||(a.LineCapStyle={}));a.LineDashEnding=void 0;(function(b){b.NoConstraint="NoConstraint";b.HalfPattern="HalfPattern";b.HalfGap="HalfGap";b.FullPattern="FullPattern";b.FullGap="FullGap";b.Custom="Custom"})(a.LineDashEnding||(a.LineDashEnding={}));a.LineDecorationStyle=void 0;(function(b){b[b.None=-1]="None";b[b.Custom=0]="Custom";b[b.Circle=1]="Circle";b[b.OpenArrow=2]="OpenArrow";b[b.ClosedArrow=3]="ClosedArrow";
b[b.Diamond=4]="Diamond"})(a.LineDecorationStyle||(a.LineDecorationStyle={}));a.LineGapType=void 0;(function(b){b[b.ExtraLeading=0]="ExtraLeading";b[b.Multiple=1]="Multiple";b[b.Exact=2]="Exact"})(a.LineGapType||(a.LineGapType={}));a.LineJoinStyle=void 0;(function(b){b.Bevel="Bevel";b.Round="Round";b.Miter="Miter"})(a.LineJoinStyle||(a.LineJoinStyle={}));a.ExpressionReturnType=void 0;(function(b){b[b.Default=0]="Default";b[b.String=1]="String";b[b.Numeric=2]="Numeric"})(a.ExpressionReturnType||(a.ExpressionReturnType=
{}));a.MarkerPlacementType=void 0;(function(b){b[b.InsidePolygon=0]="InsidePolygon";b[b.PolygonCenter=1]="PolygonCenter";b[b.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(a.MarkerPlacementType||(a.MarkerPlacementType={}));a.MaterialMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Replace=1]="Replace";b[b.Multiply=2]="Multiply"})(a.MaterialMode||(a.MaterialMode={}));a.PlacementClip=void 0;(function(b){b[b.ClipAtBoundary=0]="ClipAtBoundary";b[b.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";
b[b.DoNotTouchBoundary=2]="DoNotTouchBoundary";b[b.DoNotClip=3]="DoNotClip"})(a.PlacementClip||(a.PlacementClip={}));a.PlacementEndings=void 0;(function(b){b.NoConstraint="NoConstraint";b.WithMarkers="WithMarkers";b.WithFullGap="WithFullGap";b.WithHalfGap="WithHalfGap";b.Custom="Custom"})(a.PlacementEndings||(a.PlacementEndings={}));a.PlacementGridType=void 0;(function(b){b.Fixed="Fixed";b.Random="Random";b.RandomFixedQuantity="RandomFixedQuantity"})(a.PlacementGridType||(a.PlacementGridType={}));
a.PlacementOnLineRelativeTo=void 0;(function(b){b.LineMiddle="LineMiddle";b.LineBeginning="LineBeginning";b.LineEnd="LineEnd";b.SegmentMidpoint="SegmentMidpoint"})(a.PlacementOnLineRelativeTo||(a.PlacementOnLineRelativeTo={}));a.PlacementPolygonCenterMethod=void 0;(function(b){b.OnPolygon="OnPolygon";b.CenterOfMass="CenterOfMass";b.BoundingBoxCenter="BoundingBoxCenter"})(a.PlacementPolygonCenterMethod||(a.PlacementPolygonCenterMethod={}));a.PlacementRandomlyAlongLineRandomization=void 0;(function(b){b[b.Low=
0]="Low";b[b.Medium=1]="Medium";b[b.High=2]="High"})(a.PlacementRandomlyAlongLineRandomization||(a.PlacementRandomlyAlongLineRandomization={}));a.PlacementStepPosition=void 0;(function(b){b[b.MarkerCenter=0]="MarkerCenter";b[b.MarkerBounds=1]="MarkerBounds"})(a.PlacementStepPosition||(a.PlacementStepPosition={}));a.PointSymbolCalloutScale=void 0;(function(b){b[b.None=0]="None";b[b.PropUniform=1]="PropUniform";b[b.PropNonuniform=2]="PropNonuniform";b[b.DifUniform=3]="DifUniform";b[b.DifNonuniform=
4]="DifNonuniform"})(a.PointSymbolCalloutScale||(a.PointSymbolCalloutScale={}));a.Simple3DLineStyle=void 0;(function(b){b.Tube="Tube";b.Strip="Strip";b.Wall="Wall"})(a.Simple3DLineStyle||(a.Simple3DLineStyle={}));a.SizeVariationMethod=void 0;(function(b){b[b.Random=0]="Random";b[b.Increasing=1]="Increasing";b[b.Decreasing=2]="Decreasing";b[b.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(a.SizeVariationMethod||(a.SizeVariationMethod={}));a.SymbolUnits=void 0;(function(b){b[b.Relative=0]=
"Relative";b[b.Absolute=1]="Absolute"})(a.SymbolUnits||(a.SymbolUnits={}));a.TextCase=void 0;(function(b){b[b.Normal=0]="Normal";b[b.LowerCase=1]="LowerCase";b[b.Allcaps=2]="Allcaps"})(a.TextCase||(a.TextCase={}));a.TextReadingDirection=void 0;(function(b){b[b.LTR=0]="LTR";b[b.RTL=1]="RTL"})(a.TextReadingDirection||(a.TextReadingDirection={}));a.TextureFilter=void 0;(function(b){b.Draft="Draft";b.Picture="Picture";b.Text="Text"})(a.TextureFilter||(a.TextureFilter={}));a.VerticalAlignment=void 0;(function(b){b[b.Top=
0]="Top";b[b.Center=1]="Center";b[b.Baseline=2]="Baseline";b[b.Bottom=3]="Bottom"})(a.VerticalAlignment||(a.VerticalAlignment={}));a.VerticalGlyphOrientation=void 0;(function(b){b[b.Right=0]="Right";b[b.Upright=1]="Upright"})(a.VerticalGlyphOrientation||(a.VerticalGlyphOrientation={}));a.WaterbodySize=void 0;(function(b){b[b.Small=0]="Small";b[b.Medium=1]="Medium";b[b.Large=2]="Large"})(a.WaterbodySize||(a.WaterbodySize={}));a.WaveStrength=void 0;(function(b){b[b.Calm=0]="Calm";b[b.Rippled=1]="Rippled";
b[b.Slight=2]="Slight";b[b.Moderate=3]="Moderate"})(a.WaveStrength||(a.WaveStrength={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/arcade/callExpressionWithFeature":function(){define(["../../../core/Error","../../../core/Logger","../../../geometry/support/quantizationUtils"],function(a,b,c){function h(n){const m={};switch(n){case "esriGeometryPoint":return(e,g,f,p)=>c.unquantizePoint(g,m,e,f,p);case "esriGeometryPolygon":return(e,g,f,p)=>c.unquantizePolygon(g,
m,e,f,p);case "esriGeometryPolyline":return(e,g,f,p)=>c.unquantizePolyline(g,m,e,f,p);case "esriGeometryMultipoint":return(e,g,f,p)=>c.unquantizeMultipoint(g,m,e,f,p);default:return b.getLogger("esri.views.2d.support.arcadeOnDemand").error(new a("mapview-arcade",`Unable to handle geometryType: ${n}`)),e=>e}}const d=new Map;return function(n,m,e,g,f){if(null==n)return null;if(n.referencesGeometry()&&f){const {transform:p,hasZ:r,hasM:t}=f;d.has(g)||d.set(g,h(g));g=d.get(g)(m.geometry,p,r,t);m={...m,
geometry:g}}m=n.repurposeFeature(m);try{return n.evaluate({...e,$feature:m},n.services)}catch(p){return b.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",p),null}}})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(a,b){function c(F){if("lowerLeft"===F.originPosition&&4===F.scale.length&&4===F.translate.length)return F;const {originPosition:H,scale:R,translate:J}=F;F=R[1]??1;return{originPosition:"lowerLeft",
scale:[R[0]??1,"lowerLeft"===H?F:-F,R[2]??1,R[3]??1],translate:[J[0]??0,J[1]??0,J[2]??0,J[3]??0]}}function h({scale:F,translate:H},R){return Math.round((R-H[0])/F[0])}function d({scale:F,translate:H},R){return Math.round((R-H[1])/F[1])}function n({scale:F,translate:H},R){return Math.round(((R??0)-H[2])/F[2])}function m({scale:F,translate:H},R){return R?Math.round((R-H[3])/F[3]):0}function e(F,H){return F&&H?C:F&&!H?y:!F&&H?B:v}function g({scale:F,translate:H},R){return R*F[0]+H[0]}function f({scale:F,
translate:H},R){return R*F[1]+H[1]}function p({scale:F,translate:H},R){return(R??0)*F[2]+H[2]}function r({scale:F,translate:H},R){return R?R*F[3]+H[3]:0}function t(F,H){return F&&H?E:F&&!H?M:!F&&H?G:L}function l(F,H,R){const J=Array(R.length);for(let K=0;K<R.length;K++)J[K]=H(F,R[K]);return J}function q(F,H,R){let [J,K]=R[0],Q=Math.min(J,H[0]),N=Math.min(K,H[1]),U=Math.max(J,H[2]);H=Math.max(K,H[3]);for(let Z=1;Z<R.length;Z++){const [fa,pa]=R[Z];J+=fa;K+=pa;0>fa&&(Q=Math.min(Q,J));0<fa&&(U=Math.max(U,
J));0>pa?N=Math.min(N,K):0<pa&&(H=Math.max(H,K))}F[0]=Q;F[1]=N;F[2]=U;F[3]=H;return F}function x(F,H){if(!H.length)return null;F[0]=F[1]=Number.POSITIVE_INFINITY;F[2]=F[3]=Number.NEGATIVE_INFINITY;for(let R=0;R<H.length;R++)q(F,F,H[R]);return F}function A(F,H,R){F=c(F);H.xmin=h(F,R.xmin);H.ymin=d(F,R.ymin);H.xmax=h(F,R.xmax);H.ymax=d(F,R.ymax);R.hasZ&&(H.zmin=n(F,R.zmin),H.zmax=n(F,R.zmax));R.hasM&&(H.mmin=m(F,R.mmin),H.mmax=m(F,R.mmax));H.hasZ=R.hasZ??!1;H.hasM=R.hasM??!1;return H}function u(F,H,
R){F=c(F);H.points=e(R.hasZ,R.hasM)(F,R.points)??[];H.hasZ=R.hasZ??!1;H.hasM=R.hasM??!1;return H}function w(F,H,R){F=c(F);H.x=h(F,R.x);H.y=d(F,R.y);null!=R.z&&(H.z=n(F,R.z));null!=R.m&&(H.m=m(F,R.m));return H}function z(F,H,R){{F=c(F);var J=R.rings;const K=[],Q=e(R.hasZ,R.hasM);for(let N=0;N<J.length;N++){const U=Q(F,J[N]);U&&3<=U.length&&K.push(U)}F=K.length?K:null}if(!F)return null;H.rings=F;H.hasZ=R.hasZ??!1;H.hasM=R.hasM??!1;return H}function k(F,H,R){{F=c(F);var J=R.paths;const K=[],Q=e(R.hasZ,
R.hasM);for(let N=0;N<J.length;N++){const U=Q(F,J[N]);U&&2<=U.length&&K.push(U)}F=K.length?K:null}if(!F)return null;H.paths=F;H.hasZ=R.hasZ??!1;H.hasM=R.hasM??!1;return H}const v=(F,H)=>{const R=[];if(!H.length)return null;var J=H[0];let K=h(F,J[0]);J=d(F,J[1]);R.push([K,J]);for(let Q=1;Q<H.length;Q++){const [N,U]=H[Q],Z=h(F,N),fa=d(F,U);Z===K&&fa===J||R.push([Z-K,fa-J]);K=Z;J=fa}return R},y=(F,H)=>{const R=[];if(!H.length)return null;var J=H[0];let K=h(F,J[0]),Q=d(F,J[1]);J=n(F,J[2]);R.push([K,Q,
J]);for(let N=1;N<H.length;N++){const [U,Z,fa]=H[N],pa=h(F,U),xa=d(F,Z),ra=n(F,fa);pa===K&&xa===Q&&ra===J||R.push([pa-K,xa-Q,ra]);K=pa;Q=xa;J=ra}return R},B=(F,H)=>{const R=[];if(!H.length)return null;var J=H[0];let K=h(F,J[0]),Q=d(F,J[1]);J=m(F,J[2]);R.push([K,Q,J]);for(let N=1;N<H.length;N++){const [U,Z,fa]=H[N],pa=h(F,U),xa=d(F,Z),ra=m(F,fa);pa===K&&xa===Q&&ra===J||R.push([pa-K,xa-Q,ra]);K=pa;Q=xa;J=ra}return R},C=(F,H)=>{const R=[];if(!H.length)return null;var J=H[0];let K=h(F,J[0]),Q=d(F,J[1]),
N=n(F,J[2]);J=m(F,J[3]);R.push([K,Q,N,J]);for(let U=1;U<H.length;U++){const [Z,fa,pa,xa]=H[U],ra=h(F,Z),qa=d(F,fa),za=n(F,pa),Da=m(F,xa);ra===K&&qa===Q&&za===N&&Da===J||R.push([ra-K,qa-Q,za,Da]);K=ra;Q=qa;N=za;J=Da}return R},L=(F,H)=>{const R=Array(H.length);if(!H.length)return R;var J=H[0];let K=g(F,J[0]);J=f(F,J[1]);R[0]=[K,J];const {scale:Q,originPosition:N}=F;F=Q[0];const U="lowerLeft"===N?Q[1]:-Q[1];for(let Z=1;Z<H.length;Z++){const [fa,pa]=H[Z];K+=F*fa;J+=U*pa;R[Z]=[K,J]}return R},M=(F,H)=>
{const R=Array(H.length);if(!H.length)return R;var J=H[0];let K=g(F,J[0]),Q=f(F,J[1]);R[0]=[K,Q,p(F,J[2])];const {scale:N,originPosition:U}=F;J=N[0];const Z="lowerLeft"===U?N[1]:-N[1];for(let fa=1;fa<H.length;fa++){const [pa,xa,ra]=H[fa];K+=J*pa;Q+=Z*xa;R[fa]=[K,Q,p(F,ra)]}return R},G=(F,H)=>{const R=Array(H.length);if(!H.length)return R;var J=H[0];let K=g(F,J[0]),Q=f(F,J[1]);R[0]=[K,Q,r(F,J[2])];const {scale:N,originPosition:U}=F;J=N[0];const Z="lowerLeft"===U?N[1]:-N[1];for(let fa=1;fa<H.length;fa++){const [pa,
xa,ra]=H[fa];K+=J*pa;Q+=Z*xa;R[fa]=[K,Q,r(F,ra)]}return R},E=(F,H)=>{const R=Array(H.length);if(!H.length)return R;var J=H[0];let K=g(F,J[0]),Q=f(F,J[1]);R[0]=[K,Q,p(F,J[2]),r(F,J[3])];const {scale:N,originPosition:U}=F;J=N[0];const Z="lowerLeft"===U?N[1]:-N[1];for(let fa=1;fa<H.length;fa++){const [pa,xa,ra,qa]=H[fa];K+=J*pa;Q+=Z*xa;R[fa]=[K,Q,p(F,ra),r(F,qa)]}return R};a.getQuantizedBoundsCoordsArray=q;a.getQuantizedBoundsCoordsArrayArray=x;a.getQuantizedBoundsPaths=function(F){return x([0,0,0,0],
F)};a.getQuantizedBoundsPoints=function(F){const H=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return q(H,H,F)};a.getQuantizedBoundsRings=function(F){return x([0,0,0,0],F)};a.normalizeTransform=c;a.quantizeBounds=function(F,H,R){F=c(F);H[0]=h(F,R[0]);H[3]=d(F,R[1]);H[2]=h(F,R[2]);H[1]=d(F,R[3]);return H};a.quantizeCoordsArrayXY=v;a.quantizeCoordsArrayXYM=B;a.quantizeCoordsArrayXYZ=y;a.quantizeCoordsArrayXYZM=C;a.quantizeExtent=A;a.quantizeGeometry=
function(F,H){return F&&H?b.isPoint(H)?w(F,{},H):b.isPolyline(H)?k(F,{},H):b.isPolygon(H)?z(F,{},H):b.isMultipoint(H)?u(F,{},H):b.isExtent(H)?A(F,{},H):null:null};a.quantizeM=m;a.quantizeMultipoint=u;a.quantizePoint=w;a.quantizePolygon=z;a.quantizePolyline=k;a.quantizeX=h;a.quantizeY=d;a.quantizeZ=n;a.toQuantizationTransform=function(F){return F?{originPosition:"upper-left"===F.originPosition?"upperLeft":"lower-left"===F.originPosition?"lowerLeft":F.originPosition,scale:F.tolerance?[F.tolerance,F.tolerance,
1,1]:[1,1,1,1],translate:null!=F.extent?[F.extent.xmin,F.extent.ymax,F.extent.zmin??0,F.extent.mmin??0]:[0,0,0,0]}:null};a.unquantizeBounds=function(F,H,R){F=c(F);return R?(H[0]=g(F,R[0]),H[1]=f(F,R[3]),H[2]=g(F,R[2]),H[3]=f(F,R[1]),H):[g(F,H[0]),f(F,H[3]),g(F,H[2]),f(F,H[1])]};a.unquantizeCoordsArrayArray=l;a.unquantizeCoordsArrayXY=L;a.unquantizeCoordsArrayXYM=G;a.unquantizeCoordsArrayXYZ=M;a.unquantizeCoordsArrayXYZM=E;a.unquantizeExtent=function(F,H,R,J=R.hasZ??!1,K=R.hasM??!1){F=c(F);H.xmin=
g(F,R.xmin);H.xmax=g(F,R.xmax);H.ymin=f(F,R.ymin);H.ymax=f(F,R.ymax);J&&(H.zmin=p(F,R.zmin),H.zmax=p(F,R.zmax));K&&(H.mmin=r(F,R.mmin),H.mmax=r(F,R.mmax));H.hasZ=J;H.hasM=K;return H};a.unquantizeM=r;a.unquantizeMultipoint=function(F,H,R,J=R?.hasZ??!1,K=R?.hasM??!1){null!=R&&(F=c(F),H.points=t(J,K)(F,R.points),H.hasZ=J,H.hasM=K);return H};a.unquantizePoint=function(F,H,R,J=null!=R?.z,K=null!=R?.m){if(null==R)return H;F=c(F);H.x=g(F,R.x);H.y=f(F,R.y);J&&(H.z=p(F,R.z));K&&(H.m=r(F,R.m));return H};a.unquantizePolygon=
function(F,H,R,J=R?.hasZ??!1,K=R?.hasM??!1){null!=R&&(F=c(F),H.rings=l(F,t(J,K),R.rings),H.hasZ=J,H.hasM=K);return H};a.unquantizePolyline=function(F,H,R,J=R?.hasZ??!1,K=R?.hasM??!1){null!=R&&(F=c(F),H.paths=l(F,t(J,K),R.paths),H.hasZ=J,H.hasM=K);return H};a.unquantizeX=g;a.unquantizeY=f;a.unquantizeZ=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){var x;d=x=class extends p.VisualVariablesMixin(f){constructor(A){super(A);this.attributes=null;this.backgroundColor=new b([0,0,0,0]);this.dotBlendingEnabled=!0;this.dotShape="square";this.dotSize=1;this.legendOptions=null;this.outline=new q;this.referenceScale=this.dotValue=null;this.seed=1;this.type="dot-density"}calculateDotValue(A){if(null==this.referenceScale)return this.dotValue;A=A/this.referenceScale*this.dotValue;return 1>A?1:A}getSymbol(){return new l({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((A,
u)=>A+u.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new x({attributes:c.clone(this.attributes),backgroundColor:c.clone(this.backgroundColor),dotBlendingEnabled:c.clone(this.dotBlendingEnabled),dotShape:c.clone(this.dotShape),dotSize:c.clone(this.dotSize),dotValue:c.clone(this.dotValue),legendOptions:c.clone(this.legendOptions),outline:c.clone(this.outline),referenceScale:c.clone(this.referenceScale),seed:c.clone(this.seed),visualVariables:c.clone(this.visualVariables),
authoringInfo:c.clone(this.authoringInfo)})}getControllerHash(){const A=this.attributes?.map(w=>w.field||w.valueExpression||""),u=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${A}-${u}`}async collectRequiredFields(A,u){await this.collectVVRequiredFields(A,u);for(const w of this.attributes??[])w.valueExpression&&await g.collectArcadeFieldNames(A,u,w.valueExpression),w.field&&A.add(w.field)}};a.__decorate([h.property({type:[r],json:{write:!0}})],d.prototype,"attributes",void 0);a.__decorate([h.property({type:b,
json:{write:!0}})],d.prototype,"backgroundColor",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],d.prototype,"dotBlendingEnabled",void 0);a.__decorate([h.property({type:String,json:{write:!1}})],d.prototype,"dotShape",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"dotSize",void 0);a.__decorate([h.property({type:t,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([h.property({type:q,json:{default:null,write:!0}})],d.prototype,"outline",
void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"dotValue",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"referenceScale",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],d.prototype,"seed",void 0);a.__decorate([m.enumeration({dotDensity:"dot-density"})],d.prototype,"type",void 0);return d=x=a.__decorate([e.subclass("esri.renderers.DotDensityRenderer")],d)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;c=p=class extends c.JSONSupport{constructor(r){super(r);this.valueExpressionTitle=this.valueExpression=this.label=this.field=this.color=null}castField(r){return null==r?r:"function"===typeof r?(h.getLogger(this).error(".field: field must be a string value"),null):f.ensureString(r)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new p({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,
valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([d.property({type:b,json:{type:[Number],write:!0}})],c.prototype,"color",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([n.cast("field")],c.prototype,"castField",null);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"label",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=p=a.__decorate([g.subclass("esri.renderers.support.AttributeColorInfo")],c)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(){super(...arguments);
this.unit=null}clone(){return new e({unit:this.unit})}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=e=a.__decorate([m.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A){function u(z){if(null!=z){const {maxDensity:k,minDensity:v,radius:y}=z;if(null!=k||null!=v||null!=y){const {blurRadius:B,maxPixelIntensity:C,minPixelIntensity:L,...M}=z;return M}}return z}var w;c=w=class extends r{constructor(z){super(z);this.authoringInfo=null;this.colorStops=[new l({ratio:0,color:new b("rgba(255, 140, 0, 0)")}),new l({ratio:.75,color:new b("rgba(255, 140, 0, 1)")}),new l({ratio:.9,color:new b("rgba(255, 0,   0, 1)")})];this.legendOptions=
this.field=null;this.maxDensity=.04;this.minDensity=0;this.radius=18;this.referenceScale=0;this.type="heatmap";this.valueExpressionTitle=this.valueExpression=null}normalizeCtorArgs(z){return u(z)}get blurRadius(){return x.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)}set blurRadius(z){const k=this.maxPixelIntensity,v=this.minPixelIntensity;this._set("radius",x.gaussianBlurRadiusPxToKernelDensityRadiusPt(z));this._set("maxDensity",k*this._pixelIntensityToDensity);this._set("minDensity",
v*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(z){this._set("maxDensity",z*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(z){this._set("minDensity",z*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(x.magicKernelDensityRadiusInflationFactor**2*this.blurRadius**4)}read(z,k){z=u(z);super.read(z,k)}getSymbol(){return new A}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(z,
k){const v=this.field,y=this.valueExpression;v&&"string"===typeof v&&p.collectField(z,k,v);y&&"string"===typeof y&&await p.collectArcadeFieldNames(z,k,y)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new w({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:h.clone(this.colorStops),field:this.field,legendOptions:h.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,
radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([n.property({type:t,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],c.prototype,"authoringInfo",void 0);a.__decorate([n.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],c.prototype,"blurRadius",null);a.__decorate([n.property({type:[l],json:{write:!0}})],c.prototype,"colorStops",void 0);a.__decorate([n.property({type:String,
json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([n.property({type:q.HeatmapLegendOptions,json:{write:!0}})],c.prototype,"legendOptions",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"maxDensity",void 0);a.__decorate([n.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],c.prototype,"maxPixelIntensity",null);a.__decorate([n.property({type:Number,json:{write:!0}})],c.prototype,"minDensity",void 0);a.__decorate([n.property({type:Number,
json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],c.prototype,"minPixelIntensity",null);a.__decorate([n.property({type:Number,cast:d.toPt,json:{write:!0}})],c.prototype,"radius",void 0);a.__decorate([n.property({type:Number,range:{min:0},json:{default:0,write:!0}})],c.prototype,"referenceScale",void 0);a.__decorate([g.enumeration({heatmap:"heatmap"})],c.prototype,"type",void 0);a.__decorate([n.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],
c.prototype,"valueExpression",void 0);a.__decorate([n.property({type:String})],c.prototype,"valueExpressionTitle",void 0);a.__decorate([n.property({readOnly:!0})],c.prototype,"_pixelIntensityToDensity",null);return c=w=a.__decorate([f.subclass("esri.renderers.HeatmapRenderer")],c)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends c.JSONSupport{constructor(f){super(f);this.ratio=this.color=null}clone(){return new g({color:this.color&&this.color.clone(),ratio:this.ratio})}};a.__decorate([h.property({type:b,json:{type:[d.Integer],default:null,write:!0}})],c.prototype,"color",void 0);a.__decorate([h.property({type:Number,json:{write:!0}})],c.prototype,"ratio",void 0);return c=g=a.__decorate([e.subclass("esri.renderers.support.HeatmapColorStop")],c)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){a.HeatmapLegendOptions=class extends c.ClonableMixin(h.JSONSupport){constructor(){super(...arguments);this.title=this.maxLabel=this.minLabel=null}};b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=
b.__decorate([g.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],function(a,b,c,h,d){function n(m,e,g,f){let {color:p,ratio:r}=e,{color:t,ratio:l}=g;l===r&&(1===l?r-=1E-6:l+=1E-6);e=b.clamp((f-r)/(l-r),0,1);h.lerp(m,p.toArray(),
t.toArray(),e)}a.createValueFunction=function(m){return"function"===typeof m?m:m?e=>+e[m]:()=>1};a.evaluateDensityKernel=function(m,e,g){m=Math.sqrt(m**2+e**2)/g;return 1<m?0:3/(Math.PI*g**2)*(1-m**2)**2};a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(m){return c.px2pt(2.4*m)};a.generateGradient=function(m){const e=new Uint8ClampedArray(2048);m=m.filter(({ratio:t})=>0<=t&&1>=t).sort((t,l)=>t.ratio-l.ratio).map(({color:t,ratio:l})=>({color:t,ratio:Math.max(l,.001)}));if(1>m.length)return e;
let g=m[0],f=m[0],p=1;const r=d.create();for(let t=0;512>t;t++){const l=(t+.5)/512;for(;l>f.ratio&&p<m.length;)g=f,f=m[p++];n(r,g,f,l);e.set(r,4*t)}return e};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(m){return c.pt2px(m)/2.4};a.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PieChartRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/commonProperties ./support/OthersCategory ./support/RendererLegendOptions ./visualVariables/OpacityVariable ./visualVariables/SizeVariable ./visualVariables/VisualVariable ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y){c={base:k,key:"type",typeMap:{size:z,opacity:w}};d=class extends l.VisualVariablesMixin(d.ClonableMixin(t)){constructor(B){super(B);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new b([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new A.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart";this.visualVariables=null}getSymbol(){return new v({size:this.size?this.size/
2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(h.isSome)}getAttributeHash(){return this.visualVariables?.reduce((B,C)=>B+C.getAttributeHash(),"")??""}getMeshHash(){return this.getSymbols().reduce((B,C)=>B+=JSON.stringify(C),"")}async collectRequiredFields(B,C){await this.collectVVRequiredFields(B,C);for(const L of this.attributes)L.valueExpression&&await r.collectArcadeFieldNames(B,C,L.valueExpression),
L.field&&B.add(L.field)}};a.__decorate([m.property({type:[q],json:{write:!0}})],d.prototype,"attributes",void 0);a.__decorate([m.property(x.rendererBackgroundFillSymbolProperty)],d.prototype,"backgroundFillSymbol",void 0);a.__decorate([m.property({type:b,json:{write:!0}})],d.prototype,"defaultColor",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],d.prototype,"defaultLabel",void 0);a.__decorate([m.property({type:Number,range:{min:0,max:1},json:{write:!0}})],d.prototype,"holePercentage",
void 0);a.__decorate([m.property({type:A.OthersCategory,json:{write:!0}})],d.prototype,"othersCategory",void 0);a.__decorate([m.property({type:u,json:{write:!0}})],d.prototype,"legendOptions",void 0);a.__decorate([m.property({type:y,json:{default:null,write:!0}})],d.prototype,"outline",void 0);a.__decorate([m.property({type:Number,cast:n.toPt,json:{write:!0}})],d.prototype,"size",void 0);a.__decorate([f.enumeration({pieChart:"pie-chart"})],d.prototype,"type",void 0);a.__decorate([m.property({types:[c]})],
d.prototype,"visualVariables",void 0);return d=a.__decorate([p.subclass("esri.renderers.PieChartRenderer")],d)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g,f){a.OthersCategory=class extends h.ClonableMixin(d.JSONSupport){constructor(){super(...arguments);
this.color=new c([0,0,0,0]);this.label=null;this.threshold=0}};b.__decorate([n.property({type:c,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);b.__decorate([n.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);b.__decorate([n.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",void 0);a.OthersCategory=b.__decorate([f.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;h=p=class extends g.VisualVariablesMixin(e){constructor(r){super(r);this.symbol=this.label=this.description=
null;this.type="simple"}async collectRequiredFields(r,t){await Promise.all([this.collectSymbolFields(r,t),this.collectVVRequiredFields(r,t)])}async collectSymbolFields(r,t){await Promise.all(this.getSymbols().map(l=>l.collectRequiredFields(r,t)))}getSymbol(r,t){return this.symbol}async getSymbolAsync(r,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((r,t)=>r+t.getAttributeHash(),"")??""}getMeshHash(){return this.getSymbols().reduce((r,
t)=>r+=JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new p({description:this.description,label:this.label,symbol:b.clone(this.symbol),visualVariables:b.clone(this.visualVariables),authoringInfo:b.clone(this.authoringInfo)})}};a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"label",void 0);a.__decorate([c.property(f.requiredRendererSymbolProperty)],
h.prototype,"symbol",void 0);a.__decorate([n.enumeration({simple:"simple"})],h.prototype,"type",void 0);return h=p=a.__decorate([m.subclass("esri.renderers.SimpleRenderer")],h)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/RendererLegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G,E){function F(K){const {field1:Q,field2:N,field3:U,fieldDelimiter:Z,uniqueValueInfos:fa,valueExpression:pa}=K,xa=!(!Q||!N);return[{classes:(fa??[]).map(ra=>{const {symbol:qa,label:za,value:Da,description:sa}=ra,[X,aa,ha]=xa?Da?.toString()?.split(Z||"")||[]:[Da];ra=[];(Q||pa)&&ra.push(X);N&&ra.push(aa);U&&ra.push(ha);return{symbol:qa,label:za,values:[ra],description:sa}})}]}function H(K){if(null==K||""===K||"string"===typeof K&&(""===
K.trim()||"\x3cnull\x3e"===K.toLowerCase()))K=null;return K+""}var R;const J=q.ensureType(C);u=R=class extends w.VisualVariablesMixin(u){constructor(K){super(K);this._valueInfoMap={};this._isDefaultSymbolDerived=!1;this._isInfosSource=null;this.type="unique-value";this.backgroundFillSymbol=null;this.orderByClassesEnabled=!1;this.styleOrigin=this.portal=this.defaultLabel=this.legendOptions=this.valueExpressionTitle=null;this.diff={uniqueValueInfos(Q,N){if(Q||N){if(!Q||!N)return{type:"complete",oldValue:Q,
newValue:N};var U=!1,Z={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let fa=0;fa<N.length;fa++){const pa=Q.find(xa=>xa.value===N[fa].value);pa?l.diff(pa,N[fa])?(Z.changed.push({type:"complete",oldValue:pa,newValue:N[fa]}),U=!0):Z.unchanged.push({oldValue:pa,newValue:N[fa]}):(Z.added.push(N[fa]),U=!0)}for(let fa=0;fa<Q.length;fa++)N.find(pa=>pa.value===Q[fa].value)||(Z.removed.push(Q[fa]),U=!0);return U?Z:void 0}}};this._set("uniqueValueInfos",[]);this._set("uniqueValueGroups",
[])}get _cache(){return{compiledFunc:null}}set field(K){this._set("field",K);this._updateFieldDelimiter();this._updateUniqueValues()}castField(K){return null==K||"function"===typeof K?K:q.ensureString(K)}writeField(K,Q,N,U){"string"===typeof K?Q[N]=K:U?.messages?U.messages.push(new c("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):d.getLogger("esri.renderers.UniqueValueRenderer").error(".field: cannot write field to JSON since it's not a string value")}set field2(K){this._set("field2",
K);this._updateFieldDelimiter();this._updateUniqueValues()}set field3(K){this._set("field3",K);this._updateUniqueValues()}set valueExpression(K){this._set("valueExpression",K);this._updateUniqueValues()}set defaultSymbol(K){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",K)}set fieldDelimiter(K){this._set("fieldDelimiter",K);this._updateUniqueValues()}readPortal(K,Q,N){return N.portal||A.getDefault()}readStyleOrigin(K,Q,N){if(Q.styleName)return Object.freeze({styleName:Q.styleName});if(Q.styleUrl)return K=
M.fromJSON(Q.styleUrl,N),Object.freeze({styleUrl:K})}writeStyleOrigin(K,Q,N,U){K.styleName?Q.styleName=K.styleName:K.styleUrl&&(Q.styleUrl=M.toJSON(K.styleUrl,U))}set uniqueValueGroups(K){this.styleOrigin?d.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",K),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(K){this.styleOrigin?
d.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",K),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(K,Q){this.styleOrigin?d.getLogger("esri.renderers.UniqueValueRenderer").error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(K="object"===typeof K?J(K):new C({value:K,symbol:b.ensureType(Q)}),this.uniqueValueInfos?.push(K),this._valueInfoMap[H(K.value)]=K,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}removeUniqueValueInfo(K){if(this.styleOrigin)d.getLogger("esri.renderers.UniqueValueRenderer").error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var Q=this.uniqueValueInfos;if(Q)for(let N=0;N<Q.length;N++)if(String(Q[N].value)===
String(K)){delete this._valueInfoMap[H(K)];Q.splice(N,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}}async getUniqueValueInfo(K,Q){let N=Q;this.valueExpression&&null==Q?.arcade&&(N={...N,arcade:await L.loadArcade()});return this._getUniqueValueInfo(K,N)}getSymbol(K,Q){if(this.valueExpression&&null==Q?.arcade)d.getLogger("esri.renderers.UniqueValueRenderer").error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return this._getUniqueValueInfo(K,
Q)?.symbol||this.defaultSymbol}async getSymbolAsync(K,Q){if(this.valueExpression&&null==Q?.arcade){const N=await L.loadArcade(),{arcadeUtils:U}=N;U.hasGeometryOperations(this.valueExpression)&&await U.enableGeometryOperations();Q={...Q,arcade:N}}return this._getUniqueValueInfo(K,Q)?.symbol||this.defaultSymbol}getSymbols(){const K=[];for(const Q of this.uniqueValueInfos??[])Q.symbol&&K.push(Q.symbol);this.defaultSymbol&&K.push(this.defaultSymbol);return K}getAttributeHash(){return this.visualVariables?.reduce((K,
Q)=>K+Q.getAttributeHash(),"")??""}getMeshHash(){const K=JSON.stringify(this.backgroundFillSymbol),Q=JSON.stringify(this.defaultSymbol),N=this.uniqueValueInfos?.reduce((U,Z)=>U+Z.getMeshHash(),"");return`${K}.${Q}.${N}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const K=new R({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:h.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,
valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:h.clone(this.visualVariables),legendOptions:h.clone(this.legendOptions),authoringInfo:h.clone(this.authoringInfo),backgroundFillSymbol:h.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(K._isDefaultSymbolDerived=!0);K._set("portal",this.portal);const Q=h.clone(this.uniqueValueInfos),N=h.clone(this.uniqueValueGroups);this.styleOrigin&&(K._set("styleOrigin",
Object.freeze(h.clone(this.styleOrigin))),Object.freeze(Q),Object.freeze(N));K._set("uniqueValueInfos",Q);K._updateValueInfoMap();K._set("uniqueValueGroups",N);K._isInfosSource=this._isInfosSource;K._watchUniqueValueInfosAndGroups();return K}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(K,Q){K=[this.collectVVRequiredFields(K,Q),this.collectSymbolFields(K,Q)];await Promise.all(K)}async collectSymbolFields(K,Q){const N=[...this.getSymbols().map(U=>
U.collectRequiredFields(K,Q)),x.collectArcadeFieldNames(K,Q,this.valueExpression)];x.collectField(K,Q,this.field);x.collectField(K,Q,this.field2);x.collectField(K,Q,this.field3);await Promise.all(N)}populateFromStyle(){return G.fetchStyle(this.styleOrigin,{portal:this.portal}).then(K=>{const Q=[];this._valueInfoMap={};K?.data&&Array.isArray(K.data.items)&&K.data.items.forEach(N=>{var U=new E({styleUrl:K.styleUrl,styleName:K.styleName,portal:this.portal,name:N.name});this.defaultSymbol||N.name!==K.data.defaultItem||
(this.defaultSymbol=U,this._isDefaultSymbolDerived=!0);U=new C({value:N.name,symbol:U});Q.push(U);this._valueInfoMap[H(N.name)]=U});this._set("uniqueValueInfos",Object.freeze(Q));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",
",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const {uniqueValueInfos:K}=this;if(K)for(const Q of K)this._valueInfoMap[H(Q.value)]=Q}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:K}=this;if(K){const Q=[];for(const N of K)Q.push(m.watch(()=>
({symbol:N.symbol,value:N.value,label:N.label,description:N.description}),(U,Z)=>{U!==Z&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(Q,"uvInfos-watcher")}}_watchUniqueValueGroups(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:K}=this;if(K){const Q=[];for(const N of K){Q.push(m.watch(()=>({classes:N.classes}),(U,Z)=>{U!==Z&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const U of N.classes??[])Q.push(m.watch(()=>({symbol:U.symbol,
values:U.values,label:U.label,description:U.description}),(Z,fa)=>{Z!==fa&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(Q,"uvGroups-watcher")}}_updateInfosFromGroups(){if(this.uniqueValueGroups){var K=[],{field:Q,field2:N,field3:U,fieldDelimiter:Z,uniqueValueGroups:fa,valueExpression:pa}=this;if(Q||pa){var xa=!(!Q||!N);for(const qa of fa)for(const za of qa.classes??[]){const {symbol:Da,label:sa,values:X,description:aa}=za;for(const ha of X??[]){const {value:I,
value2:T,value3:da}=ha;var ra=[I];N&&ra.push(T);U&&ra.push(da);ra=xa?ra.join(Z||""):ra[0]??void 0;K.push(new C({symbol:Da,label:sa,value:ra,description:aa}))}}}this._set("uniqueValueInfos",K)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()}_updateGroupsFromInfos(K=!1){if(this.uniqueValueInfos){var {field:Q,field2:N,valueExpression:U,fieldDelimiter:Z,uniqueValueInfos:fa}=this;if((Q||U)&&fa.length){var pa=!(!Q||!N),xa=fa.map(ra=>{const {symbol:qa,label:za,
value:Da,description:sa}=ra,[X,aa,ha]=pa?Da?.toString()?.split(Z||"")||[]:[Da];return new y({symbol:qa,label:za,description:sa,values:[new v({value:X,value2:aa,value3:ha})]})});xa=[new B({classes:xa})];K&&Object.freeze(xa);this._set("uniqueValueGroups",xa)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()}_getUniqueValueInfo(K,Q){return this.valueExpression?this._getUnqiueValueInfoForExpression(K,Q):this._getUnqiueValueInfoForFields(K)}_getUnqiueValueInfoForExpression(K,
Q){const {viewingMode:N,scale:U,spatialReference:Z,arcade:fa,timeZone:pa}=Q??{};var xa=this._cache.compiledFunc;Q=fa.arcadeUtils;xa||(xa=Q.createSyntaxTree(this.valueExpression),xa=Q.createFunction(xa),this._cache.compiledFunc=xa);K=Q.executeFunction(xa,Q.createExecContext(K,Q.getViewInfo({viewingMode:N,scale:U,spatialReference:Z}),pa));return this._valueInfoMap[H(K)]}_getUnqiueValueInfoForFields(K){const Q=this.field;K=K.attributes;if(this.field2){var N=this.field2;const U=this.field3,Z=[];Q&&Z.push(K[Q]);
N&&Z.push(K[N]);U&&Z.push(K[U]);N=Z.join(this.fieldDelimiter||"")}else Q&&(N=K[Q]);return this._valueInfoMap[H(N)]}static fromPortalStyle(K,Q){const N=new R(Q?.properties);N._set("styleOrigin",Object.freeze({styleName:K}));N._set("portal",Q?.portal||A.getDefault());Q=N.populateFromStyle();Q.catch(U=>{d.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromPortalStyle('${K}'[, ...])`,"Failed to create unique value renderer from style name",U)});return Q}static fromStyleUrl(K,Q){Q=new R(Q?.properties);
Q._set("styleOrigin",Object.freeze({styleUrl:K}));Q=Q.populateFromStyle();Q.catch(N=>{d.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromStyleUrl('${K}'[, ...])`,"Failed to create unique value renderer from style URL",N)});return Q}};a.__decorate([e.property({readOnly:!0})],u.prototype,"_cache",null);a.__decorate([f.enumeration({uniqueValue:"unique-value"})],u.prototype,"type",void 0);a.__decorate([e.property(z.rendererBackgroundFillSymbolProperty)],u.prototype,"backgroundFillSymbol",void 0);
a.__decorate([e.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],u.prototype,"field",null);a.__decorate([g.cast("field")],u.prototype,"castField",null);a.__decorate([t.writer("field")],u.prototype,"writeField",null);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],u.prototype,"field2",null);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],u.prototype,"field3",null);a.__decorate([e.property({type:Boolean,json:{name:"drawInClassOrder",
default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"orderByClassesEnabled",void 0);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],u.prototype,"valueExpression",null);a.__decorate([e.property({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0);a.__decorate([e.property({type:k,json:{write:!0}})],u.prototype,"legendOptions",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],u.prototype,"defaultLabel",void 0);a.__decorate([e.property(n.deepMerge({...z.rendererSymbolProperty},
{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],u.prototype,"defaultSymbol",null);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],u.prototype,"fieldDelimiter",null);a.__decorate([e.property({type:A,readOnly:!0})],u.prototype,"portal",void 0);a.__decorate([p.reader("portal",["styleName"])],u.prototype,"readPortal",null);a.__decorate([e.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],u.prototype,"styleOrigin",void 0);a.__decorate([p.reader("styleOrigin",["styleName","styleUrl"])],u.prototype,"readStyleOrigin",null);a.__decorate([t.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],u.prototype,"writeStyleOrigin",null);a.__decorate([e.property({type:[B],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(K,Q,N)=>(Q.uniqueValueGroups||F(Q)).map(U=>B.fromJSON(U,N))},write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],u.prototype,"uniqueValueGroups",null);a.__decorate([e.property({type:[C],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],u.prototype,"uniqueValueInfos",null);return u=R=a.__decorate([r.subclass("esri.renderers.UniqueValueRenderer")],u)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,c,h){function d(t){return t instanceof c?Object.keys(t.items):t instanceof
b?h.getProperties(t).keys():t?Object.keys(t):[]}function n(t,l){return t instanceof c?t.items[l]:t[l]}function m(t,l){return Array.isArray(t)&&Array.isArray(l)?t.length!==l.length:!1}function e(t){return t?t.declaredClass:null}function g(t,l){const q=t.diff;if(q&&"function"===typeof q)return q(t,l);const x=d(t),A=d(l);if(0!==x.length||0!==A.length){if(!x.length||!A.length||m(t,l))return{type:"complete",oldValue:t,newValue:l};var u=A.filter(k=>!x.includes(k)),w=x.filter(k=>!A.includes(k));w=x.filter(k=>
A.includes(k)&&n(t,k)!==n(l,k)).concat(u,w).sort();if((u=e(t))&&r.has(u)&&w.length)return{type:"complete",oldValue:t,newValue:l};var z;u=t instanceof b&&l instanceof b;for(const k of w){w=n(t,k);const v=n(l,k);if((u||"function"!==typeof w&&"function"!==typeof v)&&w!==v&&(null!=w||null!=v)){if(q&&q[k]&&"function"===typeof q[k])w=q[k]?.(w,v);else if(w instanceof Date&&v instanceof Date){if(w.getTime()===v.getTime())continue;w={type:"complete",oldValue:w,newValue:v}}else w="object"===typeof w&&"object"===
typeof v&&e(w)===e(v)?g(w,v):{type:"complete",oldValue:w,newValue:v};null!=w&&(null!=z?z.diff[k]=w:z={type:"partial",diff:{[k]:w}})}}return z}}function f(t,l){if(null==t)return!1;l=l.split(".");for(const q of l){if("complete"===t.type)break;if("partial"===t.type){if(t=t.diff[q],!t)return!1}else return!1}return!0}function p(t){if(null==t)return!0;switch(t.type){case "complete":return!1;case "collection":for(const l of t.added)if(!p(l))return!1;for(const l of t.removed)if(!p(l))return!1;for(const l of t.changed)if(!p(l))return!1;
return!0;case "partial":for(const l in t.diff)if(!p(t.diff[l]))return!1;return!0}}const r=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);a.diff=function(t,l){if("function"!==typeof t&&"function"!==typeof l&&(null!=t||null!=l))return null==t||null==l||"object"===typeof t&&"object"===typeof l&&e(t)!==e(l)?{type:"complete",oldValue:t,newValue:l}:g(t,l)};a.hasDiff=f;a.hasDiffAny=function(t,l){for(const q of l)if(f(t,
q))return!0;return!1};a.hasRootDiff=function(t,l){return f(t,l)};a.hasRootDiffOnly=function(t,l){return t?"partial"===t.type?(t=Object.keys(t.diff),1===t.length&&t[0]===l):!1:!1};a.isEmpty=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),
function(a,b,c,h,d,n,m,e,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(f){super(f);this.value3=this.value2=this.value=null}};a.__decorate([h.property(g.uniqueValueProperty)],b.prototype,"value",void 0);a.__decorate([h.property(g.uniqueValueProperty)],b.prototype,"value2",void 0);a.__decorate([h.property(g.uniqueValueProperty)],b.prototype,"value3",void 0);return b=a.__decorate([e.subclass("esri.renderers.support.UniqueValue")],b)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,c,h,d,n,m,e,g,f){c=class extends c.ClonableMixin(h.JSONSupport){constructor(p){super(p);this.values=this.symbol=this.label=this.description=null}castValues(p){if(null==p)return null;p=Array.isArray(p)?p:[p];const r=typeof p[0];return"string"===r||"number"===r?p.map(t=>new f({value:t})):"object"===r?p[0]instanceof f?p:p.map(t=>new f(t)):null}};a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"description",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],
c.prototype,"label",void 0);a.__decorate([d.property(g.rendererSymbolProperty)],c.prototype,"symbol",void 0);a.__decorate([d.property({type:[f],json:{type:[[String]],read:{reader:p=>p?p.map(r=>new f({value:r[0],value2:r[1],value3:r[2]})):null},write:{writer:(p,r)=>{const t=[];for(const l of p)p=[l.value,l.value2,l.value3].filter(b.isSome).map(q=>q.toString()),t.push(p);r.values=t}}}})],c.prototype,"values",void 0);a.__decorate([n.cast("values")],c.prototype,"castValues",null);return c=a.__decorate([e.subclass("esri.renderers.support.UniqueValueClass")],
c)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,c,h,d,n,m,e,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(f){super(f);this.classes=this.heading=null}};a.__decorate([h.property({type:String,json:{write:!0}})],
b.prototype,"heading",void 0);a.__decorate([h.property({type:[g],json:{write:!0}})],b.prototype,"classes",void 0);return b=a.__decorate([e.subclass("esri.renderers.support.UniqueValueGroup")],b)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,c,h,d,
n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f);this.value=this.symbol=this.label=this.description=null}clone(){return new g({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const f=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${f}`}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,
"label",void 0);a.__decorate([c.property(e.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);a.__decorate([c.property(e.uniqueValueProperty)],b.prototype,"value",void 0);return b=g=a.__decorate([m.subclass("esri.renderers.support.UniqueValueInfo")],b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/has ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ./styleCache".split(" "),function(a,
b,c,h,d,n,m,e,g){async function f(l,q){try{return{data:(await t(l,q)).data,baseUrl:n.removeFile(l),styleUrl:l}}catch(x){return d.throwIfAbortError(x),null}}function p(l,q,x){const A=null!=q.portal?q.portal:m.getDefault();let u;q=`${A.url} - ${A.user?.username} - ${l}`;const w=g.cachedStyles.get(q);if(w)return w;x=r(l,A,x).then(z=>{u=z;return z.fetchData()}).then(z=>({data:z,baseUrl:u.itemUrl??"",styleName:l}));g.cachedStyles.set(q,x);return x}function r(l,q,x){return q.load(x).then(()=>{const A=new e({disableExtraQuery:!0,
query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${l}"`});return q.queryItems(A,x)}).then(({results:A})=>{let u=null;const w=l.toLowerCase();if(A&&Array.isArray(A))for(const z of A)if(z.typeKeywords?.some(k=>k.toLowerCase()===w)&&"Style"===z.type&&"esri_en"===z.owner){u=z;break}if(!u)throw new c("symbolstyleutils:style-not-found",`The style '${l}' could not be found`,{styleName:l});return u.load(x)})}function t(l,q){q={responseType:"json",query:{f:"json"},...q};return b(n.normalize(l),
q)}a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.fetchStyle=function(l,q,x){return null!=l?.styleUrl?f(l.styleUrl,x):null!=l?.styleName?p(l.styleName,q,x):Promise.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=function(l){return null===l||"CIMSymbolReference"===l.type?l:{type:"CIMSymbolReference",
symbol:l}};a.requestJSON=t;a.symbolUrlFromStyleItem=function(l,q,x=["gltf"]){if("cimRef"===q)return encodeURI(l.cimRef);if(l.formatInfos&&!h("enable-feature:force-wosr"))for(const A of x)if(q=l.formatInfos.find(u=>u.type===A))return q.href;return encodeURI(l.webRef)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/styleCache":function(){define(["exports"],function(a){const b=new Map;a.cachedStyles=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,c,h){function d(m,e,g){return m?m&&(m.styleName||m.styleUrl)&&"uniqueValue"!==m.type?(g?.messages&&g.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+m.type+"'",{definition:m,context:g})),null):n(m,e,g):null}const n=c.createTypeReader({types:h.rendererTypes});
a.fromJSON=function(m,e){return d(m,null,e)};a.read=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../../core/Logger ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,c,h,d,n,m,e,g,f){function p(l){const q=l.uniqueValueInfos,x=q?.filter(({symbol:A,label:u},w)=>{A||b.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${w}] ${u}) without a symbol from web scene.`);
return!!A});x?.length!==q?.length&&(l.uniqueValueInfos=x);return l}function r(l){const q=l.classBreakInfos,x=q?.filter(({symbol:A,label:u},w)=>{A||b.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${w}] ${u}) without a symbol from web scene.`);return!!A});x?.length!==q?.length&&(l.classBreakInfos=x);return l}const t={key:"type",base:e,typeMap:{simple:g,"unique-value":f,"class-breaks":c,heatmap:n},errorContext:"renderer",validate:function(l){switch(l.type){case "simple":return l.symbol||
(b.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene."),l=void 0),l;case "unique-value":return p(l);case "class-breaks":return r(l);case "heatmap":return l}}};a.rendererTypes={key:"type",base:e,typeMap:{heatmap:n,simple:g,"unique-value":f,"class-breaks":c,"dot-density":d,dictionary:h,"pie-chart":m},errorContext:"renderer"};a.webSceneRendererTypes=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/get ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){const f=r=>{r=class extends r{constructor(...t){super(...t)}clear(t,l="user"){return m.getProperties(this).store.delete(t,n.nameToId(l))}write(t,l){t=t||{};e.write(this,t,l);return t}setAtOrigin(t,l,q){m.getProperties(this).setAtOrigin(t,l,n.nameToId(q))}removeOrigin(t){const l=m.getProperties(this).store;t=n.nameToId(t);const q=l.keys(t);for(const x of q)l.originOf(x)===t&&l.set(x,l.get(x,t),n.OriginId.USER)}updateOrigin(t,l){const q=m.getProperties(this).store;l=n.nameToId(l);
const x=d.get(this,t);for(let A=l+1;A<n.originIdNum;++A)q.delete(t,A);q.set(t,x,l)}toJSON(t){return this.write({},t)}};r=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],r);r.prototype.toJSON.isDefaultToJSON=!0;return r},p=r=>{r=class extends f(h.ReadOnlyMultiOriginJSONMixin(r)){constructor(...t){super(...t)}};return r=b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],r)};a.MultiOriginJSONSupport=class extends p(c){};a.MultiOriginJSONSupport=
b.__decorate([g.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,
m,e,g){const f=p=>{p=class extends p{constructor(...r){super(...r);r=e.getProperties(this);const t=r.store,l=new d;r.store=l;h.setupConstructedDefaults(r,t,l)}read(r,t){m.read(this,r,t)}getAtOrigin(r,t){const l=e.getProperties(this).store,q=n.nameToId(t);if("string"===typeof r)return l.get(r,q);const x={};r.forEach(A=>{x[A]=l.get(A,q)});return x}originOf(r){return n.idToName(this.originIdOf(r))}originIdOf(r){return e.getProperties(this).store.originOf(r)}revert(r,t){const l=e.getProperties(this).store,
q=n.nameToId(t),x=e.getProperties(this);("string"===typeof r?"*"===r?l.keys(q):[r]:r).forEach(A=>{x.invalidate(A);l.revert(A,q);x.commit(A)})}};return p=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],p)};a.ReadOnlyMultiOriginJSONSupport=class extends f(c){};a.ReadOnlyMultiOriginJSONSupport=b.__decorate([g.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","./PropertyOrigin"],function(a,b){class c{constructor(){this._propertyOriginMap=new Map;this._originStores=Array(b.originIdNum);this._values=new Map;this.multipleOriginsSupported=!0}clone(h){const d=new c;var n=this._originStores[b.OriginId.DEFAULTS];n&&n.forEach((m,e)=>{d.set(e,a.clone(m),b.OriginId.DEFAULTS)});for(let m=b.OriginId.SERVICE;m<b.originIdNum;m++)(n=this._originStores[m])&&n.forEach((e,g)=>{h&&h.has(g)||d.set(g,
a.clone(e),m)});return d}get(h,d){return(d=void 0===d?this._values:this._originStores[d])?d.get(h):void 0}keys(h){return(h=null==h?this._values:this._originStores[h])?[...h.keys()]:[]}set(h,d,n=b.OriginId.USER){var m=this._originStores[n];m||(m=new Map,this._originStores[n]=m);m.set(h,d);return!this._values.has(h)||this._propertyOriginMap.get(h)<=n?(m=this._values.get(h),this._values.set(h,d),this._propertyOriginMap.set(h,n),m!==d):!1}delete(h,d=b.OriginId.USER){var n=this._originStores[d];if(n){var m=
n.get(h);n.delete(h);if(this._values.has(h)&&this._propertyOriginMap.get(h)===d)for(this._values.delete(h),--d;0<=d;d--)if((n=this._originStores[d])&&n.has(h)){this._values.set(h,n.get(h));this._propertyOriginMap.set(h,d);break}return m}}has(h,d){return(d=void 0===d?this._values:this._originStores[d])?d.has(h):!1}revert(h,d){for(;0<d&&!this.has(h,d);)--d;const n=this._originStores[d]?.get(h),m=this._values.get(h);this._values.set(h,n);this._propertyOriginMap.set(h,d);return m!==n}originOf(h){return this._propertyOriginMap.get(h)||
b.OriginId.DEFAULTS}forEach(h){this._values.forEach(h)}}return c})},"esri/form/FormTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/SetUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements ./support/formUtils ../layers/support/fieldUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){function q(k,v,y){const {fieldsIndex:B}=v;if(!B||B.fields.length!==k.size)switch(u(k,B,y.label),u(k,B,y.description),y.type){case "field":l.collectField(k,B,y.fieldName);break;case "group":y.elements.forEach(C=>q(k,v,C));break;case "relationship":if(v.relationships){const C=v.relationships.find(L=>L.id===y.relationshipId);C&&l.collectField(k,B,C.keyField)}l.collectFields(k,B,y.orderByFields?.map(C=>C.field));break;case "text":u(k,B,y.text)}}function x(k,v){if(!v||
0===v.length)return[];k=A(k);const y=[];for(const B of v)k.has(B.name)&&y.push(B.expression);return y}function A(k){const v=new Set;for(const y of k)if(h.addMaybe(v,y.visibilityExpression),!t.isTextElement(y))if(t.isGroupElement(y))h.addMany(v,A(y.elements));else if(h.addMaybe(v,y.editableExpression),t.isFieldElement(y)){const {requiredExpression:B,valueExpression:C}=y;h.addMany(v,[B,C])}return v}function u(k,v,y){l.collectFields(k,v,l.extractSubstitutionTemplatesFromString(y))}var w;const z=r.buildTypeMaps(p);
b=w=class extends b.JSONSupport{constructor(k){super(k);this.expressionInfos=this.elements=this.description=null;this.preserveFieldValuesWhenHidden=!1;this.title=null}castElements(k){return r.ensureType(k,z)}readElements(k,v){return r.fromJSON(v.formElements,z)}writeElements(k,v){v.formElements=r.toJSON(k,z)}clone(){return new w({description:this.description,expressionInfos:c.clone(this.expressionInfos),elements:c.clone(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(k,
v){const y=new Set,{description:B,elements:C,expressionInfos:L,title:M}=this;u(y,k,B);u(y,k,M);if(!C)return[];const G=x(C,L).map(E=>l.collectArcadeFieldNames(y,k,E));await Promise.all(G);for(const E of C)q(y,{fieldsIndex:k,relationships:v},E);return Array.from(y).sort()}};a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([n.cast("elements")],b.prototype,"castElements",
null);a.__decorate([m.reader("elements",["formElements"])],b.prototype,"readElements",null);a.__decorate([g.writer("elements")],b.prototype,"writeElements",null);a.__decorate([d.property({type:[f],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=w=a.__decorate([e.subclass("esri.form.FormTemplate")],
b)})},"esri/form/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.name=this.expression=null;this.returnType="boolean";this.title=null}clone(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};
a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([c.property({type:["boolean","date","number","string"],json:{write:!0}})],b.prototype,"returnType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=e=a.__decorate([m.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./Element ../support/elements".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;e=f=class extends e{constructor(r){super(r);this.elements=null;this.initialState="expanded";this.type="group"}castElements(r){return g.ensureType(r,p,!1)}readElements(r,t){return g.fromJSON(t.formElements,p,!1)}writeElements(r,t){t.formElements=g.toJSON(r,p,!1)}clone(){return new f({description:this.description,elements:b.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([c.property({json:{write:!0}})],
e.prototype,"elements",void 0);a.__decorate([h.cast("elements")],e.prototype,"castElements",null);a.__decorate([d.reader("elements",["formElements"])],e.prototype,"readElements",null);a.__decorate([m.writer("elements")],e.prototype,"writeElements",null);a.__decorate([c.property({type:["collapsed","expanded"],json:{write:!0}})],e.prototype,"initialState",void 0);a.__decorate([c.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);e=f=a.__decorate([n.subclass("esri.form.elements.GroupElement")],
e);const p=g.buildTypeMaps(e);return e})},"esri/form/elements/Element":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,c,h){b=class extends b.JSONSupport{constructor(d){super(d);this.visibilityExpression=this.type=this.label=this.description=null}};a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([c.property({type:String,
json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([c.property()],b.prototype,"type",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],b.prototype,"visibilityExpression",void 0);return b=a.__decorate([h.subclass("esri.form.elements.Element")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement ../elements/TextElement".split(" "),
function(a,b,c,h,d,n,m){a.buildTypeMaps=function(e){return{typesWithGroup:{base:h,key:"type",typeMap:{attachment:c,field:d,group:e,relationship:n,text:m}},typesWithoutGroup:{base:h,key:"type",typeMap:{attachment:c,field:d,relationship:n,text:m}}}};a.ensureType=function(e,g,f=!0){return e?e.map(p=>b.ensureOneOfType(f?g.typesWithGroup:g.typesWithoutGroup,p)):null};a.fromJSON=function(e,g,f=!0){if(!e)return null;const p=f?g.typesWithGroup.typeMap:g.typesWithoutGroup.typeMap;return e.filter(r=>p[r.type]).map(r=>
p[r.type].fromJSON(r))};a.toJSON=function(e,g,f=!0){if(!e)return null;const p=f?g.typesWithGroup.typeMap:g.typesWithoutGroup.typeMap;return e.filter(r=>p[r.type]).map(r=>r.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./inputs/attachments/AttachmentInput ./inputs/attachments/support/inputs".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;c=g.buildTypeMaps(e);m=f=class extends m{constructor(p){super(p);this.allowUserRename=!0;this.attachmentKeyword=null;this.displayFilename=!1;this.editableExpression=null;this.filenameExpression="{attachmentKeyword}_{now}";this.minAttachmentCount=this.maxAttachmentCount=this.input=null;this.type="attachment";this.useOriginalFilename=!0}clone(){return new f({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,
editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],m.prototype,"allowUserRename",void 0);a.__decorate([b.property({type:String,json:{write:{isRequired:!0}}})],m.prototype,"attachmentKeyword",
void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],m.prototype,"displayFilename",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],m.prototype,"editableExpression",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],m.prototype,"filenameExpression",void 0);a.__decorate([b.property({types:c.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],m.prototype,"input",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],
m.prototype,"maxAttachmentCount",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],m.prototype,"minAttachmentCount",void 0);a.__decorate([b.property({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],m.prototype,"type",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],m.prototype,"useOriginalFilename",void 0);return m=f=a.__decorate([n.subclass("esri.form.elements.AttachmentElement")],m)})},"esri/form/elements/inputs/attachments/AttachmentInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/decorators/cast ../../../../core/RandomLCG ../../../../core/has ../../../../core/accessorSupport/decorators/reader ../../../../core/accessorSupport/decorators/subclass ../../../../core/accessorSupport/decorators/writer ./Input ./support/inputs".split(" "),
function(a,b,c,h,d,n,m,e,g,f){h=class extends g{constructor(r){super(r);this.type="attachment";this.attachmentAssociationType="exact";this.inputTypes=null}castInputs(r){return f.ensureType(r,p,!0)}readInputs(r,t){return f.fromJSON(t.inputTypes,p,!0)}writeInputs(r,t){t.inputTypes=f.toJSON(r,p,!0)}};a.__decorate([b.property({type:["attachment"],readOnly:!0,json:{write:!0}})],h.prototype,"type",void 0);a.__decorate([b.property({type:["any","exact","exactOrNone"],json:{write:!0}})],h.prototype,"attachmentAssociationType",
void 0);a.__decorate([b.property({json:{write:{isRequired:!0}}})],h.prototype,"inputTypes",void 0);a.__decorate([c.cast("inputTypes")],h.prototype,"castInputs",null);a.__decorate([n.reader("inputTypes")],h.prototype,"readInputs",null);a.__decorate([e.writer("inputTypes")],h.prototype,"writeInputs",null);h=a.__decorate([m.subclass("esri.form.elements.inputs.attachments.AttachmentInput")],h);const p=f.buildTypeMaps(h);return h})},"esri/form/elements/inputs/attachments/Input":function(){define("../../../../chunks/tslib.es6 ../../../../core/Clonable ../../../../core/JSONSupport ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){b=class extends b.ClonableMixin(c.JSONSupport){constructor(g){super(g);this.type=null}};a.__decorate([h.property()],b.prototype,"type",void 0);return b=a.__decorate([e.subclass("esri.form.elements.inputs.attachments.Input")],b)})},"esri/form/elements/inputs/attachments/support/inputs":function(){define("exports ../../../../../core/accessorSupport/ensureType ../AudioInput ../DocumentInput ../ImageInput ../Input ../SignatureInput ../VideoInput".split(" "),function(a,b,c,h,
d,n,m,e){a.buildTypeMaps=function(g){return{nestableTypes:{base:n,key:"type",typeMap:{audio:c,document:h,image:d,signature:m,video:e}},allTypes:{base:n,key:"type",typeMap:{attachment:g,audio:c,document:h,image:d,signature:m,video:e}}}};a.ensureType=function(g,f,p){return g?g.map(r=>b.ensureOneOfType(p?f.nestableTypes:f.allTypes,r)):null};a.fromJSON=function(g,f,p){if(!g)return null;const r=p?f.nestableTypes.typeMap:f.allTypes.typeMap;return g.filter(t=>r[t.type]).map(t=>r[t.type].fromJSON(t))};a.toJSON=
function(g,f,p){if(!g)return null;const r=p?f.nestableTypes.typeMap:f.allTypes.typeMap;return g.filter(t=>r[t.type]).map(t=>t.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/attachments/AudioInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),
function(a,b,c,h,d,n,m,e){c=class extends m{constructor(g){super(g);this.type="audio";this.inputMethod="any";this.maxDuration=null}};a.__decorate([b.property({type:["audio"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxDuration",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.AudioInput")],
c)})},"esri/form/elements/inputs/attachments/support/utils":function(){define(["exports"],function(a){a.mediaInputArray=["any","capture","upload"];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/attachments/DocumentInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,h,d,n,m){c=class extends m{constructor(e){super(e);this.type="document";this.maxFileSize=null}};a.__decorate([b.property({type:["document"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxFileSize",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.DocumentInput")],c)})},"esri/form/elements/inputs/attachments/ImageInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),
function(a,b,c,h,d,n,m,e){c=class extends m{constructor(g){super(g);this.type="image";this.inputMethod="any";this.maxImageSize=null}};a.__decorate([b.property({type:["image"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxImageSize",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.ImageInput")],
c)})},"esri/form/elements/inputs/attachments/SignatureInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),function(a,b,c,h,d,n,m,e){c=class extends m{constructor(g){super(g);this.type="signature";this.inputMethod="any"}};a.__decorate([b.property({type:["signature"],readOnly:!0,json:{write:!0}})],
c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.SignatureInput")],c)})},"esri/form/elements/inputs/attachments/VideoInput":function(){define("../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ./Input ./support/utils".split(" "),
function(a,b,c,h,d,n,m,e){c=class extends m{constructor(g){super(g);this.type="video";this.inputMethod="any";this.maxDuration=null}};a.__decorate([b.property({type:["video"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:e.mediaInputArray,json:{write:!0}})],c.prototype,"inputMethod",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxDuration",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.attachments.VideoInput")],
c)})},"esri/form/elements/FieldElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element ./support/inputs ../../layers/support/domains".split(" "),function(a,b,c,h,d,n,m,e,g){var f;c=f=class extends m{constructor(p){super(p);this.requiredExpression=this.input=this.hint=this.fieldName=this.editableExpression=this.editable=this.domain=null;this.type=
"field";this.valueExpression=null}clone(){return new f({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],c.prototype,"domain",void 0);a.__decorate([b.property({type:Boolean,
json:{write:!0}})],c.prototype,"editable",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"editableExpression",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"fieldName",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"hint",void 0);a.__decorate([b.property({types:e.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],c.prototype,"input",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
c.prototype,"requiredExpression",void 0);a.__decorate([b.property({type:String,json:{read:!1,write:!0}})],c.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);return c=f=a.__decorate([n.subclass("esri.form.elements.FieldElement")],c)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DatePickerInput ../inputs/DateTimeOffsetPickerInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput ../inputs/TimePickerInput".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){a.types={base:m,key:"type",typeMap:{"barcode-scanner":b,"combo-box":c,"date-picker":h,"datetime-picker":n,"datetimeoffset-picker":d,"radio-buttons":e,switch:g,"text-area":f,"text-box":p,"time-picker":r}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.type="barcode-scanner"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.BarcodeScannerInput")],c)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,h,d,n,m){c=class extends m{constructor(e){super(e);this.maxLength=null;this.minLength=0}};a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"maxLength",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],c.prototype,"minLength",void 0);return c=a.__decorate([n.subclass("esri.form.elements.inputs.TextInput")],c)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b.JSONSupport{constructor(e){super(e);this.type=null}};a.__decorate([c.property()],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,
b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="combo-box"}clone(){return new e({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["combo-box"],json:{read:!1,
write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.ComboBoxInput")],c)})},"esri/form/elements/inputs/DatePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,
b,c,h,d,n,m,e,g){var f;c=f=class extends g{constructor(p){super(p);this.min=this.max=null;this.type="date-picker"}readMax(p,r){p=r.max;return null!=p?p:null}writeMax(p,r){r.max=null!=p?p:null}readMin(p,r){p=r.min;return null!=p?p:null}writeMin(p,r){r.min=null!=p?p:null}clone(){return new f({max:this.max,min:this.min})}};a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],c.prototype,"readMax",null);a.__decorate([e.writer("max")],
c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:["date-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=f=a.__decorate([m.subclass("esri.form.elements.inputs.DatePickerInput")],c)})},"esri/form/elements/inputs/DateTimeOffsetPickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,h,d,n,m,e,g){function f(r){return null!=r?r:null}var p;c=p=class extends g{constructor(r){super(r);this.includeTimeOffset=!0;this.min=this.max=null;this.timeResolution="minutes";this.type="datetimeoffset-picker"}readMax(r,t){return f(t.max)}writeMax(r,t){t.max=null!=r?r:null}readMin(r,t){return f(t.min)}writeMin(r,t){t.min=null!=r?r:null}readTimeResolution(r,t){return f(t.timeResolution)}writeTimeResolution(r,t){t.timeResolution=null!=r?r:null}clone(){return new p({includeTimeOffset:this.includeTimeOffset,
max:this.max,min:this.min,timeResolution:this.timeResolution})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"includeTimeOffset",void 0);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],
c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"timeResolution",void 0);a.__decorate([n.reader("timeResolution")],c.prototype,"readTimeResolution",null);a.__decorate([e.writer("timeResolution")],c.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=p=a.__decorate([m.subclass("esri.form.elements.inputs.DateTimeOffsetPickerInput")],
c)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,c,h,d,n,m,e,g){function f(r){return null!=r?new Date(r):null}var p;c=p=class extends g{constructor(r){super(r);
this.includeTime=!1;this.min=this.max=null;this.type="datetime-picker"}readMax(r,t){return f(t.max)}writeMax(r,t){t.max=r?r.getTime():null}readMin(r,t){return f(t.min)}writeMin(r,t){t.min=r?r.getTime():null}clone(){return new p({includeTime:this.includeTime,max:this.max,min:this.min})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"includeTime",void 0);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],
c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:["datetime-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=p=a.__decorate([m.subclass("esri.form.elements.inputs.DateTimePickerInput")],c)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="radio-buttons"}clone(){return new e({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],c.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["radio-buttons"],
json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.RadioButtonsInput")],c)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.onValue=this.offValue=
null;this.type="switch"}clone(){return new e({offValue:this.offValue,onValue:this.onValue})}};a.__decorate([b.property({type:[String,Number],json:{write:!0}})],c.prototype,"offValue",void 0);a.__decorate([b.property({type:[String,Number],json:{write:!0}})],c.prototype,"onValue",void 0);a.__decorate([b.property({type:["switch"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.SwitchInput")],c)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.type="text-area"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-area"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.TextAreaInput")],c)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.type="text-box"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-box"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.inputs.TextBoxInput")],c)})},"esri/form/elements/inputs/TimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,c,h,d,n,m,e,g){function f(r){return null!=r?r:null}var p;c=p=class extends g{constructor(r){super(r);this.min=this.max=null;this.timeResolution="minutes";this.type="time-picker"}readMax(r,t){return f(t.max)}writeMax(r,t){t.max=null!=r?r:null}readMin(r,t){return f(t.min)}writeMin(r,t){t.min=null!=r?r:null}readTimeResolution(r,t){return f(t.timeResolution)}writeTimeResolution(r,t){t.timeResolution=null!=r?r:null}clone(){return new p({max:this.max,min:this.min,timeResolution:this.timeResolution})}};
a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0);a.__decorate([n.reader("max")],c.prototype,"readMax",null);a.__decorate([e.writer("max")],c.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0);a.__decorate([n.reader("min")],c.prototype,"readMin",null);a.__decorate([e.writer("min")],c.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],c.prototype,
"timeResolution",void 0);a.__decorate([n.reader("timeResolution")],c.prototype,"readTimeResolution",null);a.__decorate([e.writer("timeResolution")],c.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["time-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=p=a.__decorate([m.subclass("esri.form.elements.inputs.TimePickerInput")],c)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,c,h,d,n){b={key:"type",base:h,typeMap:{range:n,"coded-value":c,inherited:d}};a.CodedValueDomain=c;a.DomainBase=h;a.InheritedDomain=d;a.RangeDomain=n;a.fromJSON=function(m){if(!m?.type)return null;switch(m.type){case "range":return n.fromJSON(m);case "codedValue":return c.fromJSON(m);case "inherited":return d.fromJSON(m)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;h=f=class extends g{constructor(p){super(p);this.codedValues=null;this.type="coded-value"}getName(p){let r=null;if(this.codedValues){const t=String(p);this.codedValues.some(l=>{String(l.code)===t&&(r=l.name);return!!r})}return r}clone(){return new f({codedValues:b.clone(this.codedValues),name:this.name})}};a.__decorate([c.property({type:[e.CodedValue],json:{write:!0}})],h.prototype,"codedValues",void 0);a.__decorate([n.enumeration({codedValue:"coded-value"})],h.prototype,
"type",void 0);return h=f=a.__decorate([m.subclass("esri.layers.support.CodedValueDomain")],h)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){var g;a.CodedValue=g=class extends c.JSONSupport{constructor(f){super(f);this.code=this.name=null}clone(){return new g({name:this.name,
code:this.code})}};b.__decorate([h.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([h.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=g=b.__decorate([e.subclass("esri.layers.support.CodedValue")],a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){b=new b.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});c=class extends c.JSONSupport{constructor(f){super(f);this.type=this.name=null}};a.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);a.__decorate([e.enumeration(b)],c.prototype,"type",void 0);return c=a.__decorate([g.subclass("esri.layers.support.Domain")],c)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,h,d,n,m,e){var g;b=g=class extends e{constructor(f){super(f);this.type="inherited"}clone(){return new g}};a.__decorate([n.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=g=a.__decorate([m.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends e{constructor(f){super(f);this.minValue=this.maxValue=null;this.type="range"}clone(){return new g({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(f,p){return p.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(f,p,r){p[r]=[this.minValue||0,f]}}}})],c.prototype,"maxValue",void 0);a.__decorate([b.property({json:{type:[Number],
read:{source:"range",reader(f,p){return p.range?.[0]}},write:{target:"range",writer(f,p,r){p[r]=[f,this.maxValue||0]}}}})],c.prototype,"minValue",void 0);a.__decorate([n.enumeration({range:"range"})],c.prototype,"type",void 0);return c=g=a.__decorate([m.subclass("esri.layers.support.RangeDomain")],c)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Element ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,c,h,d,n,m,e){var g;h=g=class extends m{constructor(f){super(f);this.displayCount=null;this.displayType="list";this.relationshipId=this.orderByFields=this.editableExpression=null;this.type="relationship"}clone(){return new g({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};
a.__decorate([c.property({type:Number,json:{write:!0}})],h.prototype,"displayCount",void 0);a.__decorate([c.property({type:["list"],json:{write:!0}})],h.prototype,"displayType",void 0);a.__decorate([c.property({type:String,json:{write:!0}})],h.prototype,"editableExpression",void 0);a.__decorate([c.property({type:[e],json:{write:!0}})],h.prototype,"orderByFields",void 0);a.__decorate([c.property({type:Number,json:{write:!0}})],h.prototype,"relationshipId",void 0);a.__decorate([c.property({type:["relationship"],
json:{read:!1,write:!0}})],h.prototype,"type",void 0);return h=g=a.__decorate([n.subclass("esri.form.elements.RelationshipElement")],h)})},"esri/form/elements/TextElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element".split(" "),function(a,b,c,h,d,n,m){var e;c=e=class extends m{constructor(g){super(g);this.text=null;this.textFormat="plain-text";
this.type="text"}clone(){return new e({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"text",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],c.prototype,"textFormat",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.form.elements.TextElement")],c)})},"esri/form/support/formUtils":function(){define(["exports"],
function(a){function b(h){return"text-area"===h.type}function c(h){return"text-box"===h.type}a.isFieldElement=h=>"field"===h.type;a.isGroupElement=h=>"group"===h.type;a.isRelationshipElement=h=>"relationship"===h.type;a.isTextAreaInput=b;a.isTextBoxInput=c;a.isTextElement=h=>"text"===h.type;a.isTextInput=function(h){return b(h)||c(h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v){let y=0;a.MemorySource=class extends e.LoadableMixin(f.EsriPromiseMixin(d)){constructor(B){super(B);this._idToClientGraphic=null;this.type="memory"}load(B){this.addResolvingPromise(this._startWorker(null!=B?B.signal:null));return Promise.resolve(this)}destroy(){this._connection?.close();this._connection=null}get _workerGeometryType(){const B=this.layer?.geometryType;return B?this._geometryTypeRequiresClientGraphicMapping(B)?"polygon":B:null}applyEdits(B){return this.load().then(()=>
this._applyEdits(B))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(B,C={}){await this.load(C);C=await this._connection.invoke("queryFeatures",B?B.toJSON():null,C);u.applyFeatureSetZUnitScaling(B,this.layer.spatialReference,C);B=w.fromJSON(C);if(!this._requiresClientGraphicMapping())return B;C=this.layer.objectIdField;for(const L of B.features){const M=this._idToClientGraphic.get(L.attributes[C]);M&&(L.geometry=M.geometry)}B.geometryType=this.layer.geometryType;
return B}async queryFeaturesJSON(B,C={}){if(this._requiresClientGraphicMapping())throw new n("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(C);C=await this._connection.invoke("queryFeatures",B?B.toJSON():null,C);u.applyFeatureSetZUnitScaling(B,this.layer.spatialReference,C);return C}queryFeatureCount(B,C={}){return this.load(C).then(()=>this._connection.invoke("queryFeatureCount",B?B.toJSON():null,C))}queryObjectIds(B,
C={}){return this.load(C).then(()=>this._connection.invoke("queryObjectIds",B?B.toJSON():null,C))}queryExtent(B,C={}){return this.load(C).then(()=>this._connection.invoke("queryExtent",B?B.toJSON():null,C)).then(L=>({count:L.count,extent:z.fromJSON(L.extent)}))}querySnapping(B,C={}){return this.load(C).then(()=>this._connection.invoke("querySnapping",B,C))}async _applyEdits(B){if(!this._connection)throw new n("feature-layer-source:edit-failure","Memory source not loaded");const C=this.layer.objectIdField;
let L=null;const M=[],G=[];await Promise.all([this._prepareClientMapping(B.addFeatures,null),this._prepareClientMapping(B.updateFeatures,null)]);const E=J=>"objectId"in J&&null!=J.objectId?J.objectId:"attributes"in J&&null!=J.attributes[C]?J.attributes[C]:null;B.addFeatures&&(L=this._prepareAddFeatures(B.addFeatures));if(B.deleteFeatures)for(var F of B.deleteFeatures){const J=E(F);null!=J&&M.push(J)}F=B.updateFeatures&&this._idToClientGraphic?new Map:null;if(B.updateFeatures)for(const J of B.updateFeatures)G.push(this._serializeFeature(J)),
F&&(B=E(J),null!=B&&F.set(B,J));A.unapplyEditsZUnitScaling(L?L.features:null,G,this.layer.spatialReference);const {fullExtent:H,featureEditResults:R}=await this._connection.invoke("applyEdits",{adds:L?L.features:[],updates:G,deletes:M});this.fullExtent=H;L&&L.finish(R.uidToObjectId);this._updateClientGraphicIds(F,R);return this._createEditsResult(R)}async _prepareClientMapping(B,C){if("mesh"===this._layerOrSourceGeometryType&&null!=B){var L=[];for(const {geometry:M}of B)null==M||"mesh"!==M.type||
M.hasExtent||M.loaded||L.push(M.load({signal:C}));L.length&&await Promise.all(L)}}_updateClientGraphicIds(B,C){if(this._idToClientGraphic){if(B)for(const L of C.updateResults){if(!L.success)continue;const M=B.get(L.objectId);null!=M&&this._addIdToClientGraphic(M)}for(const L of C.deleteResults)L.success&&this._idToClientGraphic.delete(L.objectId)}}_createEditsResult(B){return{addFeatureResults:B.addResults?B.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:B.updateResults?
B.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:B.deleteResults?B.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(B){const C=!0===B.success?null:B.error||{code:void 0,description:void 0};return{objectId:B.objectId,globalId:B.globalId,error:C?new n("feature-layer-source:edit-failure",C.description,{code:C.code}):null}}_prepareAddFeatures(B){const C=new Map,
L=Array(B.length);let M=null;for(let E=0;E<B.length;E++){const F=B[E],H=this._serializeFeature(F);M||null==F.geometry||(M=F.geometry.type);L[E]=H;C.set(`${H.uid}`,F)}const G=this;return{features:L,inferredGeometryType:M,finish(E){const F=G.sourceJSON.objectIdField;for(const H in E){const R=E[H],J=C.get(H);J&&(J.attributes||(J.attributes={}),-1===R?delete J.attributes[F]:J.attributes[F]=R,G._addIdToClientGraphic(J))}}}}_addIdToClientGraphic(B){if(this._idToClientGraphic){var C=this.sourceJSON.objectIdField;
C=B.attributes?.[C];null!=C&&this._idToClientGraphic.set(C,B)}}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(B){return this._geometryTypeRequiresClientGraphicMapping(B.type)}_geometryTypeRequiresClientGraphicMapping(B){return"mesh"===B||"multipatch"===B||"extent"===B}_serializeFeature(B){const {attributes:C}=
B;B=this._geometryForSerialization(B);const L=(y++).toString();return B?{uid:L,geometry:B.toJSON(),attributes:C}:{uid:L,attributes:C}}_geometryForSerialization(B){({geometry:B}=B);return null==B?null:this._geometryRequiresClientGraphicMapping(B)?B.extent?k.fromExtent(B.extent):null:B}async _startWorker(B){this._connection=await p.open("MemorySourceWorker",{strategy:m("feature-layers-workers")?"dedicated":"local",signal:B,registryTarget:this});const {fields:C,spatialReference:L,objectIdField:M,hasM:G,
hasZ:E,timeInfo:F,dateFieldsTimeZone:H}=this.layer;var R="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,B);const J=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",Q=>{g.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");Q.preventDefault()}));R={features:J.features,fields:C?.map(Q=>Q.toJSON()),geometryType:v.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&G,hasZ:"mesh"===this._layerOrSourceGeometryType||E,objectIdField:M,spatialReference:R?null:L&&L.toJSON(),timeInfo:F?.toJSON()??null,dateFieldsTimeZone:H};B=await this._connection.invoke("load",R,{signal:B});for(var K of B.warnings)g.getLogger(this.layer).warn("#load()",`${K.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:K});B.featureErrors.length&&g.getLogger(this.layer).warn("#load()",`Encountered ${B.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||
"no title"}', id: '${this.layer.id??"no id"}')`,{errors:B.featureErrors});K=B.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(J.inferredGeometryType)&&(K.geometryType=v.typeKebabDictionary.toJSON(J.inferredGeometryType));this.sourceJSON=K;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);J.finish(B.assignedObjectIds)}};b.__decorate([q.shared({Type:h,ensureType:t.ensureType(h)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([r.property()],a.MemorySource.prototype,
"type",void 0);b.__decorate([r.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([r.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);b.__decorate([r.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([x.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./connectionRegistry ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,c,h,d,n,m,e,g){function f(w){if(w&&w.__esModule)return w;const z=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(w)for(const k in w)if("default"!==k){const v=Object.getOwnPropertyDescriptor(w,k);Object.defineProperty(z,k,v.get?v:{enumerable:!0,get:()=>w[k]})}z.default=w;return Object.freeze(z)}async function p(w,z){const k=new n,{registryTarget:v,...y}=z;await k.open(w,y);v&&m.register(v,k);return k}async function r(){if(A)return A;u=new AbortController;const w=[];for(let z=
0;z<l;z++){const k=g.create(z).then(v=>x[z]=v);w.push(k)}return A=Promise.all(w)}const t=h("host-browser")?Math.min(navigator.hardwareConcurrency-1,h("workers-pool-size")??8):0;let l=h("esri-mobile")?Math.min(t,3):t;l||=h("safari")&&h("mac")?7:2;let q=0;const x=[];let A=null,u;b.Connection=n;b.RemoteClient=e;b.initialize=function(){r()};b.open=async function(w,z={}){if("string"!==typeof w)throw new c("workers:undefined-module","modulePath is missing");var k=z.strategy||"distributed";h("host-webworker")&&
!h("esri-workers")&&(k="local");if("local"===k){var v=await e.loadWorker(w);v||=await new Promise((y,B)=>a([w],C=>y(f(C)),B));d.throwIfAborted(z.signal);k=z.client||v;v=e.connect(v,z.schedule);return p([v],{...z,client:k})}await r();d.throwIfAborted(z.signal);if("dedicated"===k)return k=q++%l,k=await x[k].open(w,z),p([k],z);if(z.maxNumWorkers&&0<z.maxNumWorkers&&(k=Math.min(z.maxNumWorkers,l),k<l)){v=Array(k);for(let y=0;y<k;++y){const B=q++%l;v[y]=x[B].open(w,z)}return p(v,z)}k=x.map(y=>y.open(w,
z));return p(k,z)};b.openWithPorts=function(w,z){return p(w,{client:z})};b.terminate=function(){A&&(u.abort(),A=null);for(let w=0;w<x.length;w++)x[w]&&x[w].terminate();x.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../handleUtils ../has ../promiseUtils ../Queue ./connectionRegistry ./InvokeHandler ./RemoteClient".split(" "),function(a,b,c,h,d,n,m){class e{constructor(){this._inUseClients=[];this._clients=[];this._clientPromises=
[];this._ongoingJobsQueue=new h}destroy(){this.close()}get closed(){return!this._clients?.length}open(g,f){return new Promise((p,r)=>{let t=!0;const l=q=>{c.throwIfAborted(f.signal);t&&(t=!1,q())};this._clients.length=g.length;this._clientPromises.length=g.length;this._inUseClients.length=g.length;for(let q=0;q<g.length;++q){const x=g[q];c.isPromiseLike(x)?this._clientPromises[q]=x.then(A=>{this._clients[q]=new m(A,f,this._ongoingJobsQueue);l(p);return this._clients[q]},()=>{l(r);return null}):(this._clients[q]=
new m(x,f,this._ongoingJobsQueue),this._clientPromises[q]=Promise.resolve(this._clients[q]),l(p))}})}broadcast(g,f,p){const r=Array(this._clientPromises.length);for(let t=0;t<this._clientPromises.length;++t)r[t]=this._clientPromises[t].then(l=>l?.invoke(g,f,p));return r}close(){let g;for(;g=this._ongoingJobsQueue.pop();)g.resolver.reject(c.createAbortError(`Worker closing, aborting job calling '${g.methodName}'`));for(const f of this._clientPromises)f.then(p=>p?.close());this._clients.length=0;this._clientPromises.length=
0;this._inUseClients.length=0;d.unregister(this)}invoke(g,f,p){return this.apply(g,[f],p)}apply(g,f,p){const r=c.createResolver();this._ongoingJobsQueue.push({methodName:g,data:f,invokeOptions:p,resolver:r});for(g=0;g<this._clientPromises.length;g++)(f=this._clients[g])?f.jobAdded():this._clientPromises[g].then(t=>t?.jobAdded());return r.promise}createInvokeProxy(g){return n.createInvokeProxy(this,g)}on(g,f){return Promise.all(this._clientPromises).then(()=>a.handlesGroup(this._clients.map(p=>p.on(g,
f))))}openPorts(){return new Promise(g=>{const f=Array(this._clientPromises.length);let p=f.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(t=>{t&&(f[r]=t.openPort());0===--p&&g(f)})})}get test(){}}return e})},"esri/core/Queue":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class c{constructor(h=d=>d.values().next().value){this._peeker=h;this._observable=new b.SimpleObservable;this._items=new Set}get length(){a.trackAccess(this._observable);
return this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0!==this.length){for(var h of this._items);return h}}peek(){if(0!==this.length)return this._peeker(this._items)}push(h){this.contains(h)||(this._items.add(h),this._observable.notify())}contains(h){a.trackAccess(this._observable);return this._items.has(h)}pop(){if(0!==this.length){var h=this.peek();this._items.delete(h);this._observable.notify();return h}}popLast(){if(0!==this.length){var h=this.last();
this._items.delete(h);this._observable.notify();return h}}remove(h){this.contains(h)&&(this._items.delete(h),this._observable.notify())}filter(h){const d=this.length;this._items.forEach(n=>{h(n)||this._items.delete(n)});d!==this._items.size&&this._observable.notify();return this}*[Symbol.iterator](){a.trackAccess(this._observable);yield*this._items}}return c})},"esri/core/workers/connectionRegistry":function(){define(["exports"],function(a){const b=new FinalizationRegistry(c=>{c.close()});a.register=
function(c,h){b.register(c,h,h)};a.unregister=function(c){b.unregister(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports"],function(a){a.createInvokeProxy=function(b,c){return new Proxy({},{get(h,d,n){return(...m)=>{let e,g;const f=m[m.length-1];"object"===typeof f&&!Array.isArray(f)&&null!=f&&("signal"in f||"transferList"in f||0===Object.keys(f).length)&&(e=f.signal,g=f.transferList,m.pop());return b.apply(c?`${c}.${d.toString()}`:
d.toString(),m,{transferList:g,signal:e})}}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./InvokeHandler ./registry ./utils ../../support/revision".split(" "),function(a,b,c,h,d,n,m,e,g,f){const {CLOSE:p,ABORT:r,INVOKE:t,RESPONSE:l,OPEN_PORT:q,ON:x}=g.MessageType;class A{constructor(w){this._invoke=w;this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=
[];this._timer=null;this._process=this._process.bind(this)}push(w){w.type===g.MessageType.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear();this._invokeMessages.length=0}}class u{static connect(w,
z){const k=new MessageChannel;w="function"===typeof w?new w:"default"in w&&"function"===typeof w.default?new w.default:w;z=new u(k.port1,{channel:k,client:w,schedule:z});"object"===typeof w&&"remoteClient"in w&&(w.remoteClient=z);u.clients.set(z,w);return k.port2}static loadWorker(w){return(w=e.registry[w])?w():Promise.resolve(null)}constructor(w,z,k){this._port=w;this._jobQueue=k;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new A(v=>this._onInvokeMessage(v));this._client=z.client;
this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:p});this._close()}isBusy(){return 0<this._outJobs.size}invoke(w,z,k){return this.apply(w,[z],k)}apply(w,z,k){const v=k?.signal,y=k?.transferList;if(!this._port)return Promise.reject(new b(g.portClosedErrorName,`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:z}));const B=g.newJobId();return new Promise((C,
L)=>{if(n.isAborted(v))this._processWork(),L(n.createAbortError());else{var M=n.onAbort(v,()=>{const G=this._outJobs.get(B);G&&(this._outJobs.delete(B),this._processWork(),d.removeMaybe(G.abortHandle),this._post({type:r,jobId:B}),L(n.createAbortError()))});this._outJobs.set(B,{resolve:C,reject:L,abortHandle:M,debugInfo:w});this._post({type:t,jobId:B,methodName:w,abortable:null!=v},z,y)}})}createInvokeProxy(w){return m.createInvokeProxy(this,w)}on(w,z){function k(y){z(y.data)}const v=new MessageChannel;
this._port.postMessage({type:g.MessageType.ON,eventType:w,port:v.port2},[v.port2]);v.port1.addEventListener("message",k);v.port1.start();return h.makeHandle(()=>{v.port1.postMessage({type:g.MessageType.CLOSE});v.port1.close();v.port1.removeEventListener("message",k)})}jobAdded(){this._processWork()}openPort(){const w=new MessageChannel;this._post({type:q,port:w.port2});return w.port1}_processWork(){if(!(2<=this._outJobs.size)){var w=this._jobQueue?.pop();if(w){var {methodName:z,data:k,invokeOptions:v,
resolver:y}=w;this.apply(z,k,v).then(B=>y.resolve(B)).catch(B=>y.reject(B))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(w=>{d.removeMaybe(w.abortHandle);w.reject(n.createAbortError(`Worker closing, aborting job calling '${w.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(w){null!=this._schedule?this._schedule(()=>
this._processMessage(w,!0)):this._processMessage(w,!1)}_processMessage(w,z){if(w=g.receiveMessage(w))switch(w.type){case l:this._onResponseMessage(w);break;case t:z?this._onInvokeMessage(w):this._invokeQueue.push(w);break;case r:this._onAbortMessage(w);break;case p:this._onCloseMessage();break;case q:this._onOpenPortMessage(w);break;case x:this._onOnMessage(w)}}_onAbortMessage(w){const z=this._inJobs,k=w.jobId,v=z.get(k);this._invokeQueue.push(w);v&&(v.controller&&v.controller.abort(),z.delete(k))}_onCloseMessage(){const w=
this._client;this._close();w&&"destroy"in w&&u.clients.get(this)===w&&w.destroy();u.clients.delete(this);w?.remoteClient&&(w.remoteClient=null)}_onInvokeMessage(w){const {methodName:z,jobId:k,data:v=[],abortable:y}=w;w=y?new AbortController:null;const B=this._inJobs;let C=this._client,L=C[z],M;try{if(!L&&z&&z.includes(".")){const G=z.split(".");for(let E=0;E<G.length-1;E++)C=C[G[E]],L=C[G[E+1]]}if("function"!==typeof L)throw new TypeError(`${z} is not a function`);v.push({client:this,signal:w?w.signal:
null});M=L.apply(C,v)}catch(G){this._post({type:l,jobId:k,error:g.toInvokeError(G)});return}n.isPromiseLike(M)?(B.set(k,{controller:w,promise:M}),M.then(G=>{B.has(k)&&(B.delete(k),this._post({type:l,jobId:k},G))},G=>{B.has(k)&&(B.delete(k),n.isAbortError(G)||this._post({type:l,jobId:k,error:g.toInvokeError(G||{message:`Error encountered at method ${z}`})}))})):this._post({type:l,jobId:k},M)}_onOpenPortMessage(w){new u(w.port,{client:this._client})}_onOnMessage(w){const {port:z}=w,k=this._client.on(w.eventType,
y=>{z.postMessage(y)}),v=c.on(w.port,"message",y=>{g.receiveMessage(y)?.type===g.MessageType.CLOSE&&(v.remove(),k.remove(),z.close())})}_onResponseMessage(w){const {jobId:z,error:k,data:v}=w;w=this._outJobs;if(w.has(z)){var y=w.get(z);w.delete(z);this._processWork();d.removeMaybe(y.abortHandle);k?y.reject(b.fromJSON(JSON.parse(k))):y.resolve(v)}}_post(w,z,k){return g.postMessage(this._port,w,z,k)}}u.kernelInfo={buildDate:f.buildDate,fullVersion:a.fullVersion,revision:f.commitHash};u.clients=new Map;
return u})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const c=h=>Object.freeze(Object.defineProperty({__proto__:null,default:h},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((h,d)=>a(["../../smartMapping/statistics/support/statsWorker"],h,d)),geometryEngineWorker:()=>new Promise((h,d)=>a(["../../geometry/geometryEngineWorker"],h,d)),CSVSourceWorker:()=>new Promise((h,d)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],
n=>h(c(n)),d)),EdgeProcessingWorker:()=>new Promise((h,d)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],n=>h(c(n)),d)),ElevationSamplerWorker:()=>new Promise((h,d)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],n=>h(c(n)),d)),FeatureServiceSnappingSourceWorker:()=>new Promise((h,d)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],n=>h(c(n)),d)),GeoJSONSourceWorker:()=>new Promise((h,d)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],
n=>h(c(n)),d)),LercWorker:()=>new Promise((h,d)=>a(["../../layers/support/LercWorker"],n=>h(c(n)),d)),MemorySourceWorker:()=>new Promise((h,d)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],n=>h(c(n)),d)),PBFDecoderWorker:()=>new Promise((h,d)=>a(["../../views/3d/support/PBFDecoderWorker"],n=>h(c(n)),d)),FeaturePipelineWorker:()=>new Promise((h,d)=>a(["../../views/2d/layers/features/FeaturePipelineWorker"],n=>h(c(n)),d)),PointCloudWorker:()=>new Promise((h,d)=>a(["../../views/3d/layers/PointCloudWorker"],
n=>h(c(n)),d)),RasterWorker:()=>new Promise((h,d)=>a(["../../layers/support/RasterWorker"],n=>h(c(n)),d)),SceneLayerSnappingSourceWorker:()=>new Promise((h,d)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],n=>h(c(n)),d)),SceneLayerWorker:()=>new Promise((h,d)=>a(["../../views/3d/layers/SceneLayerWorker"],h,d)),WFSSourceWorker:()=>new Promise((h,d)=>a(["../../layers/graphics/sources/WFSSourceWorker"],n=>h(c(n)),d)),WorkerTileHandler:()=>new Promise((h,
d)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],n=>h(c(n)),d)),Lyr3DWorker:()=>new Promise((h,d)=>a(["../../views/3d/layers/Lyr3DWorker"],h,d)),Feature3DPipelineWorker:()=>new Promise((h,d)=>a(["../../views/3d/layers/graphics/pipeline/Feature3DPipelineWorker"],n=>h(c(n)),d))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],function(a,b,c){function h(g){return g&&"object"===typeof g&&("result"in
g||"transferList"in g)}function d(g){return g?"string"===typeof g?JSON.stringify({name:"message",message:g}):g.toJSON?JSON.stringify(g):JSON.stringify({name:g.name,message:g.message,details:g.details||{stack:g.stack}}):null}function n(g,f,p,r){if(f.type===a.MessageType.OPEN_PORT)g.postMessage(f,[f.port]);else if(f.type!==a.MessageType.INVOKE&&f.type!==a.MessageType.RESPONSE)g.postMessage(f);else if(h(p)?(r=m(p.transferList),f.data=p.result):(r=m(r),f.data=p),r){if(b("ff"))for(const t of r)if("byteLength"in
t&&267386880<t.byteLength)switch(f.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:n(g,{type:a.MessageType.RESPONSE,jobId:f.jobId,error:d("Worker call with large ArrayBuffer would crash Firefox")});return}g.postMessage(f,r)}else g.postMessage(f)}function m(g){if(!g?.length)return null;if(b("esri-workers-arraybuffer-transfer"))return g;g=g.filter(f=>!(f instanceof ArrayBuffer||"ArrayBuffer"===f?.constructor?.name));return g.length?
g:null}a.MessageType=void 0;(function(g){g[g.HANDSHAKE=0]="HANDSHAKE";g[g.OPEN=1]="OPEN";g[g.OPENED=2]="OPENED";g[g.RESPONSE=3]="RESPONSE";g[g.INVOKE=4]="INVOKE";g[g.ABORT=5]="ABORT";g[g.CLOSE=6]="CLOSE";g[g.OPEN_PORT=7]="OPEN_PORT";g[g.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let e=0;a.ignoreConnectionErrors=async function(g){try{return await g}catch(f){if(g="worker:port-closed"===f?.name,!c.isAbortError(f)&&!g)throw f;}};a.isTransferrableResult=h;a.newJobId=function(){return e++};a.portClosedErrorName=
"worker:port-closed";a.postMessage=n;a.receiveMessage=function(g){return g?(g=g.data)?"string"===typeof g?JSON.parse(g):g:null:null};a.toInvokeError=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../Error ../Logger ../maybe ../promiseUtils ./staticWorkerMessages ./utils ./workerFactory".split(" "),function(a,b,c,h,d,n,m){const {ABORT:e,INVOKE:g,OPEN:f,OPENED:p,RESPONSE:r}=n.MessageType;class t{static async create(l){const q=await m.createWorker();
return new t(q,l)}constructor(l,q){this._outJobs=new Map;this._inJobs=new Map;this.worker=l;this.id=q;l.addEventListener("message",this._onMessage.bind(this));l.addEventListener("error",x=>{x.preventDefault();b.getLogger("esri.core.workers.WorkerOwner").error(x)})}terminate(){this.worker.terminate()}async open(l,q={}){const {signal:x}=q,A=n.newJobId();return new Promise((u,w)=>{const z=h.onAbortOrThrow(x,()=>{this._outJobs.delete(A);this._post({type:e,jobId:A})});this._outJobs.set(A,{resolve:u,reject:w,
abortHandle:z});this._post({type:f,jobId:A,modulePath:l})})}_onMessage(l){if(l=n.receiveMessage(l))switch(l.type){case p:this._onOpenedMessage(l);break;case r:this._onResponseMessage(l);break;case e:this._onAbortMessage(l);break;case g:this._onInvokeMessage(l)}}_onAbortMessage(l){const q=this._inJobs;l=l.jobId;const x=q.get(l);x&&(x.controller&&x.controller.abort(),q.delete(l))}_onInvokeMessage(l){const {methodName:q,jobId:x,data:A,abortable:u}=l;l=u?new AbortController:null;const w=this._inJobs,
z=d.staticWorkerMessages[q];let k;try{if("function"!==typeof z)throw new TypeError(`${q} is not a function`);k=z.call(null,A,{signal:l?l.signal:null})}catch(v){this._post({type:r,jobId:x,error:n.toInvokeError(v)});return}h.isPromiseLike(k)?(w.set(x,{controller:l,promise:k}),k.then(v=>{w.has(x)&&(w.delete(x),this._post({type:r,jobId:x},v))},v=>{w.has(x)&&(w.delete(x),v||={message:"Error encountered at method"+q},h.isAbortError(v)||this._post({type:r,jobId:x,error:n.toInvokeError(v||{message:`Error encountered at method ${q}`})}))})):
this._post({type:r,jobId:x},k)}_onOpenedMessage(l){const {jobId:q,data:x}=l;if(l=this._outJobs.get(q))this._outJobs.delete(q),c.removeMaybe(l.abortHandle),l.resolve(x)}_onResponseMessage(l){const {jobId:q,error:x,data:A}=l;if(l=this._outJobs.get(q))this._outJobs.delete(q),c.removeMaybe(l.abortHandle),x?l.reject(a.fromJSON(JSON.parse(x))):l.resolve(A)}_post(l,q,x){return n.postMessage(this.worker,l,q,x)}}return t})},"esri/core/workers/staticWorkerMessages":function(){define(["exports","../../request",
"../urlUtils"],function(a,b,c){a.staticWorkerMessages={async request(h,d){const n=h.options,m=n.responseType;n.signal=d?.signal;n.responseType="native"===m||"native-request-init"===m?"native-request-init":m&&["blob","json","text"].includes(m)&&c.getInterceptor(h.url)?.after?m:"array-buffer";h=await b(h.url,n);d={data:h.data,httpStatus:h.httpStatus,ssl:h.ssl};switch(h.requestOptions?.responseType){case "native-request-init":return delete d.data.signal,d;case "blob":d.data=await d.data.arrayBuffer();
break;case "json":d.data=(new TextEncoder).encode(JSON.stringify(d.data)).buffer;break;case "text":d.data=(new TextEncoder).encode(d.data).buffer}return{result:d,transferList:[d.data]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workerFactory":function(){define("exports ../../config ../../request ../Error ../Logger ../urlUtils ../../intl ../../kernel ../has ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),function(a,
b,c,h,d,n,m,e,g,f,p,r,t,l){async function q(k){return new Promise(v=>{function y(C){(C=p.receiveMessage(C))&&C.type===A&&(k.removeEventListener("message",y),k.removeEventListener("error",B),v(k))}function B(C){C.preventDefault();k.removeEventListener("message",y);k.removeEventListener("error",B);x().warn("Failed to create Worker. Fallback to execute module in main thread",C);k=new r;k.addEventListener("message",y);k.addEventListener("error",B)}k.addEventListener("message",y);k.addEventListener("error",
B)})}const x=()=>d.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:A}=p.MessageType;let u,w,z=0;a.createWorker=async function(){if(!g("esri-workers"))return q(new r);if(!u&&!w)try{var k=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3d",';self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;let s\x3dnull;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());s\x3d()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})})).finally((()\x3d\x3e{t\x26\x26t.removeEventListener("abort",s)}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
v=k.join;let C;if(null!=b["default"]){const E={...b};delete E["default"];C=JSON.parse(JSON.stringify(E))}else C=JSON.parse(JSON.stringify(b));C.assetsPath=n.makeAbsolute(C.assetsPath);C.defaultAssetsPath=C.defaultAssetsPath?n.makeAbsolute(C.defaultAssetsPath):void 0;C.request.interceptors=[];C.log.interceptors=[];C.locale=t.getLocale();C.has={"esri-csp-restrictions":g("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":g("esri-2d-update-debug"),"esri-2d-log-updating":g("esri-2d-log-updating"),
"featurelayer-pbf":g("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":g("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":g("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":g("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":g("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":g("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":g("featurelayer-query-pausing-enabled"),
"featurelayer-snapshot-enabled":g("featurelayer-snapshot-enabled"),"esri-atomics":g("esri-atomics"),"esri-shared-array-buffer":g("esri-shared-array-buffer"),"esri-tiles-debug":g("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":g("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":g("feature-polyline-generalization-factor"),"host-webworker":1};C.workers.loaderUrl?C.workers.loaderUrl=n.makeAbsolute(C.workers.loaderUrl):f.defaultLoaderUrl&&(C.workers.loaderUrl=f.defaultLoaderUrl);
C.workers.workerPath=C.workers.workerPath?n.makeAbsolute(C.workers.workerPath):"esri/core/workers/RemoteClient";C.workers.useDynamicImport=!1;const L=b.workers.loaderConfig,M=f.loaderConfig({baseUrl:L?.baseUrl,locale:t.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...L?.has},map:{...L?.map},paths:{...L?.paths},packages:L?.packages||[]});var y=JSON.stringify({esriConfig:C,loaderConfig:M,kernelInfo:{buildDate:l.buildDate,fullVersion:e.fullVersion,revision:l.commitHash}});
const G=v.call(k,y);u=URL.createObjectURL(new Blob([G],{type:"text/javascript"}))}catch(C){w=C||{}}let B;if(u)try{B=new Worker(u,{name:`esri-worker-${z++}`})}catch(C){x().warn("Failed to create Worker. Fallback to execute module in main thread",w),B=new r}else x().warn("Failed to create Worker. Fallback to execute module in main thread",w),B=new r;return q(B)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,c,h){a.defaultLoaderUrl=null;a.defaultLoaderUrl=h.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));const d={};d.baseUrl=h.makeAbsolute(b.getAssetUrl("dojo/"));d.packages=[{name:"esri",location:"../esri"}];a.loaderConfig=function(n){const m={async:n.async,isDebug:n.isDebug,locale:n.locale,baseUrl:n.baseUrl,has:{...n.has},map:{...n.map},packages:n.packages?.slice()||[],paths:{...d.paths,...n.paths}};n.hasOwnProperty("async")||(m.async=!0);n.hasOwnProperty("isDebug")||
(m.isDebug=!1);n.baseUrl||(m.baseUrl=d.baseUrl);d.packages?.forEach(e=>{a:{var g=m.packages??[];for(const f of g)if(f.name===e.name)break a;g.push(e)}});return m};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../nextTick","./RemoteClient","./utils"],function(a,b,c,h){function d(e){if(e&&e.__esModule)return e;const g=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const f in e)if("default"!==f){const p=
Object.getOwnPropertyDescriptor(e,f);Object.defineProperty(g,f,p.get?p:{enumerable:!0,get:()=>e[f]})}g.default=e;return Object.freeze(g)}class n{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(g=>{this[g]=(...f)=>e[g](...f)})}}class m{constructor(){this._dispatcher=new n;this._workerPostMessage({type:h.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&
this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=e)&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=e)&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);
(this._onerrorHandler=e)&&this.addEventListener("error",e)}postMessage(e){b.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,g,f){this._dispatcher.addEventListener(e,g,f)}removeEventListener(e,g,f){this._dispatcher.removeEventListener(e,g,f)}_workerPostMessage(e){b.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){if((e=h.receiveMessage(e))&&
e.type===h.MessageType.OPEN){const {modulePath:g,jobId:f}=e;(e=await c.loadWorker(g))||(e=await new Promise((p,r)=>a([g],t=>p(d(t)),r)));e=c.connect(e);this._workerPostMessage({type:h.MessageType.OPENED,jobId:f,data:e})}}}return m})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,c){function h(n,m,e){if(null==n.hasM||n.hasZ)for(const g of m)for(const f of g)2<f.length&&(f[2]*=e)}function d(n,
m,e){if(n)for(const f of n){n=f.geometry;var g=e;if(n?.spatialReference&&!c.equals(n.spatialReference,m)&&(g=b.getMetersPerVerticalUnitForSR(n.spatialReference)/g,1!==g))if("x"in n)null!=n.z&&(n.z*=g);else if("rings"in n)h(n,n.rings,g);else if("paths"in n)h(n,n.paths,g);else if("points"in n&&(null==n.hasM||n.hasZ))for(const p of n.points)2<p.length&&(p[2]*=g)}}a.unapplyEditsZUnitScaling=function(n,m,e){if((n||m)&&e){var g=b.getMetersPerVerticalUnitForSR(e);d(n,e,g);d(m,e,g)}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(c,h,d){if(d?.features&&d.hasZ&&(c=b.getGeometryZScaler(d.geometryType,h,c.outSpatialReference),null!=c))for(const n of d.features)c(n.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){var x;const A=new h.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});h=x=class extends d.JSONSupport{constructor(u){super(u);this.displayFieldName=null;this.exceededTransferLimit=!1;this.features=[];this.geometryType=this.fields=null;this.hasZ=this.hasM=!1;this.spatialReference=this.queryGeometry=null}readFeatures(u,w){w=t.fromJSON(w.spatialReference);
const z=[];for(let y=0;y<u.length;y++){var k=u[y];const B=c.fromJSON(k);var v=k.geometry?.spatialReference;null==B.geometry||v||(B.geometry.spatialReference=w);k=k.aggregateGeometries;v=B.aggregateGeometries;if(k&&null!=v)for(const C in v){const L=v[C],M=k[C]?.spatialReference;null==L||M||(L.spatialReference=w)}z.push(B)}return z}writeGeometryType(u,w,z,k){if(u)A.write(u,w,z,k);else if({features:u}=this,u)for(const v of u)if(null!=v?.geometry){A.write(v.geometry.type,w,z,k);break}}readQueryGeometry(u,
w){if(!u)return null;const z=!!u.spatialReference;(u=l.fromJSON(u))&&!z&&w.spatialReference&&(u.spatialReference=t.fromJSON(w.spatialReference));return u}writeSpatialReference(u,w){if(u)w.spatialReference=u.toJSON();else if({features:u}=this,u)for(const z of u)if(z&&null!=z.geometry&&z.geometry.spatialReference){w.spatialReference=z.geometry.spatialReference.toJSON();break}}clone(){return new x(this.cloneProperties())}cloneProperties(){return n.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,
features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(u){const w=this.write();if(w.features&&Array.isArray(u)&&0<u.length)for(let z=0;z<w.features.length;z++){const k=w.features[z];k.geometry&&(k.geometry=u?.[z]?.toJSON()||k.geometry)}return w}quantize(u){const {scale:[w,z],translate:[k,v]}=u,y=this.features,B=this._getQuantizationFunction(this.geometryType,
C=>Math.round((C-k)/w),C=>Math.round((v-C)/z));for(let C=0,L=y.length;C<L;C++)B?.(y[C].geometry)||(y.splice(C,1),C--,L--);this.transform=u;return this}unquantize(){const {geometryType:u,features:w,transform:z}=this;if(!z)return this;const {translate:[k,v],scale:[y,B]}=z;var C=null;let L=null;if(this.hasZ&&null!=z?.scale?.[2]){const {translate:[,,M],scale:[,,G]}=z;C=E=>E*G+M}if(this.hasM&&null!=z?.scale?.[3]){const {translate:[,,,M],scale:[,,,G]}=z;L=E=>null==E?E:E*G+M}C=this._getHydrationFunction(u,
M=>M*y+k,M=>v-M*B,C,L);for(const {geometry:M}of w)null!=M&&C&&C(M);this.transform=null;return this}_quantizePoints(u,w,z){let k,v;const y=[];for(let C=0,L=u.length;C<L;C++){var B=u[C];if(0<C){const M=w(B[0]);B=z(B[1]);if(M!==k||B!==v)y.push([M-k,B-v]),k=M,v=B}else k=w(B[0]),v=z(B[1]),y.push([k,v])}return 0<y.length?y:null}_getQuantizationFunction(u,w,z){return"point"===u?k=>{k.x=w(k.x);k.y=z(k.y);return k}:"polyline"===u||"polygon"===u?k=>{const v=l.isPolygon(k)?k.rings:k.paths,y=[];for(let B=0,C=
v.length;B<C;B++){const L=this._quantizePoints(v[B],w,z);L&&y.push(L)}return 0<y.length?(l.isPolygon(k)?k.rings=y:k.paths=y,k):null}:"multipoint"===u?k=>{const v=this._quantizePoints(k.points,w,z);return v&&0<v.length?(k.points=v,k):null}:"extent"===u?k=>k:null}_getHydrationFunction(u,w,z,k,v){return"point"===u?y=>{y.x=w(y.x);y.y=z(y.y);k&&(y.z=k(y.z))}:"polyline"===u||"polygon"===u?y=>{y=l.isPolygon(y)?y.rings:y.paths;for(let L=0,M=y.length;L<M;L++){const G=y[L];for(let E=0,F=G.length;E<F;E++){const H=
G[E];if(0<E)B+=H[0],C+=H[1];else{var B=H[0];var C=H[1]}H[0]=w(B);H[1]=z(C)}}if(k&&v)for(let L=0,M=y.length;L<M;L++){B=y[L];for(let G=0,E=B.length;G<E;G++)C=B[G],C[2]=k(C[2]),C[3]=v(C[3])}else if(k)for(let L=0,M=y.length;L<M;L++){B=y[L];for(let G=0,E=B.length;G<E;G++)C=B[G],C[2]=k(C[2])}else if(v)for(let L=0,M=y.length;L<M;L++){B=y[L];for(let G=0,E=B.length;G<E;G++)C=B[G],C[2]=v(C[2])}}:"extent"===u?y=>{y.xmin=w(y.xmin);y.ymin=z(y.ymin);y.xmax=w(y.xmax);y.ymax=z(y.ymax);k&&null!=y.zmax&&null!=y.zmin&&
(y.zmax=k(y.zmax),y.zmin=k(y.zmin));v&&null!=y.mmax&&null!=y.mmin&&(y.mmax=v(y.mmax),y.mmin=v(y.mmin))}:"multipoint"===u?y=>{y=y.points;let B;for(let L=0,M=y.length;L<M;L++){const G=y[L];if(0<L)C+=G[0],B+=G[1];else{var C=G[0];B=G[1]}G[0]=w(C);G[1]=z(B)}if(k&&v)for(let L=0,M=y.length;L<M;L++)C=y[L],C[2]=k(C[2]),C[3]=v(C[3]);else if(k)for(let L=0,M=y.length;L<M;L++)C=y[L],C[2]=k(C[2]);else if(v)for(let L=0,M=y.length;L<M;L++)C=y[L],C[2]=v(C[2])}:null}};a.__decorate([m.property({type:String,json:{write:!0}})],
h.prototype,"displayFieldName",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],h.prototype,"exceededTransferLimit",void 0);a.__decorate([m.property({type:[c],json:{write:!0}})],h.prototype,"features",void 0);a.__decorate([f.reader("features")],h.prototype,"readFeatures",null);a.__decorate([m.property({type:[q],json:{write:!0}})],h.prototype,"fields",void 0);a.__decorate([m.property({type:"point multipoint polyline polygon extent mesh".split(" "),
json:{read:{reader:A.read}}})],h.prototype,"geometryType",void 0);a.__decorate([r.writer("geometryType")],h.prototype,"writeGeometryType",null);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],h.prototype,"hasM",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(u){return{enabled:u}}}}})],h.prototype,"hasZ",void 0);a.__decorate([m.property({types:b.geometryTypes,json:{write:!0}})],h.prototype,"queryGeometry",void 0);a.__decorate([f.reader("queryGeometry")],
h.prototype,"readQueryGeometry",null);a.__decorate([m.property({type:t,json:{write:!0}})],h.prototype,"spatialReference",void 0);a.__decorate([r.writer("spatialReference")],h.prototype,"writeSpatialReference",null);a.__decorate([m.property({json:{write:!0}})],h.prototype,"transform",void 0);h=x=a.__decorate([p.subclass("esri.rest.support.FeatureSet")],h);h.prototype.toJSON.isDefaultToJSON=!0;return h})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){var t;const l=new b.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=t=class extends c.JSONSupport{constructor(q){super(q);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(q,{description:x}){q=null;try{q=x?JSON.parse(x):null}catch(A){}return q?.value??null}readValueType(q,{description:x}){q=null;try{q=x?JSON.parse(x):null}catch(A){}return q?l.fromJSON(q.fieldValueType):null}clone(){return new t({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([h.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);a.__decorate([h.property()],b.prototype,"description",void 0);a.__decorate([g.reader("description")],b.prototype,"readDescription",
null);a.__decorate([h.property({types:p.types,json:{read:{reader:p.fromJSON},write:!0}})],b.prototype,"domain",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);a.__decorate([h.property({type:d.Integer,json:{write:{overridePolicy(q){return{enabled:Number.isFinite(q)}}}}})],b.prototype,"length",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,
"nullable",void 0);a.__decorate([e.enumeration(r.kebabDict)],b.prototype,"type",void 0);a.__decorate([h.property()],b.prototype,"valueType",void 0);a.__decorate([g.reader("valueType",["description"])],b.prototype,"readValueType",null);a.__decorate([h.property({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0);return b=t=a.__decorate([f.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",
esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});
a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m){a.APIKeyMixin=e=>{e=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(g){null!=
g?this._override("apiKey",g):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};b.__decorate([c.property({type:String})],e.prototype,"apiKey",null);return e=b.__decorate([m.subclass("esri.layers.mixins.APIKeyMixin")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,c,h,d,n,m,e){a.ArcGISService=g=>{g=class extends g{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const f=e.parse(this.url);if(null!=f&&f.title)return f.title}return this._get("title")||""}set title(f){this._set("title",f)}set url(f){this._set("url",e.sanitizeUrl(f,c.getLogger(this)))}};b.__decorate([h.property()],g.prototype,"title",null);b.__decorate([h.property({type:String})],g.prototype,"url",null);return g=b.__decorate([m.subclass("esri.layers.mixins.ArcGISService")],
g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,c,h,d,n,m,e){const g={type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}};h={read:{reader:e.read},write:{allowNull:!0,writer:e.write}};const f={json:{read:!1,write:!1,origins:{"web-map":h,"portal-item":h}}};a.BlendLayer=p=>{p=class extends p{constructor(){super(...arguments);this.blendMode="normal";this.effect=null}};b.__decorate([c.property(g)],p.prototype,"blendMode",void 0);b.__decorate([c.property(f)],p.prototype,"effect",void 0);return p=b.__decorate([m.subclass("esri.layers.mixins.BlendLayer")],
p)};a.blendModeProperty=g;a.effectProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],function(a,b,c,h,d){function n(f){return(f=h.parse(f))?d.isEffectFunctions(f)?f.map(p=>p.toJSON()):f.map(({scale:p,effects:r})=>({scale:p,value:r.map(t=>t.toJSON())})):null}function m(f){if(!f||0===f.length)return null;var p=(p=f[0])?"scale"in p:!1;if(p){p=[];for(const r of f)p.push({scale:r.scale,
value:e(r.value)});return p}return e(f)}function e(f){if(!f?.length)return"";const p=[];for(const q of f){f=[];switch(q.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":f=[g(q,"amount")];break;case "blur":f=[g(q,"radius","pt")];break;case "hue-rotate":f=[g(q,"angle","deg")];break;case "drop-shadow":f=g(q,"xoffset","pt");var r=g(q,"yoffset","pt"),t=g(q,"blurRadius","pt"),l=q;if(null==l.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${l.type} effect`,
{effect:l});l=l.color;f=[f,r,t,`rgba(${l[0]||0}, ${l[1]||0}, ${l[2]||0}, ${l[3]/255||0})`];break;case "bloom":f=[g(q,"strength"),g(q,"radius","pt"),g(q,"threshold")]}f=`${q.type}(${f.filter(Boolean).join(" ")})`;h.parse(f);p.push(f)}return p.join(" ")}function g(f,p,r){if(null==f[p])throw new b("effect:missing-parameter",`Missing parameter '${p}' in ${f.type} effect`,{effect:f});return r?f[p]+r:""+f[p]}a.effectFunctionsFromJSON=e;a.fromJSON=m;a.read=function(f,p,r){try{return m(f)}catch(t){r?.messages?.push(t)}return null};
a.toJSON=n;a.write=function(f,p,r,t){try{const l=n(f);c.setDeepValue(r,l,p)}catch(l){t.messages&&t.messages.push(l)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define(["exports","../../colorUtils","../../core/Error","./effects","./utils"],function(a,b,c,h,d){function n(k,v,y,B){k=Error.call(this,k);Object.setPrototypeOf&&Object.setPrototypeOf(k,n.prototype);k.expected=v;k.found=y;k.location=B;k.name="SyntaxError";return k}function m(k,
v,y){y=y||" ";if(k.length>v)return k;v-=k.length;y+=y.repeat(v);return k+y.slice(0,v)}function e(k,v){function y(Xa,wa){return{type:"literal",text:Xa,ignoreCase:wa}}function B(Xa,wa,Ja){return{type:"class",parts:Xa,inverted:wa,ignoreCase:Ja}}function C(Xa){return{type:"other",description:Xa}}function L(Xa){var wa=eb[Xa];if(!wa){if(Xa>=eb.length)var Ja=eb.length-1;else for(Ja=Xa;!eb[--Ja];);wa=eb[Ja];for(wa={line:wa.line,column:wa.column};Ja<Xa;)10===k.charCodeAt(Ja)?(wa.line++,wa.column=1):wa.column++,
Ja++;eb[Xa]=wa}return wa}function M(Xa,wa,Ja){Ja=L(Xa);var Ua=L(wa);return{source:U,start:{offset:Xa,line:Ja.line,column:Ja.column},end:{offset:wa,line:Ua.line,column:Ua.column}}}function G(Xa){ya<hb||(ya>hb&&(hb=ya,ib=[]),ib.push(Xa))}function E(){Ma++;var Xa=ya;R();if(k.substr(ya,4)===pa){var wa=pa;ya+=4}else wa=N,0===Ma&&G(Aa);wa!==N?(R(),Va=Xa,Xa=[]):(ya=Xa,Xa=N);Ma--;Xa===N&&0===Ma&&G(oa);if(Xa===N)if(Xa=[],wa=F(),wa!==N)for(;wa!==N;)Xa.push(wa),wa=F();else Xa=N;return Xa}function F(){var Xa=
ya;R();Ma++;var wa=ya;var Ja=J();if(Ja!==N){if(40===k.charCodeAt(ya)){var Ua=qa;ya++}else Ua=N,0===Ma&&G(Sa);Ua!==N?(Va=wa,wa=Ja):(ya=wa,wa=N)}else ya=wa,wa=N;Ma--;wa===N&&(Ja=N,0===Ma&&G(Qa));if(wa!==N){R();Ja=ya;Ua=H();if(Ua!==N){var xb=[];var ia=ya;var Ea=R();if(44===k.charCodeAt(ya)){var La=ra;ya++}else La=N,0===Ma&&G(Fa);La===N&&(La=null);var Oa=R();var Za=H();Za!==N?ia=Ea=[Ea,La,Oa,Za]:(ya=ia,ia=N);for(;ia!==N;)xb.push(ia),ia=ya,Ea=R(),44===k.charCodeAt(ya)?(La=ra,ya++):(La=N,0===Ma&&G(Fa)),
La===N&&(La=null),Oa=R(),Za=H(),Za!==N?ia=Ea=[Ea,La,Oa,Za]:(ya=ia,ia=N);Va=Ja;Ja=0<xb.length?[Ua].concat(Q(xb,3)):[Ua]}else ya=Ja,Ja=N;Ja===N&&(Ja=null);R();41===k.charCodeAt(ya)?(Ua=xa,ya++):(Ua=N,0===Ma&&G(Ga));Ua!==N?(R(),Va=Xa,Xa={type:"function",name:wa,parameters:Ja||[]}):(ya=Xa,Xa=N)}else ya=Xa,Xa=N;return Xa}function H(){var Xa=ya;Ma++;var wa=ya;R();var Ja=K();if(Ja!==N){if(37===k.charCodeAt(ya)){var Ua=za;ya++}else Ua=N,0===Ma&&G(nb);Ua!==N?(Va=wa,wa={value:Ja,unit:"%"}):(ya=wa,wa=N)}else ya=
wa,wa=N;Ma--;wa===N&&0===Ma&&G(ab);wa===N&&(Ma++,wa=ya,R(),Ja=K(),Ja!==N?(k.substr(ya,2)===Da?(Ua=Da,ya+=2):(Ua=N,0===Ma&&G(Ba)),Ua!==N?(Va=wa,wa={value:Ja,unit:"px"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,R(),Ja=K(),Ja!==N?(k.substr(ya,2)===sa?(Ua=sa,ya+=2):(Ua=N,0===Ma&&G(Ra)),Ua!==N?(Va=wa,wa={value:Ja,unit:"cm"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,R(),Ja=K(),Ja!==N?(k.substr(ya,2)===X?(Ua=X,ya+=2):(Ua=N,0===Ma&&G($a)),Ua!==N?(Va=wa,wa={value:Ja,unit:"mm"}):(ya=wa,wa=N)):(ya=wa,wa=N),
wa===N&&(wa=ya,R(),Ja=K(),Ja!==N?(k.substr(ya,2)===aa?(Ua=aa,ya+=2):(Ua=N,0===Ma&&G(gb)),Ua!==N?(Va=wa,wa={value:Ja,unit:"in"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,R(),Ja=K(),Ja!==N?(k.substr(ya,2)===ha?(Ua=ha,ya+=2):(Ua=N,0===Ma&&G(qb)),Ua!==N?(Va=wa,wa={value:Ja,unit:"pt"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,R(),Ja=K(),Ja!==N?(k.substr(ya,2)===I?(Ua=I,ya+=2):(Ua=N,0===Ma&&G(ub)),Ua!==N?(Va=wa,wa={value:Ja,unit:"pc"}):(ya=wa,wa=N)):(ya=wa,wa=N)))))),Ma--,wa===N&&0===Ma&&G(ta),wa===N&&
(Ma++,wa=ya,Ja=K(),Ja!==N?(k.substr(ya,3)===T?(Ua=T,ya+=3):(Ua=N,0===Ma&&G(Gb)),Ua!==N?(Va=wa,wa={value:Ja,unit:"deg"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,Ja=K(),Ja!==N?(k.substr(ya,3)===da?(Ua=da,ya+=3):(Ua=N,0===Ma&&G(Lb)),Ua!==N?(Va=wa,wa={value:Ja,unit:"rad"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,Ja=K(),Ja!==N?(k.substr(ya,4)===la?(Ua=la,ya+=4):(Ua=N,0===Ma&&G(Eb)),Ua!==N?(Va=wa,wa={value:Ja,unit:"grad"}):(ya=wa,wa=N)):(ya=wa,wa=N),wa===N&&(wa=ya,Ja=K(),Ja!==N?(k.substr(ya,4)===ua?
(Ua=ua,ya+=4):(Ua=N,0===Ma&&G(Hb)),Ua!==N?(Va=wa,wa={value:Ja,unit:"turn"}):(ya=wa,wa=N)):(ya=wa,wa=N)))),Ma--,wa===N&&(Ja=N,0===Ma&&G(ob)),wa===N&&(Ma++,wa=ya,R(),Ja=K(),Ja!==N?(Va=wa,wa={value:Ja,unit:null}):(ya=wa,wa=N),Ma--,wa===N&&0===Ma&&G(Ab))));wa!==N&&(Va=Xa,wa={type:"quantity",value:wa.value,unit:wa.unit});Xa=wa;if(Xa===N){Xa=ya;Ma++;wa=ya;35===k.charCodeAt(ya)?(Ja=Y,ya++):(Ja=N,0===Ma&&G(ma));if(Ja!==N){Ja=[];Ua=k.charAt(ya);P.test(Ua)?ya++:(Ua=N,0===Ma&&G(na));if(Ua!==N)for(;Ua!==N;)Ja.push(Ua),
Ua=k.charAt(ya),P.test(Ua)?ya++:(Ua=N,0===Ma&&G(na));else Ja=N;Ja!==N?(Va=wa,wa={type:"hex",value:k.substring(Va,ya)}):(ya=wa,wa=N)}else ya=wa,wa=N;wa===N&&(wa=ya,Ja=F(),Ja!==N&&(Va=wa,Ja={type:"function",value:Ja}),wa=Ja,wa===N&&(wa=ya,Ja=J(),Ja!==N&&(Va=wa,Ja={type:"named",value:k.substring(Va,ya)}),wa=Ja));Ma--;wa===N&&(Ja=N,0===Ma&&G(Bb));wa!==N&&(Va=Xa,wa={type:"color",colorType:wa.type,value:wa.value});Xa=wa}return Xa}function R(){Ma++;var Xa=[];var wa=k.charAt(ya);V.test(wa)?ya++:(wa=N,0===
Ma&&G(Na));for(;wa!==N;)Xa.push(wa),wa=k.charAt(ya),V.test(wa)?ya++:(wa=N,0===Ma&&G(Na));Ma--;wa=N;0===Ma&&G(Pa);return Xa}function J(){Ma++;var Xa=ya;var wa=[];var Ja=k.charAt(ya);O.test(Ja)?ya++:(Ja=N,0===Ma&&G(cb));if(Ja!==N)for(;Ja!==N;)wa.push(Ja),Ja=k.charAt(ya),O.test(Ja)?ya++:(Ja=N,0===Ma&&G(cb));else wa=N;wa!==N&&(Va=Xa,wa=k.substring(Va,ya));Xa=wa;Ma--;Xa===N&&(wa=N,0===Ma&&G(Ya));return Xa}function K(){var Xa=ya;var wa=k.charAt(ya);W.test(wa)?ya++:(wa=N,0===Ma&&G(Ha));wa===N&&(wa=null);
var Ja=ya;wa=[];var Ua=k.charAt(ya);ca.test(Ua)?ya++:(Ua=N,0===Ma&&G(Ca));for(;Ua!==N;)wa.push(Ua),Ua=k.charAt(ya),ca.test(Ua)?ya++:(Ua=N,0===Ma&&G(Ca));46===k.charCodeAt(ya)?(Ua=ea,ya++):(Ua=N,0===Ma&&G(Ta));if(Ua!==N){var xb=[];var ia=k.charAt(ya);ca.test(ia)?ya++:(ia=N,0===Ma&&G(Ca));if(ia!==N)for(;ia!==N;)xb.push(ia),ia=k.charAt(ya),ca.test(ia)?ya++:(ia=N,0===Ma&&G(Ca));else xb=N;xb!==N?Ja=wa=[wa,Ua,xb]:(ya=Ja,Ja=N)}else ya=Ja,Ja=N;if(Ja===N)if(Ja=[],wa=k.charAt(ya),ca.test(wa)?ya++:(wa=N,0===
Ma&&G(Ca)),wa!==N)for(;wa!==N;)Ja.push(wa),wa=k.charAt(ya),ca.test(wa)?ya++:(wa=N,0===Ma&&G(Ca));else Ja=N;if(Ja!==N){wa=ya;101===k.charCodeAt(ya)?(Ua=ja,ya++):(Ua=N,0===Ma&&G(bb));if(Ua!==N){xb=k.charAt(ya);W.test(xb)?ya++:(xb=N,0===Ma&&G(Ha));xb===N&&(xb=null);ia=[];Ja=k.charAt(ya);ca.test(Ja)?ya++:(Ja=N,0===Ma&&G(Ca));if(Ja!==N)for(;Ja!==N;)ia.push(Ja),Ja=k.charAt(ya),ca.test(Ja)?ya++:(Ja=N,0===Ma&&G(Ca));else ia=N;ia!==N?wa=Ua=[Ua,xb,ia]:(ya=wa,wa=N)}else ya=wa,wa=N;wa===N&&(wa=null);Va=Xa;Xa=
parseFloat(k.substring(Va,ya))}else ya=Xa,Xa=N;return Xa}function Q(Xa,wa){return Xa.map(function(Ja){return Ja[wa]})}v=void 0!==v?v:{};var N={},U=v.grammarSource,Z={start:E},fa=E,pa="none",xa=")",ra=",",qa="(",za="%",Da="px",sa="cm",X="mm",aa="in",ha="pt",I="pc",T="deg",da="rad",la="grad",ua="turn",Y="#",ea=".",ja="e",V=/^[ \t\n\r]/,O=/^[a-z\-]/,P=/^[0-9a-fA-F]/,W=/^[+\-]/,ca=/^[0-9]/,oa=C("none"),Aa=y("none",!1),Ga=y(")",!1),Fa=y(",",!1),Pa=C("whitespace"),Na=B([" ","\t","\n","\r"],!1,!1),Qa=C("function"),
Sa=y("(",!1),Ya=C("identifier"),cb=B([["a","z"],"-"],!1,!1),ab=C("percentage"),nb=y("%",!1),ta=C("length"),Ba=y("px",!1),Ra=y("cm",!1),$a=y("mm",!1),gb=y("in",!1),qb=y("pt",!1),ub=y("pc",!1),ob=C("angle"),Gb=y("deg",!1),Lb=y("rad",!1),Eb=y("grad",!1),Hb=y("turn",!1),Ab=C("number"),Bb=C("color"),ma=y("#",!1),na=B([["0","9"],["a","f"],["A","F"]],!1,!1),Ha=B(["+","-"],!1,!1),Ca=B([["0","9"]],!1,!1),Ta=y(".",!1),bb=y("e",!1),ya=v.peg$currPos|0,Va=ya,eb=[{line:1,column:1}],hb=ya,ib=v.peg$maxFailExpected||
[],Ma=v.peg$silentFails|0;if(v.startRule){if(!(v.startRule in Z))throw Error("Can't start parsing from rule \""+v.startRule+'".');fa=Z[v.startRule]}Z=fa();if(v.peg$library)return{peg$result:Z,peg$currPos:ya,peg$FAILED:N,peg$maxFailExpected:ib,peg$maxFailPos:hb};if(Z!==N&&ya===k.length)return Z;Z!==N&&ya<k.length&&G({type:"end"});throw function(Xa,wa,Ja){return new n(n.buildMessage(Xa,wa),Xa,wa,Ja)}(ib,hb<k.length?k.charAt(hb):null,hb<k.length?M(hb,hb+1):M(hb,hb));}function g(k){let v;if(!k)return[];
try{v=e(k)}catch(y){throw new c("effect:invalid-syntax","Invalid effect syntax",{value:k,error:y});}return v.map(y=>f(y))}function f(k){try{switch(k.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var v=1;p(k.parameters,1);1===k.parameters.length&&(v=l(k.parameters[0]));return new h.ColorMatrixEffect(k.name,v);case "opacity":return v=1,p(k.parameters,1),1===k.parameters.length&&(v=l(k.parameters[0])),new h.OpacityEffect(v);case "hue-rotate":v=0;
p(k.parameters,1);if(1===k.parameters.length){var y=k.parameters[0];if("quantity"!==y.type||!(0===y.value&&null===y.unit||y.unit&&null!=A[y.unit]))throw new c("effect:type-error",`Expected <angle>, Actual: ${r(y)}`,{term:y});v=y.value*A[y.unit]||0}return new h.HueRotateEffect(v);case "blur":return v=0,p(k.parameters,1),1===k.parameters.length&&(v=q(k.parameters[0]),t(v,k.parameters[0])),new h.BlurEffect(v);case "drop-shadow":const G=[];let E=null;for(const F of k.parameters)if("color"===F.type){G.length&&
Object.freeze(G);if(E)throw new c("effect:type-error","Accepts only one color",{});a:{y=void 0;var B=F;switch(B.colorType){case "hex":E=b.hex2rgba(B.value);break a;case "named":E=x(B.value);break a;case "function":v=B.value;p(v.parameters,4);if(w.test(v.name))y=[l(v.parameters[0]),l(v.parameters[1]),l(v.parameters[2]),v.parameters[3]?l(v.parameters[3]):1];else if(z.test(v.name)){B=b;var C=B.hsla2rgba,L=v.parameters[0],M=L;if("quantity"!==M.type||null!==M.unit)throw new c("effect:type-error",`Expected <double>, Actual: ${r(M)}`,
{term:M});t(L.value,L);y=C.call(B,L.value,l(v.parameters[1]),l(v.parameters[2]),v.parameters[3]?l(v.parameters[3]):1)}else throw new c("effect:syntax-error",`Invalid color function '${v.name}'`,{colorFunction:v});E=y;break a}E=void 0}}else{const H=q(F);if(Object.isFrozen(G))throw new c("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:G});G.push(H);3===G.length&&t(H,F)}if(2>G.length||3<G.length)throw new c("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${G.length}}`,
{lengths:G});return new h.DropShadowEffect(G[0],G[1],G[2]||0,E||x("black"));case "bloom":return v=1,L=C=0,p(k.parameters,3),k.parameters[0]&&(v=l(k.parameters[0])),k.parameters[1]&&(C=q(k.parameters[1]),t(C,k.parameters[1])),k.parameters[2]&&(L=l(k.parameters[2])),new h.BloomEffect(v,C,L)}}catch(G){throw G.details.filter=k,G;}throw new c("effect:unknown-effect",`Effect '${k.name}' is not supported`,{effect:k});}function p(k,v){if(k.length>v)throw new c("effect:type-error",`Function supports up to ${v} parameters, Actual: ${k.length}`,
{parameters:k});}function r(k){if("color"===k.type)return"\x3ccolor\x3e";if(k.unit){if(k.unit in u)return"\x3clength\x3e";if(k.unit in A)return"\x3cangle\x3e";if("%"===k.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function t(k,v){if(0>k)throw new c("effect:type-error",`Negative values are not allowed, Actual: ${k}`,{term:v});}function l(k){if("quantity"!==k.type||null!==k.unit&&"%"!==k.unit)throw new c("effect:type-error",`Expected <double> or <percentage>, Actual: ${r(k)}`,{term:k});const v=
k.value;t(v,k);return"%"===k.unit?.01*v:v}function q(k){if("quantity"!==k.type||!(0===k.value&&null===k.unit||k.unit&&null!=u[k.unit]))throw new c("effect:type-error",`Expected <length>, Actual: ${r(k)}`,{term:k});return k.value*u[k.unit]||0}function x(k){if(!b.isNamedColor(k))throw new c("effect:unknown-color",`color '${k}' isn't valid`,{namedColor:k});return b.getNamedColorCopy(k)}(function(k,v){function y(){this.constructor=k}y.prototype=v.prototype;k.prototype=new y})(n,Error);n.prototype.format=
function(k){var v="Error: "+this.message;if(this.location){var y=null,B;for(B=0;B<k.length;B++)if(k[B].source===this.location.source){y=k[B].text.split(/\r\n|\n|\r/g);break}k=this.location.start;B=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(k):k;var C=this.location.source+":"+B.line+":"+B.column;if(y){var L=this.location.end,M=m("",B.line.toString().length," ");y=y[k.line-1];L=(k.line===L.line?L.column:y.length+1)-k.column||1;v+="\n --\x3e "+C+
"\n"+M+" |\n"+B.line+" | "+y+"\n"+M+" | "+m("",k.column-1," ")+m("",L,"^")}else v+="\n at "+C}return v};n.buildMessage=function(k,v){function y(G){return G.charCodeAt(0).toString(16).toUpperCase()}function B(G){return G.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+y(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+y(E)})}function C(G){return G.replace(/\\/g,
"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+y(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+y(E)})}function L(G){return M[G.type](G)}var M={literal:function(G){return'"'+B(G.text)+'"'},class:function(G){var E=G.parts.map(function(F){return Array.isArray(F)?C(F[0])+"-"+C(F[1]):C(F)});return"["+(G.inverted?"^":"")+E.join("")+"]"},
any:function(){return"any character"},end:function(){return"end of input"},other:function(G){return G.description}};return"Expected "+function(G){G=G.map(L);var E,F;G.sort();if(0<G.length){for(F=E=1;E<G.length;E++)G[E-1]!==G[E]&&(G[F]=G[E],F++);G.length=F}switch(G.length){case 1:return G[0];case 2:return G[0]+" or "+G[1];default:return G.slice(0,-1).join(", ")+", or "+G[G.length-1]}}(k)+" but "+(v?'"'+B(v)+'"':"end of input")+" found."};const A={deg:1,grad:.9,rad:180/Math.PI,turn:360},u={px:1,cm:96/
2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},w=/^rgba?/i,z=/^hsla?/i;a.parse=function(k){if(!k||0===k.length)return null;if("string"===typeof k)return(k=g(k))&&0!==k.length?k:null;k=k.map(v=>{if(!Number.isFinite(v.scale)||0>=v.scale)throw new c("effect:invalid-scale","scale must be finite and greater than 0",{stop:v});return{scale:v.scale,effects:g(v.value)}});k.sort((v,y)=>y.effects.length-v.effects.length);for(let v=0;v<k.length-1;v++){if(!d.canInterpolateEffects(k[v].effects,k[v+1].effects))throw new c("effect:interpolation-impossible",
"Cannot interpolate by scale between 2 lists of mixed effects",{a:k[v].effects,b:k[v+1].effects});d.normalizeEffects(k[v].effects,k[v+1].effects)}k.sort((v,y)=>y.scale-v.scale);return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){a.CustomParametersMixin=e=>{e=class extends e{constructor(){super(...arguments);this.customParameters=null}};b.__decorate([c.property({type:Object,json:{write:{overridePolicy(g){return{enabled:!!(g&&0<Object.keys(g).length)}}}}})],e.prototype,"customParameters",void 0);return e=b.__decorate([m.subclass("esri.layers.mixins.CustomParametersMixin")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){function p(A){return q.on("apply-edits",new WeakRef(A))}function r(A){return q.on("update-moment",new WeakRef(A))}function t(A){return null!=A&&"object"===typeof A&&"gdbVersion"in A}function l(A,u,w){A=(new URL(A)).host;A=f.defaultVersionNameLookup.get(A);return(!u||u===A)&&(!w||w===A)||u===w}const q=new c.EventEmitter,x=Symbol();a.EditBusLayer=A=>{A=class extends A{constructor(...w){super(...w);this[u]=!0;this._applyEditsHandler=z=>{const {serviceUrl:k,layerId:v,gdbVersion:y,
mayReceiveServiceEdits:B,result:C}=z;z=k===this.url;const L=null!=v&&null!=this.layerId&&v===this.layerId,M=t(this),G=t(this)&&l(k,y,this.gdbVersion);!z||M&&!G||!L&&!B||(z=C.then(E=>{this.lastEditsEventDate=new Date;if(L&&(E.addedFeatures.length||E.updatedFeatures.length||E.deletedFeatures.length||E.addedAttachments.length||E.updatedAttachments.length||E.deletedAttachments.length))return this.emit("edits",h.clone(E)),E;const F=E.editedFeatures?.find(({layerId:H})=>H===this.layerId);if(F){const {adds:H,
updates:R,deletes:J}=F.editedFeatures;E={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:H?H.map(({attributes:K})=>({objectId:this.objectIdField&&K[this.objectIdField],globalId:this.globalIdField&&K[this.globalIdField]})):[],deletedFeatures:J?J.map(({attributes:K})=>({objectId:this.objectIdField&&K[this.objectIdField],globalId:this.globalIdField&&K[this.globalIdField]})):[],updatedFeatures:R?R.map(({current:{attributes:K}})=>({objectId:this.objectIdField&&
K[this.objectIdField],globalId:this.globalIdField&&K[this.globalIdField]})):[],editedFeatures:h.clone(E.editedFeatures),exceededTransferLimit:!1,historicMoment:h.clone(E.historicMoment)};this.emit("edits",E);return E}E={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:h.clone(E.editedFeatures),exceededTransferLimit:!1,historicMoment:h.clone(E.historicMoment)};"historicMoment"in this&&this._shouldUpdateHistoricMoment(k,
y,E.historicMoment)&&this.emit("edits",E);return E}).then(E=>{"historicMoment"in this&&this._shouldUpdateHistoricMoment(k,y,E.historicMoment)&&(this.historicMoment=E.historicMoment);return E}),this.emit("apply-edits",{result:z}))};this._updateMomentHandler=z=>{const {serviceUrl:k,gdbVersion:v,moment:y}=z;z=k===this.url;const B=t(this),C=t(this)&&l(k,v,this.gdbVersion),L=t(this)&&!l(k,this.gdbVersion,null);z&&B&&C&&L&&"historicMoment"in this&&this.historicMoment!==y&&(this.historicMoment=y)};this.when().then(()=>
{this.addHandles(p(this._applyEditsHandler));"historicMoment"in this&&this.addHandles(r(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(w,z,k){return"historicMoment"in this&&this.historicMoment!==k&&f.isVersionInEditSession(w,z)}};var u=x;b.__decorate([n.property()],A.prototype,"lastEditsEventDate",void 0);return A=b.__decorate([g.subclass("esri.layers.mixins.EditBusLayer")],A)};a.emitApplyEditsEvent=function(A,u,w=null,z=!1){const k=d.createResolver();q.emit("apply-edits",{serviceUrl:A,
layerId:u,gdbVersion:w,mayReceiveServiceEdits:null==u?!0:z,result:k.promise});return k};a.emitUpdateMomentEvent=function(A,u,w=null,z){q.emit("update-moment",{serviceUrl:A,layerId:u,gdbVersion:w,moment:z})};a.isEditBusLayer=function(A){return null!=A&&"object"===typeof A&&x in A};a.isLayerWithGDBVersion=t;a.onApplyEditsEvent=p;a.onUpdateMomentEvent=r;a.versionMatches=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/versionManagement/support/versionManagementUtils":function(){define(["require",
"exports","../../request","../../core/uuid"],function(a,b,c,h){const d=h.generateLowercaseBracedUUID(),n=new Map,m=new Map;h=new Map;b.currentSessionId=d;b.defaultVersionNameLookup=n;b.isHistoricVersion=async function(e,g,f){if(!e||!f)return!1;if(!g)return!0;f=(new URL(e)).host;f=n.get(f);f||(e=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),f=(await c(e,{responseType:"json",query:{f:"json"}})).data.defaultVersionName);return f===g?!0:!1};b.isSafeToEditVersion=async function(e,
g,f=!1){if(!e||!g)return!0;e=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");const p=m.get(e)?.entries();if(p)for(const [r,t]of p)if(t.name===g){g=!t.stack?.hasForwardEdits();if(!g&&f){const [{deleteForwardEdits:l},{default:q}]=await Promise.all([new Promise((x,A)=>a(["../../rest/versionManagement/gdbVersion/deleteForwardEdits"],x,A)),new Promise((x,A)=>a(["../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters"],u=>x(Object.freeze(Object.defineProperty({__proto__:null,
default:u},Symbol.toStringTag,{value:"Module"}))),A))]);f=await l(e,r,new q({sessionId:d,moment:t.moment}));f.success&&t.stack?.clearForwardEdits();return f.success}return g}return!0};b.isVersionInEditSession=function(e,g){if(!e)return!1;e=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");if(e=m.get(e)?.entries())for(const [,f]of e)if(f.name===g)return"edit"===f.lockType;return!1};b.versionCollection=m;b.versionCollectionCount=h;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(c)return crypto.randomUUID();const h=crypto.getRandomValues(new Uint16Array(8));h[3]=h[3]&4095|16384;h[4]=h[4]&16383|32768;const d=n=>h[n].toString(16).padStart(4,"0");return d(0)+d(1)+"-"+d(2)+"-"+d(3)+"-"+d(4)+"-"+d(5)+d(6)+d(7)}const c="randomUUID"in crypto;a.generateBracedUUID=function(){return`{${b().toUpperCase()}}`};a.generateLowercaseBracedUUID=function(){return`{${b()}}`};a.generateUUID=b;a.normalizeGlobalID=
function(h){const d=h.toUpperCase();return"{"!==h[0]?`{${d}}`:d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),function(a,b,c,h,d,n,m,e){h={write:{allowNull:!0}};const g={type:e,json:{origins:{"web-map":h,"portal-item":h}}};
a.FeatureEffectLayer=f=>{f=class extends f{constructor(){super(...arguments);this.featureEffect=null}};b.__decorate([c.property(g)],f.prototype,"featureEffect",void 0);return f=b.__decorate([m.subclass("esri.layers.mixins.FeatureEffectLayer")],f)};a.featureEffectProperty=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;n={read:{reader:f.read},write:{writer:f.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};m={read:{reader:f.read},write:{writer:f.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};e={name:"showExcludedLabels",default:!0};c=r=class extends c.JSONSupport{constructor(t){super(t);this.excludedEffect=this.includedEffect=this.filter=null;this.excludedLabelsVisible=
!1}write(t,l){t=super.write(t,l);if(l?.origin){if(t.filter){const q=Object.keys(t.filter);if(1<q.length||"where"!==q[0])return l.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:l.layer,effect:this})),null}if("showExcludedLabels"in t)return l.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:l.layer,effect:this})),null}return t}clone(){return new r({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};a.__decorate([d.property({type:p,json:{write:{allowNull:!0,writer(t,l,q,x){(t=t?.write({},x))&&0!==Object.keys(t).length?h.setDeepValue(q,t,l):h.setDeepValue(q,null,l)}}}})],c.prototype,"filter",void 0);a.__decorate([d.property({json:{read:f.read,write:{writer:f.write,
allowNull:!0},origins:{"web-map":n,"portal-item":n}}})],c.prototype,"includedEffect",void 0);a.__decorate([d.property({json:{read:f.read,write:{writer:f.write,allowNull:!0},origins:{"web-map":m,"portal-item":m}}})],c.prototype,"excludedEffect",void 0);a.__decorate([d.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":e,"portal-item":e}}})],c.prototype,"excludedLabelsVisible",void 0);return c=r=a.__decorate([g.subclass("esri.layers.support.FeatureEffect")],c)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../rest/support/Query ../../time/TimeExtent".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){var r;m=new c.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});c=new c.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});h=r=class extends h.JSONSupport{constructor(t){super(t);this.geometry=this.where=null;this.spatialRelationship="intersects";this.distance=void 0;this.timeExtent=this.units=this.objectIds=null}createQuery(t={}){const {where:l,geometry:q,spatialRelationship:x,timeExtent:A,objectIds:u,units:w,distance:z}=this;return new f({geometry:d.clone(q),objectIds:d.clone(u),
spatialRelationship:x,timeExtent:d.clone(A),where:l,units:w,distance:z,...t})}clone(){const {where:t,geometry:l,spatialRelationship:q,timeExtent:x,objectIds:A,units:u,distance:w}=this;return new r({geometry:d.clone(l),objectIds:d.clone(A),spatialRelationship:q,timeExtent:d.clone(x),where:t,units:u,distance:w})}};a.__decorate([n.property({type:String,json:{write:!0}})],h.prototype,"where",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{write:!0}})],h.prototype,"geometry",void 0);a.__decorate([n.property({type:m.apiValues,
json:{name:"spatialRel",read:{reader:m.read},write:{allowNull:!1,writer:m.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],h.prototype,"spatialRelationship",void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],h.prototype,"distance",void 0);a.__decorate([n.property({type:[Number],json:{write:!0}})],h.prototype,"objectIds",void 0);a.__decorate([n.property({type:c.apiValues,json:{read:c.read,write:{writer:c.write,
overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],h.prototype,"units",void 0);a.__decorate([n.property({type:p,json:{write:!0}})],h.prototype,"timeExtent",void 0);return h=r=a.__decorate([g.subclass("esri.layers.support.FeatureFilter")],h)})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../time/TimeExtent ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z){var k;c=new c.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let v=k=class extends h.JSONSupport{static from(y){return p.ensureClass(k,y)}constructor(y){super(y);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(y){return"number"===typeof y||"object"===typeof y?y:null}writeHistoricMoment(y,B){B.historicMoment=
y&&y.getTime()}writeParameterValues(y,B){if(y){const C={};for(const L in y){const M=y[L];Array.isArray(M)?C[L]=M.map(G=>G instanceof Date?G.getTime():G):C[L]=M instanceof Date?M.getTime():M}B.parameterValues=C}}writeStart(y,B){B.resultOffset=this.start;B.resultRecordCount=this.num||10;B.where="1\x3d1"}writeWhere(y,B){B.where=y||"1\x3d1"}clone(){return new k(d.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};v.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([n.property({json:{write:!0}})],
v.prototype,"aggregateIds",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],v.prototype,"cacheHint",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"compactGeometryEnabled",void 0);a.__decorate([n.property({json:{write:!0}})],v.prototype,"datumTransformation",void 0);a.__decorate([m.cast("datumTransformation")],v.prototype,"castDatumTransformation",null);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"defaultSpatialReferenceEnabled",
void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(y){return{enabled:0<y}}}}})],v.prototype,"distance",void 0);a.__decorate([n.property({type:t.DataLayerSource,json:{write:!0}})],v.prototype,"dynamicDataSource",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],v.prototype,"formatOf3DObjects",void 0);a.__decorate([n.property({type:[l],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],v.prototype,"fullText",
void 0);a.__decorate([n.property({type:String,json:{write:!0}})],v.prototype,"gdbVersion",void 0);a.__decorate([n.property({types:b.geometryTypes,json:{read:r.fromJSON,write:!0}})],v.prototype,"geometry",void 0);a.__decorate([n.property({type:Number,json:{write:!0}})],v.prototype,"geometryPrecision",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],v.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],v.prototype,"having",void 0);
a.__decorate([n.property({type:Date})],v.prototype,"historicMoment",void 0);a.__decorate([f.writer("historicMoment")],v.prototype,"writeHistoricMoment",null);a.__decorate([n.property({type:Number,json:{write:!0}})],v.prototype,"maxAllowableOffset",void 0);a.__decorate([n.property({type:Number,cast(y){return 1>y?1:y>v.MAX_MAX_RECORD_COUNT_FACTOR?v.MAX_MAX_RECORD_COUNT_FACTOR:y},json:{write:{overridePolicy(y){return{enabled:1<y}}}}})],v.prototype,"maxRecordCountFactor",void 0);a.__decorate([n.property({type:["xyFootprint"],
json:{write:!0}})],v.prototype,"multipatchOption",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultRecordCount"}}})],v.prototype,"num",void 0);a.__decorate([n.property({json:{write:!0}})],v.prototype,"objectIds",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],v.prototype,"orderByFields",void 0);a.__decorate([n.property({type:[String],json:{write:!0}})],v.prototype,"outFields",void 0);a.__decorate([n.property({type:w,json:{name:"outSR",write:!0}})],v.prototype,
"outSpatialReference",void 0);a.__decorate([n.property({type:[A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],v.prototype,"outStatistics",void 0);a.__decorate([n.property({json:{write:!0}})],v.prototype,"parameterValues",void 0);a.__decorate([f.writer("parameterValues")],v.prototype,"writeParameterValues",null);a.__decorate([n.property({type:z,json:{write:!0}})],v.prototype,"pixelSize",void 0);a.__decorate([n.property({type:q,
json:{write:!0}})],v.prototype,"quantizationParameters",void 0);a.__decorate([n.property({type:[Object],json:{write:!0}})],v.prototype,"rangeValues",void 0);a.__decorate([n.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],v.prototype,"relationParameter",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],v.prototype,"resultType",void 0);a.__decorate([n.property({type:Boolean,
json:{default:!1,write:!0}})],v.prototype,"returnCentroid",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"returnDistinctValues",void 0);a.__decorate([n.property({type:Boolean,json:{default:!0,write:!0}})],v.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],v.prototype,"returnGeometry",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"returnQueryGeometry",void 0);
a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"returnM",void 0);a.__decorate([n.property({type:Boolean,json:{write:{overridePolicy(y){return{enabled:y}}}}})],v.prototype,"returnZ",void 0);a.__decorate([n.property({type:w,json:{write:!0}})],v.prototype,"sourceSpatialReference",void 0);a.__decorate([e.enumeration(x.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],v.prototype,"spatialRelationship",void 0);a.__decorate([n.property({type:Number,json:{read:{source:"resultOffset"}}})],
v.prototype,"start",void 0);a.__decorate([f.writer("start"),f.writer("num")],v.prototype,"writeStart",null);a.__decorate([n.property({type:String,json:{write:!0}})],v.prototype,"sqlFormat",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],v.prototype,"text",void 0);a.__decorate([n.property({type:u,json:{write:!0}})],v.prototype,"timeExtent",void 0);a.__decorate([n.property({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([e.enumeration(c,
{ignoreUnknown:!1}),n.property({json:{write:{overridePolicy(y){return{enabled:!!y&&null!=this.distance&&0<this.distance}}}}})],v.prototype,"units",void 0);a.__decorate([n.property({type:String,json:{write:{overridePolicy(y){return{enabled:null!=y||null!=this.start&&0<this.start}}}}})],v.prototype,"where",void 0);a.__decorate([f.writer("where")],v.prototype,"writeWhere",null);return v=k=a.__decorate([g.subclass("esri.rest.support.Query")],v)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x){function A(){k||=p.createTypeReader({types:u()});return k}function u(){v||={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":t.MapLayerSource}};return v}var w,z;c=c.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=w=class extends h.JSONSupport{constructor(y){super(y);this.type="join-table"}readLeftTableSource(y,B,C){return A()(y,B,C)}castLeftTableSource(y){return f.ensureOneOfType(u(),
y)}readRightTableSource(y,B,C){return A()(y,B,C)}castRightTableSource(y){return f.ensureOneOfType(u(),y)}clone(){const {leftTableKey:y,rightTableKey:B,leftTableSource:C,rightTableSource:L,joinType:M}=this,G={leftTableKey:y,rightTableKey:B,leftTableSource:C?.clone()??void 0,rightTableSource:L?.clone()??void 0,joinType:M};return new w(G)}};b.__decorate([m.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,
"leftTableKey",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([e.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([n.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,
"rightTableSource",void 0);b.__decorate([e.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([n.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([m.enumeration(c)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=w=b.__decorate([g.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let k=null,v=null;n={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,
"query-table":l.QueryTableDataSource,raster:q.RasterDataSource,table:x.TableDataSource}};a.DataLayerSource=z=class extends h.JSONSupport{constructor(y){super(y);this.type="data-layer"}clone(){const {fields:y,dataSource:B}=this;return new z({fields:y,dataSource:B})}};b.__decorate([m.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([d.property({type:[r],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([d.property({types:n,json:{write:!0}})],
a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=b.__decorate([g.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=f.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;a.MapLayerSource=f=class extends c.JSONSupport{constructor(p){super(p);this.type="map-layer"}clone(){const {mapLayerId:p,gdbVersion:r}=this;return new f({mapLayerId:p,gdbVersion:r})}};b.__decorate([e.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([h.property({type:d.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,
"gdbVersion",void 0);a.MapLayerSource=f=b.__decorate([g.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){var t;a.QueryTableDataSource=t=class extends h.JSONSupport{constructor(l){super(l);this.type="query-table"}clone(){const {workspaceId:l,query:q,oidFields:x,spatialReference:A,geometryType:u}=this,w={workspaceId:l,query:q,oidFields:x,spatialReference:A?.clone()??void 0,geometryType:u};return new t(w)}};b.__decorate([g.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,
"workspaceId",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([d.property({type:p,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([g.enumeration(r.featureGeometryTypeKebabDictionary)],a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=t=b.__decorate([f.subclass("esri.layers.support.source.QueryTableDataSource")],
a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){var f;a.RasterDataSource=f=class extends c.JSONSupport{constructor(p){super(p);
this.type="raster"}clone(){const {workspaceId:p,dataSourceName:r}=this;return new f({workspaceId:p,dataSourceName:r})}};b.__decorate([e.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=f=b.__decorate([g.subclass("esri.layers.support.source.RasterDataSource")],
a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){var f;a.TableDataSource=f=class extends c.JSONSupport{constructor(p){super(p);
this.type="table"}clone(){const {workspaceId:p,gdbVersion:r,dataSourceName:t}=this;return new f({workspaceId:p,gdbVersion:r,dataSourceName:t})}};b.__decorate([e.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],
a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=f=b.__decorate([g.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){b=class extends b.ClonableMixin(c.JSONSupport){constructor(g){super(g);this.searchType=this.searchTerm=this.operator=this.onFields=null}};a.__decorate([h.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],b.prototype,"onFields",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"operator",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"searchTerm",
void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"searchType",void 0);return b=a.__decorate([e.subclass("esri.rest.support.FullTextSearch")],b)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(a,
b,c,h,d,n,m,e,g,f){var p;b=new c.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});h=p=class extends h.JSONSupport{constructor(r){super(r);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new p(d.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};a.__decorate([n.property({type:f,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"extent",void 0);a.__decorate([n.property({type:["view",
"edit"],json:{write:!0}})],h.prototype,"mode",void 0);a.__decorate([n.property({type:String,json:{read:b.read,write:b.write}})],h.prototype,"originPosition",void 0);a.__decorate([n.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"tolerance",void 0);return h=p=a.__decorate([g.subclass("esri.rest.support.QuantizationParameters")],h)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(a,b){b=
new b.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});a.spatialRelKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,h,d,n,m,e,g){var f;b=new b.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});c=f=class extends c.JSONSupport{constructor(p){super(p);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(p,r){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)r.statisticParameters=h.clone(p)}clone(){return new f({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:h.clone(this.statisticParameters)})}};
a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxPointCount",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxRecordCount",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"maxVertexCount",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"onStatisticField",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],c.prototype,"outStatisticFieldName",void 0);a.__decorate([d.property({type:String,
json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],c.prototype,"statisticType",void 0);a.__decorate([d.property({type:Object})],c.prototype,"statisticParameters",void 0);a.__decorate([g.writer("statisticParameters")],c.prototype,"writeStatisticParameters",null);return c=f=a.__decorate([e.subclass("esri.rest.support.StatisticDefinition")],c)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../support/Subtype ../../time/timeZoneUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C){a.FeatureLayerBase=L=>{L=class extends L{constructor(){super(...arguments);this.dateFieldsTimeZone=this.capabilities=this.copyright=null;this.datesInUnknownTimezone=!1;this.globalIdField=this.geometryType=this.geometryFieldsInfo=this.gdbVersion=this.fullExtent=this.floorInfo=this.elevationInfo=this.editingInfo=this.editFieldsInfo=this.displayField=this.definitionExpression=null;this.hasZ=this.hasM=void 0;this.historicMoment=this.heightModelInfo=
null;this.indexes=new (c.ofType(u.FeatureIndex));this.isTable=!1;this.layerId=void 0;this.minScale=this.maxScale=0;this.relationships=this.preferredTimeZone=this.objectIdField=null;this.returnZ=this.returnM=void 0;this.sourceJSON=this.serviceItemId=this.serviceDefinitionExpression=null;this.spatialReference=l.WGS84;this.trackIdField=this.subtypes=this.subtypeField=null;this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const {capabilities:M}=this;if(M){const {query:E,operations:F,
editing:H}=M;if(!E.supportsQueryByOthers||!E.supportsQueryByAnonymous||F.supportsEditing&&!(H.supportsUpdateByOthers&&H.supportsUpdateByAnonymous&&H.supportsDeleteByOthers&&H.supportsDeleteByAnonymous))return"load"}if(this.serviceDefinitionExpression?.toLowerCase().includes("current_user"))return"load";if(this.userHasUpdateItemPrivileges){if(w.isLayerCacheStale(this))return"load";if(this.hasUpdateItemRestrictions)return M.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&
this.hasFullEditingRestrictions)return"editing";const G=this.editFieldsInfo;return(G?.creatorField||G?.editorField)&&M?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(M,G){return y.getFeatureLayerCapabilities(G,this.url)}readEditingInfo(M,G){({editingInfo:M}=G);return M?{lastEditDate:null!=M.lastEditDate?new Date(M.lastEditDate):null}:null}get effectiveCapabilities(){var M=this.capabilities;if(!M)return null;M=h.clone(M);const {operations:G,editing:E}=M;if(w.supportsQueryOnly(this))return this.userHasUpdateItemPrivileges&&
(G.supportsQuery=!0),M;if(this.userHasUpdateItemPrivileges)return G.supportsAdd=G.supportsDelete=G.supportsEditing=G.supportsQuery=G.supportsUpdate=E.supportsDeleteByOthers=E.supportsGeometryUpdate=E.supportsUpdateByOthers=!0,M;this.userHasFullEditingPrivileges&&G.supportsEditing&&(G.supportsAdd=G.supportsDelete=G.supportsUpdate=E.supportsGeometryUpdate=!0);return M}readGlobalIdFieldFromService(M,G){return w.readGlobalIdField(G)}get hasFullEditingRestrictions(){const M=this.capabilities;if(!M||w.supportsQueryOnly(this))return!1;
const {operations:G,editing:E}=M;return G.supportsEditing&&!(G.supportsAdd&&G.supportsDelete&&G.supportsUpdate&&E.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const M=this.capabilities;if(!M)return!1;const {operations:G,editing:E}=M;return w.supportsQueryOnly(this)?!G.supportsQuery:!(G.supportsAdd&&G.supportsDelete&&G.supportsEditing&&G.supportsQuery&&G.supportsUpdate&&E.supportsDeleteByOthers&&E.supportsGeometryUpdate&&E.supportsUpdateByOthers)}readIsTableFromService(M,G){return"Table"===
G.type}readMaxScale(M,G){return G.effectiveMaxScale||M||0}readMinScale(M,G){return G.effectiveMinScale||M||0}readObjectIdFieldFromService(M,G){return w.readObjectIdField(G)}readServiceDefinitionExpression(M,G){return G.definitionQuery||G.definitionExpression}set url(M){null==M?this._set("url",M):(M=q.sanitizeUrlWithLayerId({layer:this,url:M,nonStandardUrlAllowed:!0,logger:d.getLogger(this)}),this._set("url",M.url),null!=M.layerId&&this._set("layerId",M.layerId))}writeUrl(M,G,E,F){q.writeUrlWithLayerId(this,
M,null,G,F)}readVersion(M,G){return w.readVersion(G)}};b.__decorate([n.property({readOnly:!0})],L.prototype,"authenticationTriggerEvent",null);b.__decorate([n.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],L.prototype,"copyright",void 0);b.__decorate([n.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ isDataBranchVersioned isDataVersioned maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
L.prototype,"capabilities",void 0);b.__decorate([e.reader("service","capabilities")],L.prototype,"readCapabilitiesFromService",null);b.__decorate([n.property(C.timeZoneProperty("dateFieldsTimeReference"))],L.prototype,"dateFieldsTimeZone",void 0);b.__decorate([n.property({type:Boolean})],L.prototype,"datesInUnknownTimezone",void 0);b.__decorate([n.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],L.prototype,
"definitionExpression",void 0);b.__decorate([n.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],L.prototype,"displayField",void 0);b.__decorate([n.property({readOnly:!0,type:A})],L.prototype,"editFieldsInfo",void 0);b.__decorate([n.property({readOnly:!0})],L.prototype,"editingInfo",void 0);b.__decorate([e.reader("editingInfo")],L.prototype,"readEditingInfo",null);b.__decorate([n.property({readOnly:!0})],L.prototype,"effectiveCapabilities",null);b.__decorate([n.property((()=>
{const M=h.clone(x.elevationInfo),G=M.json.origins;G["web-map"]={read:!1,write:!1};G["portal-item"]={read:!1,write:!1};return M})())],L.prototype,"elevationInfo",void 0);b.__decorate([n.property({type:k,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:p.excludeTables}}}}})],L.prototype,"floorInfo",void 0);b.__decorate([n.property({type:r,json:{origins:{service:{read:{source:"extent"}}}}})],L.prototype,"fullExtent",
void 0);b.__decorate([n.property()],L.prototype,"gdbVersion",void 0);b.__decorate([n.property({readOnly:!0,type:z,json:{read:{source:"geometryProperties"}}})],L.prototype,"geometryFieldsInfo",void 0);b.__decorate([n.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:w.geometryTypeKebabDict.read}}}})],L.prototype,"geometryType",void 0);b.__decorate([n.property({type:String})],L.prototype,"globalIdField",void 0);b.__decorate([e.reader("service",
"globalIdField",["globalIdField","fields"])],L.prototype,"readGlobalIdFieldFromService",null);b.__decorate([n.property({readOnly:!0})],L.prototype,"hasFullEditingRestrictions",null);b.__decorate([n.property({type:Boolean,json:{origins:{service:{read:!0}}}})],L.prototype,"hasM",void 0);b.__decorate([n.property({readOnly:!0})],L.prototype,"hasUpdateItemRestrictions",null);b.__decorate([n.property({type:Boolean,json:{origins:{service:{read:!0}}}})],L.prototype,"hasZ",void 0);b.__decorate([n.property({readOnly:!0,
type:t})],L.prototype,"heightModelInfo",void 0);b.__decorate([n.property({type:Date})],L.prototype,"historicMoment",void 0);b.__decorate([n.property({type:c.ofType(u.FeatureIndex),readOnly:!0})],L.prototype,"indexes",void 0);b.__decorate([n.property({readOnly:!0})],L.prototype,"isTable",void 0);b.__decorate([e.reader("service","isTable",["type"])],L.prototype,"readIsTableFromService",null);b.__decorate([n.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},
read:!1}})],L.prototype,"layerId",void 0);b.__decorate([n.property(x.maxScale)],L.prototype,"maxScale",void 0);b.__decorate([e.reader("service","maxScale",["maxScale","effectiveMaxScale"])],L.prototype,"readMaxScale",null);b.__decorate([n.property(x.minScale)],L.prototype,"minScale",void 0);b.__decorate([e.reader("service","minScale",["minScale","effectiveMinScale"])],L.prototype,"readMinScale",null);b.__decorate([n.property({type:String})],L.prototype,"objectIdField",void 0);b.__decorate([e.reader("service",
"objectIdField",["objectIdField","fields"])],L.prototype,"readObjectIdFieldFromService",null);b.__decorate([n.property(C.timeZoneProperty("preferredTimeReference"))],L.prototype,"preferredTimeZone",void 0);b.__decorate([n.property({type:[v],readOnly:!0})],L.prototype,"relationships",void 0);b.__decorate([n.property({type:Boolean})],L.prototype,"returnM",void 0);b.__decorate([n.property({type:Boolean})],L.prototype,"returnZ",void 0);b.__decorate([n.property({readOnly:!0,json:{write:!1}})],L.prototype,
"serverGens",void 0);b.__decorate([n.property({readOnly:!0})],L.prototype,"serviceDefinitionExpression",void 0);b.__decorate([e.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],L.prototype,"readServiceDefinitionExpression",null);b.__decorate([n.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],L.prototype,"serviceItemId",void 0);b.__decorate([n.property()],L.prototype,"sourceJSON",void 0);b.__decorate([n.property({type:l,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],
L.prototype,"spatialReference",void 0);b.__decorate([n.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],L.prototype,"subtypeField",void 0);b.__decorate([n.property({type:[B],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],L.prototype,"subtypes",void 0);b.__decorate([n.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],L.prototype,"trackIdField",void 0);b.__decorate([n.property(x.url)],L.prototype,"url",null);b.__decorate([f.writer("url")],L.prototype,
"writeUrl",null);b.__decorate([n.property({json:{origins:{service:{read:!0}},read:!1}})],L.prototype,"version",void 0);b.__decorate([e.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],L.prototype,"readVersion",null);return L=b.__decorate([g.subclass("esri.layers.mixins.FeatureLayerBase")],L)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){function t(A,u){return new n("height-unit:unsupported",`Height unit of value '${A}' is not supported`,u)}var l;const q=c.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});e=q.jsonValues.slice();b.removeUnordered(e,"orthometric");const x=c.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});b=l=class extends h.JSONSupport{constructor(A){super(A);this.heightModel="gravity-related-height";this.heightUnit="meters";this.vertCRS=null}writeHeightModel(A,u,w){return q.write(A,
u,w)}readHeightModel(A,u,w){if(u=q.read(A))return u;if(w?.messages){u=w.messages;var z=u.push;A=new n("height-model:unsupported",`Height model of value '${A}' is not supported`,{context:w});z.call(u,A)}return null}readHeightUnit(A,u,w){if(u=x.read(A))return u;w?.messages&&w.messages.push(t(A,{context:w}));return null}readHeightUnitService(A,u,w){if(u=d.unitFromRESTJSON(A)||x.read(A))return u;w?.messages&&w.messages.push(t(A,{context:w}));return null}readVertCRS(A,u){return u.vertCRS||u.ellipsoid||
u.geoid}clone(){return new l({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(A){return A?this===A?!0:this.heightModel===A.heightModel&&this.heightUnit===A.heightUnit&&this.vertCRS===A.vertCRS:!1}static deriveUnitFromSR(A,u){u=d.getVerticalUnitStringForSR(u);return new l({heightModel:A.heightModel,heightUnit:u??void 0,vertCRS:A.vertCRS})}write(A,u){u={origin:"web-scene",...u};return super.write(A,u)}static fromJSON(A){if(!A)return null;const u=new l;u.read(A,
{origin:"web-scene"});return u}};a.__decorate([m.property({type:q.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:e,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);a.__decorate([r.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);a.__decorate([f.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);a.__decorate([m.property({type:x.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:x.jsonValues,write:x.write}}}})],
b.prototype,"heightUnit",void 0);a.__decorate([f.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);a.__decorate([f.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);a.__decorate([m.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);a.__decorate([f.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=l=a.__decorate([p.subclass("esri.geometry.HeightModelInfo")],
b)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../time/timeZoneUtils".split(" "),function(a,b,c,h,d,n,m,e,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(f){super(f);this.timeZone=this.realm=this.editDateField=this.editorField=this.creationDateField=this.creatorField=
null}};a.__decorate([h.property()],b.prototype,"creatorField",void 0);a.__decorate([h.property()],b.prototype,"creationDateField",void 0);a.__decorate([h.property()],b.prototype,"editorField",void 0);a.__decorate([h.property()],b.prototype,"editDateField",void 0);a.__decorate([h.property()],b.prototype,"realm",void 0);a.__decorate([h.property(g.timeZoneProperty("dateFieldsTimeReference",!0))],b.prototype,"timeZone",void 0);return b=a.__decorate([e.subclass("esri.layers.support.EditFieldsInfo")],b)})},
"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){a.FeatureIndex=class extends c.ClonableMixin(h.JSONSupport){constructor(f){super(f)}};b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);
b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([d.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,
"description",void 0);a.FeatureIndex=b.__decorate([g.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../symbols ../../core/asyncUtils ../../core/Error ../../core/jsonMap ../../core/sql ../../core/uuid ../../core/accessorSupport/extensions/serializableProperty/reader ./CodedValue ./CodedValueDomain ./featureQueryAll ./fieldUtils ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z){function k(E,F,H){const {attributes:R}=F,{objectIdField:J}=E;return E.capabilities?.data?.supportsAttachment?F?R?J&&R[J]?Promise.resolve():Promise.reject(new n(H,`feature is missing the identifying attribute ${J}`)):Promise.reject(new n(H,"'attributes' are required on a feature to query attachments")):Promise.reject(new n(H,"A feature is required to add/delete/update attachments")):Promise.reject(new n(H,"this layer doesn't support attachments"))}
function v(E,F){return F?l.isStringField({type:F})&&"number"===typeof E?`${E}`:l.isIntegerField({type:F})&&"string"===typeof E?Number.parseInt(E,10):E:E}async function y(E){return(await E.load()).source}async function B(E,F){if(c.id&&!c.id.findCredential(E)){var H;try{const R=await q.getOwningPortalUrl(E,F);R&&(H=await c.id.checkSignInStatus(`${R}/sharing`))}catch(R){}if(H)try{await c.id.getCredential(E,{signal:null!=F?F.signal:null})}catch(R){}}}async function C(E,F,H){if(null==F)return null;const R=
[],{objectIdField:J}=E;F.forEach(K=>{let Q=null;"attributes"in K?({attributes:K}=K,Q={globalId:K[H],objectId:null!=K[J]&&-1!==K[J]?K[J]:null}):Q={globalId:K.globalId,objectId:null!=K.objectId&&-1!==K.objectId?K.objectId:null};null!=Q.globalId&&(null!=Q.objectId&&-1!==Q.objectId||R.push(Q.globalId))});if(0===R.length)return null;F=E.createQuery();F.where=R.map(K=>`${H}='${K}'`).join(" OR ");F.returnGeometry=!1;F.outFields=[J,H];F.cacheHint=!1;F=await d.resultOrAbort(t.queryAllJSON(E,F));if(!F.ok)return null;
E=new Map;F=F.value.features;for(const K of F){F=K.attributes[H];const Q=K.attributes[J];null!=F&&null!=Q&&-1!==Q&&E.set(g.normalizeGlobalID(F),Q)}return E}function L(E){return E.sourceJSON?.isMultiServicesView||M(E)}function M(E){return!!E.sourceJSON?.capabilities?.toLowerCase().split(",").map(F=>F.trim()).includes("map")}m=new m.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});
const G=f.createTypeReader({types:h.symbolTypesRenderer});b.addAttachment=async function(E,F,H,R){const J=await y(E);await k(E,F,R);if(!J.addAttachment)throw new n(R,"Layer source does not support addAttachment capability");return J.addAttachment(F,H)};b.applyEdits=async function(E,F,H){const {applyEdits:R}=await new Promise((K,Q)=>a(["../graphics/editingSupport"],K,Q));E=await E.load();let J=H;"feature"===E.type&&E.infoFor3D&&null!=F.deleteFeatures&&null!=E.globalIdField&&(J={...J,globalIdToObjectId:await C(E,
F.deleteFeatures,E.globalIdField)});return R(E,E.source,F,H)};b.computeDomainFromSubtypes=function(E,F){const {fieldsIndex:H,subtypeField:R}=E,{name:J,type:K}=H.get(F)??{};return J?(R&&H.get(R)?.name)===J&&E.subtypes?.length&&(E=E.subtypes.map(Q=>new p.CodedValue({code:v(Q.code,K),name:Q.name})),E?.length)?new r({codedValues:E}):null:null};b.computeDomainFromTypes=function(E,F){const {fieldsIndex:H}=E,{name:R,type:J}=H.get(F)??{};return R?("typeIdField"in E?H.get(E.typeIdField)?.name:null)===R&&"types"in
E&&E.types?.length?(E=E.types.map(K=>new p.CodedValue({code:v(K.id,J),name:K.name})),new r({codedValues:E})):null:null};b.computeEffectiveEditingEnabled=function(E){return L(E)?!1:E.userHasUpdateItemPrivileges||E.editingEnabled};b.createDefaultRenderer=function(E,F){if(E.defaultSymbol)return E.types?.length?new A({defaultSymbol:G(E.defaultSymbol,E,F),field:E.typeIdField,uniqueValueInfos:E.types.map(H=>({id:H.id,symbol:G(H.symbol,H,F)}))}):new x({symbol:G(E.defaultSymbol,E,F)})};b.createQuery=function(E){const F=
new w,H=E.capabilities?.data,R=E.capabilities?.query;F.historicMoment=E.historicMoment;F.gdbVersion=E.gdbVersion;F.returnGeometry=!0;R&&(F.compactGeometryEnabled=R.supportsCompactGeometry,F.defaultSpatialReferenceEnabled=R.supportsDefaultSpatialReference);H&&(H.supportsZ&&null!=E.returnZ&&(F.returnZ=E.returnZ),H.supportsM&&null!=E.returnM&&(F.returnM=E.returnM));F.outFields=["*"];const {timeOffset:J,timeExtent:K}=E;F.timeExtent=null!=J&&null!=K?K.offset(-J.value,J.unit):K||null;F.multipatchOption=
"multipatch"===E.geometryType?"xyFootprint":null;return F};b.deleteAttachments=async function(E,F,H,R){const J=await y(E);await k(E,F,R);if(!J.deleteAttachments)throw new n(R,"Layer source does not support deleteAttachments capability");return J.deleteAttachments(F,H)};b.ensureCredentialIfSignedIn=B;b.ensureLayerCredential=async function(E,F,H){const R=E.parsedUrl?.path;R&&E.authenticationTriggerEvent===F&&await B(R,H)};b.fetchRecomputedExtents=async function(E,F,H){E=(await E.load({signal:F?.signal})).source;
if(!E.fetchRecomputedExtents)throw new n(H,"Layer source does not support fetchUpdates capability");return E.fetchRecomputedExtents(F)};b.geometryTypeKebabDict=m;b.getFeatureSubtype=function(E,F){const {subtypes:H,subtypeField:R}=E;if(!F?.attributes||!H?.length||!R)return null;const J=F.attributes[R];return null==J?null:H.find(K=>K.code===J)};b.getFeatureType=function(E,F,H){if(!F||!H||!E)return null;const R=H.getAttribute(F);return null==R?null:E.find(J=>{({id:J}=J);return null!=J&&J.toString()===
R.toString()})??null};b.getGlobalIdToObjectIdMap=C;b.hasDataChanged=async function(E){const F=E.source;if(F?.refresh)try{const {dataChanged:H,updates:R}=await F.refresh();null!=R&&(E.sourceJSON={...E.sourceJSON,...R},E.read(R,{origin:"service",url:E.parsedUrl}));if(H)return!0}catch{}if(E.definitionExpression)try{return(await e.parseWhereClause(E.definitionExpression,E.fieldsIndex)).hasDateFunctions}catch{}return!1};b.isLayerCacheStale=function(E){let F=E.sourceJSON?.cacheMaxAge;if(!F)return!1;E=E.editingInfo?.lastEditDate?.getTime();
if(null==E)return!0;F*=1E3;return Date.now()-E<F};b.queryAttachments=async function(E,F,H,R){F=u.from(F);await E.load();H=E.source;E=E.capabilities;if(!E?.data?.supportsAttachment)throw new n(R,"this layer doesn't support attachments");const {attachmentTypes:J,objectIds:K,globalIds:Q,num:N,size:U,start:Z,where:fa}=F;if(!E?.operations?.supportsQueryAttachments&&(0<J?.length||0<Q?.length||0<U?.length||N||Z||fa))throw new n(R,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",
F);if(!(K?.length||Q?.length||fa))throw new n(R,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",F);if(!H.queryAttachments)throw new n(R,"Layer source does not support queryAttachments capability",F);return H.queryAttachments(F)};b.queryExtent=async function(E,F,H,R){const J=await y(E);if(!J.queryExtent)throw new n(R,"Layer source does not support queryExtent capability");return J.queryExtent(w.from(F)??E.createQuery(),H)};b.queryFeatureCount=async function(E,F,H,R){const J=
await y(E);if(!J.queryFeatureCount)throw new n(R,"Layer source does not support queryFeatureCount capability");return J.queryFeatureCount(w.from(F)??E.createQuery(),H)};b.queryObjectIds=async function(E,F,H,R){const J=await y(E);if(!J.queryObjectIds)throw new n(R,"Layer source does not support queryObjectIds capability");return J.queryObjectIds(w.from(F)??E.createQuery(),H)};b.queryRelatedFeatures=async function(E,F,H,R){E=await y(E);if(!E.queryRelatedFeatures)throw new n(R,"Layer source does not support queryRelatedFeatures capability");
return E.queryRelatedFeatures(z.from(F),H)};b.queryRelatedFeaturesCount=async function(E,F,H,R){E=await y(E);if(!E.queryRelatedFeaturesCount)throw new n(R,"Layer source does not support queryRelatedFeaturesCount capability");return E.queryRelatedFeaturesCount(z.from(F),H)};b.readGlobalIdField=function(E){const {globalIdField:F,fields:H}=E;if(F)return F;if(H)for(const R of H)if("esriFieldTypeGlobalID"===R.type)return R.name};b.readObjectIdField=function(E){const {objectIdField:F,fields:H}=E;if(F)return F;
if(H)for(const R of H)if("esriFieldTypeOID"===R.type)return R.name};b.readVersion=function(E){return E.currentVersion?E.currentVersion:E.hasOwnProperty("capabilities")||E.hasOwnProperty("drawingInfo")||E.hasOwnProperty("hasAttachments")||E.hasOwnProperty("htmlPopupType")||E.hasOwnProperty("relationships")||E.hasOwnProperty("timeInfo")||E.hasOwnProperty("typeIdField")||E.hasOwnProperty("types")?10:9.3};b.supportsQueryOnly=L;b.updateAttachment=async function(E,F,H,R,J){const K=await y(E);await k(E,
F,J);if(!K.updateAttachment)throw new n(J,"Layer source does not support updateAttachment capability");return K.updateAttachment(F,H,R)};b.uploadAssets=async function(E,F,H){const {uploadAssets:R}=await new Promise((J,K)=>a(["../graphics/editingSupport"],J,K));E=await E.load();return R(E,E.source,F,H)};b.validateBinsQuery=function(E,F,H){F=F?.queryBins;if(!F)throw new n(H,"Layer source does not support binning");switch(E.binParameters.type){case "auto-interval":if(!F.supportsAutoInterval)throw new n(H,
"Layer source does not support auto-interval binning");break;case "date":if(!F.supportsDate)throw new n(H,"Layer source does not support date binning");break;case "fixed-boundaries":if(!F.supportsFixedBoundaries)throw new n(H,"Layer source does not support fixed-boundaries binning");break;case "fixed-interval":if(!F.supportsFixedInterval)throw new n(H,"Layer source does not support fixed-interval binning");}F=F?.supportedStatistics;if(E.outStatistics&&F){const R=new Map([["count","count"],["sum",
"sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const {statisticType:J}of E.outStatistics)if((E=R.get(J))&&!F[E])throw new n(H,`Layer source does not support ${J} statistic type`);}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureQueryAll":function(){define(["exports",
"../../rest/support/Query"],function(a,b){function c(n){return d(n)*h(n)}function h(n){return n.capabilities.query.maxRecordCount||2E3}function d(n){return n.capabilities.query.supportsMaxRecordCountFactor?b.MAX_MAX_RECORD_COUNT_FACTOR:1}a.getMaxRecordCountFactor=d;a.getMaximumQuerySize=c;a.getMaximumRecordCount=h;a.queryAllJSON=async function(n,m,e){m=m.clone();n.capabilities.query.supportsMaxRecordCountFactor&&(m.maxRecordCountFactor=d(n));const g=c(n),f=n.capabilities.query.supportsPagination;
m.start=0;m.num=g;let p=null;for(;;){const r=await n.source.queryFeaturesJSON(m,e);null==p?p=r:p.features=p.features.concat(r.features);p.exceededTransferLimit=r.exceededTransferLimit;if(!f||!r.exceededTransferLimit)break;m.start+=g}return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,c,h,d,n,m){var e;b=e=class extends b.JSONSupport{constructor(g){super(g);this.attachmentsWhere=this.attachmentTypes=null;this.cacheHint=void 0;this.objectIds=this.num=this.name=this.globalIds=this.keywords=null;this.returnMetadata=!1;this.where=this.start=this.size=null}writeStart(g,f){f.resultOffset=this.start;f.resultRecordCount=this.num||10}clone(){return new e(c.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,
where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};a.__decorate([h.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);a.__decorate([h.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);a.__decorate([h.property({type:Boolean,json:{write:!0}})],
b.prototype,"cacheHint",void 0);a.__decorate([h.property({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0);a.__decorate([h.property({type:[String],json:{write:!0}})],b.prototype,"globalIds",void 0);a.__decorate([h.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([h.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([h.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([h.property({type:Boolean,
json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);a.__decorate([h.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([h.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([m.writer("start"),m.writer("num")],b.prototype,"writeStart",null);a.__decorate([h.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=e=a.__decorate([n.subclass("esri.rest.support.AttachmentQuery")],
b);b.from=d.ensureType(b);return b})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,c,h,d,n,m,e,g,f){var p;b=p=class extends c.JSONSupport{constructor(r){super(r);
this.dynamicDataSource=this.cacheHint=void 0;this.gdbVersion=null;this.geometryPrecision=void 0;this.historicMoment=null;this.maxAllowableOffset=void 0;this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.num=this.start=this.relationshipId=void 0;this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.where=null}_writeHistoricMoment(r,t){t.historicMoment=r&&r.getTime()}writeStart(r,t){t.resultOffset=this.start;t.resultRecordCount=this.num||10;0<this.start&&null==
this.where&&(t.definitionExpression="1\x3d1")}clone(){return new p(h.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,
num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};a.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([d.property({type:g.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);a.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);a.__decorate([d.property({type:Date})],
b.prototype,"historicMoment",void 0);a.__decorate([e.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);a.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);a.__decorate([d.property({type:f,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([e.writer("start"),e.writer("num")],b.prototype,"writeStart",null);a.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([d.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(r){return{enabled:r}}}}})],b.prototype,"returnM",void 0);a.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(r){return{enabled:r}}}}})],b.prototype,"returnZ",void 0);a.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=p=a.__decorate([m.subclass("esri.rest.support.RelationshipQuery")],
b);b.from=n.ensureType(b);return b})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){b=class extends b.ClonableMixin(c.JSONSupport){constructor(f){super(f);this.units=this.shapeLengthField=this.shapeAreaField=null}};
a.__decorate([d.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);a.__decorate([d.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);a.__decorate([d.property({type:String,json:{read:f=>h.areaUnitsJSONMap.read(f)||h.lengthUnitsJSONMap.read(f)}})],b.prototype,"units",void 0);return b=a.__decorate([g.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){var g;c=g=class extends c.JSONSupport{constructor(f){super(f);this.floorField=null;this.viewAllMode=!1;this.viewAllLevelIds=new b}clone(){return new g({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};a.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"floorField",void 0);a.__decorate([h.property({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0);a.__decorate([h.property({json:{read:!1,write:!1}})],
c.prototype,"viewAllLevelIds",void 0);return c=g=a.__decorate([e.subclass("esri.layers.support.LayerFloorInfo")],c)})},"esri/layers/support/Relationship":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){n=new c.JSONMap({esriRelCardinalityOneToOne:"one-to-one",
esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});c=new c.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});b=class extends b.ClonableMixin(h.JSONSupport){constructor(f){super(f);this.role=this.relationshipTableId=this.relatedTableId=this.name=this.keyFieldInRelationshipTable=this.keyField=this.id=this.composite=this.cardinality=null}};a.__decorate([d.property({json:{read:n.read,write:n.write}})],b.prototype,"cardinality",void 0);a.__decorate([d.property({json:{read:!0,
write:!0}})],b.prototype,"composite",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0);a.__decorate([d.property({json:{read:!0,
write:!0}})],b.prototype,"relationshipTableId",void 0);a.__decorate([d.property({json:{read:c.read,write:c.write}})],b.prototype,"role",void 0);return b=a.__decorate([g.subclass("esri.layers.support.Relationship")],b)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","./arcgisLayerUrl","../../rest/support/jsonUtils"],function(a,b,c,h){function d(r){r=r?.supportedSpatialAggregationStatistics?.map(t=>t.toLowerCase());return{envelope:!!r?.includes("envelopeaggregate"),
centroid:!!r?.includes("centroidaggregate"),convexHull:!!r?.includes("convexhullaggregate")}}function n(r,t){return!!r?.supportedOperationsWithCacheHint?.map(l=>l.toLowerCase())?.includes(t.toLowerCase())}function m(r){r=r?.supportedStatisticTypes?.map(t=>t.toLowerCase());return{count:!!r?.includes("count"),sum:!!r?.includes("sum"),min:!!r?.includes("min"),max:!!r?.includes("max"),avg:!!r?.includes("avg"),var:!!r?.includes("var"),stddev:!!r?.includes("stddev"),percentileContinuous:!!r?.includes("percentile_continuous"),
percentileDiscrete:!!r?.includes("percentile_discrete"),envelope:!!r?.includes("envelopeaggregate"),centroid:!!r?.includes("centroidaggregate"),convexHull:!!r?.includes("convexhullaggregate")}}function e(r){const t=r.attachmentProperties,l={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:n(r.advancedQueryCapabilities,"queryAttachments"),supportsResize:h.readBoolean(r,"supportsAttachmentsResizing",!1)};t&&Array.isArray(t)&&t.forEach(q=>
{const x=p[q.name];x&&(l[x]=!!q.isEnabled)});return l}function g(r,t,l){r=r?r.toLowerCase().split(",").map(k=>k.trim()):[];l=l?c.parse(l):null;l=r.includes(null!=l&&"MapServer"===l.serverType?"data":"query");const q=r.includes("editing")&&!t.datesInUnknownTimezone;let x=q&&r.includes("create"),A=q&&r.includes("delete"),u=q&&r.includes("update");const w=r.includes("changetracking"),z=t.advancedQueryCapabilities;!q||x||A||u||(x=A=u=!0);return{supportsCalculate:h.readBoolean(t,"supportsCalculate",!1),
supportsTruncate:h.readBoolean(t,"supportsTruncate",!1),supportsValidateSql:h.readBoolean(t,"supportsValidateSql",!1),supportsAdd:x,supportsDelete:A,supportsEditing:q,supportsChangeTracking:w,supportsQuery:l,supportsQueryAnalytics:h.readBoolean(z,"supportsQueryAnalytic",!1),supportsQueryAttachments:h.readBoolean(z,"supportsQueryAttachments",!1),supportsQueryBins:h.readBoolean(z,"supportsQueryBins",!1),supportsQueryTopFeatures:h.readBoolean(z,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:h.readBoolean(t,
"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:h.readBoolean(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:h.readBoolean(t,"supportsAsyncConvert3D",!1)}}function f(r,t){const l=r.advancedQueryCapabilities,q=r.ownershipBasedAccessControlForFeatures,x=r.archivingInfo;var A=r.currentVersion;A=!t?.includes("MapServer")||A>=b("mapserver-pbf-version-support");t=c.isHostedAgolService(t);const u=new Set((r.supportedQueryFormats??
"").split(",").map(w=>w.toLowerCase().trim()));return{maxRecordCount:h.readNumber(r,"maxRecordCount",void 0),maxRecordCountFactor:h.readNumber(r,"maxRecordCountFactor",void 0),standardMaxRecordCount:h.readNumber(r,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:d(l),supportsCacheHint:h.readBoolean(l,"supportsQueryWithCacheHint",!1)||n(l,"query"),supportsCentroid:h.readBoolean(l,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:t,supportsDefaultSpatialReference:h.readBoolean(l,
"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:h.readBoolean(l,"supportsDisjointSpatialRel",!1),supportsDistance:h.readBoolean(l,"supportsQueryWithDistance",!1),supportsDistinct:h.readBoolean(l,"supportsDistinct",r.supportsAdvancedQueries),supportsExtent:h.readBoolean(l,"supportsReturningQueryExtent",!1),supportsFormatPBF:A&&u.has("pbf"),supportsFullTextSearch:h.readBoolean(l,"supportsFullTextSearch",!1),supportsGeometryProperties:h.readBoolean(l,"supportsReturningGeometryProperties",
!1),supportsHavingClause:h.readBoolean(l,"supportsHavingClause",!1),supportsHistoricMoment:h.readBoolean(x,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:h.readBoolean(l,"supportsMaxRecordCountFactor",!1),supportsOrderBy:h.readBoolean(l,"supportsOrderBy",r.supportsAdvancedQueries),supportsPagination:h.readBoolean(l,"supportsPagination",!1),supportsPercentileStatistics:h.readBoolean(l,"supportsPercentileStatistics",!1),supportsQuantization:h.readBoolean(r,"supportsCoordinatesQuantization",
!1),supportsQuantizationEditMode:h.readBoolean(r,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:h.readBoolean(q,"allowAnonymousToQuery",!0),supportsQueryByOthers:h.readBoolean(q,"allowOthersToQuery",!0),supportsQueryGeometry:h.readBoolean(r,"supportsReturningQueryGeometry",!1),supportsResultType:h.readBoolean(l,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:h.readBoolean(l,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:h.readBoolean(l,"supportsSqlExpression",
!1),supportsStandardizedQueriesOnly:h.readBoolean(r,"useStandardizedQueries",!1),supportsStatistics:h.readBoolean(l,"supportsStatistics",r.supportsStatistics),supportsTopFeaturesQuery:h.readBoolean(l,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:h.readNumber(r,"tileMaxRecordCount",void 0)}}const p={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(r,t){var l={supportsCacheHint:n(r.advancedQueryCapabilities,
"queryAnalytics")},q=e(r);var x={isVersioned:h.readBoolean(r,"isDataVersioned",!1),isBranchVersioned:h.readBoolean(r,"isDataBranchVersioned",!1),supportsAttachment:h.readBoolean(r,"hasAttachments",!1),supportsM:h.readBoolean(r,"hasM",!1),supportsZ:h.readBoolean(r,"hasZ",!1)};var A={supportsAdvancedFieldProperties:h.readBoolean(r,"supportsFieldDescriptionProperty",!1)},u=g(r.capabilities,r,t);t=f(r,t);var w=r?r.queryBinsCapabilities:void 0;w={supportsDate:h.readBoolean(w,"supportsDateBin",!1),supportsFixedInterval:h.readBoolean(w,
"supportsFixedIntervalBin",!1),supportsAutoInterval:h.readBoolean(w,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:h.readBoolean(w,"supportsFixedBoundariesBin",!1),supportedStatistics:m(w)};var z=r.advancedQueryCapabilities;var k=h.readBoolean(z,"supportsAdvancedQueryRelated",!1);z={supportsPagination:h.readBoolean(z,"supportsQueryRelatedPagination",!1),supportsCount:k,supportsOrderBy:k,supportsCacheHint:n(z,"queryRelated")};k={supportsCacheHint:n(r.advancedQueryCapabilities,"queryTopFilter")};
const v=r.ownershipBasedAccessControlForFeatures,y=r?r.advancedEditingCapabilities:void 0;r={supportsGeometryUpdate:h.readBoolean(r,"allowGeometryUpdates",!0),supportsGlobalId:h.readBoolean(r,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:h.readBoolean(r,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:h.readBoolean(r,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:h.readBoolean(r,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:h.readBoolean(r,
"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:h.readBoolean(v,"allowAnonymousToDelete",!0),supportsDeleteByOthers:h.readBoolean(v,"allowOthersToDelete",!0),supportsUpdateByAnonymous:h.readBoolean(v,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:h.readBoolean(v,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:h.readBoolean(y,"supportsAsyncApplyEdits",!1),zDefault:h.readNumber(r,"zDefault",void 0)};return{analytics:l,attachment:q,data:x,metadata:A,operations:u,query:t,queryBins:w,
queryRelated:z,queryTopFeatures:k,editing:r}};a.getVideoLayerCapabilities=function(r){return{operations:{supportsAppend:h.readBoolean(r,"supportsAppend",!1),supportsCoverageQuery:r?.playbackInfo?.klv["0601"]??!1,supportsExportClip:h.readBoolean(r,"supportsExportClip",!1),supportsExportFrameset:h.readBoolean(r,"supportsExportFrameset",!1),supportsMensuration:h.readBoolean(r,"supportsMensuration",!1),supportsUpdate:h.readBoolean(r,"supportsUpdate",!1)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/rest/support/jsonUtils":function(){define(["exports"],function(a){function b(c,h,d){return c&&c.hasOwnProperty(h)?c[h]:d}a.readBoolean=function(c,h,d){return!!b(c,h,d)};a.readNumber=function(c,h,d){return b(c,h,d)};a.readValue=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Subtype":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){b=class extends b.ClonableMixin(c.JSONSupport){constructor(r){super(r);this.code=null;this.defaultValues={};this.name=this.domains=null}readDomains(r){if(!r)return null;const t={};for(const l of Object.keys(r))t[l]=p.fromJSON(r[l]);return t}writeDomains(r,t){if(r){var l={};for(const q of Object.keys(r))r[q]&&(l[q]=r[q]?.toJSON());t.domains=l}}};a.__decorate([h.property({type:Number,json:{write:!0}})],b.prototype,"code",void 0);a.__decorate([h.property({type:Object,
json:{write:!0}})],b.prototype,"defaultValues",void 0);a.__decorate([h.property({json:{write:!0}})],b.prototype,"domains",void 0);a.__decorate([e.reader("domains")],b.prototype,"readDomains",null);a.__decorate([f.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);return b=a.__decorate([g.subclass("esri.layers.support.Subtype")],b)})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/tslib.es6 ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../core/Logger ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../renderers/visualVariables/SizeVariable ../../renderers/visualVariables/support/SizeStop ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v){a.FeatureReductionLayer=y=>{y=class extends y{constructor(...B){super(...B);this.addHandles(t.watch(()=>this.renderer,()=>{if(this.featureReduction){const C=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",C)}},t.sync))}set featureReduction(B){B=this._normalizeFeatureReduction(B);this._set("featureReduction",B)}set renderer(B){}_withClusterVariable(B,C,L){B=B.clone();"visualVariables"in B&&(B.visualVariables||
(B.visualVariables=[]),B.visualVariables.some(M=>"size"===M.type)||B.visualVariables.push(new z({field:"cluster_count",stops:[new k({value:1}),new k({useMinValue:!0,size:C}),new k({useMaxValue:!0,size:L})]})));return B}_normalizeFeatureReduction(B){if("cluster"!==B?.type)return B;const C=B.clone();var L=[new u({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})];const M=(C.fields??[]).filter(H=>!H.isAutoGenerated);var G=B.renderer&&!B.renderer.authoringInfo?.isAutoGenerated;
const {clusterMinSize:E,clusterMaxSize:F}=C;if(G)return C.fields=[...L,...M],L=this._withClusterVariable(C.renderer,E,F),C.effectiveFeatureRenderer=L,C.effectiveClusterRenderer=L,C;if(B.symbol){C.fields=[...L,...M];C.renderer=null;if(!this.renderer)return C.effectiveFeatureRenderer=null,C.effectiveClusterRenderer=null,C;G=v.createInferredClusterRenderer(L,this.renderer);G=this._withClusterVariable(G,E,F);B=new g({symbol:B.symbol,visualVariables:"visualVariables"in G&&G.visualVariables?G.visualVariables:
[]});C.fields=[...L,...M];C.effectiveFeatureRenderer=G;C.effectiveClusterRenderer=B;return C}if(!this.renderer)return B;B=v.createInferredClusterRenderer(L,this.renderer);C.fields=[...L,...M];C.renderer=B;L=this._withClusterVariable(B,E,F);C.effectiveFeatureRenderer=L;C.effectiveClusterRenderer=L;return C}};b.__decorate([l.property(w.featureReductionProperty)],y.prototype,"featureReduction",null);return y=b.__decorate([A.subclass("esri.layers.mixins.FeatureReductionLayer")],y)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,c,h,d,n,m,e){var g;b=g=class extends b.JSONSupport{constructor(f){super(f);this.isAutoGenerated=!1;this.statisticType=this.onStatisticExpression=this.onStatisticField=this.alias=
this.name=null}clone(){return new g({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:c.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"isAutoGenerated",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);
a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);a.__decorate([h.property({type:e,json:{write:!0}})],b.prototype,"onStatisticExpression",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);return b=g=a.__decorate([m.subclass("esri.layers.support.AggregateField")],b)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){b=class extends b.ClonableMixin(c.JSONSupport){constructor(g){super(g);this.returnType=this.title=this.expression=null}};a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"returnType",void 0);return b=a.__decorate([e.subclass("esri.layers.support.ExpressionInfo")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/accessorSupport/layerContainerType ./FeatureReduction ./FeatureReductionBinning ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,b,c,h,d,n){const m={key:"type",base:c.FeatureReduction,typeMap:{cluster:d,binning:h}};a.featureReductionProperty={types:{key:"type",base:c.FeatureReduction,typeMap:{selection:n,cluster:d,binning:h}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:m},"portal-item":{types:m},"web-scene":{types:{key:"type",base:c.FeatureReduction,typeMap:{selection:n}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:b.excludeTables}}}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){a.FeatureReduction=class extends c.JSONSupport{constructor(){super(...arguments);this.type=null}};b.__decorate([h.property({type:["selection","cluster","binning"],
readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([e.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L){var M;c=M=class extends C.FeatureReduction{constructor(G){super(G);this.type="binning";this.binType="geohash";this.labelingInfo=this.fixedBinLevel=null;this.labelsVisible=!0;this.maxScale=0;this.popupEnabled=!0;this.popupTemplate=null;this.size=q.toPt("12px");this.fields=[];this.renderer=null}writeFields(G,E,F){G=G.filter(H=>"avg_angle"!==H.statisticType).map(H=>H.toJSON());l.setDeepValue(F,G,E)}readRenderer(G,E,F){return(G=E.drawingInfo?.renderer)?
p.read(G,E,F)??void 0:B.createDefaultRenderer(E,F)}clone(){return new M({fields:t.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:t.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:t.clone(this.popupTemplate),renderer:t.clone(this.renderer),binType:t.clone(this.binType),size:this.size})}};a.__decorate([u.enumeration({binning:"binning"})],c.prototype,"type",void 0);a.__decorate([u.enumeration({geohash:"geohash",
square:"square"}),x.property({type:["geohash","square"]})],c.prototype,"binType",void 0);a.__decorate([x.property({type:Number,json:{write:!0}})],c.prototype,"fixedBinLevel",void 0);a.__decorate([x.property({type:[L],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0);a.__decorate([x.property(y.labelsVisible)],c.prototype,"labelsVisible",void 0);a.__decorate([x.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],
c.prototype,"maxScale",void 0);a.__decorate([x.property(y.popupEnabled)],c.prototype,"popupEnabled",void 0);a.__decorate([x.property({type:b,json:{name:"popupInfo",write:!0}})],c.prototype,"popupTemplate",void 0);a.__decorate([x.property({cast:G=>"auto"===G?G:A.ensureNumber(q.toPt(G))})],c.prototype,"size",void 0);a.__decorate([x.property({type:[v],json:{write:!0}})],c.prototype,"fields",void 0);a.__decorate([k.writer("fields")],c.prototype,"writeFields",null);a.__decorate([x.property({types:r.rendererTypes,
json:{write:{target:"drawingInfo.renderer"}}})],c.prototype,"renderer",void 0);a.__decorate([w.reader("renderer",["drawingInfo.renderer"])],c.prototype,"readRenderer",null);return c=M=a.__decorate([z.subclass("esri.layers.support.FeatureReductionBinning")],c)})},"esri/layers/support/LabelClass":function(){define("../../chunks/tslib.es6 ../../symbols ../../core/has ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A){function u(v,y,B){return{enabled:!q.isSceneServiceLayer(B?.layer)}}function w(v){return v?"service"===v.origin?!1:"map-image"!==v.layer?.type:!0}function z(v){return"map-image"===v?.type?!!v.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var k;c=new h.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});d=k=class extends d.JSONSupport{static evaluateWhere(v,y){const B=(C,L,M)=>{switch(L){case "\x3d":return C==M;case "\x3c\x3e":return C!=M;case "\x3e":return C>M;case "\x3e\x3d":return C>=M;case "\x3c":return C<M;case "\x3c\x3d":return C<=M}return!1};try{if(null==v)return!0;const C=v.split(" ");if(3===C.length)return B(y[C[0]],C[1],C[2]);if(7===C.length){const L=B(y[C[0]],C[1],C[2]),M=C[3],G=B(y[C[4]],C[5],C[6]);switch(M){case "AND":return L&&G;case "OR":return L||G}}return!1}catch(C){}}constructor(v){super(v);
this.type="label";this.name=null;this.allowOverrun=!1;this.deconflictionStrategy="static";this.labelPlacement=this.labelExpressionInfo=this.labelExpression=null;this.labelPosition="curved";this.minScale=this.maxScale=0;this.repeatLabel=!0;this.repeatLabelDistance=null;this.symbol=x.defaultTextSymbol2D;this.useCodedValues=void 0;this.where=null}readLabelExpression(v,y){y=y.labelExpressionInfo;if(!y||!y.value&&!y.expression)return v}writeLabelExpression(v,y,B){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)v=
l.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const C=l.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);C&&(v="["+C+"]")}null!=v&&(y[B]=v)}writeLabelExpressionInfo(v,y,B,C){if(null==v&&null!=this.labelExpression&&w(C))v=new t({expression:this.getLabelExpressionArcade()});else if(!v)return;v=v.toJSON(C);v.expression&&(y[B]=v)}writeMaxScale(v,y){if(v||this.minScale)y.maxScale=v}writeMinScale(v,y){if(v||this.maxScale)y.minScale=
v}getLabelExpression(){return l.getLabelExpression(this)}getLabelExpressionArcade(){return l.getLabelExpressionArcade(this)}getLabelExpressionSingleField(){return l.getLabelExpressionSingleField(this)}hash(){return JSON.stringify(this)}clone(){return new k({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:n.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,
minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:n.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"name",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:u}}}}})],d.prototype,"allowOverrun",void 0);a.__decorate([e.property({type:String,
json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:u}}}}})],d.prototype,"deconflictionStrategy",void 0);a.__decorate([e.property({type:String,json:{write:{overridePolicy(v,y,B){return this.labelExpressionInfo&&"service"===B?.origin&&z(B.layer)?{enabled:!1}:{allowNull:!0}}}}})],d.prototype,"labelExpression",void 0);a.__decorate([f.reader("labelExpression")],d.prototype,"readLabelExpression",null);a.__decorate([r.writer("labelExpression")],
d.prototype,"writeLabelExpression",null);a.__decorate([e.property({type:t,json:{write:{overridePolicy(v,y,B){return w(B)||z(B?.layer)?{allowNull:!0}:{enabled:!1}}}}})],d.prototype,"labelExpressionInfo",void 0);a.__decorate([r.writer("labelExpressionInfo")],d.prototype,"writeLabelExpressionInfo",null);a.__decorate([e.property({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],d.prototype,"labelPlacement",void 0);a.__decorate([e.property({type:["curved","parallel"],json:{write:!0,
origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],d.prototype,"labelPosition",void 0);a.__decorate([e.property({type:Number})],d.prototype,"maxScale",void 0);a.__decorate([r.writer("maxScale")],d.prototype,"writeMaxScale",null);a.__decorate([e.property({type:Number})],d.prototype,"minScale",void 0);a.__decorate([r.writer("minScale")],d.prototype,"writeMinScale",null);a.__decorate([e.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],
d.prototype,"repeatLabel",void 0);a.__decorate([e.property({type:Number,cast:m.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:u}}}}})],d.prototype,"repeatLabelDistance",void 0);a.__decorate([e.property({types:b.symbolTypesLabel,json:{origins:{"web-scene":{types:b.symbolTypesLabel3D,write:A.writeLabelSymbol,default:null}},write:A.writeLabelSymbol,default:null}})],d.prototype,"symbol",void 0);a.__decorate([e.property({type:Boolean,json:{write:!0}})],d.prototype,
"useCodedValues",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],d.prototype,"where",void 0);return d=k=a.__decorate([p.subclass("esri.layers.support.LabelClass")],d)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f){var p;b=p=class extends b.JSONSupport{constructor(){super(...arguments);this.value=this.title=this.expression=null}readExpression(r,t){return t.value?f.convertTemplatedStringToArcade(t.value):r}writeExpression(r,t,l){null!=this.value&&(r=f.convertTemplatedStringToArcade(this.value));null!=r&&(t[l]=r)}clone(){return new p({expression:this.expression,title:this.title,value:this.value})}};a.__decorate([c.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,
"expression",void 0);a.__decorate([m.reader("expression",["expression","value"])],b.prototype,"readExpression",null);a.__decorate([g.writer("expression")],b.prototype,"writeExpression",null);a.__decorate([c.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);a.__decorate([c.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=p=a.__decorate([e.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/layers/support/labelUtils":function(){define(["exports",
"../../core/string"],function(a,b){function c(x){return x.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function h(x){const A={expression:"",type:"none"};x.labelExpressionInfo?x.labelExpressionInfo.value?(A.expression=x.labelExpressionInfo.value,A.type="conventional"):x.labelExpressionInfo.expression&&(A.expression=x.labelExpressionInfo.expression,A.type="arcade"):null!=x.labelExpression&&(A.expression=c(x.labelExpression),A.type="conventional");return A}function d(x){x?(x=b.replace(x,
A=>'__begin__$feature["'+A+'"]__end__'),x=f.test(x)?x.replace(f,""):'"'+x,x=p.test(x)?x.replace(p,""):x+'"',x=x.replaceAll(e,'" + ').replaceAll(g,' + "')):x='""';return x}function n(x){return x?.match(r)?.[1].trim()||null}function m(x){if(!x)return null;let A=t.exec(x)||l.exec(x);return A?A[1]||A[3]:(A=q.exec(x))?A[2]:null}const e=RegExp("__begin__","ig"),g=RegExp("__end__","ig"),f=RegExp("^__begin__","i"),p=RegExp("__end__$","i"),r=/^\s*\{([^}]+)\}\s*$/i,t=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,
l=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,q=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=d;a.getLabelExpression=h;a.getLabelExpressionArcade=function(x){x=h(x);if(!x)return null;switch(x.type){case "conventional":return d(x.expression);case "arcade":return x.expression}return null};a.getLabelExpressionSingleField=function(x){x=h(x);if(!x)return null;switch(x.type){case "conventional":return n(x.expression);
case "arcade":return m(x.expression)}return null};a.getSingleFieldArcadeExpression=m;a.getSingleFieldTemplatedString=n;a.sqlToTemplateString=c;a.templateStringToSql=function(x){return x.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L){var M;c=M=class extends l.JSONSupport{constructor(G){super(G);this.type="cluster";this.clusterRadius=A.toPt("80px");this.clusterMinSize=A.toPt("12px");this.clusterMaxSize=A.toPt("50px");this.maxScale=0;this.popupEnabled=!0;this.labelingInfo=this.symbol=this.renderer=this.popupTemplate=null;this.labelsVisible=!0;this.fields=[]}readRenderer(G,E,F){G=E.drawingInfo?.renderer;return G?.authoringInfo?.isAutoGenerated?null:G?"simple"!==G.type||
G.visualVariables?.length?p.read(G,E,F)??void 0:null:C.createDefaultRenderer(E,F)}readSymbol(G,E,F){G=E.drawingInfo?.renderer;return G?.authoringInfo?.isAutoGenerated?null:G&&"simple"===G.type&&!G.visualVariables?.length?p.read(G,E,F)?.symbol:null}writeSymbol(G,E,F,H){F=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||F)G=new g({symbol:G}),E.drawingInfo={renderer:G.write({},H)}}writeFields(G,E,F){G=G.filter(H=>"avg_angle"!==H.statisticType).map(H=>H.toJSON());x.setDeepValue(F,G,E)}readFields(G,
E,F){return G.filter(H=>!H.isAutoGenerated).map(H=>y.fromJSON(H))}clone(){return new M({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:q.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:q.clone(this.fields),maxScale:this.maxScale,renderer:q.clone(this.renderer),symbol:q.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:q.clone(this.popupTemplate)})}};a.__decorate([u.property({type:["cluster"],readOnly:!0,
json:{write:!0}})],c.prototype,"type",void 0);a.__decorate([u.property({cast:G=>"auto"===G?G:w.ensureNumber(A.toPt(G)),json:{write:!0}})],c.prototype,"clusterRadius",void 0);a.__decorate([u.property({type:Number,cast:A.toPt,json:{write:!0}})],c.prototype,"clusterMinSize",void 0);a.__decorate([u.property({type:Number,cast:A.toPt,json:{write:!0}})],c.prototype,"clusterMaxSize",void 0);a.__decorate([u.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],c.prototype,"maxScale",void 0);
a.__decorate([u.property(B.popupEnabled)],c.prototype,"popupEnabled",void 0);a.__decorate([u.property({type:b,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],c.prototype,"popupTemplate",void 0);a.__decorate([u.property({types:r.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],c.prototype,"renderer",void 0);a.__decorate([z.reader("renderer",["drawingInfo.renderer"])],c.prototype,"readRenderer",null);a.__decorate([u.property({types:t.symbolTypesCluster})],c.prototype,"symbol",
void 0);a.__decorate([z.reader("symbol",["drawingInfo.renderer"])],c.prototype,"readSymbol",null);a.__decorate([v.writer("symbol")],c.prototype,"writeSymbol",null);a.__decorate([u.property({type:[L],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0);a.__decorate([u.property(B.labelsVisible)],c.prototype,"labelsVisible",void 0);a.__decorate([u.property({type:[y],json:{write:!0}})],c.prototype,"fields",void 0);a.__decorate([v.writer("fields")],
c.prototype,"writeFields",null);a.__decorate([z.reader("fields")],c.prototype,"readFields",null);return c=M=a.__decorate([k.subclass("esri.layers.support.FeatureReductionCluster")],c)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,c,h,d,n,m){var e;c=e=class extends m.FeatureReduction{constructor(g){super(g);
this.type="selection"}clone(){return new e}};a.__decorate([b.property({type:["selection"]})],c.prototype,"type",void 0);return c=e=a.__decorate([n.subclass("esri.layers.support.FeatureReductionSelection")],c)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../renderers/ClassBreaksRenderer ../../../../renderers/DictionaryRenderer ../../../../renderers/DotDensityRenderer ../../../../renderers/HeatmapRenderer ../../../../renderers/PieChartRenderer ../../../../renderers/Renderer ../../../../renderers/SimpleRenderer ../../../../renderers/UniqueValueRenderer ../../../../renderers/support/jsonUtils ../../../../core/Logger ../../../../symbols ../../../../core/Error ../../../../core/has ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo ../../../../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w){function z(L,M,G){switch(L){case "sum":return`cluster_sum_${M}`;case "avg":case "avg_angle":return`cluster_avg_${M}`;case "mode":return`cluster_type_${M}`;case "avg_norm":return L=M.toLowerCase()+",norm:field,"+G.toLowerCase(),"cluster_avg_"+q.createMD5Hash(L)}}function k(L,M,G,E){const F=q.createMD5Hash(M),H="mode"===G?`cluster_type_${F}`:"sum"===G?`cluster_sum_${F}`:`cluster_avg_${F}`;L.some(R=>R.name===H)||L.push(new x({name:H,isAutoGenerated:!0,
onStatisticExpression:new A({expression:M,returnType:E}),statisticType:G}));return H}function v(L,M,G,E,F){if("cluster_count"===M||L.some(R=>R.name===M))return M;const H=z(G,M,F);L.some(R=>R.name===H)||("avg_norm"===G?L.push(new x({name:H,isAutoGenerated:!0,onStatisticExpression:new A({expression:`$feature.${M} / $feature.${F}`,returnType:E}),statisticType:"avg"})):L.push(new x({name:H,isAutoGenerated:!0,onStatisticField:M,statisticType:G})));return H}l.add("esri-cluster-arcade-enabled",!0);const y=
l("esri-cluster-arcade-enabled"),B=new Set(["simple-line","simple-fill","picture-fill"]),C=L=>{const M=G=>p.getLogger("esri.views.2d.layers.support.clusterUtils").error(new t("Unsupported-renderer",G,{renderer:L}));if(!L)return!1;switch(L.type){case "unique-value":if(L.field2||L.field3)return M("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case "class-breaks":if(L.normalizationField){const G=L.normalizationType;if("field"!==G)return M(`FeatureReductionCluster does not support a normalizationType of ${G}`),
!1}break;case "simple":case "pie-chart":break;default:return M(`FeatureReductionCluster does not support renderers of type ${L.type}`),!1}if(!y){if("valueExpression"in L&&L.valueExpression)return M("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in L&&L.visualVariables||[]).some(G=>!!("valueExpression"in G&&G.valueExpression)))return M("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),
!1}return!0};a.createInferredClusterRenderer=function(L,M){let G=M.clone();if(!C(G))return G;M.getSymbols().some(E=>B.has(E.type))&&(G=new e({symbol:new w}));G.authoringInfo||(G.authoringInfo=new u);G.authoringInfo.isAutoGenerated=!0;"visualVariables"in G&&(M=(G.visualVariables||[]).filter(E=>"$view.scale"!==E.valueExpression),M.forEach(E=>{"rotation"===E.type?E.field?E.field=v(L,E.field,"avg_angle","number"):E.valueExpression&&(E.field=k(L,E.valueExpression,"avg_angle","number"),E.valueExpression=
null):E.normalizationField?(E.field=v(L,E.field,"avg_norm","number",E.normalizationField),E.normalizationField=null):E.field?E.field=v(L,E.field,"avg","number"):E.valueExpression&&(E.field=k(L,E.valueExpression,"avg","number"),E.valueExpression=null)}),G.visualVariables=M);switch(G.type){case "pie-chart":for(const E of G.attributes)E.field?E.field=v(L,E.field,"sum","number"):E.valueExpression&&(E.field=k(L,E.valueExpression,"sum","number"),E.valueExpression=null);break;case "unique-value":G.field?
G.field=v(L,G.field,"mode","string"):G.valueExpression&&(G.field=k(L,G.valueExpression,"mode","string"),G.valueExpression=null);break;case "class-breaks":G.normalizationField?(G.field=v(L,G.field,"avg_norm","number",G.normalizationField),G.normalizationField=null):G.field?G.field=v(L,G.field,"avg","number"):G.valueExpression&&(G.field=k(L,G.valueExpression,"avg","number"),G.valueExpression=null)}return G};a.findSizeVV=L=>L?.find(({type:M})=>"size"===M)??null;a.hasClusterCountVV=L=>!!L?.some(({field:M})=>
"cluster_count"===M);a.isClusterCompatibleRenderer=C;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(e,g){const f=(e&65535)+(g&65535);return(e>>16)+(g>>16)+(f>>16)<<16|f&65535}function c(e,g,f,p,r,t){e=b(b(g,e),b(p,t));return b(e<<r|e>>>32-r,f)}function h(e,g,f,p,r,t,l){return c(g&f|~g&p,e,g,r,t,l)}function d(e,g,f,p,r,t,l){return c(g&p|f&~p,e,g,r,t,l)}function n(e,g,f,p,r,t,l){return c(f^(g|~p),e,g,r,t,l)}const m=
{Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(e,g=m.Hex){g=g||m.Base64;var f=[];for(let l=0,q=8*e.length;l<q;l+=8)f[l>>5]|=(e.charCodeAt(l/8)&255)<<l%32;e=8*e.length;f[e>>5]|=128<<e%32;f[(e+64>>>9<<4)+14]=e;e=1732584193;var p=-271733879;let r=-1732584194,t=271733878;for(let l=0;l<f.length;l+=16){const q=e,x=p,A=r,u=t;e=h(e,p,r,t,f[l],7,-680876936);t=h(t,e,p,r,f[l+1],12,-389564586);r=h(r,t,e,p,f[l+2],17,606105819);p=h(p,r,t,e,f[l+3],22,-1044525330);e=h(e,p,r,t,f[l+4],7,-176418897);t=h(t,
e,p,r,f[l+5],12,1200080426);r=h(r,t,e,p,f[l+6],17,-1473231341);p=h(p,r,t,e,f[l+7],22,-45705983);e=h(e,p,r,t,f[l+8],7,1770035416);t=h(t,e,p,r,f[l+9],12,-1958414417);r=h(r,t,e,p,f[l+10],17,-42063);p=h(p,r,t,e,f[l+11],22,-1990404162);e=h(e,p,r,t,f[l+12],7,1804603682);t=h(t,e,p,r,f[l+13],12,-40341101);r=h(r,t,e,p,f[l+14],17,-1502002290);p=h(p,r,t,e,f[l+15],22,1236535329);e=d(e,p,r,t,f[l+1],5,-165796510);t=d(t,e,p,r,f[l+6],9,-1069501632);r=d(r,t,e,p,f[l+11],14,643717713);p=d(p,r,t,e,f[l],20,-373897302);
e=d(e,p,r,t,f[l+5],5,-701558691);t=d(t,e,p,r,f[l+10],9,38016083);r=d(r,t,e,p,f[l+15],14,-660478335);p=d(p,r,t,e,f[l+4],20,-405537848);e=d(e,p,r,t,f[l+9],5,568446438);t=d(t,e,p,r,f[l+14],9,-1019803690);r=d(r,t,e,p,f[l+3],14,-187363961);p=d(p,r,t,e,f[l+8],20,1163531501);e=d(e,p,r,t,f[l+13],5,-1444681467);t=d(t,e,p,r,f[l+2],9,-51403784);r=d(r,t,e,p,f[l+7],14,1735328473);p=d(p,r,t,e,f[l+12],20,-1926607734);e=c(p^r^t,e,p,f[l+5],4,-378558);t=c(e^p^r,t,e,f[l+8],11,-2022574463);r=c(t^e^p,r,t,f[l+11],16,1839030562);
p=c(r^t^e,p,r,f[l+14],23,-35309556);e=c(p^r^t,e,p,f[l+1],4,-1530992060);t=c(e^p^r,t,e,f[l+4],11,1272893353);r=c(t^e^p,r,t,f[l+7],16,-155497632);p=c(r^t^e,p,r,f[l+10],23,-1094730640);e=c(p^r^t,e,p,f[l+13],4,681279174);t=c(e^p^r,t,e,f[l],11,-358537222);r=c(t^e^p,r,t,f[l+3],16,-722521979);p=c(r^t^e,p,r,f[l+6],23,76029189);e=c(p^r^t,e,p,f[l+9],4,-640364487);t=c(e^p^r,t,e,f[l+12],11,-421815835);r=c(t^e^p,r,t,f[l+15],16,530742520);p=c(r^t^e,p,r,f[l+2],23,-995338651);e=n(e,p,r,t,f[l],6,-198630844);t=n(t,
e,p,r,f[l+7],10,1126891415);r=n(r,t,e,p,f[l+14],15,-1416354905);p=n(p,r,t,e,f[l+5],21,-57434055);e=n(e,p,r,t,f[l+12],6,1700485571);t=n(t,e,p,r,f[l+3],10,-1894986606);r=n(r,t,e,p,f[l+10],15,-1051523);p=n(p,r,t,e,f[l+1],21,-2054922799);e=n(e,p,r,t,f[l+8],6,1873313359);t=n(t,e,p,r,f[l+15],10,-30611744);r=n(r,t,e,p,f[l+6],15,-1560198380);p=n(p,r,t,e,f[l+13],21,1309151649);e=n(e,p,r,t,f[l+4],6,-145523070);t=n(t,e,p,r,f[l+11],10,-1120210379);r=n(r,t,e,p,f[l+2],15,718787259);p=n(p,r,t,e,f[l+9],21,-343485551);
e=b(e,q);p=b(p,x);r=b(r,A);t=b(t,u)}f=[e,p,r,t];switch(g){case m.Raw:return f;case m.Hex:g=[];for(let l=0,q=4*f.length;l<q;l++)g.push("0123456789abcdef".charAt(f[l>>2]>>l%4*8+4&15)+"0123456789abcdef".charAt(f[l>>2]>>l%4*8&15));return g.join("");case m.String:g=[];for(let l=0,q=32*f.length;l<q;l+=8)g.push(String.fromCharCode(f[l>>5]>>>l%32&255));return g.join("");case m.Base64:g=[];for(let l=0,q=4*f.length;l<q;l+=3)for(e=(f[l>>2]>>l%4*8&255)<<16|(f[l+1>>2]>>(l+1)%4*8&255)<<8|f[l+2>>2]>>(l+2)%4*8&255,
p=0;4>p;p++)8*l+6*p>32*f.length?g.push("\x3d"):g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-p)&63));return g.join("")}};a.outputTypes=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,c,h,d,n,m,e,g){const f={type:[g],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:function(p,r,t){if(!p)return null;p=p.find(l=>!!l.field);if(!p)return null;r=new g;r.read(p,t);return[r]}},write:{writer:function(p,r,t,l){(p=p.find(q=>!!q.field))&&c.setDeepValue(t,[p.toJSON()],r)}}}};a.OrderedLayer=p=>{p=class extends p{constructor(){super(...arguments);this.orderBy=null}};b.__decorate([h.property(f)],p.prototype,"orderBy",void 0);return p=b.__decorate([e.subclass("esri.layers.mixins.OrderedLayer")],
p)};a.orderByProperty=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e){var g;b=new b.JSONMap({asc:"ascending",desc:"descending"});c=g=class extends c.JSONSupport{constructor(f){super(f);
this.valueExpression=this.field=null;this.order="ascending"}clone(){return new g({field:this.field,valueExpression:this.valueExpression,order:this.order})}};a.__decorate([h.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([h.property({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"valueExpression",void 0);a.__decorate([h.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],c.prototype,"order",void 0);
return c=g=a.__decorate([e.subclass("esri.layers.support.OrderByInfo")],c)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(a,b,c,h,d,n,m,e){const g=Symbol();a.PublishableLayer=f=>{f=class extends f{constructor(){super(...arguments);this[p]=!0}get publishingInfo(){if(this.destroyed)return null;
var r=this._get("publishingInfo");if(r)return r;r=new e;this._checkPublishingStatus(r);return r}_checkPublishingStatus(r){let t=0;const l=async x=>{r.updating=!0;let A;try{A=await this.fetchPublishingStatus()}catch(u){A="unavailable"}if("published"===A||"unavailable"===A)"publishing"===r.status&&this.refresh(),q.remove();r.status=A;r.updating=!1;q.removed||(t=setTimeout(l,x,x+125))},q={removed:!1,remove(){this.removed=!0;clearTimeout(t)}};this.when().catch(()=>q.remove());l(250);this.addHandles(q)}};
var p=g;b.__decorate([c.property({readOnly:!0,clonable:!1})],f.prototype,"publishingInfo",null);return f=b.__decorate([m.subclass("esri.layers.mixins.PublishableLayer")],f)};a.isPublishableLayer=function(f){return null!=f&&"object"===typeof f&&g in f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b{constructor(){super(...arguments);this.updating=!1;this.status="unknown"}};a.__decorate([c.property()],b.prototype,"updating",void 0);a.__decorate([c.property()],b.prototype,"status",void 0);return b=a.__decorate([m.subclass("esri.layers.support.PublishingInfo")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary ../../time/TimeExtent ../../time/TimeInterval".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){const q={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:g.excludeTables}}};a.TemporalLayer=x=>{x=class extends x{constructor(){super(...arguments);this.timeOffset=this.timeExtent=null;this.useViewTime=!0}readOffset(A,u){u=u.timeInfo.exportOptions;if(!u)return null;A=u.timeOffset;u=r.timeUnitKebabDictionary.fromJSON(u.timeOffsetUnits);return A&&u?new l({value:A,unit:u}):null}set timeInfo(A){f.fixTimeInfoFields(A,
this.fieldsIndex);this._set("timeInfo",A)}};b.__decorate([c.property({type:t,json:{write:!1}})],x.prototype,"timeExtent",void 0);b.__decorate([c.property({type:l})],x.prototype,"timeOffset",void 0);b.__decorate([m.reader("service","timeOffset",["timeInfo.exportOptions"])],x.prototype,"readOffset",null);b.__decorate([c.property({value:null,type:p,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],x.prototype,"timeInfo",null);b.__decorate([c.property(q)],
x.prototype,"useViewTime",void 0);return x=b.__decorate([e.subclass("esri.layers.mixins.TemporalLayer")],x)};a.useViewTimeProperty=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/TimeExtent ../../time/TimeInterval ../../time/timeZoneUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t){b=class extends b.ClonableMixin(c.JSONSupport){constructor(l){super(l);this.cumulative=!1;this.fullTimeExtent=this.endField=null;this.hasLiveData=!1;this.trackIdField=this.timeZone=this.startField=this.interval=null;this.useTime=!0;this.stops=null}readFullTimeExtent(l,q){return q.timeExtent&&Array.isArray(q.timeExtent)&&2===q.timeExtent.length?p.fromArray(q.timeExtent):null}writeFullTimeExtent(l,q){q.timeExtent=null!=l?.start&&null!=l.end?l.toArray():null}readInterval(l,
q){return q.timeInterval&&q.timeIntervalUnits?r.fromJSON({value:q.timeInterval,unit:q.timeIntervalUnits}):q.defaultTimeInterval&&q.defaultTimeIntervalUnits?r.fromJSON({value:q.defaultTimeInterval,unit:q.defaultTimeIntervalUnits}):null}writeInterval(l,q){q.timeInterval=l?.toJSON().value??null;q.timeIntervalUnits=l?.toJSON().unit??null}};a.__decorate([h.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],b.prototype,"cumulative",void 0);a.__decorate([h.property({type:String,
json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],b.prototype,"endField",void 0);a.__decorate([h.property({type:p,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"fullTimeExtent",void 0);a.__decorate([e.reader("fullTimeExtent",["timeExtent"])],b.prototype,"readFullTimeExtent",null);a.__decorate([f.writer("fullTimeExtent")],b.prototype,"writeFullTimeExtent",null);a.__decorate([h.property({type:Boolean,json:{write:!0}})],b.prototype,"hasLiveData",void 0);a.__decorate([h.property({type:r,
json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"interval",void 0);a.__decorate([e.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],b.prototype,"readInterval",null);a.__decorate([f.writer("interval")],b.prototype,"writeInterval",null);a.__decorate([h.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],b.prototype,"startField",void 0);a.__decorate([h.property(t.timeZoneProperty("timeReference",!0))],b.prototype,
"timeZone",void 0);a.__decorate([h.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"trackIdField",void 0);a.__decorate([h.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],b.prototype,"useTime",void 0);a.__decorate([h.property({type:[Date],json:{read:!1}})],b.prototype,"stops",void 0);return b=a.__decorate([g.subclass("esri.layers.support.TimeInfo")],b)})},"esri/time/TimeInterval":function(){define("../chunks/tslib.es6 ../core/Clonable ../core/JSONSupport ../core/timeUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/timeUnitKebabDictionary".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){b=class extends b.ClonableMixin(c.JSONSupport){constructor(r){super(r);this.unit="milliseconds";this.value=0}toMilliseconds(){return h.convertTime(this.value,this.unit,"milliseconds")}};a.__decorate([g.enumeration(p.timeUnitKebabDictionary,{nonNullable:!0})],b.prototype,"unit",void 0);a.__decorate([d.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);return b=a.__decorate([f.subclass("esri.time.TimeInterval")],b)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports",
"../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){c=new c.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=class extends b.ClonableMixin(h.JSONSupport){constructor(f){super(f);this.thumbnail=this.prototype=this.drawingTool=this.description=this.name=null}};a.__decorate([d.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([d.property({json:{read:c.read,write:c.write}})],b.prototype,
"drawingTool",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"prototype",void 0);a.__decorate([d.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);return b=a.__decorate([g.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r){b=class extends b.ClonableMixin(c.JSONSupport){constructor(t){super(t);this.templates=this.domains=this.name=this.id=null}readDomains(t){const l={};for(const q of Object.keys(t))l[q]=p.fromJSON(t[q]);return l}writeDomains(t,l){const q={};for(const x of Object.keys(t))t[x]&&(q[x]=t[x]?.toJSON());l.domains=q}};a.__decorate([h.property({json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([h.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([h.property({json:{write:!0}})],
b.prototype,"domains",void 0);a.__decorate([e.reader("domains")],b.prototype,"readDomains",null);a.__decorate([f.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([h.property({type:[r],json:{write:!0}})],b.prototype,"templates",void 0);return b=a.__decorate([g.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define("exports ../../core/has ../../core/Logger ./Field ./FieldsIndex ./fieldUtils".split(" "),function(a,b,c,h,d,n){a.defineFieldProperties=
function(){return{fields:{type:[h],value:null,set:function(m){if(m&&b("big-integer-warning-enabled")){var e=m.filter(g=>"big-integer"===g.type||"oid"===g.type&&8<=(g.length||0));e.length&&(e=e.map(g=>`'${g.name}'`).join(", "),c.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`))}this._set("fields",
m)}},fieldsIndex:{readOnly:!0,get(){return d.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(m){this._userOutFields=m;this.notifyChange("outFields")},get:function(){const m=this._userOutFields;if(!m?.length)return null;if(m.includes("*"))return["*"];if(!this.fields)return m;for(const e of m)this.fieldsIndex?.has(e)||c.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:m});
return n.fixFields(this.fieldsIndex,m)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/Logger","./LabelClass"],function(a,b,c,h){const d=()=>c.getLogger("esri.layers.support.labelingInfo"),n=/\[([^[\]]+)\]/gi,m={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryMultiPatch:["always-horizontal"],
esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};a.reader=function(e,g,f){return e?e.map(p=>{const r=new h;r.read(p,f);if(r.labelExpression){const t=g.fields||g.layerDefinition?.fields||this.fields;r.labelExpression=r.labelExpression.replaceAll(n,(l,q)=>{a:if(t){l=q.toLowerCase();for(let x=0;x<t.length;x++){const A=t[x].name;if(A.toLowerCase()===l){q=A;break a}}}return`[${q}]`})}return r}):
null};a.validateLabelingInfo=function(e,g){const f=[];for(const r of e){e=r.labelPlacement;var p=m[g];if(!r.symbol)return d().warn("No ILabelClass symbol specified."),[];if(!p)return d().error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${g}' is not supported`)),[];p.includes(e)?f.push(r):(p=p[0],e&&d().warn(`Found invalid label placement type ${e} for ${g}. Defaulting to ${p}`),e=r.clone(),e.labelPlacement=p,f.push(e))}return f};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports","./arcgisLayerUrl"],function(a,b){const c=[];c.push([10.91,()=>{const h=new Set([9709,9716,9741,9761,9766]);for(var d=9712;9713>=d;d++)h.add(d);for(d=9748;9749>=d;d++)h.add(d);for(d=20904;20932>=d;d++)h.add(d);for(d=21004;21032>=d;d++)h.add(d);for(d=21207;21264>=d;d++)h.add(d);for(d=21307;21364>=d;d++)h.add(d);for(d=23301;23333>=d;d++)h.add(d);for(d=102759;102760>=d;d++)h.add(d);for(d=102934;102955>=
d;d++)h.add(d);return h}]);c.push([10.9,()=>{const h=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(var d=9356;9360>=d;d++)h.add(d);for(d=9404;9407>=d;d++)h.add(d);for(d=9476;9482>=d;d++)h.add(d);for(d=9487;9494>=d;d++)h.add(d);for(d=9697;9699>=d;d++)h.add(d);return h}]);c.push([10.81,()=>{const h=new Set([9265,9333,103598,103699]);for(var d=9248;9254>=d;d++)h.add(d);for(d=9271;9273>=d;d++)h.add(d);for(d=9284;9285>=d;d++)h.add(d);for(d=21453;21463>=
d;d++)h.add(d);return h}]);c.push([10.8,()=>{const h=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var d=8035;8036>=d;d++)h.add(d);for(d=8455;8456>=d;d++)h.add(d);for(d=8518;8529>=d;d++)h.add(d);for(d=8533;8536>=d;d++)h.add(d);for(d=8538;8540>=d;d++)h.add(d);for(d=8677;8679>=d;d++)h.add(d);for(d=8902;8903>=d;d++)h.add(d);for(d=8907;8910>=d;d++)h.add(d);for(d=8949;8951>=d;d++)h.add(d);for(d=8972;8987>=d;d++)h.add(d);for(d=9039;9040>=d;d++)h.add(d);for(d=
9068;9069>=d;d++)h.add(d);for(d=9140;9141>=d;d++)h.add(d);for(d=9148;9150>=d;d++)h.add(d);for(d=9153;9159>=d;d++)h.add(d);for(d=9205;9218>=d;d++)h.add(d);for(d=9221;9222>=d;d++)h.add(d);for(d=54098;54101>=d;d++)h.add(d);return h}]);c.push([10.71,()=>{const h=new Set([6316]);for(var d=8351;8353>=d;d++)h.add(d);for(d=9294;9297>=d;d++)h.add(d);for(d=22619;22621>=d;d++)h.add(d);for(d=103586;103594>=d;d++)h.add(d);return h}]);a.serviceSupportsSpatialReference=function(h,d){if(b.isHostedAgolService(h.url??
""))return!0;({wkid:d}=d);for(const n of c){if((h.version??0)>=n[0])break;"function"===typeof n[1]&&(n[1]=n[1]());if(n[1].has(d))return!1}return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/content/UtilityNetworkAssociationsContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){function q({fields:y,ignoreFieldTypes:B,sortDisabled:C}){const L=y;B&&(y=y.filter(M=>!B.includes(M.type)));y===L&&(y=y.slice());!0!==C&&y.sort(x);return y}function x(y,B){return"oid"===y.type?-1:"oid"===B.type?1:k(y)?-1:k(B)?1:(y.alias||y.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function A(y,B){const C=B?.visibleFieldNames;return q({fields:y.fields??[],ignoreFieldTypes:B?.ignoreFieldTypes||v,sortDisabled:B?.sortDisabled}).map(L=>
{var M=L.name,G=c.isFieldEditable(L,y),E=L.alias,F=z(L),H={...y,visibleFieldNames:C};L=H.visibleFieldNames?H.visibleFieldNames.has(L.name):c.isFieldVisibleByDefault(L,H);return new t({fieldName:M,isEditable:G,label:E,format:F,visible:L})})}function u(y,B){return y.map(C=>new t({fieldName:C.name,isEditable:!1,label:C.alias,format:w(C,B),visible:!0}))}function w(y,B){const {onStatisticField:C,onStatisticExpression:L,statisticType:M}=y;if(C&&(y=B.find(G=>C===G.name)))return z(y);if("number"===L?.returnType)return new l({digitSeparator:!0,
places:2});if("count"===M)return new l({digitSeparator:!0,places:0})}function z(y){switch(y.type){case "small-integer":case "integer":case "single":return new l({digitSeparator:!0,places:0});case "double":return new l({digitSeparator:!0,places:2});case "string":if(c.isRasterPixelValueField(y.name))return new l({digitSeparator:!0,places:0})}}function k(y){return"name"===(y.name&&y.name.toLowerCase())||"name"===y.alias?.toLowerCase()?!0:!1}const v=["geometry","blob","raster","guid","xml"];a.createFieldInfos=
A;a.createFieldsContent=function(y,B){return new e({fieldInfos:A(y,B).filter(C=>C.visible)})};a.createPopupTemplate=function({displayField:y,editFieldsInfo:B,fields:C,objectIdField:L,title:M},G){if(!C)return null;B=A({editFieldsInfo:B,fields:C,objectIdField:L},G);if(!B.length)return null;C={titleBase:M,fields:C,displayField:y};y=c.getDisplayFieldName(C);({titleBase:C}=C);y=y?`${C}: {${y.trim()}}`:C??"";C=[new e,new h];return new b({title:y,content:C,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=
function(y){const {fields:B,featureReduction:C,title:L}=y;y=C.fields;if(!y)return null;y=u(y,B??[]);if(!y.length)return null;var M=[new e];return new b({title:L,content:M,fieldInfos:y})};a.getFeaturePopupTitle=function(y){const {title:B,graphic:C}=y??{},{attributes:L,sourceLayer:M}=C??{};y=M&&"displayField"in M?M.displayField:null;const G=C?.getObjectId()?.toString();return B||(y?L?.[y]:null)||G||""};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff":function(){define(["exports"],
function(a){a.alphaCutoff=1/255.5;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/interfaces":function(){define(["exports"],function(a){a.SaveOperationType=void 0;var b=a.SaveOperationType||(a.SaveOperationType={});b[b.SAVE=0]="SAVE";b[b.SAVE_AS=1]="SAVE_AS";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/tslib.es6 ../../../config ../../../geometry ../../../request ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/reactiveUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/MeshGeoreferencedVertexSpace ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../applyEditsUtils ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/featureLayerUtils ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../time/TimeExtent ../../../versionManagement/support/versionManagementUtils ../../../geometry/SpatialReference".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G,E,F,H,R,J,K){const Q=new g.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),N=new g.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});h=class extends f{constructor(U){super(U);this.type="feature-layer";this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]);this.refresh=t.debounce(async()=>{await this.load();var Z=this.sourceJSON.editingInfo?.lastEditDate;
if(null==Z)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}Z=Z!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:Z,updates:Z?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}});this._ongoingAssetUploads=new Map}load(U){const Z=this._fetchService(this.layer.sourceJSON,{...U}).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,U)).then(()=>this._ensureLatestMetadata(U));this.addResolvingPromise(Z);
return Promise.resolve(this)}initialize(){this.addHandles([l.watch(()=>{const U=this.layer;return U&&"lastEditsEventDate"in U?U.lastEditsEventDate:null},U=>this._handleLastEditsEventChange(U))])}destroy(){this._removeEditInterceptor()}get queryTask(){const {capabilities:U,parsedUrl:Z,gdbVersion:fa,spatialReference:pa,fieldsIndex:xa}=this.layer,ra="infoFor3D"in this.layer?this.layer.infoFor3D:null,qa="dynamicDataSource"in this.layer?this.layer.dynamicDataSource:null,za=e("featurelayer-pbf")&&U?.query.supportsFormatPBF&&
null==ra;return new C({url:Z.path,pbfSupported:za,fieldsIndex:xa,infoFor3D:ra,dynamicDataSource:qa,gdbVersion:fa,sourceSpatialReference:pa,queryAttachmentsSupported:U?.operations?.supportsQueryAttachments??!1})}async addAttachment(U,Z){await this.load();var {layer:fa}=this;await M.ensureLayerCredential(fa,"editing");U=U.attributes[fa.objectIdField];fa=fa.parsedUrl.path+"/"+U+"/addAttachment";const pa=this._getLayerRequestOptions();Z=this._getFormDataForAttachment(Z,pa.query);try{const xa=await d(fa,
{body:Z});return y.createFeatureEditResult(xa.data.addAttachmentResult)}catch(xa){throw this._createAttachmentErrorResult(U,xa);}}async updateAttachment(U,Z,fa){await this.load();var {layer:pa}=this;await M.ensureLayerCredential(pa,"editing");U=U.attributes[pa.objectIdField];pa=pa.parsedUrl.path+"/"+U+"/updateAttachment";Z=this._getLayerRequestOptions({query:{attachmentId:Z}});fa=this._getFormDataForAttachment(fa,Z.query);try{const xa=await d(pa,{body:fa});return y.createFeatureEditResult(xa.data.updateAttachmentResult)}catch(xa){throw this._createAttachmentErrorResult(U,
xa);}}async applyEdits(U,Z){await this.load();const {layer:fa}=this;await M.ensureLayerCredential(fa,"editing");const pa="infoFor3D"in fa?fa.infoFor3D:null;var xa=null!=pa,ra=xa||(Z?.globalIdUsed??!1);const qa=xa?await this._uploadMeshesAndGetAssetMapEditsJSON(U):null;var za=U.addFeatures?.map(T=>y.getFeatureJSON(this.layer,T,pa))??[];za=(await Promise.all(za)).filter(n.isSome);var Da=U.updateFeatures?.map(T=>y.getFeatureJSON(this.layer,T,pa))??[];Da=(await Promise.all(Da)).filter(n.isSome);const sa=
y.getFeatureIds(this.layer,U.deleteFeatures,ra);F.unapplyEditsZUnitScaling(za,Da,fa.spatialReference);U=await y.getAttachmentEditsJSON(this.layer,U);xa=fa.capabilities.editing.supportsAsyncApplyEdits&&xa;const X=Z?.gdbVersion||fa.gdbVersion,aa={gdbVersion:X,rollbackOnFailure:Z?.rollbackOnFailureEnabled,useGlobalIds:ra,returnEditMoment:Z?.returnEditMoment,usePreviousEditMoment:Z?.usePreviousEditMoment,async:xa};await J.isSafeToEditVersion(this.layer.url,X,!0);const ha=J.isVersionInEditSession(this.layer.url,
X||null);if(await J.isHistoricVersion(fa.url,X,fa.historicMoment))throw new m("feature-layer-source:historic-version","Editing a historic version is not allowed");Z?.returnServiceEditsOption?(aa.edits=JSON.stringify([{id:fa.layerId,adds:za.length?za:null,updates:Da.length?Da:null,deletes:sa.length?sa:null,attachments:U,assetMaps:qa}]),aa.returnServiceEditsOption=Q.toJSON(Z?.returnServiceEditsOption),aa.returnServiceEditsInSourceSR=Z?.returnServiceEditsInSourceSR):(aa.adds=za.length?JSON.stringify(za):
null,aa.updates=Da.length?JSON.stringify(Da):null,aa.deletes=sa.length?ra?JSON.stringify(sa):sa.join(","):null,aa.attachments=U&&JSON.stringify(U),aa.assetMaps=null!=qa?JSON.stringify(qa):void 0);ra=this._getLayerRequestOptions({method:"post",query:aa});ha&&(ra.authMode="immediate",ra.query.returnEditMoment=!0,ra.query.sessionId=J.currentSessionId);Z=Z?.returnServiceEditsOption?fa.url:fa.parsedUrl.path;let I;try{I=xa?await this._asyncApplyEdits(Z+"/applyEdits",ra):await d(Z+"/applyEdits",ra)}catch(T){if(y.isProtectedOrPrivateVersionError(T))ra.authMode=
"immediate",I=xa?await this._asyncApplyEdits(Z+"/applyEdits",ra):await d(Z+"/applyEdits",ra);else throw T;}return this._createEditsResult(I)}async deleteAttachments(U,Z){await this.load();var {layer:fa}=this;await M.ensureLayerCredential(fa,"editing");U=U.attributes[fa.objectIdField];fa=fa.parsedUrl.path+"/"+U+"/deleteAttachments";try{return(await d(fa,this._getLayerRequestOptions({query:{attachmentIds:Z.join(",")},method:"post"}))).data.deleteAttachmentResults.map(y.createFeatureEditResult)}catch(pa){throw this._createAttachmentErrorResult(U,
pa);}}fetchRecomputedExtents(U={}){return this.load({signal:U.signal}).then(async()=>{var Z=this._getLayerRequestOptions({...U,query:{returnUpdates:!0}});const {layerId:fa,url:pa}=this.layer;({data:Z}=await d(`${pa}/${fa}`,Z));const {id:xa,extent:ra,fullExtent:qa,timeExtent:za}=Z;Z=ra||qa;return{id:xa,fullExtent:Z&&w.fromJSON(Z),timeExtent:za&&R.fromJSON({start:za[0],end:za[1]})}})}async queryAttachments(U,Z={}){await this.load();Z=this._getLayerRequestOptions(Z);return this.queryTask.executeAttachmentQuery(U,
Z)}async queryFeatures(U,Z){await this.load();Z=await this.queryTask.execute(U,{...Z,query:this._createRequestQueryOptions(Z)});U.outStatistics?.length&&Z.features.length&&Z.features.forEach(fa=>{const pa=fa.attributes;U.outStatistics?.forEach(({outStatisticFieldName:xa})=>{if(xa){const ra=xa.toLowerCase();ra&&ra in pa&&xa!==ra&&(pa[xa]=pa[ra],delete pa[ra])}})});return Z}async queryFeaturesJSON(U,Z){await this.load();return this.queryTask.executeJSON(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryObjectIds(U,
Z){await this.load();return this.queryTask.executeForIds(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryFeatureCount(U,Z){await this.load();return this.queryTask.executeForCount(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryExtent(U,Z){await this.load();return this.queryTask.executeForExtent(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryRelatedFeatures(U,Z){await this.load();return this.queryTask.executeRelationshipQuery(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryRelatedFeaturesCount(U,
Z){await this.load();return this.queryTask.executeRelationshipQueryForCount(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopFeatures(U,Z){await this.load();return this.queryTask.executeTopFeaturesQuery(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryBins(U,Z){await this.load();return this.queryTask.executeBinsQuery(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopObjectIds(U,Z){await this.load();return this.queryTask.executeForTopIds(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopExtents(U,
Z){await this.load();return this.queryTask.executeForTopExtents(U,{...Z,query:this._createRequestQueryOptions(Z)})}async queryTopCount(U,Z){await this.load();return this.queryTask.executeForTopCount(U,{...Z,query:this._createRequestQueryOptions(Z)})}async fetchPublishingStatus(){if(!L.isHostedAgolService(this.layer.url))return"unavailable";var U=q.join(this.layer.url,"status");U=await d(U,{query:{f:"json"}});return N.fromJSON(U.data.status)}async uploadAssets(U,Z){const {uploadAssets:fa}=await new Promise((pa,
xa)=>a(["./support/uploadAssets"],pa,xa));return fa(U,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},Z)}_handleLastEditsEventChange(U){const Z=this.layer;if(null!=U&&"capabilities"in Z&&"effectiveCapabilities"in Z&&!Z.capabilities?.operations?.supportsEditing&&Z.effectiveCapabilities?.operations?.supportsEditing){var fa=Z.url;null!=fa&&("layerId"in Z&&q.join(fa,Z.layerId.toString()),this._getOrCreateEditInterceptor(fa).before=pa=>{var xa=pa.requestOptions.method??"auto";if("auto"===xa||
"head"===xa)xa=pa.requestOptions.query??{},xa._ts=U.getTime(),pa.requestOptions.query=xa})}}_getOrCreateEditInterceptor(U){null==this._editInterceptor&&(this._editInterceptor={urls:U},c.request.internalInterceptors.push(this._editInterceptor));return this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&(n.remove(c.request.internalInterceptors,this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(U,Z){for(U=(await d(U,Z)).data.statusUrl;;){Z=(await d(U,{query:{f:"json"},
responseType:"json"})).data;switch(Z.status){case "Completed":return d(Z.resultUrl,{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new m("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;default:throw new m("async-applyEdits-failed",
"asynchronous applyEdits call failed (undefined response status)");}await t.after(1E3)}}_createRequestQueryOptions(U){U={...this.layer.customParameters,token:this.layer.apiKey,...U?.query};this.layer.datesInUnknownTimezone&&(U.timeReferenceUnknownClient=!0);return U}async _fetchService(U,Z){U||(U={},e("featurelayer-advanced-symbols")&&(U.returnAdvancedSymbols=!0),Z?.cacheBust&&(U._ts=Date.now()),{data:U}=await d(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:U,signal:Z?.signal})));
this.sourceJSON=await this._patchServiceJSON(U,Z?.signal);Z=U.type;if(!this.supportedSourceTypes.has(Z))throw new m("feature-layer-source:unsupported-type",`Source type "${Z}" is not supported`);}async _patchServiceJSON(U,Z){if("Table"!==U.type&&U.geometryType&&!U?.drawingInfo?.renderer&&!U.defaultSymbol){const fa=B.createDrawingInfo(U.geometryType).renderer;r.setDeepValue("drawingInfo.renderer",fa,U)}"esriGeometryMultiPatch"===U.geometryType&&U.infoFor3D&&(U.geometryType="mesh");if(null==U.extent)try{const {data:fa}=
await d(this.layer.url,this._getLayerRequestOptions({signal:Z}));fa.spatialReference&&(U.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:fa.spatialReference})}catch(fa){t.throwIfAbortError(fa)}return U}async _ensureLatestMetadata(U){if(this.layer.userHasUpdateItemPrivileges&&0<this.sourceJSON.cacheMaxAge)return this._fetchService(null,{...U,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(U){const {addAssetFeatures:Z}=U;if(!Z?.length||await this._areAllAssetsAlreadyMapped(Z))return null;
var fa=U.addFeatures.filter(xa=>xa.geometry);if(Z.length!==fa.length+U.updateFeatures.length)throw new m("feature-layer-source:unsupported-mesh-edits","Mixing attribute only edits with mesh geometry edits is not currently supported");U=[];fa=new Map;for(const xa of Z){const {geometry:ra}=xa;var {vertexSpace:pa}=ra;if(k.isRelativeVertexSpace(pa))U.push(ra);else{pa=ra.origin;const {convertMeshVertexSpace:qa}=await new Promise((za,Da)=>a(["../../../geometry/support/meshUtils/convertMeshVertexSpace"],
za,Da));pa=await qa(ra,new z({origin:[pa.x,pa.y,pa.z??0]}));fa.set(pa,ra);xa.geometry=pa;U.push(pa)}}await this.uploadAssets(U);for(const [xa,ra]of fa)ra.addExternalSources(xa.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(Z),updates:[],deletes:[]}}_getAssetMapEditsJSON(U){const Z=[],fa=this.layer.globalIdField,pa=this.layer.parsedUrl;for(const ra of U){({metadata:U}=ra.geometry);var xa=U.getExternalSourcesOnService(pa);U=ra.getAttribute(fa);if(0===xa.length)p.getLogger(this).error(`Skipping feature ${U}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);
else{({source:xa}=xa.find(v.isOriginalExternal)??xa[0]);for(const qa of xa)1!==qa.parts.length?p.getLogger(this).error(`Skipping asset ${qa.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):Z.push({globalId:x.generateBracedUUID(),parentGlobalId:U,assetName:qa.assetName,assetHash:qa.parts[0].partHash,flags:[]})}}return Z}_createEditsResult(U){var Z=U.data;const {layerId:fa}=this.layer;U=[];let pa=null;if(Array.isArray(Z))for(var xa of Z)U.push({id:xa.id,editedFeatures:xa.editedFeatures}),
xa.id===fa&&(pa={addResults:xa.addResults??[],updateResults:xa.updateResults??[],deleteResults:xa.deleteResults??[],attachments:xa.attachments,editMoment:xa.editMoment});else pa=Z;xa=y.unpackEditResultData(pa);if(0<U.length){xa.editedFeatureResults=[];for(const ra of U)({editedFeatures:U}=ra),Z=U?.spatialReference?new K(U.spatialReference):null,xa.editedFeatureResults.push({layerId:ra.id,editedFeatures:y.createEditedFeatures(U,Z)})}return xa}_createAttachmentErrorResult(U,Z){return{objectId:U,globalId:null,
error:new m("feature-layer-source:attachment-failure",Z.details.messages?.[0]||Z.message,{code:Z.details.httpStatus||Z.details.messageCode})}}_getFormDataForAttachment(U,Z){if(U=U instanceof FormData?U:U&&U.elements?new FormData(U):null)for(const fa in Z){const pa=Z[fa];null!=pa&&(U.set?U.set(fa,pa):U.append(fa,pa))}return U}_getLayerRequestOptions(U={}){const {layer:Z,layer:{parsedUrl:fa,gdbVersion:pa}}=this;return{...U,query:{gdbVersion:pa,layer:"dynamicDataSource"in Z&&Z.dynamicDataSource?JSON.stringify({source:Z.dynamicDataSource}):
void 0,...fa.query,f:"json",...this._createRequestQueryOptions(U)},responseType:"json"}}async _areAllAssetsAlreadyMapped(U){var {layer:Z}=this;const {globalIdField:fa,parsedUrl:pa}=Z,xa="infoFor3D"in Z?Z.infoFor3D:null;if(null==xa||null==fa)return!1;Z=G.getAssetMapTable(xa);if(null==Z)return!1;const ra=q.join(pa.path,`../${Z.id}`);Z=[];for(const sa of U)if(0<sa.geometry.metadata.getExternalSourcesOnService(pa).length)Z.push(sa);else return!1;U=Z.map(sa=>sa.getAttribute(fa)).filter(n.isSome);if(0===
U.length)return!1;const {assetMapFieldRoles:{parentGlobalId:qa,assetHash:za}}=xa;U=new H({where:`${qa} IN (${U.map(sa=>`'${sa}'`)})`,outFields:[za,qa],returnGeometry:!1});U=await E.executeQueryJSON(ra,U);const {features:Da}=U;return 0===Da.length?!1:!Z.some(sa=>{const X=sa.getAttribute(fa);if(!X)return!0;({metadata:sa}=sa.geometry);const aa=Da.filter(I=>I.getAttribute(qa)===X);if(0===aa.length)return!0;const ha=aa.map(I=>I.getAttribute(za));return sa.getExternalSourcesOnService(pa).flatMap(({source:I})=>
I.flatMap(T=>T.parts.map(da=>da.partHash))).some(I=>ha.every(T=>I!==T))})}};b.__decorate([A.property()],h.prototype,"type",void 0);b.__decorate([A.property({constructOnly:!0})],h.prototype,"layer",void 0);b.__decorate([A.property({constructOnly:!0})],h.prototype,"supportedSourceTypes",void 0);b.__decorate([A.property({readOnly:!0})],h.prototype,"queryTask",null);return h=b.__decorate([u.subclass("esri.layers.graphics.sources.FeatureLayerSource")],h)})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){c=b=class extends b.ClonableMixin(c.JSONSupport){constructor(f){super(f);this.type="georeferenced";this.origin=null}};c.absolute=new b;a.__decorate([e.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0);a.__decorate([h.property({type:[Number],nonNullable:!1,json:{write:!0}})],c.prototype,"origin",void 0);return c=b=a.__decorate([g.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],c)})},"esri/geometry/support/meshVertexSpaceUtils":function(){define("exports ../../core/deprecate ../../core/Logger ../../chunks/vec32 ../Point ./MeshGeoreferencedVertexSpace ./MeshLocalVertexSpace".split(" "),
function(a,b,c,h,d,n,m){function e(g){return null!=g.origin}a.isAbsoluteVertexSpace=function(g){return!e(g)};a.isMeshWithRelativeVertexSpace=function(g){return e(g.vertexSpace)};a.isRelativeVertexSpace=e;a.selectVertexSpace=function(g,f){const {x:p,y:r,z:t,spatialReference:l}=g;g=[p,r,t??0];void 0!==f?.geographic&&(b.deprecated(c.getLogger("esri.geometry.Mesh"),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),f.vertexSpace&&c.getLogger("esri.geometry.Mesh").warn("Deprecated geographic flag ignored since vertexSpace option is provided."));
var q;null!=(q=f?.vertexSpace)?f=q:(f=f?.geographic,f=null==f?void 0:f?"local":"georeferenced");return"local"===(f??(l.isGeographic||l.isWebMercator?"local":"georeferenced"))?new m({origin:g}):new n({origin:g})};a.vertexSpaceEquals=function(g,f){return g.type===f.type&&(g.origin===f.origin||null!=g.origin&&null!=f.origin&&h.exactEquals(g.origin,f.origin))};a.vertexSpaceOriginToPoint=function(g,f){if(!e(g))return null;const [p,r,t]=g.origin;return new d({x:p,y:r,z:t,spatialReference:f})};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(a,b,c){function h(X){const aa=X[0],ha=X[1];X=X[2];return Math.sqrt(aa*aa+ha*ha+X*X)}function d(X,aa){X[0]=aa[0];X[1]=aa[1];X[2]=aa[2];return X}function n(X,aa,ha,I){X[0]=aa;X[1]=ha;X[2]=I;return X}function m(X,aa,ha){X[0]=aa[0]+ha[0];X[1]=aa[1]+ha[1];X[2]=aa[2]+ha[2];return X}function e(X,aa,ha){X[0]=aa[0]-ha[0];X[1]=
aa[1]-ha[1];X[2]=aa[2]-ha[2];return X}function g(X,aa,ha){X[0]=aa[0]*ha[0];X[1]=aa[1]*ha[1];X[2]=aa[2]*ha[2];return X}function f(X,aa,ha){X[0]=aa[0]/ha[0];X[1]=aa[1]/ha[1];X[2]=aa[2]/ha[2];return X}function p(X,aa){X[0]=Math.ceil(aa[0]);X[1]=Math.ceil(aa[1]);X[2]=Math.ceil(aa[2]);return X}function r(X,aa){X[0]=Math.floor(aa[0]);X[1]=Math.floor(aa[1]);X[2]=Math.floor(aa[2]);return X}function t(X,aa){X[0]=Math.abs(aa[0]);X[1]=Math.abs(aa[1]);X[2]=Math.abs(aa[2]);return X}function l(X,aa){X[0]=Math.sign(aa[0]);
X[1]=Math.sign(aa[1]);X[2]=Math.sign(aa[2]);return X}function q(X,aa,ha){X[0]=Math.min(aa[0],ha[0]);X[1]=Math.min(aa[1],ha[1]);X[2]=Math.min(aa[2],ha[2]);return X}function x(X,aa,ha){X[0]=Math.max(aa[0],ha[0]);X[1]=Math.max(aa[1],ha[1]);X[2]=Math.max(aa[2],ha[2]);return X}function A(X,aa=0,ha=1){X[0]=Math.min(Math.max(X[0],aa),ha);X[1]=Math.min(Math.max(X[1],aa),ha);X[2]=Math.min(Math.max(X[2],aa),ha);return X}function u(X,aa){X[0]=Math.round(aa[0]);X[1]=Math.round(aa[1]);X[2]=Math.round(aa[2]);return X}
function w(X,aa,ha){X[0]=aa[0]*ha;X[1]=aa[1]*ha;X[2]=aa[2]*ha;return X}function z(X,aa,ha,I){X[0]=aa[0]+ha[0]*I;X[1]=aa[1]+ha[1]*I;X[2]=aa[2]+ha[2]*I;return X}function k(X,aa){const ha=aa[0]-X[0],I=aa[1]-X[1];X=aa[2]-X[2];return Math.sqrt(ha*ha+I*I+X*X)}function v(X,aa){const ha=aa[0]-X[0],I=aa[1]-X[1];X=aa[2]-X[2];return ha*ha+I*I+X*X}function y(X){const aa=X[0],ha=X[1];X=X[2];return aa*aa+ha*ha+X*X}function B(X,aa){X[0]=-aa[0];X[1]=-aa[1];X[2]=-aa[2];return X}function C(X,aa){X[0]=1/aa[0];X[1]=
1/aa[1];X[2]=1/aa[2];return X}function L(X,aa){var ha=aa[0];const I=aa[1],T=aa[2];ha=ha*ha+I*I+T*T;0<ha&&(ha=1/Math.sqrt(ha),X[0]=aa[0]*ha,X[1]=aa[1]*ha,X[2]=aa[2]*ha);return X}function M(X,aa){return X[0]*aa[0]+X[1]*aa[1]+X[2]*aa[2]}function G(X,aa,ha){const I=aa[0],T=aa[1];aa=aa[2];const da=ha[0],la=ha[1];ha=ha[2];X[0]=T*ha-aa*la;X[1]=aa*da-I*ha;X[2]=I*la-T*da;return X}function E(X,aa,ha){var I=aa[0],T=aa[1],da=aa[2];aa=ha[0];const la=ha[1],ua=ha[2];ha=T*ua-da*la;da=da*aa-I*ua;I=I*la-T*aa;T=Math.sqrt(ha*
ha+da*da+I*I);X[0]=ha/T;X[1]=da/T;X[2]=I/T;return X}function F(X,aa,ha,I){const T=aa[0],da=aa[1];aa=aa[2];X[0]=T+I*(ha[0]-T);X[1]=da+I*(ha[1]-da);X[2]=aa+I*(ha[2]-aa);return X}function H(X,aa,ha,I,T,da){const la=da*da,ua=la*(2*da-3)+1,Y=la*(da-2)+da,ea=la*(da-1);da=la*(3-2*da);X[0]=aa[0]*ua+ha[0]*Y+I[0]*ea+T[0]*da;X[1]=aa[1]*ua+ha[1]*Y+I[1]*ea+T[1]*da;X[2]=aa[2]*ua+ha[2]*Y+I[2]*ea+T[2]*da;return X}function R(X,aa,ha,I,T,da){var la=1-da,ua=la*la;const Y=da*da,ea=ua*la;ua*=3*da;la*=3*Y;da*=Y;X[0]=aa[0]*
ea+ha[0]*ua+I[0]*la+T[0]*da;X[1]=aa[1]*ea+ha[1]*ua+I[1]*la+T[1]*da;X[2]=aa[2]*ea+ha[2]*ua+I[2]*la+T[2]*da;return X}function J(X,aa=1){var ha=c.RANDOM;const I=2*ha()*Math.PI;ha=2*ha()-1;const T=Math.sqrt(1-ha*ha)*aa;X[0]=Math.cos(I)*T;X[1]=Math.sin(I)*T;X[2]=ha*aa;return X}function K(X,aa,ha){const I=aa[0],T=aa[1];aa=aa[2];X[0]=ha[0]*I+ha[4]*T+ha[8]*aa+ha[12];X[1]=ha[1]*I+ha[5]*T+ha[9]*aa+ha[13];X[2]=ha[2]*I+ha[6]*T+ha[10]*aa+ha[14];return X}function Q(X,aa,ha){const I=aa[0],T=aa[1];aa=aa[2];X[0]=
I*ha[0]+T*ha[3]+aa*ha[6];X[1]=I*ha[1]+T*ha[4]+aa*ha[7];X[2]=I*ha[2]+T*ha[5]+aa*ha[8];return X}function N(X,aa,ha){const I=ha[0],T=ha[1],da=ha[2],la=aa[0],ua=aa[1];aa=aa[2];const Y=T*aa-da*ua,ea=da*la-I*aa,ja=I*ua-T*la;ha=2*ha[3];X[0]=la+Y*ha+2*(T*ja-da*ea);X[1]=ua+ea*ha+2*(da*Y-I*ja);X[2]=aa+ja*ha+2*(I*ea-T*Y);return X}function U(X,aa,ha,I){const T=[],da=[];T[0]=aa[0]-ha[0];T[1]=aa[1]-ha[1];T[2]=aa[2]-ha[2];da[0]=T[0];da[1]=T[1]*Math.cos(I)-T[2]*Math.sin(I);da[2]=T[1]*Math.sin(I)+T[2]*Math.cos(I);
X[0]=da[0]+ha[0];X[1]=da[1]+ha[1];X[2]=da[2]+ha[2];return X}function Z(X,aa,ha,I){const T=[],da=[];T[0]=aa[0]-ha[0];T[1]=aa[1]-ha[1];T[2]=aa[2]-ha[2];da[0]=T[2]*Math.sin(I)+T[0]*Math.cos(I);da[1]=T[1];da[2]=T[2]*Math.cos(I)-T[0]*Math.sin(I);X[0]=da[0]+ha[0];X[1]=da[1]+ha[1];X[2]=da[2]+ha[2];return X}function fa(X,aa,ha,I){const T=[],da=[];T[0]=aa[0]-ha[0];T[1]=aa[1]-ha[1];T[2]=aa[2]-ha[2];da[0]=T[0]*Math.cos(I)-T[1]*Math.sin(I);da[1]=T[0]*Math.sin(I)+T[1]*Math.cos(I);da[2]=T[2];X[0]=da[0]+ha[0];X[1]=
da[1]+ha[1];X[2]=da[2]+ha[2];return X}function pa(X,aa){L(Da,X);L(sa,aa);X=M(Da,sa);return 1<X?0:-1>X?Math.PI:Math.acos(X)}function xa(X){return"vec3("+X[0]+", "+X[1]+", "+X[2]+")"}function ra(X,aa){return X[0]===aa[0]&&X[1]===aa[1]&&X[2]===aa[2]}function qa(X,aa){if(X===aa)return!0;const ha=X[0],I=X[1];X=X[2];const T=aa[0],da=aa[1];aa=aa[2];const la=c.getEpsilon();return Math.abs(ha-T)<=la*Math.max(1,Math.abs(ha),Math.abs(T))&&Math.abs(I-da)<=la*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(X-aa)<=
la*Math.max(1,Math.abs(X),Math.abs(aa))}function za(X,aa,ha){const I=ha[0]-aa[0],T=ha[1]-aa[1];aa=ha[2]-aa[2];ha=I*I+T*T+aa*aa;if(0<ha)return ha=1/Math.sqrt(ha),X[0]=I*ha,X[1]=T*ha,X[2]=aa*ha,X;X[0]=0;X[1]=0;X[2]=0;return X}const Da=b.create(),sa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:t,add:m,angle:pa,bezier:R,ceil:p,clamp:A,copy:d,cross:G,crossAndNormalize:E,direction:za,dist:k,distance:k,div:f,divide:f,dot:M,equals:qa,exactEquals:ra,floor:r,hermite:H,inverse:C,len:h,
length:h,lerp:F,max:x,min:q,mul:g,multiply:g,negate:B,normalize:L,random:J,rotateX:U,rotateY:Z,rotateZ:fa,round:u,scale:w,scaleAndAdd:z,set:n,sign:l,sqrDist:v,sqrLen:y,squaredDistance:v,squaredLength:y,str:xa,sub:e,subtract:e,transformMat3:Q,transformMat4:K,transformQuat:N},Symbol.toStringTag,{value:"Module"}));a.abs=t;a.add=m;a.angle=pa;a.bezier=R;a.ceil=p;a.clamp=A;a.copy=d;a.cross=G;a.crossAndNormalize=E;a.direction=za;a.dist=k;a.distance=k;a.div=f;a.divide=f;a.dot=M;a.equals=qa;a.exactEquals=
ra;a.floor=r;a.hermite=H;a.inverse=C;a.len=h;a.length=h;a.lerp=F;a.max=x;a.min=q;a.mul=g;a.multiply=g;a.negate=B;a.normalize=L;a.random=J;a.rotateX=U;a.rotateY=Z;a.rotateZ=fa;a.round=u;a.scale=w;a.scaleAndAdd=z;a.set=n;a.sign=l;a.sqrDist=v;a.sqrLen=y;a.squaredDistance=v;a.squaredLength=y;a.str=xa;a.sub=e;a.subtract=e;a.transformMat3=Q;a.transformMat4=K;a.transformQuat=N;a.vec3=b})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(a,b,c,h,d,n,m,e,g,f){b=class extends b.ClonableMixin(c.JSONSupport){constructor(p){super(p);this.type="local";this.origin=f.create()}};a.__decorate([e.enumeration({local:"local"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([h.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([g.subclass("esri.geometry.support.MeshLocalVertexSpace")],b)})},"esri/geometry/support/meshUtils/External":function(){define(["exports","../../../request",
"../../../core/arrayUtils","../../../core/promiseUtils","../../../layers/support/infoFor3D"],function(a,b,c,h,d){function n(q){return Array.isArray(q)?q.every(x=>x instanceof p):!1}function m(q){return q?Array.isArray(q)?q.some(e):e(q):!1}function e(q){if(q instanceof File){const {type:x,name:A}=q;return t.test(x)||l.test(A)}return t.test(q.assetMimeType)||l.test(q.assetName)}function g(q,x){return Array.isArray(q)?0<q.length&&q.every(A=>f(A,x)):f(q,x)}function f(q,x){return q instanceof p&&q.isOnService(x)}
class p{constructor(q,x,A){this.assetName=q;this.assetMimeType=x;this.parts=A}equals(q){return this===q||this.assetName===q.assetName&&this.assetMimeType===q.assetMimeType&&c.equals(this.parts,q.parts,(x,A)=>x.equals(A))}isOnService(q){return this.parts.every(x=>x.isOnService(q))}makeHash(){let q="";for(const x of this.parts)q+=x.partHash;return q}async toBlob(q){var {parts:x}=this;if(1===x.length)return x[0].toBlob(q);x=await Promise.all(x.map(A=>A.toBlob(q)));h.throwIfAborted(q);return new Blob(x)}}
class r{constructor(q,x){this.partUrl=q;this.partHash=x}equals(q){return this===q||this.partUrl===q.partUrl&&this.partHash===q.partHash}isOnService(q){return this.partUrl.startsWith(`${q.path}/assets/`)}async toBlob(q){const {data:x}=await b(this.partUrl,{responseType:"blob"});h.throwIfAborted(q);return x}}const t=/^(model\/gltf\+json)|(model\/gltf-binary)$/,l=/\.(gltf|glb)/i;a.ServiceAsset=p;a.ServiceAssetPart=r;a.assetFormatId=function(q,x){return q instanceof File?d.getFileFormatId(q,x):d.getMimeTypeOrFilenameFormatId(q.assetMimeType,
q.assetName,x)};a.assetIsOnService=f;a.externalIsOnService=function(q,x){if(!q)return!1;({source:q}=q);return g(q,x)};a.externalSourceToMultiPart=function(q){return Array.isArray(q)?q:[q]};a.externalSourcesAreEqual=function(q,x){if(q===x)return!0;({source:q}=q);({source:x}=x);if(q===x)return!0;if(n(q)&&n(x)){if(q.length!==x.length)return!1;var A=(u,w)=>u.assetName<w.assetName?-1:u.assetName>w.assetName?1:0;q=[...q].sort(A);x=[...x].sort(A);for(A=0;A<q.length;++A)if(!q[A].equals(x[A]))return!1;return!0}return!1};
a.isDisplayAsset=e;a.isDisplayExternal=function(q){return m(q?.source)};a.isDisplaySource=m;a.isOriginalExternal=function(q){return!!q.original};a.sourceIsOnService=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(l,q){return f(e(l,q))}function c(l,q){return f(g(l,q))}function h(l,q){return c(l.name,q)??b(l.type,q)}function d(l,q,x){return b(l,x)??c(q,x)}function n({supportedFormats:l}){return d("model/gltf-binary",
"glb",l)}function m(l,q){return[...t,...q].find(x=>f(x)===l)}function e(l,q){const x=l.toLowerCase();return[...t,...q].find(A=>p(A)===x)}function g(l,q){const x=l.toLowerCase();return[...t,...q].find(A=>r(A).some(u=>x.endsWith(u)))}function f(l){return l?.[0]}function p(l){return l?.[1].toLowerCase()}function r(l){return l?.[2].split(",").map(q=>q.toLowerCase())??[]}const t=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(l){return l.tables?.find(q=>"assetMaps"===q.role)};
a.getFileFormatId=h;a.getFilePickerAcceptType=function(l){const q={};for(const x of[...t,...(l?.supportedFormats??[])]){[l]=p(x).split(";");l=l.trim().toLowerCase();const A=r(x).map(z=>`.${z}`);let u,w;(u=q)[w=l]??(u[w]=[]);q[l].push(...A)}return{description:"3D Models",accept:q}};a.getFilenameFormatId=c;a.getFormatDescription=function(l){return l?.[3]};a.getFormatExtensions=r;a.getFormatId=f;a.getFormatIdMimeType=function(l,q){return p(m(l,q))};a.getFormatMimeType=p;a.getGlbFormatId=n;a.getGltfFormatId=
function({supportedFormats:l}){return d("model/gltf+json","gltf",l)};a.getMimeTypeFormatId=b;a.getMimeTypeOrFilenameFormatId=d;a.getPrjFormatId=function({supportedFormats:l}){return d("application/esri3do-SR_prj","prj",l)};a.getSupportedExtensions=function(l){return[...t,...(l?.supportedFormats??[])].flatMap(r).map(q=>`.${q}`)};a.getWorldFileFormatId=function({supportedFormats:l}){return d("application/esri3do-SR_world","wld",l)};a.isFileEditFormat=function(l,q){if(!l)return!1;q=h(q,l.supportedFormats??
[]);return null!=q&&l.editFormats.includes(q)};a.isFileSupported=function(l,q){return null!=g(q.name,l?.supportedFormats??[])};a.isGlbSupportedEditFormat=function(l){const q=n(l);return null!=q&&l.editFormats.includes(q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/applyEditsUtils":function(){define("exports ../../Graphic ../../core/Error ../../core/Logger ../../core/unitUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/jsonUtils ../../geometry/support/MeshTransform ../../geometry/support/spatialReferenceUtils ./editingSupport".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p){async function r(q,x){const {feature:A,attachment:u}=x,{globalId:w,name:z,contentType:k,data:v,uploadId:y}=u;x={globalId:w};A&&("attributes"in A?x.parentGlobalId=A.attributes?.[q.globalIdField]:A.globalId&&(x.parentGlobalId=A.globalId));if(y)x.uploadId=y;else if(v){if(q=await n.parseData(v))x.contentType=q.mediaType,x.data=q.data;v instanceof File&&(x.name=v.name)}z&&(x.name=z);k&&(x.contentType=k);return x}function t(q){const x=!0===q.success?null:q.error||{code:void 0,
description:void 0};return{objectId:q.objectId,globalId:q.globalId,error:x?new c("feature-layer-source:edit-failure",x.description,{code:x.code}):null}}function l(q,x){return new b({attributes:q.attributes,geometry:e.fromJSON({...q.geometry,spatialReference:x})})}a.createEditedFeatures=function(q,x){return{adds:q?.adds?.map(A=>l(A,x))||[],updates:q?.updates?.map(A=>({original:l(A[0],x),current:l(A[1],x)}))||[],deletes:q?.deletes?.map(A=>l(A,x))||[],spatialReference:x}};a.createFeatureEditResult=t;
a.getAttachmentEditsJSON=async function(q,x){const A=await Promise.all((x.addAttachments??[]).map(w=>r(q,w))),u=await Promise.all((x.updateAttachments??[]).map(w=>r(q,w)));x=x.deleteAttachments??[];return A.length||u.length||x.length?{adds:A,updates:u,deletes:[...x]}:null};a.getFeatureIds=function(q,x,A){if(!x||0===x.length)return[];if(A&&p.isFeatureIdentifierArrayWithGlobalId(x))return x.map(w=>w.globalId);if(p.isFeatureIdentifierArrayWithObjectId(x))return x.map(w=>w.objectId);const u=A?q.globalIdField:
q.objectIdField;return u?x.map(w=>w.getAttribute(u)):[]};a.getFeatureJSON=async function(q,x,A){var {geometry:u}=x;x={...x.attributes};if(null!=A&&"mesh"===u?.type){({transformFieldRoles:A}=A);const {origin:z,spatialReference:k,vertexSpace:v}=u;u=u.transform??new g;const y="local"===v.type;q=q.spatialReference;var w=q.isGeographic;const B=f.equals(q,k),C=m.isEqualBaseGCS(k,q)&&m.canProjectWithoutEngine(k,q);if(!(y&&w&&C||!y&&!w&&B))return null;w=m.projectWithoutEngine(z,k,q);if(null==w)return null;
x[A.originX]=w.x;x[A.originY]=w.y;x[A.originZ]=w.z??0;if(null!=u){const {translation:L,scale:M,rotation:G}=u;u=y?1:d.getMetersPerCartesianUnitForSR(k)/d.getMetersPerCartesianUnitForSR(q);x[A.translationX]=L[0]*u;x[A.translationY]=L[2]*u;x[A.translationZ]=-L[1]*u;x[A.scaleX]=M[0];x[A.scaleY]=M[2];x[A.scaleZ]=M[1];x[A.rotationX]=G[0];x[A.rotationY]=G[2];x[A.rotationZ]=-G[1];x[A.rotationDeg]=G[3]}return{attributes:x}}return null==u?{attributes:x}:"mesh"===u.type||"extent"===u.type?null:{geometry:u.toJSON(),
attributes:x}};a.isProtectedOrPrivateVersionError=function(q){q=q.details.raw;const x=+q.extendedCode;return 500===+q.code&&(-2147217144===x||-2147467261===x)};a.unpackEditResultData=function(q){var x=q?.assetMaps;if(x){for(const A of x.addResults)A.success||h.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${A.globalId}.`);for(const A of x.updateResults)A.success||h.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${A.globalId}.`)}x=
q?.attachments;x={addFeatureResults:q?.addResults?.map(t)??[],updateFeatureResults:q?.updateResults?.map(t)??[],deleteFeatureResults:q?.deleteResults?.map(t)??[],addAttachmentResults:x?.addResults?x.addResults.map(t):[],updateAttachmentResults:x?.updateResults?x.updateResults.map(t):[],deleteAttachmentResults:x?.deleteResults?x.deleteResults.map(t):[]};q?.editMoment&&(x.editMoment=q.editMoment);return x};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/mat4f64 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../core/libs/gl-matrix-2/factories/vec3f64 ./axisAngleDegrees".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t){var l;b=l=class extends b.JSONSupport{constructor(x){super(x);this.translation=r.create();this.rotationAxis=r.fromArray(t.up);this.rotationAngle=0;this.scale=r.fromValues(1,1,1)}get rotation(){return t.fromAxisAndAngle(this.rotationAxis,this.rotationAngle)}set rotation(x){this.rotationAxis=r.clone(t.axis(x));this.rotationAngle=t.angle(x)}get localMatrix(){const x=g.create();f.setAxisAngle(q,t.axis(this.rotation),t.angleRad(this.rotation));e.fromRotationTranslationScale(x,
q,this.translation,this.scale);return x}get localMatrixInverse(){return e.invert(g.create(),this.localMatrix)}equals(x){return this===x||null!=x&&e.exactEquals(this.localMatrix,x.localMatrix)}clone(){const x={translation:r.clone(this.translation),rotationAxis:r.clone(this.rotationAxis),rotationAngle:this.rotationAngle,scale:r.clone(this.scale)};return new l(x)}};a.__decorate([c.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"translation",void 0);a.__decorate([c.property({type:[Number],
nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAxis",void 0);a.__decorate([c.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAngle",void 0);a.__decorate([c.property({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"scale",void 0);a.__decorate([c.property()],b.prototype,"rotation",null);a.__decorate([c.property()],b.prototype,"localMatrix",null);a.__decorate([c.property()],b.prototype,"localMatrixInverse",null);b=l=a.__decorate([m.subclass("esri.geometry.support.MeshTransform")],
b);const q=p.create();return b})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function c(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function h(e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y){return[e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y]}function d(e,g){return new Float64Array(e,g,16)}const n=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,
create:b,createView:d,fromValues:h},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=h;a.mat4f64=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(a,b,c,h,d,n,m){function e(ra){ra[0]=0;ra[1]=0;ra[2]=0;ra[3]=1;return ra}function g(ra,
qa,za){za*=.5;const Da=Math.sin(za);ra[0]=Da*qa[0];ra[1]=Da*qa[1];ra[2]=Da*qa[2];ra[3]=Math.cos(za);return ra}function f(ra,qa){const za=2*Math.acos(qa[3]),Da=Math.sin(za/2);Da>d.getEpsilon()?(ra[0]=qa[0]/Da,ra[1]=qa[1]/Da,ra[2]=qa[2]/Da):(ra[0]=1,ra[1]=0,ra[2]=0);return za}function p(ra,qa,za){const Da=qa[0],sa=qa[1],X=qa[2];qa=qa[3];const aa=za[0],ha=za[1],I=za[2];za=za[3];ra[0]=Da*za+qa*aa+sa*I-X*ha;ra[1]=sa*za+qa*ha+X*aa-Da*I;ra[2]=X*za+qa*I+Da*ha-sa*aa;ra[3]=qa*za-Da*aa-sa*ha-X*I;return ra}function r(ra,
qa,za){za*=.5;const Da=qa[0],sa=qa[1],X=qa[2];qa=qa[3];const aa=Math.sin(za);za=Math.cos(za);ra[0]=Da*za+qa*aa;ra[1]=sa*za+X*aa;ra[2]=X*za-sa*aa;ra[3]=qa*za-Da*aa;return ra}function t(ra,qa,za){za*=.5;const Da=qa[0],sa=qa[1],X=qa[2];qa=qa[3];const aa=Math.sin(za);za=Math.cos(za);ra[0]=Da*za-X*aa;ra[1]=sa*za+qa*aa;ra[2]=X*za+Da*aa;ra[3]=qa*za-sa*aa;return ra}function l(ra,qa,za){za*=.5;const Da=qa[0],sa=qa[1],X=qa[2];qa=qa[3];const aa=Math.sin(za);za=Math.cos(za);ra[0]=Da*za+sa*aa;ra[1]=sa*za-Da*aa;
ra[2]=X*za+qa*aa;ra[3]=qa*za-X*aa;return ra}function q(ra,qa){const za=qa[0],Da=qa[1];qa=qa[2];ra[0]=za;ra[1]=Da;ra[2]=qa;ra[3]=Math.sqrt(Math.abs(1-za*za-Da*Da-qa*qa));return ra}function x(ra,qa,za,Da){const sa=qa[0],X=qa[1],aa=qa[2];qa=qa[3];let ha=za[0],I=za[1],T=za[2];za=za[3];let da;let la;var ua=sa*ha+X*I+aa*T+qa*za;0>ua&&(ua=-ua,ha=-ha,I=-I,T=-T,za=-za);1-ua>d.getEpsilon()?(da=Math.acos(ua),la=Math.sin(da),ua=Math.sin((1-Da)*da)/la,Da=Math.sin(Da*da)/la):ua=1-Da;ra[0]=ua*sa+Da*ha;ra[1]=ua*
X+Da*I;ra[2]=ua*aa+Da*T;ra[3]=ua*qa+Da*za;return ra}function A(ra){var qa=d.RANDOM,za=qa();const Da=qa();qa=qa();const sa=Math.sqrt(1-za);za=Math.sqrt(za);ra[0]=sa*Math.sin(2*Math.PI*Da);ra[1]=sa*Math.cos(2*Math.PI*Da);ra[2]=za*Math.sin(2*Math.PI*qa);ra[3]=za*Math.cos(2*Math.PI*qa);return ra}function u(ra,qa){const za=qa[0],Da=qa[1],sa=qa[2];qa=qa[3];var X=za*za+Da*Da+sa*sa+qa*qa;X=X?1/X:0;ra[0]=-za*X;ra[1]=-Da*X;ra[2]=-sa*X;ra[3]=qa*X;return ra}function w(ra,qa){ra[0]=-qa[0];ra[1]=-qa[1];ra[2]=-qa[2];
ra[3]=qa[3];return ra}function z(ra,qa){var za=qa[0]+qa[4]+qa[8];if(0<za)za=Math.sqrt(za+1),ra[3]=.5*za,za=.5/za,ra[0]=(qa[5]-qa[7])*za,ra[1]=(qa[6]-qa[2])*za,ra[2]=(qa[1]-qa[3])*za;else{let Da=0;qa[4]>qa[0]&&(Da=1);qa[8]>qa[3*Da+Da]&&(Da=2);const sa=(Da+1)%3,X=(Da+2)%3;za=Math.sqrt(qa[3*Da+Da]-qa[3*sa+sa]-qa[3*X+X]+1);ra[Da]=.5*za;za=.5/za;ra[3]=(qa[3*sa+X]-qa[3*X+sa])*za;ra[sa]=(qa[3*sa+Da]+qa[3*Da+sa])*za;ra[X]=(qa[3*X+Da]+qa[3*Da+X])*za}return ra}function k(ra,qa,za,Da){var sa=.5*Math.PI/180;
qa*=sa;za*=sa;Da*=sa;sa=Math.sin(qa);qa=Math.cos(qa);const X=Math.sin(za);za=Math.cos(za);const aa=Math.sin(Da);Da=Math.cos(Da);ra[0]=sa*za*Da-qa*X*aa;ra[1]=qa*X*Da+sa*za*aa;ra[2]=qa*za*aa-sa*X*Da;ra[3]=qa*za*Da+sa*X*aa;return ra}function v(ra){return"quat("+ra[0]+", "+ra[1]+", "+ra[2]+", "+ra[3]+")"}function y(ra,qa,za){const Da=n.dot(qa,za);if(-.999999>Da)return n.cross(N,U,qa),1E-6>n.len(N)&&n.cross(N,Z,qa),n.normalize(N,N),g(ra,N,Math.PI),ra;if(.999999<Da)return ra[0]=0,ra[1]=0,ra[2]=0,ra[3]=
1,ra;n.cross(N,qa,za);ra[0]=N[0];ra[1]=N[1];ra[2]=N[2];ra[3]=1+Da;return K(ra,ra)}function B(ra,qa,za,Da,sa,X){x(fa,qa,sa,X);x(pa,za,Da,X);x(ra,fa,pa,2*X*(1-X));return ra}function C(ra,qa,za,Da){const sa=xa;sa[0]=za[0];sa[3]=za[1];sa[6]=za[2];sa[1]=Da[0];sa[4]=Da[1];sa[7]=Da[2];sa[2]=-qa[0];sa[5]=-qa[1];sa[8]=-qa[2];return K(ra,z(ra,sa))}const L=m.copy,M=m.set,G=m.add,E=m.scale,F=m.dot,H=m.lerp,R=m.length,J=m.squaredLength,K=m.normalize,Q=m.exactEquals;m=m.equals;const N=h.create(),U=h.fromValues(1,
0,0),Z=h.fromValues(0,1,0),fa=c.create(),pa=c.create(),xa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:G,calculateW:q,conjugate:w,copy:L,dot:F,equals:m,exactEquals:Q,fromEuler:k,fromMat3:z,getAxisAngle:f,identity:e,invert:u,len:R,length:R,lerp:H,mul:p,multiply:p,normalize:K,random:A,rotateX:r,rotateY:t,rotateZ:l,rotationTo:y,scale:E,set:M,setAxes:C,setAxisAngle:g,slerp:x,sqlerp:B,sqrLen:J,squaredLength:J,str:v},Symbol.toStringTag,{value:"Module"}));a.add=G;a.calculateW=q;a.conjugate=
w;a.copy=L;a.dot=F;a.equals=m;a.exactEquals=Q;a.fromEuler=k;a.fromMat3=z;a.getAxisAngle=f;a.identity=e;a.invert=u;a.len=R;a.length=R;a.lerp=H;a.mul=p;a.multiply=p;a.normalize=K;a.quat=b;a.random=A;a.rotateX=r;a.rotateY=t;a.rotateZ=l;a.rotationTo=y;a.scale=E;a.set=M;a.setAxes=C;a.setAxisAngle=g;a.slerp=x;a.sqlerp=B;a.sqrLen=J;a.squaredLength=J;a.str=v;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(a){function b(){return[1,
0,0,0,1,0,0,0,1]}function c(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function h(e,g,f,p,r,t,l,q,x){return[e,g,f,p,r,t,l,q,x]}function d(e,g){return new Float64Array(e,g,9)}const n=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:c,create:b,createView:d,fromValues:h},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=n;a.clone=c;a.create=b;a.createView=d;a.fromValues=h;a.mat3f64=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],
function(a){function b(){return[0,0,0,1]}function c(m){return[m[0],m[1],m[2],m[3]]}function h(m,e,g,f){return[m,e,g,f]}const d=b(),n=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:d,clone:c,create:b,fromValues:h},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=d;a.clone=c;a.create=b;a.fromValues=h;a.quatf64=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/axisAngleDegrees":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(a,b,c,h,d,n,m){function e(k=l){return[k[0],k[1],k[2],k[3]]}function g(k,v,y,B,C=e()){C[0]=k;C[1]=v;C[2]=y;C[3]=B;return C}function f(k,v,y=e()){n.copy(y,k);y[3]=v;return y}function p(k,v,y=e()){h.setAxisAngle(q,k,r(k));h.setAxisAngle(x,v,r(v));h.multiply(q,x,q);return t(y,b.rad2deg(h.getAxisAngle(y,q)))}function r(k){return b.deg2rad(k[3])}function t(k,v){k[3]=v;return k}const l=[0,0,1,0],q=d.create(),x=d.create(),A=e(),u=e(),w=e(),z=e();a.angle=function(k){return k[3]};a.angleRad=r;a.axis=
function(k){return k};a.compose=p;a.composeAxes=function(k,v,y,B=e()){f(m.UNIT_X,k,u);f(m.UNIT_Y,v,w);f(m.UNIT_Z,y,z);p(u,w,u);p(u,z,B);return B};a.copy=function(k,v=e()){return g(k[0],k[1],k[2],k[3],v)};a.create=e;a.fromAxisAndAngle=f;a.fromMatrix=function(k,v=e()){k=c.getRotation(q,k);t(v,b.rad2deg(h.getAxisAngle(v,k)));return v};a.fromPoints=function(k,v,y){n.cross(y,k,v);n.normalize(y,y);y[3]=-n.angle(k,v);return y};a.fromValues=g;a.setAngle=t;a.up=l;a.wrap=function(k,v,y,B){return g(k,v,y,B,
A)};a.wrapAxisAngle=function(k,v){return g(k[0],k[1],k[2],v,A)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/uuid ../../geometry/support/normalizeUtils ../../geometry/support/spatialReferenceUtils ../mixins/EditBusLayer ../support/fieldUtils ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q){function x(E){return"object"===typeof E&&null!=E&&"objectId"in E&&!!E.objectId}function A(E){return"object"===typeof E&&null!=E&&"globalId"in E&&!!E.globalId}async function u(E,F,H,R){await E.load();if(null==F?.applyEdits)throw new h(`${E.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:E});if(!q.getEffectiveEditingEnabled(E))throw new h(`${E.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:E});
const {edits:J,options:K}=await w(E,H,R);return J.addFeatures?.length||J.updateFeatures?.length||J.deleteFeatures?.length||J.addAttachments?.length||J.updateAttachments?.length||J.deleteAttachments?.length?{edits:J,results:await F.applyEdits(J,K)}:{edits:J,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function w(E,F,H){const R=q.getEffectiveLayerCapabilities(E),J=null!=E.infoFor3D;
L(F,R,H,!(!F||!(F.addFeatures||F.updateFeatures||F.deleteFeatures)),!(!F||!(F.addAttachments||F.updateAttachments||F.deleteAttachments)),`${E.type}-layer`);if(!R.data.isVersioned&&H?.gdbVersion)throw new h(`${E.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!R.editing.supportsRollbackOnFailure&&H?.rollbackOnFailureEnabled)throw new h(`${E.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
const K={...H};null!=K.rollbackOnFailureEnabled||R.editing.supportsRollbackOnFailure||(K.rollbackOnFailureEnabled=!0);K.rollbackOnFailureEnabled||"original-and-current-features"!==K.returnServiceEditsOption||(!1===K.rollbackOnFailureEnabled&&n.getLogger("esri.layers.graphics.editingSupport").warn(`${E.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),
K.rollbackOnFailureEnabled=!0);if(!R.editing.supportsReturnServiceEditsInSourceSpatialReference&&K.returnServiceEditsInSourceSR)throw new h(`${E.type}-layer:invalid-parameter`,"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(K.returnServiceEditsInSourceSR&&"original-and-current-features"!==K.returnServiceEditsOption)throw new h(`${E.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");
F=C(F,R,`${E.type}-layer`);const Q=H?.globalIdUsed||J,N=E.fields.filter(U=>"big-integer"===U.type||"oid"===U.type&&8<=(U.length||0));if(Q){const {globalIdField:U}=E;if(null==U)throw new h(`${E.type}-layer:invalid-parameter`,"Layer does not specify a global id field.");F.addFeatures.forEach(Z=>{({attributes:Z}=Z);null==Z[U]&&(Z[U]=g.generateBracedUUID())})}F.addFeatures.forEach(U=>{z(U,E,Q,N);k(U,E)});F.updateFeatures.forEach(U=>{z(U,E,Q,N);k(U,E);const Z=q.getEffectiveLayerCapabilities(E);if("geometry"in
U&&null!=U.geometry&&!Z?.editing.supportsGeometryUpdate)throw new h(`${E.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});F.deleteFeatures.forEach(U=>{z(U,E,Q,N)});F.addAttachments.forEach(U=>v(U,E));F.updateAttachments.forEach(U=>v(U,E));J&&await G(F,E);return{edits:await y(F),options:K}}function z(E,F,H,R){if(H){if("attributes"in E&&!E.attributes[F.globalIdField])throw new h(`${F.type}-layer:invalid-parameter`,`Feature should have '${F.globalIdField}' when 'globalIdUsed' is true`);
if(!("attributes"in E||E.globalId))throw new h(`${F.type}-layer:invalid-parameter`,"`'globalId' of the feature should be passed when 'globalIdUsed' is true");}if(R.length&&"attributes"in E)for(const J of R)if(H=E.attributes[J.name],void 0!==H&&!t.isValidFieldValue(J,H))throw new h(`${F.type}-layer:invalid-parameter`,`Big-integer field '${J.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:E});if("geometry"in E&&null!=E.geometry){if(E.geometry.hasZ&&!1===F.capabilities?.data.supportsZ)throw new h(`${F.type}-layer:z-unsupported`,
"Layer does not support z values while feature has z values.");if(E.geometry.hasM&&!1===F.capabilities?.data.supportsM)throw new h(`${F.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");}}function k(E,F){if("geometry"in E&&"mesh"===E.geometry?.type&&null!=F.infoFor3D&&null!=F.spatialReference){({geometry:E}=E);const {spatialReference:H,vertexSpace:R}=E;E=F.spatialReference;const J="local"===R.type,K=p.isGeographic(E),Q=p.equals(E,H),N=Q||p.isWGS84(E)&&(p.isWGS84(H)||
p.isWebMercator(H));if(!(J&&K&&N||!J&&!K&&Q))throw new h(`${F.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${R.type} vertex space and a spatial reference wkid:${H.wkid} to a layer with a spatial reference wkid:${E.wkid} is not supported.`);}}function v(E,F){const {feature:H,attachment:R}=E;if(!H||"attributes"in H&&!H.attributes[F.globalIdField])throw new h(`${F.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in H||H.globalId))throw new h(`${F.type}-layer:invalid-parameter`,
"Attachment should have reference to 'globalId' of the parent feature");if(!R.globalId)throw new h(`${F.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!R.data&&!R.uploadId)throw new h(`${F.type}-layer:invalid-parameter`,"Attachment should have 'data' or 'uploadId'");if(!(R.data instanceof File&&R.data.name||R.name))throw new h(`${F.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!F.capabilities?.editing.supportsUploadWithItemId&&
R.uploadId)throw new h(`${F.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof R.data&&(E=e.dataComponents(R.data))&&!E.isBase64)throw new h(`${F.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function y(E){const F=E.addFeatures??[],H=E.updateFeatures??[];var R=F.concat(H).map(Q=>Q.geometry);R=await f.normalizeCentralMeridian(R);const J=
F.length,K=H.length;R.slice(0,J).forEach((Q,N)=>F[N].geometry=Q);R.slice(J,J+K).forEach((Q,N)=>H[N].geometry=Q);return E}function B(E){return{addFeatures:Array.from(E?.addFeatures??[]),updateFeatures:Array.from(E?.updateFeatures??[]),deleteFeatures:E&&c.isCollection(E.deleteFeatures)?E.deleteFeatures.toArray():E.deleteFeatures||[],addAttachments:E.addAttachments||[],updateAttachments:E.updateAttachments||[],deleteAttachments:E.deleteAttachments||[]}}function C(E,F,H){E=B(E);if(E.addFeatures?.length&&
!F.operations.supportsAdd)throw new h(`${H}:unsupported-operation`,"Layer does not support adding features.");if(E.updateFeatures?.length&&!F.operations.supportsUpdate)throw new h(`${H}:unsupported-operation`,"Layer does not support updating features.");if(E.deleteFeatures?.length&&!F.operations.supportsDelete)throw new h(`${H}:unsupported-operation`,"Layer does not support deleting features.");E.addFeatures=E.addFeatures.map(M);E.updateFeatures=E.updateFeatures.map(M);E.addAssetFeatures=[];return E}
function L(E,F,H,R,J,K){if(!E||!R&&!J)throw new h(`${K}:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!F.editing.supportsGlobalId&&H?.globalIdUsed)throw new h(`${K}:invalid-parameter`,"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!F.editing.supportsGlobalId&&J)throw new h(`${K}:invalid-parameter`,"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");
if(!H?.globalIdUsed&&J)throw new h(`${K}:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");}function M(E){const F=new b;E.attributes||(E.attributes={});F.geometry=E.geometry;F.attributes=E.attributes;return F}async function G(E,F){const {infoFor3D:H}=F;if(null!=H){if(!l.isGlbSupportedEditFormat(H))throw new h(`${F.type}-layer:binary-gltf-asset-not-supported`,"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");
E.addAssetFeatures??(E.addAssetFeatures=[]);({addAssetFeatures:F}=E);for(const R of E.addFeatures??[])"mesh"===R?.geometry?.type&&F.push(R);for(const R of E.updateFeatures??[])"mesh"===R?.geometry?.type&&F.push(R)}}a.applyEdits=async function(E,F,H,R={}){var J="gdbVersion"in E?E.gdbVersion:null;J=R.gdbVersion??J;r.isEditBusLayer(E)&&E.url?J=r.emitApplyEditsEvent(E.url,E.layerId,J,"original-and-current-features"===R.returnServiceEditsOption):(J=m.createResolver(),J.promise.then(K=>{(K.addedFeatures.length||
K.updatedFeatures.length||K.deletedFeatures.length||K.addedAttachments.length||K.updatedAttachments.length||K.deletedAttachments.length)&&E.emit("edits",K)}),E.emit("apply-edits",{result:J.promise}));try{const {results:K,edits:Q}=await u(E,F,H,R);F=U=>U.filter(Z=>!Z.error).map(d.clone);const N={edits:Q,addedFeatures:F(K.addFeatureResults),updatedFeatures:F(K.updateFeatureResults),deletedFeatures:F(K.deleteFeatureResults),addedAttachments:F(K.addAttachmentResults),updatedAttachments:F(K.updateAttachmentResults),
deletedAttachments:F(K.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:K.editMoment?new Date(K.editMoment):null,globalIdToObjectId:R.globalIdToObjectId};K.editedFeatureResults?.length&&(N.editedFeatures=K.editedFeatureResults);J.resolve(N);return K}catch(K){throw J.reject(K),K;}};a.checkEditingCapabilities=L;a.isFeatureIdentifierArrayWithGlobalId=function(E){return E.every(A)};a.isFeatureIdentifierArrayWithObjectId=function(E){return E.every(x)};a.isFeatureIdentifierWithGlobalId=
A;a.isFeatureIdentifierWithObjectId=x;a.normalizeCollections=B;a.normalizeEdits=C;a.normalizeGeometries=y;a.shallowCloneFeature=M;a.uploadAssets=function(E,F,H,R){if(null==F?.applyEdits)throw new h(`${E.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:E});if(!F.uploadAssets)throw new h(`${E.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:E});return F.uploadAssets(H,R)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){function r(w){const z=[];let k=0,v=0;for(let y=0;y<w.length;y++){const B=w[y];let C=null;for(let L=0;L<B.length;L++)C=B[L],z.push(C),0===L?v=k=C[0]:(k=Math.min(k,C[0]),
v=Math.max(v,C[0]));C&&z.push([(k+v)/2,0])}return z}function t(w,z){if(!(w instanceof n||w instanceof d))throw u().error("straightLineDensify: the input geometry is neither polyline nor polygon"),new c("straightLineDensify: the input geometry is neither polyline nor polygon");var k=m.getGeometryParts(w);const v=[];for(const B of k){k=[];v.push(k);k.push([B[0][0],B[0][1]]);for(let C=0;C<B.length-1;C++){const L=B[C][0],M=B[C][1],G=B[C+1][0],E=B[C+1][1];var y=Math.sqrt((G-L)*(G-L)+(E-M)*(E-M));const F=
(E-M)/y,H=(G-L)/y,R=y/z;if(1<R){for(let J=1;J<=R-1;J++){const K=J*z;k.push([H*K+L,F*K+M])}y=(y+Math.floor(R-1)*z)/2;k.push([H*y+L,F*y+M])}k.push([G,E])}}return"polygon"===w.type?new d({rings:v,spatialReference:w.spatialReference}):new n({paths:v,spatialReference:w.spatialReference})}function l(w,z,k){z&&(w=t(w,1E6),w=g.webMercatorToGeographic(w,!0));k&&(w=m.updatePolyGeometry(w,k));return w}function q(w,z,k){if(Array.isArray(w)){var v=w[0];v>z?(k=m.offsetMagnitude(v,z),w[0]=v+-2*k*z):v<k&&(z=m.offsetMagnitude(v,
k),w[0]=v+-2*z*k)}else v=w.x,v>z?(k=m.offsetMagnitude(v,z),w=w.clone().offset(-2*k*z,0)):v<k&&(z=m.offsetMagnitude(v,k),w=w.clone().offset(-2*z*k,0));return w}function x(w,z){let k=-1;for(let v=0;v<z.cutIndexes.length;v++){const y=z.cutIndexes[v],B=z.geometries[v],C=m.getGeometryParts(B);for(let L=0;L<C.length;L++){const M=C[L];M.some(G=>{if(180>G[0])return!0;G=0;for(var E=0;E<M.length;E++){var F=M[E][0];G=F>G?F:G}G=Number(G.toFixed(9));G=-360*m.offsetMagnitude(G,180);for(E=0;E<M.length;E++)F=B.getPoint(L,
E),B.setPoint(L,E,F.clone().offset(G,0));return!0})}if(y===k)if("polygon"===w[0].type)for(const L of m.getGeometryParts(B))w[y]=w[y].addRing(L);else{if("polyline"===w[0].type)for(const L of m.getGeometryParts(B))w[y]=w[y].addPath(L)}else k=y,w[y]=B}return w}async function A(w,z,k){if(!Array.isArray(w))return A([w],z);z&&"string"!==typeof z&&u().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var v="string"===typeof z?z:z?.url??b.geometryServiceUrl;let y,
B,C;let L=0;var M=[];z=[];for(var G of w)if(null==G)z.push(G);else{if(!E){var E=G.spatialReference;var F=e.getInfo(E);var H=(y=E.isWebMercator)?102100:4326;B=m.cutParams[H].maxX;C=m.cutParams[H].minX;var R=m.cutParams[H].plus180Line;H=m.cutParams[H].minus180Line}if(F)if("mesh"===G.type)z.push(G);else if("point"===G.type)z.push(q(G.clone(),B,C));else if("multipoint"===G.type){var J=G.clone();J.points=J.points.map(K=>q(K,B,C));z.push(J)}else if("extent"===G.type)J=G.clone()._normalize(!1,!1,F),z.push(J.rings?
new d(J):J);else if(G.extent){J=G.extent;const K=2*m.offsetMagnitude(J.xmin,C)*B;let Q=0===K?G.clone():m.updatePolyGeometry(G.clone(),K);J.offset(K,0);let {xmin:N,xmax:U}=J;N=Number(N.toFixed(9));U=Number(U.toFixed(9));J.intersects(R)&&U!==B?(L=U>L?U:L,Q=l(Q,y),M.push(Q),z.push("cut")):J.intersects(H)&&N!==C?(L=2*U*B>L?2*U*B:L,Q=l(Q,y,360),M.push(Q),z.push("cut")):z.push(Q)}else z.push(G.clone());else z.push(G)}E=m.offsetMagnitude(L,B);F=-90;R=E;for(G=new n;0<E;)H=-180+360*E,G.addPath([[H,F],[H,-1*
F]]),F*=-1,E--;if(0<M.length&&0<R){E=await f.cut(v,M,G,k);E=x(M,E);F=[];M=[];for(R=0;R<z.length;R++)G=z[R],"cut"!==G?M.push(G):(G=E.shift(),H=w[R],null!=H&&"polygon"===H.type&&H.rings&&1<H.rings.length&&G.rings.length>=H.rings.length?(F.push(G),M.push("simplify")):M.push(y?g.geographicToWebMercator(G):G));if(!F.length)return M;z=await p.simplify(v,F,k);w=[];for(k=0;k<M.length;k++)v=M[k],"simplify"!==v?w.push(v):w.push(y?g.geographicToWebMercator(z.shift()):z.shift());return w}w=[];for(k=0;k<z.length;k++)v=
z[k],"cut"!==v?w.push(v):(v=M.shift(),w.push(!0===y?g.geographicToWebMercator(v):v));return w}const u=()=>h.getLogger("esri.geometry.support.normalizeUtils");a.getClosestDenormalizedXToReference=function(w,z,k){k=e.getInfo(k);if(null==k)return w;const [v,y]=k.valid;k=2*y;let B=0,C=0;z>y?B=Math.ceil(Math.abs(z-y)/k):z<v&&(B=-Math.ceil(Math.abs(z-v)/k));w>y?C=Math.ceil(Math.abs(w-y)/k):w<v&&(C=-Math.ceil(Math.abs(w-v)/k));w+=(B-C)*k;z=w-z;z>y?w-=k:z<v&&(w+=k);return w};a.getDenormalizedExtent=function(w){if(!w)return null;
const z=w.extent;if(!z)return null;var k=w.spatialReference&&e.getInfo(w.spatialReference);if(!k)return z;const [v,y]=k.valid;({width:k}=z);let {xmin:B,xmax:C}=z;[B,C]=[C,B];if("extent"===w.type||0===k||k<=y||k>2*y||B<v||C>y)return z;let L;switch(w.type){case "polygon":if(1<w.rings.length)L=r(w.rings);else return z;break;case "polyline":if(1<w.paths.length)L=r(w.paths);else return z;break;case "multipoint":L=w.points}w=z.clone();for(let M=0;M<L.length;M++){let G=L[M][0];0>G?(G+=y,C=Math.max(G,C)):
(G-=y,B=Math.min(G,B))}w.xmin=B;w.xmax=C;return w.width<k?(w.xmin-=y,w.xmax-=y,w):z};a.normalizeCentralMeridian=A;a.normalizeMapX=function(w,z){if(z=e.getInfo(z)){const [k,v]=z.valid;z=v-k;if(w<k)for(;w<k;)w+=z;if(w>v)for(;w>v;)w-=z}return w};a.straightLineDensify=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,c,h){function d(n){return h.isPolygon(n)?
n.rings:n.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,
-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=b;a.getGeometryParts=d;a.offsetMagnitude=function(n,m){return Math.ceil((n-m)/(2*m))};a.updatePolyGeometry=function(n,m){const e=d(n);for(const g of e)for(const f of g)f[0]+=m;return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../geometry ../../request ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ../utils".split(" "),function(a,
b,c,h,d,n){a.cut=async function(m,e,g,f){m=n.parseUrl(m);const p=e[0].spatialReference;e={...f,responseType:"json",query:{...m.query,f:"json",sr:d.srToRESTValue(p),target:JSON.stringify({geometryType:h.getJsonType(e[0]),geometries:e}),cutter:JSON.stringify(g)}};e=await c(m.path+"/cut",e);const {cutIndexes:r,geometries:t=[]}=e.data;return{cutIndexes:r,geometries:t.map(l=>{l=h.fromJSON(l);l.spatialReference=p;return l})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),
function(a,b,c,h,d,n){function m(e,g,f){const p={};for(const t in e)if("declaredClass"!==t){var r=e[t];null!=r&&"function"!==typeof r&&(Array.isArray(r)?p[t]=r.map(l=>m(l)):"object"===typeof r?r.toJSON?(r=r.toJSON(f?.[t]),p[t]=g?r:JSON.stringify(r)):p[t]=g?r:JSON.stringify(r):p[t]=r)}return p}a.asValidOptions=function(e,g){return g?{...g,query:{...(e??{}),...g.query}}:{query:e}};a.encode=m;a.getToken=function(e,g){return e?n.isApiKeyApplicable(e,g)?g||b.apiKey:c.id?.findCredential(e)?.token:null};
a.parseUrl=function(e){return"string"===typeof e?d.urlToObject(e):h.clone(e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define("exports ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./utils".split(" "),function(a,b,c,h,d,n){a.simplify=async function(m,e,g){const f="string"===typeof m?c.urlToObject(m):m;m=e[0].spatialReference;const p=h.getJsonType(e[0]);e={...g,query:{...f.query,
f:"json",sr:d.srToRESTValue(m),geometries:JSON.stringify(n.encodeGeometries(e))}};({data:e}=await b(f.path+"/simplify",e));return n.decodeGeometries(e.geometries,p,m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(a,b){a.decodeGeometries=function(c,h,d){const n=b.getGeometryType(h);return c.map(m=>{m=n.fromJSON(m);m.spatialReference=d;return m})};a.encodeGeometries=function(c){return{geometryType:b.getJsonType(c[0]),
geometries:c.map(h=>h.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define("exports ../../../../core/has ../../../../core/lang ../../data/QueryEngineCapabilities ../../../support/capabilities ../../../../symbols/support/defaultsJSON".split(" "),function(a,b,c,h,d,n){function m(f){return e.test(f)?`.${f}`:`["${f}"]`}const e=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let g=1;a.createCapabilities=function(f,p){return{analytics:{supportsCacheHint:!1},
attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:f},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:p,supportsDelete:p,supportsEditing:p,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:p,supportsExceedsLimitStatistics:!0,
supportsAsyncConvert3D:!1},query:h.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:d.zeroQueryBins,editing:{supportsGeometryUpdate:p,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,
supportsAsyncApplyEdits:!1,zDefault:void 0}}};a.createDefaultAttributesFunction=function(f,p){if(b("esri-csp-restrictions"))return()=>({[p]:null,...f});try{let r=`this${m(p)} = null;`;for(const l in f){const q=m(l);r+=`this${q} = ${JSON.stringify(f[l])};`}const t=(new Function(`\n      return class AttributesClass$${g++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `))();return()=>new t}catch(r){return()=>({[p]:null,...f})}};a.createDefaultTemplate=function(f={}){return[{name:"New Feature",
description:"",prototype:{attributes:c.clone(f)}}]};a.createDrawingInfo=function(f){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===f||"esriGeometryMultipoint"===f?n.defaultPointSymbolJSON:"esriGeometryPolyline"===f?n.defaultPolylineSymbolJSON:n.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,
supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,
supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/capabilities":function(){define(["exports"],function(a){const b=
{supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportedStatistics:void 0};a.zeroCapabilities={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,
supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,
supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:b,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,
supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,
supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}};a.zeroQueryBins=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/support/spatialReferenceUtils ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v){const y=B=>Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));c=class extends c{constructor(B){super(B);this.infoFor3D=this.gdbVersion=this.fieldsIndex=this.dynamicDataSource=null;this.queryAttachmentsSupported=this.pbfSupported=!1;this.url=this.sourceSpatialReference=null}get parsedUrl(){return m.urlToObject(this.url)}async execute(B,C){const L=await this.executeJSON(B,C);return this.featureSetFromJSON(B,
L,C)}async executeJSON(B,C){const L=this._normalizeQuery(B);B=null!=B.outStatistics?.[0];const M=d("featurelayer-pbf-statistics");B=!B||M;let G;if(this.pbfSupported&&B)try{G=await z.executeRawQueryPBF(this.url,L,C)}catch(E){if("query:parsing-pbf"===E.name)this.pbfSupported=!1;else throw E;}this.pbfSupported&&B||(G=await w.executeRawQueryJSON(this.url,L,C));this._normalizeFields(G.fields);return G}async featureSetFromJSON(B,C,L){if(!this._queryIs3DObjectFormat(B)||null==this.infoFor3D||!C.features)return k.fromJSON(C);
({meshFeatureSetFromJSON:L}=await n.whenOrAbort(new Promise((M,G)=>a(["../../../../rest/support/meshFeatureSet"],M,G)),L));return L(B,this.infoFor3D,C)}executeForCount(B,C){return x.executeForCount(this.url,this._normalizeQuery(B),C)}executeForExtent(B,C){return A.executeForExtent(this.url,this._normalizeQuery(B),C)}executeForIds(B,C){return u.executeForIds(this.url,this._normalizeQuery(B),C)}async executeRelationshipQuery(B,C){const [{default:L},{executeRelationshipQuery:M}]=await n.whenOrAbort(Promise.all([new Promise((G,
E)=>a(["../../../../rest/support/RelationshipQuery"],F=>G(y(F)),E)),new Promise((G,E)=>a(["../../../../rest/query/executeRelationshipQuery"],G,E))]),C);B=L.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return M(this.url,B,C)}async executeRelationshipQueryForCount(B,C){const [{default:L},{executeRelationshipQueryForCount:M}]=await n.whenOrAbort(Promise.all([new Promise((G,E)=>
a(["../../../../rest/support/RelationshipQuery"],F=>G(y(F)),E)),new Promise((G,E)=>a(["../../../../rest/query/executeRelationshipQuery"],G,E))]),C);B=L.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return M(this.url,B,C)}async executeAttachmentQuery(B,C){const {executeAttachmentQuery:L,fetchAttachments:M,processAttachmentQueryResult:G}=await n.whenOrAbort(new Promise((F,H)=>
a(["../../../../rest/query/operations/queryAttachments"],F,H)),C),E=q.parseUrl(this.url);B=await (this.queryAttachmentsSupported?L(E,B,C):M(E,B,C));return G(E,B)}async executeBinsQuery(B,C){const {executeBinsQuery:L}=await n.whenOrAbort(new Promise((M,G)=>a(["../../../../rest/query/executeBinsQuery"],M,G)),C);return L(this.parsedUrl,B,C)}async executeTopFeaturesQuery(B,C){const {executeTopFeaturesQuery:L}=await n.whenOrAbort(new Promise((M,G)=>a(["../../../../rest/query/executeTopFeaturesQuery"],
M,G)),C);return L(this.parsedUrl,B,this.sourceSpatialReference,C)}async executeForTopIds(B,C){const {executeForTopIds:L}=await n.whenOrAbort(new Promise((M,G)=>a(["../../../../rest/query/executeForTopIds"],M,G)),C);return L(this.parsedUrl,B,C)}async executeForTopExtents(B,C){const {executeForTopExtents:L}=await n.whenOrAbort(new Promise((M,G)=>a(["../../../../rest/query/executeForTopExtents"],M,G)),C);return L(this.parsedUrl,B,C)}async executeForTopCount(B,C){const {executeForTopCount:L}=await n.whenOrAbort(new Promise((M,
G)=>a(["../../../../rest/query/executeForTopCount"],M,G)),C);return L(this.parsedUrl,B,C)}_normalizeQuery(B){let C=v.from(B);C.sourceSpatialReference=C.sourceSpatialReference||this.sourceSpatialReference;if(this.gdbVersion||this.dynamicDataSource)C=C===B?C.clone():C,C.gdbVersion=B.gdbVersion||this.gdbVersion,C.dynamicDataSource=B.dynamicDataSource?l.DataLayerSource.from(B.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:L}=this;if(null!=L&&this._queryIs3DObjectFormat(B)){C=C===B?C.clone():
C;C.formatOf3DObjects=null;const M=t.getGlbFormatId(L),G=t.getGltfFormatId(L);for(const E of L.queryFormats){if(E===M){C.formatOf3DObjects=E;break}E!==G||C.formatOf3DObjects||(C.formatOf3DObjects=E)}if(!C.formatOf3DObjects)throw new h("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(C.outSpatialReference&&!r.equals(C.outSpatialReference,this.sourceSpatialReference))throw new h("query:unsupported-out-spatial-reference",
"3D object feature services do not support projection of geometries");if(null==C.outFields||!C.outFields.includes("*")){C=C===B?C.clone():C;null==C.outFields&&(C.outFields=[]);const {originX:E,originY:F,originZ:H,translationX:R,translationY:J,translationZ:K,scaleX:Q,scaleY:N,scaleZ:U,rotationX:Z,rotationY:fa,rotationZ:pa,rotationDeg:xa}=L.transformFieldRoles;C.outFields.push(E,F,H,R,J,K,Q,N,U,Z,fa,pa,xa)}}return C}_normalizeFields(B){if(null!=this.fieldsIndex&&null!=B)for(const C of B)(B=this.fieldsIndex.get(C.name))&&
Object.assign(C,B.toJSON())}_queryIs3DObjectFormat(B){return null!=this.infoFor3D&&!0===B.returnGeometry&&"xyFootprint"!==B.multipatchOption&&!B.outStatistics}};b.__decorate([e.property({type:l.DataLayerSource})],c.prototype,"dynamicDataSource",void 0);b.__decorate([e.property()],c.prototype,"fieldsIndex",void 0);b.__decorate([e.property()],c.prototype,"gdbVersion",void 0);b.__decorate([e.property()],c.prototype,"infoFor3D",void 0);b.__decorate([e.property({readOnly:!0})],c.prototype,"parsedUrl",
null);b.__decorate([e.property()],c.prototype,"pbfSupported",void 0);b.__decorate([e.property()],c.prototype,"queryAttachmentsSupported",void 0);b.__decorate([e.property()],c.prototype,"sourceSpatialReference",void 0);b.__decorate([e.property({type:String})],c.prototype,"url",void 0);return c=b.__decorate([p.subclass("esri.layers.graphics.sources.support.QueryTask")],c)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,
b,c,h){a.executeForCount=async function(d,n,m){d=b.parseUrl(d);({data:n}=await c.executeQueryForCount(d,h.from(n),m));return n.count};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(a,
b,c,h,d,n,m,e,g){function f(l,q){if(q&&"extent"===l.type)return`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`;if(q&&"point"===l.type)return`${l.x},${l.y}`;l=l.toJSON();delete l.spatialReference;return JSON.stringify(l)}function p(l,q){const x=l.geometry,A=l.toJSON();delete A.compactGeometryEnabled;delete A.defaultSpatialReferenceEnabled;let u,w,z;null!=x&&(w=x.spatialReference,z=n.srToRESTValue(w),A.geometryType=h.getJsonType(x),A.geometry=f(x,l.compactGeometryEnabled),A.inSR=z);A.groupByFieldsForStatistics&&
(A.groupByFieldsForStatistics=A.groupByFieldsForStatistics.join(","));A.objectIds&&(A.objectIds=A.objectIds.join(","));A.orderByFields&&(A.orderByFields=A.orderByFields.join(","));!A.outFields||!A.returnDistinctValues&&(q?.returnCountOnly||q?.returnExtentOnly||q?.returnIdsOnly)?delete A.outFields:A.outFields.includes("*")?A.outFields="*":A.outFields=A.outFields.join(",");A.outSR?(A.outSR=n.srToRESTValue(A.outSR),u=l.outSpatialReference):x&&(A.returnGeometry||A.returnCentroid)&&(A.outSR=A.inSR,u=w);
A.returnGeometry&&delete A.returnGeometry;A.outStatistics&&(A.outStatistics=JSON.stringify(A.outStatistics));A.fullText&&(A.fullText=JSON.stringify(A.fullText));A.pixelSize&&(A.pixelSize=JSON.stringify(A.pixelSize));A.quantizationParameters&&(l.defaultSpatialReferenceEnabled&&null!=w&&null!=l.quantizationParameters?.extent&&w.equals(l.quantizationParameters.extent.spatialReference)&&delete A.quantizationParameters.extent.spatialReference,A.quantizationParameters=JSON.stringify(A.quantizationParameters));
A.parameterValues&&(A.parameterValues=JSON.stringify(A.parameterValues));A.rangeValues&&(A.rangeValues=JSON.stringify(A.rangeValues));A.dynamicDataSource&&(A.layer=JSON.stringify({source:A.dynamicDataSource}),delete A.dynamicDataSource);if(A.timeExtent){const {start:k,end:v}=A.timeExtent;if(null!=k||null!=v)A.time=k===v?k:`${null==k?"null":k},${null==v?"null":v}`;delete A.timeExtent}l.defaultSpatialReferenceEnabled&&null!=w&&null!=u&&w.equals(u)&&(A.defaultSR=A.inSR,delete A.inSR,delete A.outSR);
return A}function r(l,q,x){return t(l,q,"pbf",x)}async function t(l,q,x,A={},u={}){l="string"===typeof l?c.urlToObject(l):l;var w=(await d.normalizeCentralMeridian(q.geometry?[q.geometry]:[],null,{signal:A.signal}))?.[0];null!=w&&(q=q.clone(),q.geometry=w);w=m.mapParameters({...l.query,f:x,...u,...p(q,u)});return b(c.join(l.path,null==q.formatOf3DObjects||u.returnCountOnly||u.returnExtentOnly||u.returnIdsOnly?"query":"query3d"),{...A,responseType:"pbf"===x?"array-buffer":"json",query:{...w,...A.query}})}
a.encodeGeometry=f;a.executeQuery=async function(l,q,x,A){l=null!=q.timeExtent&&q.timeExtent.isEmpty?{data:{features:[]}}:await t(l,q,"json",A);g.applyFeatureSetZUnitScaling(q,x,l.data);return l};a.executeQueryForCount=function(l,q,x){return null!=q.timeExtent&&q.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):t(l,q,"json",x,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(l,q,x){if(null!=q.timeExtent&&q.timeExtent.isEmpty)return{data:{count:0,extent:null}};l=await t(l,
q,"json",x,{returnExtentOnly:!0,returnCountOnly:!0});q=l.data;if(q.hasOwnProperty("extent"))return l;if(q.features)throw Error("Layer does not support extent calculation.");if(q.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return l};a.executeQueryForIds=function(l,q,x){return null!=q.timeExtent&&q.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):t(l,q,"json",x,{returnIdsOnly:!0})};a.executeQueryPBF=async function(l,q,x,A){if(null!=q.timeExtent&&q.timeExtent.isEmpty)return{data:x.createFeatureResult()};
l=await r(l,q,A);l.data=e.parsePBFFeatureQuery(l.data,x);return l};a.executeQueryPBFBuffer=r;a.queryToQueryStringParameters=p;a.runQuery=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(c){const h={};for(const d in c){if("declaredClass"===d)continue;const n=c[d];if(null!=n&&"function"!==typeof n)if(Array.isArray(n)){h[d]=[];for(let m=0;m<n.length;m++)h[d][m]=b(n[m])}else"object"===typeof n?n.toJSON&&
(h[d]=JSON.stringify(n)):h[d]=n}return h}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(c,h){var d=b.parseFeatureQuery(c,h);c=d.queryResult.featureResult;h=d.queryResult.queryGeometry;d=d.queryResult.queryGeometryType;if(c&&c.features&&c.features.length&&c.objectIdFieldName){const n=c.objectIdFieldName;for(const m of c.features)m.attributes&&
(m.objectId=m.attributes[n])}c&&(c.queryGeometry=h,c.queryGeometryType=d);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,c,h,d){function n(B){return B>=k.length?null:k[B]}function m(B,C,L){B=B.asUnsafe();for(L=C.createPointGeometry(L);B.next();)switch(B.tag()){case 3:var M=
B.getUInt32();M=B.pos()+M;let G=0;for(;B.pos()<M;)C.addCoordinatePoint(L,B.getSInt64(),G++);break;default:B.skip()}return L}function e(B,C,L){B=B.asUnsafe();const M=C.createGeometry(L);for(L=2+(L.hasZ?1:0)+(L.hasM?1:0);B.next();)switch(B.tag()){case 2:var G=B.getUInt32();G=B.pos()+G;for(var E=0;B.pos()<G;)C.addLength(M,B.getUInt32(),E++);break;case 3:G=B.getUInt32();G=B.pos()+G;E=0;for(C.allocateCoordinates(M);B.pos()<G;)C.addCoordinate(M,B.getSInt64(),E),E++,E===L&&(E=0);break;default:B.skip()}return M}
function g(B){B=B.asUnsafe();const C=new h;let L="esriGeometryPoint";for(;B.next();)switch(B.tag()){case 2:var M=B.getUInt32();for(M=B.pos()+M;B.pos()<M;)C.lengths.push(B.getUInt32());break;case 3:M=B.getUInt32();for(M=B.pos()+M;B.pos()<M;)C.coords.push(B.getSInt64());break;case 1:L=d.optimizedGeometryTypes[B.getEnum()];break;default:B.skip()}return{queryGeometry:C,queryGeometryType:L}}function f(B){for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:return B.getString();case 2:return B.getFloat();
case 3:return B.getDouble();case 4:return B.getSInt32();case 5:return B.getUInt32();case 6:return B.getInt64();case 7:return B.getUInt64();case 8:return B.getSInt64();case 9:return B.getBool();default:return B.skip(),null}return null}function p(B){B=B.asUnsafe();const C={type:n(0)};for(;B.next();)switch(B.tag()){case 1:C.name=B.getString();break;case 2:C.type=n(B.getEnum());break;case 3:C.alias=B.getString();break;case 4:var L=B.getEnum();L=L>=v.length?null:v[L];C.sqlType=L;break;case 5:B.skip();
break;case 6:C.defaultValue=B.getString();break;default:B.skip()}return C}function r(B){const C={};for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:C.name=B.getString();break;case 2:C.isSystemMaintained=B.getBool();break;default:B.skip()}return C}function t(B,C,L,M){const G=C.createFeature(L);let E=0;for(;B.next();)switch(B.tag()){case 1:const F=M[E++].name;G.attributes[F]=B.processMessage(f);break;case 2:G.geometry=B.processMessageWithArgs(e,C,L);break;case 4:G.centroid=B.processMessageWithArgs(m,
C,L);break;default:B.skip()}return G}function l(B){const C=[1,1,1,1];for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:C[0]=B.getDouble();break;case 2:C[1]=B.getDouble();break;case 4:C[2]=B.getDouble();break;case 3:C[3]=B.getDouble();break;default:B.skip()}return C}function q(B){const C=[0,0,0,0];for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:C[0]=B.getDouble();break;case 2:C[1]=B.getDouble();break;case 4:C[2]=B.getDouble();break;case 3:C[3]=B.getDouble();break;default:B.skip()}return C}function x(B){const C=
{originPosition:0>=y.length?null:y[0]};for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:var L=B.getEnum();C.originPosition=L>=y.length?null:y[L];break;case 2:C.scale=B.processMessage(l);break;case 3:C.translate=B.processMessage(q);break;default:B.skip()}return C}function A(B){const C={};for(B=B.asUnsafe();B.next();)switch(B.tag()){case 1:C.shapeAreaFieldName=B.getString();break;case 2:C.shapeLengthFieldName=B.getString();break;case 3:C.units=B.getString();break;default:B.skip()}return C}function u(B,
C){for(C=C.createSpatialReference();B.next();)switch(B.tag()){case 1:C.wkid=B.getUInt32();break;case 5:C.wkt=B.getString();break;case 2:C.latestWkid=B.getUInt32();break;case 3:C.vcsWkid=B.getUInt32();break;case 4:C.latestVcsWkid=B.getUInt32();break;default:B.skip()}return C}function w(B,C){const L=C.createFeatureResult();B=B.asUnsafe();L.geometryType=0>=C.geometryTypes.length?null:C.geometryTypes[0];let M=!1;for(;B.next();)switch(B.tag()){case 1:L.objectIdFieldName=B.getString();break;case 3:L.globalIdFieldName=
B.getString();break;case 4:L.geohashFieldName=B.getString();break;case 5:L.geometryProperties=B.processMessage(A);break;case 7:var G=B.getEnum();L.geometryType=G>=C.geometryTypes.length?null:C.geometryTypes[G];break;case 8:L.spatialReference=B.processMessageWithArgs(u,C);break;case 10:L.hasZ=B.getBool();break;case 11:L.hasM=B.getBool();break;case 12:L.transform=B.processMessage(x);break;case 9:L.exceededTransferLimit=B.getBool();break;case 13:C.addField(L,B.processMessage(p));break;case 15:M||(C.prepareFeatures(L),
M=!0);C.addFeature(L,B.processMessageWithArgs(t,C,L,L.fields));break;case 2:L.uniqueIdField=B.processMessage(r);break;default:B.skip()}C.finishFeatureResult(L);return L}function z(B,C){const L={};let M=null;for(;B.next();)switch(B.tag()){case 4:M=B.processMessageWithArgs(g);break;case 1:L.featureResult=B.processMessageWithArgs(w,C);break;default:B.skip()}null!=M&&L.featureResult&&C.addQueryGeometry(L,M);return L}const k="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
v="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),y=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(B,C){try{const L=new c(new Uint8Array(B),new DataView(B));
for(B={};L.next();)switch(L.tag()){case 2:B.queryResult=L.processMessageWithArgs(z,C);break;default:L.skip()}return B}catch(L){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:L});}};a.parseField=p;a.parseFieldType=n;a.parseTransform=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var c;(function(m){m[m.varint=0]="varint";m[m.fixed64=1]="fixed64";m[m.delimited=2]="delimited";
m[m.fixed32=5]="fixed32";m[m.unknown=99]="unknown"})(c||={});const h=new TextDecoder("utf-8"),d=a("safari")||a("ios")?6:a("ff")?12:32;class n{constructor(m,e,g=0,f=m?m.byteLength:0){this._tag=0;this._dataType=c.unknown;this._init(m,e,g,f)}_init(m,e,g,f){this._data=m;this._dataView=e;this._pos=g;this._end=f}asUnsafe(){return this}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(m){this._pos=m}nextTag(m){for(;;){if(this._pos===this._end)return!1;const e=
this._decodeVarint();this._tag=e>>3;this._dataType=e&7;if(!m||m===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const m=this._decodeVarint();this._tag=m>>3;this._dataType=m&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let m=4294967295;m=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return m;throw Error("Varint overflow");}getUInt64(){return this._decodeVarint()}getSInt32(){const m=this.getUInt32();return m>>>1^-(m&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const m=0!==this._data[this._pos];this._skip(1);
return m}getEnum(){return this._decodeVarint()}getFixed64(){var m=this._dataView;const e=this._pos;m=m.getUint32(e,!0)+4294967296*m.getUint32(e+4,!0);this._skip(8);return m}getSFixed64(){var m=this._dataView;const e=this._pos;m=m.getUint32(e,!0)+4294967296*m.getInt32(e+4,!0);this._skip(8);return m}getDouble(){const m=this._dataView.getFloat64(this._pos,!0);this._skip(8);return m}getFixed32(){const m=this._dataView.getUint32(this._pos,!0);this._skip(4);return m}getSFixed32(){const m=this._dataView.getInt32(this._pos,
!0);this._skip(4);return m}getFloat(){const m=this._dataView.getFloat32(this._pos,!0);this._skip(4);return m}getString(){const m=this._getLength();var e=this._pos;e=this._toString(this._data,e,e+m);this._skip(m);return e}getBytes(){const m=this._getLength();var e=this._pos;e=this._toBytes(this._data,e,e+m);this._skip(m);return e}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(m,e,g,f){const p=this.getMessage();m=m(p,e,g,f);p.release();return m}processMessage(m){const e=this.getMessage();
m=m(e);e.release();return m}getMessage(){const m=this._getLength(),e=n.pool.acquire();e._init(this._data,this._dataView,this._pos,this._pos+m);this._skip(m);return e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case c.varint:this._decodeVarint();break;case c.fixed64:this._skip(8);break;case c.delimited:this._skip(this._getLength());break;case c.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(m){this._skip(m)}_skip(m){if(this._pos+
m>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=m}_decodeVarint(){const m=this._data;let e=this._pos,g=0,f=0;if(10<=this._end-e){if(f=m[e++],g|=f&127,0!==(f&128)&&(f=m[e++],g|=(f&127)<<7,0!==(f&128)&&(f=m[e++],g|=(f&127)<<14,0!==(f&128)&&(f=m[e++],g|=(f&127)<<21,0!==(f&128)&&(f=m[e++],g+=268435456*(f&127),0!==(f&128)&&(f=m[e++],g+=34359738368*(f&127),0!==(f&128)&&(f=m[e++],g+=4398046511104*(f&127),0!==(f&128)&&(f=m[e++],g+=562949953421312*(f&127),0!==(f&128)&&(f=m[e++],
g+=72057594037927936*(f&127),0!==(f&128)&&(f=m[e++],g+=0x7fffffffffffffff*(f&127),0!==(f&128)))))))))))throw Error("Varint too long!");}else{let p=1;for(;e!==this._end;){f=m[e];if(0===(f&128))break;++e;g+=(f&127)*p;p*=128}if(e===this._end)throw Error("Varint overrun!");++e;g+=f*p}this._pos=e;return g}_decodeSVarint(){const m=this._data;let e=0;const g=m[this._pos]&1;e=m[this._pos++];var f=0|e&127;if(0===(e&128))return g?-(f+1)/2:f/2;e=m[this._pos++];f|=(e&127)<<7;if(0===(e&128))return g?-(f+1)/2:
f/2;e=m[this._pos++];f|=(e&127)<<14;if(0===(e&128))return g?-(f+1)/2:f/2;e=m[this._pos++];f|=(e&127)<<21;if(0===(e&128))return g?-(f+1)/2:f/2;e=m[this._pos++];f+=268435456*(e&127);if(0===(e&128))return g?-(f+1)/2:f/2;e=m[this._pos++];f+=34359738368*(e&127);if(0===(e&128))return g?-(f+1)/2:f/2;e=m[this._pos++];f+=4398046511104*(e&127);if(0===(e&128))return g?-(f+1)/2:f/2;f=BigInt(f);e=m[this._pos++];f+=562949953421312n*BigInt(e&127);if(0===(e&128))return Number(g?-(f+1n)/2n:f/2n);e=m[this._pos++];
f+=72057594037927936n*BigInt(e&127);if(0===(e&128))return Number(g?-(f+1n)/2n:f/2n);e=m[this._pos++];f+=9223372036854775808n*BigInt(e&127);if(0===(e&128))return Number(g?-(f+1n)/2n:f/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==c.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(m,e,g){g=Math.min(this._end,g);if(g-e>d)return m=m.subarray(e,g),h.decode(m);let f="",p="";for(;e<g;++e){const r=
m[e];r&128?p+="%"+r.toString(16):(f+=decodeURIComponent(p)+String.fromCharCode(r),p="")}p.length&&(f+=decodeURIComponent(p));return f}_toBytes(m,e,g){g=Math.min(this._end,g);return new Uint8Array(m.buffer,e,g-e)}}n.pool=new b(n,void 0,m=>{m._data=null;m._dataView=null});return n})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class a{constructor(b=[],c=[]){this.lengths=b??[];this.coords=c??[]}static fromJSON(b){return new a(b.lengths,b.coords)}static fromRect(b){const [c,
h,d,n]=b;b=d-c;const m=n-h;return new a([5],[c,h,b,0,0,m,-b,0,0,-m])}get isPoint(){return 0===this.lengths.length&&2<=this.coords.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((b,c)=>b+c)}forEachVertex(b){let c=0;this.lengths.length||b(this.coords[0],this.coords[1]);for(let h=0;h<this.lengths.length;h++){const d=this.lengths[h];for(let n=0;n<d;n++)b(this.coords[2*(n+c)],this.coords[2*(n+c)+1]);c+=d}}deltaDecode(){const b=this.clone(),{coords:c,lengths:h}=
b;let d=0;for(const n of h){for(let m=1;m<n;m++)c[2*(d+m)]+=c[2*(d+m)-2],c[2*(d+m)+1]+=c[2*(d+m)-1];d+=n}return b}clone(b){if(0===this.lengths.length)return new a([],[this.coords[0],this.coords[1]]);var c=2*(0===this.lengths.length?1:this.lengths.reduce((h,d)=>h+d));c=this.coords.slice(0,c);return b?(b.set(c),new a(this.lengths,b)):new a(Array.from(this.lengths),Array.from(c))}}return a})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,c,h,d,n){const m=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class e{constructor(g){this._options=g;this.geometryTypes=m;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new d}prepareFeatures(g){this._vertexDimension=2;g.hasZ&&this._vertexDimension++;g.hasM&&this._vertexDimension++}finishFeatureResult(g){if(g?.features&&g.hasZ&&this._options.sourceSpatialReference&&g.spatialReference&&!c.equals(g.spatialReference,
this._options.sourceSpatialReference)&&!g.spatialReference.vcsWkid){var f=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),p=b.getMetersPerVerticalUnitForSR(g.spatialReference);f/=p;if(1!==f)for(const r of g.features)if(h.hasGeometry(r))for(g=r.geometry.coords,p=2;p<g.length;p+=3)g[p]*=f}}addFeature(g,f){g.features.push(f)}createFeature(){return new h.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new n}addField(g,f){g.fields.push(f)}allocateCoordinates(g){g.coords.length=
g.lengths.reduce((f,p)=>f+p,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(g,f){g.coords[this._coordinatePtr++]=f}addCoordinatePoint(g,f){g.coords.push(f)}addLength(g,f){g.lengths.push(f)}addQueryGeometry(g,f){g.queryGeometry=f.queryGeometry;g.queryGeometryType=f.queryGeometryType}createPointGeometry(){return new n}}a.OptimizedFeatureSetParserContext=e;a.optimizedGeometryTypes=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports",
"./OptimizedGeometry"],function(a,b){class c{constructor(d=null,n={},m,e){this.geometry=d;this.attributes=n;this.centroid=m;this.objectId=e;this.geohashY=this.geohashX=this.displayId=0}static fromJSON(d,n){const m=d.geometry?b.fromJSON(d.geometry):null,e=d.centroid?b.fromJSON(d.centroid):null;return new c(m,d.attributes,e,d.attributes[n])}weakClone(){const d=new c(this.geometry,this.attributes,this.centroid,this.objectId);d.displayId=this.displayId;d.geohashX=this.geohashX;d.geohashY=this.geohashY;
return d}clone(){var d=this.geometry?.clone();d=new c(d,{...this.attributes},this.centroid?.clone(),this.objectId);d.displayId=this.displayId;d.geohashX=this.geohashX;d.geohashY=this.geohashY;return d}}class h extends c{}a.OptimizedFeature=c;a.OptimizedFeatureWithGeometry=h;a.hasGeometry=function(d){return!!d.geometry?.coords?.length};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class a{constructor(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;
b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b}}return a})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,
b,c,h,d,n){a.executeForExtent=async function(m,e,g){m=c.parseUrl(m);e=await h.executeQueryForExtent(m,d.from(e),{...g});g=e.data.extent;return!g||isNaN(g.xmin)||isNaN(g.ymin)||isNaN(g.xmax)||isNaN(g.ymax)?{count:e.data.count,extent:null}:{count:e.data.count,extent:n.fromJSON(g)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,c,h){a.executeForIds=async function(d,
n,m){d=b.parseUrl(d);({data:n}=await c.executeQueryForIds(d,h.from(n),m));return n.objectIds};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,c,h,d){async function n(m,e,g){m=b.parseUrl(m);g={...g};e=d.from(e);({data:e}=await c.executeQuery(m,e,e.sourceSpatialReference,g));return e}a.executeQueryJSON=async function(m,e,g){m=await n(m,
e,g);return h.fromJSON(m)};a.executeRawQueryJSON=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),function(a,b,c,h,d,n){async function m(e,g,f){e=b.parseUrl(e);f={...f};g=n.from(g);({data:g}=await h.executeQueryPBF(e,g,new c.JSONFeatureSetParserContext({sourceSpatialReference:g.sourceSpatialReference,applyTransform:!g.quantizationParameters}),
f));return g}a.executeQueryPBF=async function(e,g,f){e=await m(e,n.from(g),f);return d.fromJSON(e)};a.executeRawQueryPBF=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,c,h){function d(t,l){return l}function n(t,l,q,x){switch(q){case 0:return f(t,l+x,0);case 1:return"lowerLeft"===t.originPosition?
f(t,l+x,1):p(t,l+x,1)}}function m(t,l,q,x){switch(q){case 2:return f(t,l,2);default:return n(t,l,q,x)}}function e(t,l,q,x){switch(q){case 2:return 0===l?0:f(t,l,3);default:return n(t,l,q,x)}}function g(t,l,q,x){switch(q){case 3:return 0===l?0:f(t,l,3);default:return m(t,l,q,x)}}function f({translate:t,scale:l},q,x){return t[x]+q*l[x]}function p({translate:t,scale:l},q,x){return t[x]-q*l[x]}class r{constructor(t){this._options=t;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline",
"esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=d;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=this._mValueOffset=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){this._options.applyTransform&&(t.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=null;this._lengths.length=
0;if(t.hasZ){var l=c.getGeometryZScaler(t.geometryType,this._options.sourceSpatialReference,t.spatialReference);if(null!=l)for(const q of t.features)l(q.geometry)}}createSpatialReference(){return{}}addField(t,l){t=t.fields;b.assertIsSome(t);t.push(l);const q=t.map(x=>x.name);this._attributesConstructor=function(){for(const x of q)this[x]=null}}addFeature(t,l){t.features.push(l)}prepareFeatures(t){this._transform=t.transform;this._options.applyTransform&&t.transform&&(this._applyTransform=this._deriveApplyTransform(t));
this._mValueOffset=null;this._vertexDimension=2;t.hasZ&&this._vertexDimension++;t.hasM&&(this._mValueOffset=this._vertexDimension,this._vertexDimension++);switch(t.geometryType){case "esriGeometryPoint":this.addCoordinate=(l,q,x)=>this.addCoordinatePoint(l,q,x);this.createGeometry=l=>this.createPointGeometry(l);break;case "esriGeometryPolygon":this.addCoordinate=(l,q,x)=>this._addCoordinatePolygon(l,q,x);this.createGeometry=l=>this._createPolygonGeometry(l);break;case "esriGeometryPolyline":this.addCoordinate=
(l,q,x)=>this._addCoordinatePolyline(l,q,x);this.createGeometry=l=>this._createPolylineGeometry(l);break;case "esriGeometryMultipoint":this.addCoordinate=(l,q,x)=>this._addCoordinateMultipoint(l,q,x),this.createGeometry=l=>this._createMultipointGeometry(l)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(t,
l,q){0===this._lengths.length&&(this._toAddInCurrentPath=l);this._lengths.push(l)}addQueryGeometry(t,l){const {queryGeometry:q,queryGeometryType:x}=l;l=h.unquantizeOptimizedGeometry(q.clone(),q,!1,!1,this._transform);l=h.convertToGeometry(l,x,!1,!1);t.queryGeometryType=x;t.queryGeometry={...l}}createPointGeometry(t){const l={x:0,y:0,spatialReference:t.spatialReference};t.hasZ&&(l.z=0);t.hasM&&(l.m=0);return l}addCoordinatePoint(t,l,q){l=this._applyTransform(this._transform,l,q,0);switch(q){case 0:t.x=
l;break;case 1:t.y=l;break;case 2:"z"in t?t.z=l:t.m=l;break;case 3:t.m=l}}_transformPathLikeValue(t,l){let q=0;1>=l&&(q=this._previousCoordinate[l],this._previousCoordinate[l]+=t);return null!==this._mValueOffset&&0===t&&0<l&&!(l%this._mValueOffset)?0:this._applyTransform(this._transform,t,l,q)}_addCoordinatePolyline(t,l,q){this._dehydratedAddPointsCoordinate(t.paths,l,q)}_addCoordinatePolygon(t,l,q){this._dehydratedAddPointsCoordinate(t.rings,l,q)}_addCoordinateMultipoint(t,l,q){0===q&&t.points.push([]);
l=this._transformPathLikeValue(l,q);t.points[t.points.length-1].push(l)}_createPolygonGeometry(t){return{rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createPolylineGeometry(t){return{paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createMultipointGeometry(t){return{points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_dehydratedAddPointsCoordinate(t,l,q){0===q&&0===this._toAddInCurrentPath--&&(t.push([]),this._toAddInCurrentPath=
this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);l=this._transformPathLikeValue(l,q);t=t[t.length-1];0===q&&(this._coordinateBufferPtr=0,this._coordinateBuffer=Array(this._vertexDimension),t.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=l}_deriveApplyTransform(t){const {hasZ:l,hasM:q}=t;return l&&q?g:l?m:q?e:n}}a.JSONFeatureSetParserContext=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,b,c,h,d,n,m,e,g,f){function p(Y,ea){return Y?ea?4:3:ea?3:2}function r(Y,ea,ja,V){if(Y){if(ja)return ea&&V?T:ha;if(ea&&V)return I}else if(ea&&V)return ha;return aa}function t({scale:Y,translate:ea},
ja){return Math.round((ja-ea[0])/Y[0])}function l({scale:Y,translate:ea},ja){return Math.round((ea[1]-ja)/Y[1])}function q({scale:Y,translate:ea},ja,V){return ja*Y[V]+ea[V]}function x(Y){Y=Y.coords;return{x:Y[0],y:Y[1]}}function A(Y,ea){Y.coords[0]=ea.x;Y.coords[1]=ea.y;return Y}function u(Y){Y=Y.coords;return{x:Y[0],y:Y[1],z:Y[2]}}function w(Y,ea){Y.coords[0]=ea.x;Y.coords[1]=ea.y;Y.coords[2]=ea.z;return Y}function z(Y){Y=Y.coords;return{x:Y[0],y:Y[1],m:Y[2]}}function k(Y,ea){Y.coords[0]=ea.x;Y.coords[1]=
ea.y;Y.coords[2]=ea.m;return Y}function v(Y){Y=Y.coords;return{x:Y[0],y:Y[1],z:Y[2],m:Y[3]}}function y(Y,ea){Y.coords[0]=ea.x;Y.coords[1]=ea.y;Y.coords[2]=ea.z;Y.coords[3]=ea.m;return Y}function B(Y,ea){return Y&&ea?y:Y?w:ea?k:A}function C(Y,ea,ja,V,O){ja=B(ja,V);for(const {geometry:P,attributes:W}of ea)ea=null!=P?ja(new f,P):null,Y.push(new e.OptimizedFeature(ea,W,null,O?W[O]:void 0));return Y}function L(Y,ea,ja=B(null!=ea.z,null!=ea.m)){return ja(Y,ea)}function M(Y,ea,ja,V){for(const {geometry:O,
attributes:P}of ea)Y.push({attributes:P,geometry:null!=O?G(O,ja,V):null});return Y}function G(Y,ea,ja){if(null==Y)return null;const V=p(ea,ja),O=[];for(let P=0;P<Y.coords.length;P+=V){const W=[];for(let ca=0;ca<V;ca++)W.push(Y.coords[P+ca]);O.push(W)}return ea?ja?{points:O,hasZ:ea,hasM:ja}:{points:O,hasZ:ea}:ja?{points:O,hasM:ja}:{points:O}}function E(Y,ea,ja,V,O){ja=p(ja,V);for(const {geometry:P,attributes:W}of ea)ea=null!=P?F(new f,P,ja):null,Y.push(new e.OptimizedFeature(ea,W,null,O?W[O]:void 0));
return Y}function F(Y,ea,ja=p(ea.hasZ,ea.hasM)){Y.lengths[0]=ea.points.length;const V=Y.coords;let O=0;for(const P of ea.points)for(ea=0;ea<ja;ea++)V[O++]=P[ea];return Y}function H(Y,ea,ja){if(!Y)return null;const V=p(ea,ja),{coords:O,lengths:P}=Y;Y=[];let W=0;for(const ca of P){const oa=[];for(let Aa=0;Aa<ca;Aa++){const Ga=[];for(let Fa=0;Fa<V;Fa++)Ga.push(O[W++]);oa.push(Ga)}Y.push(oa)}return ea?ja?{paths:Y,hasZ:ea,hasM:ja}:{paths:Y,hasZ:ea}:ja?{paths:Y,hasM:ja}:{paths:Y}}function R(Y,ea,ja,V,O){ja=
p(ja,V);for(const {geometry:P,attributes:W,centroid:ca}of ea)ea=null!=P?J(new f,P,ja):null,V=null!=ca?L(new f,ca):null,Y.push(new e.OptimizedFeature(ea,W,V,O?W[O]:void 0));return Y}function J(Y,ea,ja=p(ea.hasZ,ea.hasM)){const {lengths:V,coords:O}=Y;let P=0;for(const W of ea.paths){for(const ca of W)for(ea=0;ea<ja;ea++)O[P++]=ca[ea];V.push(W.length)}return Y}function K(Y,ea,ja){if(!Y)return null;const V=p(ea,ja),{coords:O,lengths:P}=Y;Y=[];let W=0;for(const ca of P){const oa=[];for(let Aa=0;Aa<ca;Aa++){const Ga=
[];for(let Fa=0;Fa<V;Fa++)Ga.push(O[W++]);oa.push(Ga)}Y.push(oa)}return ea?ja?{rings:Y,hasZ:ea,hasM:ja}:{rings:Y,hasZ:ea}:ja?{rings:Y,hasM:ja}:{rings:Y}}function Q(Y,ea,ja=ea.hasZ,V=ea.hasM){return N(Y,ea.rings,ja,V)}function N(Y,ea,ja,V){ja=p(ja,V);const {lengths:O,coords:P}=Y;V=0;za(Y);for(const W of ea){for(const ca of W)for(ea=0;ea<ja;ea++)P[V++]=ca[ea];O.push(W.length)}return Y}function U(Y,ea,ja,V,O,P){Da(Y);if(!ja){for(const W of ea)Y.push(new e.OptimizedFeature(null,W.attributes,null,P?W.attributes[P]:
void 0));return Y}switch(ja){case "esriGeometryPoint":return C(Y,ea,V,O,P);case "esriGeometryMultipoint":return E(Y,ea,V,O,P);case "esriGeometryPolyline":return R(Y,ea,V,O,P);case "esriGeometryPolygon":case "esriGeometryMultiPatch":for(const {geometry:W,centroid:ca,attributes:oa}of ea)ea=null!=W?Q(new f,W,V,O):null,ja=P?oa[P]:void 0,null!=ca?Y.push(new e.OptimizedFeature(ea,oa,A(new f,ca),ja)):Y.push(new e.OptimizedFeature(ea,oa,null,ja));break;default:sa().error("convertToFeatureSet:unknown-geometry",
new b(`Unable to parse unknown geometry type '${ja}'`)),Da(Y)}return Y}function Z(Y,ea,ja,V){Y=Y&&("coords"in Y?Y:Y.geometry);if(null==Y)return null;switch(ea){case "esriGeometryPoint":return ea=x,ja&&V?ea=v:ja?ea=u:V&&(ea=z),ea(Y);case "esriGeometryMultipoint":return G(Y,ja,V);case "esriGeometryPolyline":return H(Y,ja,V);case "esriGeometryPolygon":return K(Y,ja,V);default:return sa().error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${ea}'`)),null}}function fa(Y,
ea,ja,V,O){Da(Y);if(null==ja){for(const W of ea)Y.push({attributes:W.attributes});return Y}switch(ja){case "esriGeometryPoint":ja=x;V&&O?ja=v:V?ja=u:O&&(ja=z);for(var P of ea){const {geometry:W,attributes:ca}=P;V=null!=W?ja(W):null;Y.push({attributes:ca,geometry:V})}break;case "esriGeometryMultipoint":return M(Y,ea,V,O);case "esriGeometryPolyline":for(const {geometry:W,attributes:ca}of ea)Y.push({attributes:ca,geometry:null!=W?H(W,V,O):null});break;case "esriGeometryPolygon":for(const {geometry:W,
attributes:ca,centroid:oa}of ea)P=null!=W?K(W,V,O):null,null!=oa?(ea=x(oa),Y.push({attributes:ca,centroid:ea,geometry:P})):Y.push({attributes:ca,geometry:P});break;default:sa().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ja}'`))}return Y}function pa(Y,ea,ja,V,O,P,W=ja,ca=V){za(Y);if(!ea?.coords.length)return null;O=X[O];const {coords:oa,lengths:Aa}=ea;ea=p(ja,V);const Ga=p(ja&&W,V&&ca);ja=r(ja,V,W,ca);if(!Aa.length)return ja(Y.coords,oa,0,0,t(P,oa[0]),
l(P,oa[1])),za(Y,ea,0),Y;let Fa,Pa=0,Na,Qa=0;for(const Sa of Aa){if(Sa<O)continue;let Ya=0;Na=Qa;ca=V=t(P,oa[Pa]);Fa=W=l(P,oa[Pa+1]);ja(Y.coords,oa,Na,Pa,ca,Fa);Ya++;Pa+=ea;Na+=Ga;for(let cb=1;cb<Sa;cb++,Pa+=ea)if(ca=t(P,oa[Pa]),Fa=l(P,oa[Pa+1]),ca!==V||Fa!==W)ja(Y.coords,oa,Na,Pa,ca-V,Fa-W),Na+=Ga,Ya++,V=ca,W=Fa;Ya>=O&&(Y.lengths.push(Ya),Qa=Na)}Da(Y.coords,Qa);return Y.coords.length?Y:null}function xa(Y,ea,ja,V,O,P,W){let ca=V,oa=0;for(let Ga=P+ja;Ga<W;Ga+=ja){var Aa=ea[Ga];const Fa=ea[Ga+1],Pa=
ea[W],Na=ea[W+1];let Qa=ea[P],Sa=ea[P+1],Ya=Pa-Qa,cb=Na-Sa;if(0!==Ya||0!==cb){const ab=((Aa-Qa)*Ya+(Fa-Sa)*cb)/(Ya*Ya+cb*cb);1<ab?(Qa=Pa,Sa=Na):0<ab&&(Qa+=Ya*ab,Sa+=cb*ab)}Ya=Aa-Qa;cb=Fa-Sa;Aa=Ya*Ya+cb*cb;Aa>ca&&(oa=Ga,ca=Aa)}ca>V&&(oa-P>ja&&xa(Y,ea,ja,V,O,P,oa),O(Y,ea,Y.length,oa,ea[oa],ea[oa+1]),W-oa>ja&&xa(Y,ea,ja,V,O,oa,W))}function ra(Y,ea,ja,V,O){const {coords:P,lengths:W}=ea;ja=p(ja,V);if(!P.length)return Y!==ea&&za(Y),Y;h.assertIsSome(O);const {originPosition:ca,scale:oa,translate:Aa}=O;O=
ua;O.originPosition=ca;V=O.scale;V[0]=oa[0]??1;V[1]=-(oa[1]??1);V[2]=oa[2]??1;V[3]=oa[3]??1;var Ga=O.translate;Ga[0]=Aa[0]??0;Ga[1]=Aa[1]??0;Ga[2]=Aa[2]??0;Ga[3]=Aa[3]??0;if(!W.length){for(V=0;V<ja;++V)Y.coords[V]=q(O,P[V],V);Y!==ea&&za(Y,ja,0);return Y}Ga=0;for(let Pa=0;Pa<W.length;Pa++){const Na=W[Pa];Y.lengths[Pa]=Na;for(var Fa=0;Fa<ja;++Fa)Y.coords[Ga+Fa]=q(O,P[Ga+Fa],Fa);Fa=Y.coords[Ga];let Qa=Y.coords[Ga+1];Ga+=ja;for(let Sa=1;Sa<Na;Sa++,Ga+=ja){Fa+=P[Ga]*V[0];Qa+=P[Ga+1]*V[1];Y.coords[Ga]=
Fa;Y.coords[Ga+1]=Qa;for(let Ya=2;Ya<ja;++Ya)Y.coords[Ga+Ya]=q(O,P[Ga+Ya],Ya)}}Y!==ea&&za(Y,P.length,W.length);return Y}function qa(Y,ea,ja,V){let O=0,P=Y[V*ea],W=Y[V*(ea+1)];for(let ca=1;ca<ja;ca++){const oa=P+Y[V*(ea+ca)],Aa=W+Y[V*(ea+ca)+1],Ga=(oa-P)*(Aa+W);P=oa;W=Aa;O+=Ga}return.5*O}function za(Y,ea=0,ja=0){Da(Y.lengths,ja);Da(Y.coords,ea)}function Da(Y,ea=0){Y.length!==ea&&(Y.length=ea)}const sa=()=>c.getLogger("esri.layers.graphics.featureConversionUtils"),X={esriGeometryPoint:0,esriGeometryPolyline:2,
esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},aa=(Y,ea,ja,V,O,P)=>{Y[ja]=O;Y[ja+1]=P},ha=(Y,ea,ja,V,O,P)=>{Y[ja]=O;Y[ja+1]=P;Y[ja+2]=ea[V+2]},I=(Y,ea,ja,V,O,P)=>{Y[ja]=O;Y[ja+1]=P;Y[ja+2]=ea[V+3]},T=(Y,ea,ja,V,O,P)=>{Y[ja]=O;Y[ja+1]=P;Y[ja+2]=ea[V+2];Y[ja+3]=ea[V+3]},da=[],la=[],ua={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(Y,ea,ja,V,O){da[0]=Y;[Y]=U(la,da,ea,ja,V,O);Da(da);Da(la);return Y};a.convertFromFeatureSet=
function(Y,ea){const ja=new g,{hasM:V,hasZ:O,features:P,objectIdFieldName:W,spatialReference:ca,geometryType:oa,exceededTransferLimit:Aa,transform:Ga,fields:Fa}=Y;Fa&&(ja.fields=Fa);ja.geometryType=oa??null;ja.objectIdFieldName=W??ea??null;ja.spatialReference=ca??null;if(!ja.objectIdFieldName)return sa().error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),ja;P&&U(ja.features,P,oa,O,V,ja.objectIdFieldName);Aa&&(ja.exceededTransferLimit=Aa);V&&(ja.hasM=V);O&&
(ja.hasZ=O);Ga&&(ja.transform=Ga);return ja};a.convertFromFeatures=U;a.convertFromGeometry=function(Y,ea,ja){if(null==Y)return null;const V=new f;"hasZ"in Y&&null==ea&&(ea=Y.hasZ);"hasM"in Y&&null==ja&&(ja=Y.hasM);if(m.isPoint(Y))return B(null!=ea?ea:null!=Y.z,null!=ja?ja:null!=Y.m)(V,Y);if(m.isPolygon(Y))return Q(V,Y,ea,ja);if(m.isPolyline(Y))return J(V,Y,p(ea,ja));if(m.isMultipoint(Y))return F(V,Y,p(ea,ja));sa().error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Y}'`))};
a.convertFromMultipoint=F;a.convertFromMultipointFeatures=E;a.convertFromNestedArray=N;a.convertFromPoint=L;a.convertFromPointFeatures=C;a.convertFromPolygon=Q;a.convertFromPolyline=J;a.convertFromPolylineFeatures=R;a.convertToFeature=function(Y,ea,ja,V){la[0]=Y;fa(da,la,ea,ja,V);Y=da[0];Da(da);Da(la);return Y};a.convertToFeatureSet=function(Y){const {objectIdFieldName:ea,spatialReference:ja,transform:V,fields:O,hasM:P,hasZ:W,features:ca,geometryType:oa,exceededTransferLimit:Aa,uniqueIdField:Ga,queryGeometry:Fa,
queryGeometryType:Pa}=Y;Y=fa([],ca,oa,W,P);const Na=Z(Fa,Pa,!1,!1);Y={features:Y,fields:O,geometryType:oa,objectIdFieldName:ea,spatialReference:ja,uniqueIdField:Ga,queryGeometry:Na};V&&(Y.transform=V);Aa&&(Y.exceededTransferLimit=Aa);P&&(Y.hasM=P);W&&(Y.hasZ=W);return Y};a.convertToFeatures=fa;a.convertToGeometry=Z;a.convertToMultipoint=G;a.convertToMultipointFeatures=M;a.convertToPoint=function(Y,ea,ja){return Y?ea?ja?v(Y):u(Y):ja?z(Y):x(Y):null};a.convertToPolygon=K;a.convertToPolyline=H;a.generalizeOptimizedGeometry=
function(Y,ea,ja,V,O,P,W=ja,ca=V){za(Y);if(!ea?.coords.length)return null;O=X[O];const {coords:oa,lengths:Aa}=ea;ea=p(ja,V);const Ga=p(ja&&W,V&&ca);ja=r(ja,V,W,ca);if(!Aa.length)return ja(Y.coords,oa,0,0,oa[0],oa[1]),za(Y,ea,0),Y;V=0;P*=P;for(const Fa of Aa){if(Fa<O){V+=Fa*ea;continue}W=Y.coords.length/Ga;ca=V;const Pa=V+(Fa-1)*ea;ja(Y.coords,oa,Y.coords.length,ca,oa[ca],oa[ca+1]);xa(Y.coords,oa,ea,P,ja,ca,Pa);ja(Y.coords,oa,Y.coords.length,Pa,oa[Pa],oa[Pa+1]);ca=Y.coords.length/Ga-W;ca>=O?Y.lengths.push(ca):
Da(Y.coords,W*Ga);V+=Fa*ea}return Y.coords.length?Y:null};a.getBoundsOptimizedGeometry=function(Y,ea,ja,V){if(!ea?.coords?.length)return null;ja=p(ja,V);let O=V=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY,W=Number.NEGATIVE_INFINITY;if(ea&&ea.coords){ea=ea.coords;for(let ca=0;ca<ea.length;ca+=ja){const oa=ea[ca],Aa=ea[ca+1];V=Math.min(V,oa);P=Math.max(P,oa);O=Math.min(O,Aa);W=Math.max(W,Aa)}}d.is(Y)?d.fromRectValues(Y,V,O,P,W):n.fromValues(V,O,P,W,Y);return Y};a.getQuantizedArea=function(Y,
ea){const {coords:ja,lengths:V}=Y;let O=Y=0;for(let P=0;P<V.length;P++){const W=V[P];O+=qa(ja,Y,W,ea);Y+=W}return Math.abs(O)};a.getQuantizedBoundsOptimizedGeometry=function(Y,ea,ja,V){ja=p(ja,V);const {lengths:O,coords:P}=ea;V=ea=Number.POSITIVE_INFINITY;let W=Number.NEGATIVE_INFINITY,ca=Number.NEGATIVE_INFINITY,oa=0;for(const Aa of O){let Ga=P[oa],Fa=P[oa+1];ea=Math.min(Ga,ea);V=Math.min(Fa,V);W=Math.max(Ga,W);ca=Math.max(Fa,ca);oa+=ja;for(let Pa=1;Pa<Aa;Pa++,oa+=ja){const Na=P[oa],Qa=P[oa+1];Ga+=
Na;Fa+=Qa;0>Na&&(ea=Math.min(ea,Ga));0<Na&&(W=Math.max(W,Ga));0>Qa?V=Math.min(V,Fa):0<Qa&&(ca=Math.max(ca,Fa))}}Y[0]=ea;Y[1]=V;Y[2]=W;Y[3]=ca;return Y};a.getSignedQuantizedRingArea=qa;a.quantizeOptimizedFeatureSet=function(Y,ea){const {geometryType:ja,features:V,hasM:O,hasZ:P}=ea;if(!Y)return ea;for(let W=0;W<V.length;W++){const ca=V[W],oa=ca.weakClone();oa.geometry=new f;pa(oa.geometry,ca.geometry,O,P,ja,Y);ca.centroid&&(oa.centroid=new f,pa(oa.centroid,ca.centroid,O,P,"esriGeometryPoint",Y));V[W]=
oa}ea.transform=Y;return ea};a.quantizeOptimizedGeometry=pa;a.quantizeX=t;a.quantizeY=l;a.removeCollinearVertices=function(Y,ea,ja,V,O){if(!ea?.coords?.length)return null;ja=X[ja];const {coords:P,lengths:W}=ea;ea=r(V,O,V,O);V=p(V,O);let ca=O=0,oa=0,Aa=0;for(const Pa of W){ca=Aa;ea(Y.coords,P,ca,O,P[O],P[O+1]);O+=V;var Ga=P[O];let Na=P[O+1],Qa=Ga,Sa=Na;var Fa=Na/Ga;ca+=V;ea(Y.coords,P,ca,O,Qa,Sa);O+=V;for(let Ya=2;Ya<Pa;Ya++){Ga=P[O];Na=P[O+1];const cb=Na/Ga,ab=Fa===cb||!isFinite(Fa)&&!isFinite(cb);
Fa=ab&&isFinite(cb)?0<=Fa&&0<=cb||0>=Fa&&0>=cb:0<=Sa&&0<=Na||0>=Sa&&0>=Na;ab&&Fa?(Qa+=Ga,Sa+=Na):(Qa=Ga,Sa=Na,ca+=V);ea(Y.coords,P,ca,O,Qa,Sa);O+=V;Fa=cb}ca+=V;Ga=(ca-Aa)/V;Ga>=ja&&(Y.lengths[oa]=Ga,Aa=ca,oa++)}Y.coords.length>Aa&&(Y.coords.length=Aa);Y.lengths.length>oa&&(Y.lengths.length=oa);return Y.coords.length&&Y.lengths.length?Y:null};a.removeZMValues=function(Y,ea,ja,V,O,P){za(Y);Y.lengths.push(...ea.lengths);if(ja===O&&V===P)for(var W=0;W<ea.coords.length;W++)Y.coords.push(ea.coords[W]);
else for(W=p(ja,V),ja=r(ja,V,O,P),ea=ea.coords,V=0;V<ea.length;V+=W)ja(Y.coords,ea,Y.coords.length,V,ea[V],ea[V+1]);return Y};a.unquantizeOptimizedFeatureSet=function(Y){const {transform:ea,features:ja,hasM:V,hasZ:O}=Y;if(!ea)return Y;for(const P of ja)null!=P.geometry&&ra(P.geometry,P.geometry,V,O,ea),null!=P.centroid&&ra(P.centroid,P.centroid,V,O,ea);Y.transform=null;return Y};a.unquantizeOptimizedGeometry=ra;a.unquantizeValue=q;a.unquantizeX=function(Y,ea){return q(Y,ea,0)};a.unquantizeY=function(Y,
ea){return q(Y,-ea,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/tslib.es6 ../Map ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/Handles ../core/handleUtils ../core/has ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../core/support/UpdatingHandles ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/TimeExtent ../time/timeZoneUtils ./BasemapView ./LayerViewManager ./Magnifier ./SelectionManager ./Theme ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G,E,F,H,R,J,K,Q,N,U,Z,fa,pa){function xa(qa){return qa.layerViews}var ra;c=ra=class extends e.EventedMixin(q.EsriPromiseMixin(c)){constructor(qa){super(qa);this._cursor=this._userSpatialReference=null;this.handles=new g;this.updatingHandles=new v.UpdatingHandles;this.allLayerViews=new n({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:xa});
this.fatalError=this.basemapView=this.groundView=null;this.graphics=new G.GraphicsCollection;this.analyses=new M.AnalysesCollection;this.typeSpecificPreconditionsReady=!0;this.layerViews=new d;this.magnifier=new J;this.padding={left:0,top:0,right:0,bottom:0};this.ready=!1;this.spatialReferenceWarningDelay=1E3;this.supportsGround=!0;this.scale=this.type=null;this.updating=!1;this.initialExtentRequired=!0;this.input=new U;this.navigation=new fa;this.analysisViewManager=this.layerViewManager=null;this.isHeightModelInfoRequired=
!1;this.height=this.width=null;this.suspended=this.resizing=!1;this.viewEvents=new Z.ViewEvents(this);this.persistableViewModels=new d;this._readyCycleForced=this._isValid=!1;this.theme=this._lockedTimeExtent=this._userTimeExtent=this._lockedTimeZone=this._userTimeZone=this._lockedSpatialReference=null;this.handles.add(A.watch(()=>this.preconditionsReady,za=>{const Da=this.ready;za?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,
ra.views.add(this)):(this._lockedSpatialReference=null,ra.views.remove(this));this.notifyChange("spatialReference");if(!za&&Da)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(za&&!Da){try{this._startup()}catch(sa){queueMicrotask(()=>{this.fatalError=new m("startup-error",null,sa)});return}null!=this.analysisViewManager&&this.analysisViewManager.attach();this.toolViewManager.attach()}},A.sync))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),
this.validate()]).then(()=>{this._isValid=!0;return A.whenOnce(()=>this.ready)}));this.basemapView=new H({view:this});this.layerViewManager=new R({view:this,layerViewImporter:{importLayerView:qa=>this.importLayerView(qa),hasLayerViewModule:qa=>this.hasLayerViewModule(qa)},supportsGround:this.supportsGround});this.toolViewManager=new N.ToolViewManager({view:this});this._setupSpatialReferenceLogger();this.selectionManager=new K({view:this});this.addHandles([A.watch(()=>this.initialExtentRequired,qa=>
this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:qa},A.syncAndInitial),A.watch(()=>this.ready,qa=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=qa,this.defaultsFromMap.userSpatialReference=qa?this.spatialReference:this._userSpatialReference)},A.sync),A.watch(()=>this._userSpatialReference,qa=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=qa)},A.syncAndInitial)])}_setupSpatialReferenceLogger(){let qa=null;this.addHandles([A.watch(()=>this.defaultsFromMap?.ready,
za=>{const Da=0<this.map?.allLayers.length;za&&!this.spatialReference&&Da?null==qa&&(za=f.makeHandle(()=>qa=l.abortMaybe(qa)),qa=h.createTask(async sa=>{try{await x.after(this.spatialReferenceWarningDelay,null,sa)}catch{return}finally{qa=null}t.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(za,"spatial-reference-logger-task")):this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||
(ra.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=l.destroyMaybe(this.graphics),this.analyses=l.destroyMaybe(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),l.destroyMaybe(this.analysisViewManager),this.toolViewManager=l.destroyMaybe(this.toolViewManager),this.layerViewManager=l.destroyMaybe(this.layerViewManager),this.selectionManager=l.destroyMaybe(this.selectionManager),
this.basemapView=l.destroyMaybe(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(qa=>qa.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=l.destroyMaybe(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){t.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(qa){this.toolViewManager&&
(this.toolViewManager.activeTool=qa)}get animation(){return this._get("animation")}set animation(qa){this._set("animation",qa)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new pa.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(qa,za)=>this.getSpatialReferenceSupport(qa,za),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(qa){this._set("extent",qa)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||
!this._isValid||this._readyCycleForced||!this.map||r.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(qa){const za=this._get("map");qa!==za&&(qa?.destroyed&&(t.getLogger(this).warn("#map","The provided map is already destroyed",{map:qa}),qa=null),r.isLoadable(qa)&&
qa.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",qa))}get spatialReference(){var qa=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return qa&&this.defaultsFromMap?.required?.heightModelInfo?(qa=qa.clone(),qa.vcsWkid=this.defaultsFromMap.vcsWkid,qa.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,qa):qa}set spatialReference(qa){const za=!L.equals(qa,this._get("spatialReference"));
this._set("_userSpatialReference",qa);za&&(this._set("spatialReference",qa),this._spatialReferenceChanged(qa))}_spatialReferenceChanged(qa){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(qa){this._userTimeExtent=qa}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??F.system}set timeZone(qa){this._userTimeZone=qa;F.isTimeZoneValid(qa)||
t.getLogger(this).warn("#timeZone",`the parsed value '${qa}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(qa){this._cursor=qa;this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Q}whenLayerView(qa){return this.layerViewManager?.whenLayerView(qa)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&
"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(qa){throw new m("importLayerView() not implemented");}hasLayerViewModule(qa){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(qa){return null!=this.getSpatialReferenceSupport(qa)}when(qa,za){this.isResolved()&&
!this.ready&&t.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return super.when(qa,za)}forceReadyCycle(){this.ready&&(A.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(qa){this.toolViewManager.tools.add(qa);this.activeTool=qa}tryFatalErrorRecovery(){this.fatalError=
null}};c.views=new d;a.__decorate([u.property()],c.prototype,"_userSpatialReference",void 0);a.__decorate([u.property()],c.prototype,"activeTool",null);a.__decorate([u.property({readOnly:!0})],c.prototype,"allLayerViews",void 0);a.__decorate([u.property()],c.prototype,"groundView",void 0);a.__decorate([u.property()],c.prototype,"animation",null);a.__decorate([u.property()],c.prototype,"basemapView",void 0);a.__decorate([u.property()],c.prototype,"center",null);a.__decorate([u.property()],c.prototype,
"defaultsFromMapSettings",null);a.__decorate([u.property()],c.prototype,"defaultsFromMap",null);a.__decorate([u.property()],c.prototype,"fatalError",void 0);a.__decorate([u.property({type:y})],c.prototype,"extent",null);a.__decorate([u.property(k.owningCollectionProperty(G.GraphicsCollection,"graphics"))],c.prototype,"graphics",void 0);a.__decorate([u.property(k.owningCollectionProperty(M.AnalysesCollection,"analyses"))],c.prototype,"analyses",void 0);a.__decorate([u.property({readOnly:!0,type:B})],
c.prototype,"heightModelInfo",null);a.__decorate([u.property({readOnly:!0})],c.prototype,"interacting",null);a.__decorate([u.property({readOnly:!0})],c.prototype,"navigating",null);a.__decorate([u.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _lockedSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],c.prototype,"preconditionsReady",null);a.__decorate([u.property({readOnly:!0})],c.prototype,"typeSpecificPreconditionsReady",
void 0);a.__decorate([u.property({type:d,readOnly:!0})],c.prototype,"layerViews",void 0);a.__decorate([u.property()],c.prototype,"resolution",null);a.__decorate([u.property({type:J})],c.prototype,"magnifier",void 0);a.__decorate([u.property({value:null,type:b})],c.prototype,"map",null);a.__decorate([u.property()],c.prototype,"padding",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"ready",void 0);a.__decorate([u.property({type:C})],c.prototype,"spatialReference",null);a.__decorate([u.property()],
c.prototype,"spatialReferenceWarningDelay",void 0);a.__decorate([u.property()],c.prototype,"stationary",null);a.__decorate([u.property({readOnly:!0})],c.prototype,"supportsGround",void 0);a.__decorate([u.property({type:E})],c.prototype,"timeExtent",null);a.__decorate([u.property({type:String,nonNullable:!0})],c.prototype,"timeZone",null);a.__decorate([u.property()],c.prototype,"tools",null);a.__decorate([u.property()],c.prototype,"toolViewManager",void 0);a.__decorate([u.property({readOnly:!0})],
c.prototype,"type",void 0);a.__decorate([u.property({type:Number})],c.prototype,"scale",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"updating",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"initialExtentRequired",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"initialExtent",null);a.__decorate([u.property()],c.prototype,"cursor",null);a.__decorate([u.property({readOnly:!0})],c.prototype,"input",void 0);a.__decorate([u.property({type:fa,nonNullable:!0})],
c.prototype,"navigation",void 0);a.__decorate([u.property()],c.prototype,"layerViewManager",void 0);a.__decorate([u.property()],c.prototype,"analysisViewManager",void 0);a.__decorate([u.property()],c.prototype,"selectionManager",void 0);a.__decorate([u.property()],c.prototype,"width",void 0);a.__decorate([u.property()],c.prototype,"height",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"resizing",void 0);a.__decorate([u.property({value:null,readOnly:!0})],c.prototype,"size",null);a.__decorate([u.property({readOnly:!0})],
c.prototype,"suspended",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"viewEvents",void 0);a.__decorate([u.property({readOnly:!0})],c.prototype,"persistableViewModels",void 0);a.__decorate([u.property()],c.prototype,"_isValid",void 0);a.__decorate([u.property()],c.prototype,"_readyCycleForced",void 0);a.__decorate([u.property()],c.prototype,"_lockedSpatialReference",void 0);a.__decorate([u.property()],c.prototype,"_userTimeZone",void 0);a.__decorate([u.property()],c.prototype,"_lockedTimeZone",
void 0);a.__decorate([u.property()],c.prototype,"_userTimeExtent",void 0);a.__decorate([u.property()],c.prototype,"_lockedTimeExtent",void 0);a.__decorate([u.property({type:Q})],c.prototype,"theme",void 0);a.__decorate([u.property({readOnly:!0,type:Q})],c.prototype,"effectiveTheme",null);c=ra=a.__decorate([z.subclass("esri.views.View")],c);(a=globalThis.$arcgis)&&!a.views&&Object.defineProperty(a,"views",{configurable:!1,enumerable:!0,writable:!1,value:c.views});return c})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/tslib.es6 ../Collection ../collectionUtils ../has ../Logger ../accessorSupport/decorators/property ../RandomLCG ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){a.OwningCollection=class extends c{constructor(f){super(f);this.addHandles([this.on("before-add",p=>{null==p.item&&p.preventDefault()}),this.on("after-add",p=>this._own(p.item)),this.on("after-remove",p=>this._release(p.item))])}get owner(){return this._get("owner")}set owner(f){f!==this._get("owner")&&(this._releaseAll(),this._set("owner",f),this._ownAll())}_ownAll(){for(const f of this.items)this._own(f)}_releaseAll(){for(const f of this.items)this._release(f)}_createNewInstance(f){return this.itemType?
new (c.ofType(this.itemType.Type))(f):new c(f)}};b.__decorate([m.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=b.__decorate([g.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(f,p){return{type:f,cast:h.castForReferenceSetter,set(r){r=h.referenceSetter(r,this._get(p),f);r.owner=this;this._set(p,r)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/UpdatingHandles":function(){define("exports ../../chunks/tslib.es6 ../Accessor ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){a.UpdatingHandles=class extends c{constructor(){super(...arguments);this.updating=!1;this._scheduleHandleId=this._handleId=0;this._pendingPromises=new Set}destroy(){this.removeAll()}add(g,f,p={}){return this._installWatch(g,f,p,d.watch)}addWhen(g,f,p={}){return this._installWatch(g,f,p,d.when)}addOnCollectionChange(g,f,{initial:p=!1,final:r=!1}={}){const t=++this._handleId;this.addHandles([d.on(g,"after-changes",this._createSyncUpdatingCallback(),d.sync),d.on(g,"change",
f,{onListenerAdd:p?l=>f({added:l.toArray(),removed:[]}):void 0,onListenerRemove:r?l=>f({added:[],removed:l.toArray()}):void 0})],t);return h.makeHandle(()=>this.removeHandles(t))}addPromise(g){if(null==g)return g;const f=++this._handleId;this.addHandles(h.makeHandle(()=>{this._pendingPromises.delete(g)&&(0!==this._pendingPromises.size||this.hasHandles(-42)||this._set("updating",!1))}),f);this._pendingPromises.add(g);this._set("updating",!0);const p=()=>this.removeHandles(f);g.then(p,p);return g}removeAll(){this._pendingPromises.clear();
this.removeAllHandles();this._set("updating",!1)}_installWatch(g,f,p={},r){const t=++this._handleId;p.sync||this._installSyncUpdatingWatch(g,t);g=r(g,f,p);this.addHandles(g,t);return h.makeHandle(()=>this.removeHandles(t))}_installSyncUpdatingWatch(g,f){const p=this._createSyncUpdatingCallback();g=d.watch(g,p,{sync:!0,equals:()=>!1});this.addHandles(g,f);return g}_createSyncUpdatingCallback(){return()=>{this.removeHandles(-42);++this._scheduleHandleId;const g=this._scheduleHandleId;this._get("updating")||
this._set("updating",!0);this.addHandles(n.schedule(()=>{g===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this.removeHandles(-42))}),-42)}}};b.__decorate([m.property({readOnly:!0})],a.UpdatingHandles.prototype,"updating",void 0);a.UpdatingHandles=b.__decorate([e.subclass("esri.core.support.UpdatingHandles")],a.UpdatingHandles);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/tslib.es6 ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,c,h,d,n,m,e){a.AnalysesCollection=class extends e.OwningCollection{constructor(g){super(g);this.addHandles(this.on("before-add",f=>{null!=f.item&&f.item.parent===this.owner&&(c.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),f.preventDefault())}))}_own(g){g.parent=this.owner}_release(g){g.parent=null}};a.AnalysesCollection=b.__decorate([m.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,c,h,d,n,m,e,g,f,p){a.GraphicsCollection=class extends p.OwningCollection{_own(r){r.layer&&"remove"in r.layer&&r.layer!==this.owner&&r.layer.remove(r);
r.layer=this.owner}_release(r){r.layer===this.owner&&(r.layer=null)}};b.__decorate([g.shared({Type:c,ensureType:d.ensureType(c)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=b.__decorate([f.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e,g){b=class extends b{constructor(f){super(f);this.view=null;this.baseLayerViews=new c;this.referenceLayerViews=new c;this._loadingHandle=h.watch(()=>this.view?.map?.basemap,p=>{p&&p.load().catch(()=>{})},h.initial)}destroy(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const f of this.baseLayerViews)f.destroy();this.baseLayerViews.length=0;for(const f of this.referenceLayerViews)f.destroy();this.referenceLayerViews.length=
0}get suspended(){return this.view?this.view.suspended:!0}get updating(){if(this.view?.suspended)return!1;const f=this.view?.map?.basemap;return f&&f.loaded?this.baseLayerViews.some(p=>p.updating)||this.referenceLayerViews.some(p=>p.updating):!1}};a.__decorate([d.property({constructOnly:!0})],b.prototype,"view",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"baseLayerViews",void 0);a.__decorate([d.property({readOnly:!0})],b.prototype,"referenceLayerViews",void 0);a.__decorate([d.property({readOnly:!0})],
b.prototype,"suspended",null);a.__decorate([d.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);return b=a.__decorate([g.subclass("esri.views.BasemapView")],b)})},"esri/views/LayerViewManager":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/get ../core/support/UpdatingHandles ../support/collectionUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x){class A{constructor(u,w,z){this.layer=u;this.view=w;this.layerViewImporter=z;this._controller=new AbortController;this._deferred=m.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;m.onAbort(this._controller.signal,()=>{const k=new c("cancelled:layerview-create","layerview creation cancelled",{layer:u});this._deferred.reject(k)})}tryRecycle(u){if(!(this.done&&this.layerView&&"tryRecycleWith"in this.layerView))return null;const w=
this.layer.type,z=this._controller.signal;for(let k=0;k<u.length;k++){const v=u[k];if(v.type!==w)continue;const y=this.layerView.tryRecycleWith(v,{signal:z});if(y){u.splice(k,1);this.layer=v;const B=this.layerView,C=B.view;return this.promise=Promise.race([y.then(()=>{m.throwIfAborted(this._controller.signal);v.emit("layerview-destroy",{view:C,layerView:B});C.emit("layerview-destroy",{view:C,layerView:B});v.emit("layerview-create",{view:C,layerView:B});C.emit("layerview-create",{view:C,layerView:B});
return B}),new Promise((L,M)=>m.onAbort(this._controller.signal,()=>M(m.createAbortError())))])}}return null}destroy(){this._controller.abort();const {layerView:u}=this;if(u){const {layer:w,view:z}=this;w.emit("layerview-destroy",{view:z,layerView:u});z.emit("layerview-destroy",{layer:w,layerView:u})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null}async start(){if(!this._started){this._started=!0;var {_controller:{signal:u},layer:w,view:z}=this;this._map=z.map;
try{await w.load({signal:u});w.prefetchResources&&await w.prefetchResources({signal:u});let v;if("createLayerView"in w&&null!=w.createLayerView)v=await w.createLayerView(z,{signal:u});else{if(!this.layerViewImporter.hasLayerViewModule(w))throw new c("layer:view-not-supported","No layerview implementation was found");var k=await this.layerViewImporter.importLayerView(w);m.throwIfAborted(u);v="default"in k?new k.default({layer:w,view:z}):new k({layer:w,view:z})}let y;k=()=>{y=n.removeMaybe(y);v.destroyed||
v.destroy();v.layer=null;v.parent=null;v.view=null;this.done=!0};y=m.onAbort(u,k);m.throwIfAborted(u);try{await v.when()}catch(B){throw k(),B;}this._map?.allLayers?.includes(w)?(this.layerView=v,w.emit("layerview-create",{view:z,layerView:v}),z.emit("layerview-create",{layer:w,layerView:v}),this.done=!0,this._deferred.resolve(v)):(k(),this._deferred.reject(new c("view:no-layerview-for-layer","The layer has been removed from the map",{layer:w})))}catch(v){w.emit("layerview-create-error",{view:z,error:v}),
z.emit("layerview-create-error",{layer:w,error:v}),this.done=!0,this._deferred.reject(new c("layerview:create-error","layerview creation failed",{layer:w,error:v}))}}}}b=class extends b{constructor(u){super(u);this._layerLayerViewInfoMap=new Map;this._recyclingInfoMap=new Map;this._watchUpdatingTracking=new q.UpdatingHandles;this.supportsGround=!0;this._preloadLayerViewModules=()=>{const w=this.view.map?.allLayers;if(w)for(const z of w)this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z)};
this._reschedule=()=>{if(this.destroyed)return Promise.reject();null==this._workPromise&&(this._workPromise=m.createResolver(),this._workPromise.promise.catch(()=>{}));this.removeHandles("reschedule");this.addHandles(g.schedule(this._doWork),"reschedule");return this._workPromise.promise};this._doWork=()=>{if(!this.destroyed){var w=this.view.map;this._map!==w&&(this.clear(),this._map=w);if(null==this._workPromise)this.notifyChange("updating");else{this.removeHandles("reschedule");this.removeHandles("collection-change");
var z=new Set,k=[],v=this.view.ready,y=L=>{if(null!=L)for(const M of L)M&&(z.add(M),(L=this._layerLayerViewInfoMap.get(M))&&v?L.start():L||this._recyclingInfoMap.has(M)||k.push(M),"layers"in M&&M.layers&&y(M.layers))};for(var B of this._rootCollectionNames)y(l.get(this,B));for(const [L,M]of this._layerLayerViewInfoMap)z.has(L)||(this._layerLayerViewInfoMap.delete(M.layer),(B=M.tryRecycle(k))?(this.notifyChange("updating"),this._recyclingInfoMap.set(M.layer,M),B.then(()=>{this.notifyChange("updating");
this._recyclingInfoMap.delete(M.layer);this._layerLayerViewInfoMap.set(M.layer,M);this._reschedule()}).catch(()=>{this.notifyChange("updating");this._recyclingInfoMap.delete(M.layer);M.destroy();this._reschedule()})):M.destroy());for(const [L,M]of this._recyclingInfoMap)z.has(L)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(M.layer),M.destroy());for(const L of k)this._createLayerView(L);this._refreshCollections();var C=[w?.ground?.layers,w?.basemap?.baseLayers,w?.basemap?.referenceLayers,
w?.layers].filter(L=>!!L);z.forEach(L=>"layers"in L&&C.push(L.layers));this.addHandles(C.map(L=>this._watchUpdatingTracking.addOnCollectionChange(()=>L,this._reschedule)),"collection-change");this._workPromise.resolve();this._workPromise=null}}}}initialize(){this.addHandles([e.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),e.watch(()=>{const u=this.view,w=u?.map;return[w?.basemap,w?.ground,w?.layers,u?.ready]},()=>this._reschedule(),
e.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()}destroy(){this.clear();x.destroyMap(this._recyclingInfoMap);x.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(m.createAbortError()),this._workPromise=null)}get _layersToLayerViews(){const u=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&u.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(u)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||d.someMap(this._layerLayerViewInfoMap,u=>!u.done)||0<this._recyclingInfoMap.size}get updatingRemaining(){let u=0;for(const w of this._layerLayerViewInfoMap.values())w.done||++u;return u}clear(){this.destroyed||(x.destroyMap(this._layerLayerViewInfoMap),
this._refreshCollections())}async whenLayerView(u){await this._reschedule();if(!this._layerLayerViewInfoMap.has(u)){if(this._recyclingInfoMap.has(u))return this._recyclingInfoMap.get(u).promise;throw new c("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:u});}return this._layerLayerViewInfoMap.get(u).promise}isCreatingLayerViewsForLayer(u,w){this.commitProperty("updatingRemaining");const z=this._layerLayerViewInfoMap.get(u);if(!z?.done)return!0;const k=z.layerView;
return k&&w&&k.parent!==w?!0:z.done&&k&&"layers"in u&&u.layers?.length?u.layers.some(v=>this.isCreatingLayerViewsForLayer(v,k)):!1}_refreshCollections(){for(const [u,w]of this._layersToLayerViews)this._populateLayerViewsOwners(l.get(this,u),l.get(this,w),this.view);this.notifyChange("updating");this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(u,w,z){if(u&&w){var k=0;for(const v of u)u=this._layerLayerViewInfoMap.get(v),u?.layerView&&(u=u.layerView,u.layer=v,u.parent=z,w.at(k)!==u&&
w.splice(k,0,u),"layers"in v&&null!=u&&"object"===typeof u&&"layerViews"in u&&this._populateLayerViewsOwners(v.layers,u.layerViews,u),k+=1);k<w.length&&w.splice(k,w.length)}else w&&w.removeAll()}_createLayerView(u){u.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(u)&&this.layerViewImporter.importLayerView(u);const w=new A(u,this.view,this.layerViewImporter);w.promise.then(()=>this._refreshCollections(),z=>{z&&(m.isAbortError(z)||"cancelled:layerview-create"===z.name)||h.getLogger(this).error(`Failed to create layerview for layer title:'${u.title??
"no title"}', id:'${u.id??"no id"}' of type '${u.type}'.`,{layer:u,error:z});this._refreshCollections()});this._layerLayerViewInfoMap.set(u,w);this.view.ready&&w.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")}};a.__decorate([f.property()],b.prototype,"_workPromise",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);a.__decorate([f.property({readOnly:!0})],
b.prototype,"_rootCollectionNames",null);a.__decorate([f.property()],b.prototype,"layerViewImporter",void 0);a.__decorate([f.property()],b.prototype,"supportsGround",void 0);a.__decorate([f.property({readOnly:!0})],b.prototype,"updating",null);a.__decorate([f.property({readOnly:!0})],b.prototype,"updatingRemaining",null);a.__decorate([f.property({constructOnly:!0})],b.prototype,"view",void 0);return b=a.__decorate([t.subclass("esri.views.LayerViewManager")],b)})},"esri/views/Magnifier":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m,e){b=class extends b{constructor(g){super(g);this.factor=1.5;this.offset=c.createScreenPoint(0,0);this.position=null;this.size=120;this.maskUrl=null;this.maskEnabled=!0;this.overlayUrl=null;this.visible=this.overlayEnabled=!0}get version(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");
this.commitProperty("overlayEnabled");return(this._get("version")||0)+1}};a.__decorate([h.property({type:Number})],b.prototype,"factor",void 0);a.__decorate([h.property({nonNullable:!0})],b.prototype,"offset",void 0);a.__decorate([h.property()],b.prototype,"position",void 0);a.__decorate([h.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);a.__decorate([h.property()],b.prototype,"maskUrl",void 0);a.__decorate([h.property()],b.prototype,"maskEnabled",void 0);a.__decorate([h.property()],
b.prototype,"overlayUrl",void 0);a.__decorate([h.property()],b.prototype,"overlayEnabled",void 0);a.__decorate([h.property({readOnly:!0})],b.prototype,"version",null);a.__decorate([h.property({type:Boolean})],b.prototype,"visible",void 0);return b=a.__decorate([e.subclass("esri.views.Magnifier")],b)})},"esri/views/SelectionManager":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/Collection ../core/collectionUtils ../core/Evented ../core/MapUtils ../core/maybe ../core/ReactiveMap ../core/reactiveUtils ../core/SetUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../layers/support/layerUtils ../rest/support/Query ./support/selectionUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A){d=class extends d.EventedAccessor{constructor(k){super(k);this._selectionMap=new e;this._sources=new c;this._trashCan=[];this._layerEditHandles=new c;this._vizTaskId=0;this.showHighlight=!0}initialize(){this.addHandles([g.watch(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),g.on(()=>this.sources,"change",v=>{const y=this._selectionMap;for(const B of v.removed)y.delete(B);this._refreshListeners();this._refreshVisualization()},{onListenerAdd:()=>
this._refreshListeners()})]);const k=new c;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(v=>"sublayers"in v&&v.sublayers?v.sublayers:null).forEach(v=>{(A.isSelectableLayer(v)&&!q.isSubtypeGroupLayer(v)||q.isSubtypeSublayer(v))&&k.add(v)}),this.sources=k)})}destroy(){this._layerEditHandles.drain(m.removeMaybe)}get selections(){return Array.from(this._selectionMap.entries()).map(k=>{const [v,y]=k;return{layer:v,selection:[...y.selection]}})}get count(){let k=0;for(const v of this._selectionMap.values())k+=
v.selection.length;return k}get hasSelection(){return 0<this.count}get sources(){return this._sources}set sources(k){h.referenceSetter(k,this._sources)}async getSelectedFeatures(k,v={},y="layerView"){const {view:B,selections:C}=this,L=(void 0!==k?C.filter(M=>k.includes(M.layer)):C).filter(M=>0<M.selection.length).map(async M=>{const {layer:G,selection:E}=M;M=q.isSubtypeSublayer(G)?G.parent:G;return null==M||void 0===M?.when?null:"layer"===y?z(M,E,v):u(M)?null:(M=await B.whenLayerView(M).catch(()=>
null))?z(M,E,v):null});return(await Promise.all(L)).filter(M=>null!=M)}updateSelection(k){var v=new Map;for(const [M,G]of this._selectionMap)v.set(M,[...G.selection]);var y=!1,B=k.current.concat(k.added);for(var C of B){var L=C.sourceLayer;B=C.getObjectId();this.sources.includes(L)&&(A.isSelectableLayer(L)||q.isSubtypeSublayer(L))&&null!==B&&(L=n.getOrCreateMapValue(v,L,()=>[]),L.includes(B)||(L.push(B),y=!0))}for(const M of k.removed)C=M.sourceLayer,k=M.getObjectId(),this.sources.includes(C)&&(A.isSelectableLayer(C)||
q.isSubtypeSublayer(C))&&null!==k&&(C=v.get(C),k=C?.indexOf(k),void 0!==k&&0<=k&&(C?.splice(k,1),y=!0));if(y){const {_selectionMap:M,_trashCan:G}=this;y=[];for(const [E,F]of v)v=M.get(E),void 0!==v&&G.push(v),M.set(E,{selection:F}),y.push({layer:E,selection:F,...b.difference(void 0!==v?v.selection:[],F)});this._onSelectionChange(y)}}setSelection(k,v){this._setSelection(k,v)}getSelection(k){return this._selectionMap.get(k)?.selection}appendToSelection(k,v){var y=this._selectionMap.get(k);y=void 0!==
y?[...y.selection]:[];for(const B of v)y.includes(B)||y.push(B);this._setSelection(k,y)}removeFromSelection(k,v){const y=this._selectionMap.get(k);if(y){var B=[];for(const C of y.selection)v.includes(C)||B.push(C);this._setSelection(k,B)}}toggleInSelection(k,v){var y=this._selectionMap.get(k);y&&0!==y.selection.length?(y=new Set(y.selection),v=new Set(v),v=f.symmetricDifference(y,v),this._setSelection(k,Array.from(v))):this._setSelection(k,v)}clear(){var k=this._selectionMap.values();this._trashCan.push(...k);
k=[];for(const [v,y]of this._selectionMap.entries())k.push({layer:v,added:[],removed:[...y.selection],selection:[]});this._selectionMap.clear();this._onSelectionChange(k)}_onSelectionChange(k){this._refreshVisualization();this.emit("selection-change",{view:this.view,changes:k})}_refreshVisualization(){if(null!=this.view&&null!=this.sources){for(this._vizTaskId++;0<this._trashCan.length;)this._trashCan.pop()?.highlightHandle?.remove();var {sources:k,view:v,_selectionMap:y,showHighlight:B}=this,C=this._vizTaskId;
for(const L of k){const M=y.get(L),G=q.isSubtypeSublayer(L)?L.parent:L;null==G||void 0===G?.when||u(G)||v.whenLayerView(G).then(E=>{M?.highlightHandle?.remove();null!=M&&B&&C===this._vizTaskId&&"highlight"in E&&"function"===typeof E.highlight&&0<M.selection.length&&(M.highlightHandle=E.highlight(M.selection,"selection"))}).catch(()=>{M?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(m.removeMaybe);for(const v of this.sources){var k=q.isSubtypeSublayer(v)?v.parent:v;
null!=k&&A.isSelectableLayer(k)&&(k=k.on("edits",y=>{this._handleEditChanges(y,v)}),this._layerEditHandles.push(k))}}_handleEditChanges(k,v){void 0!==k.deletedFeatures&&0<k.deletedFeatures.length&&this._selectionMap.has(v)&&(k=k.deletedFeatures.filter(y=>null==y.error).map(y=>y.objectId).filter(b.isSome),this.removeFromSelection(v,k))}_setSelection(k,v){if(!this.sources.includes(k))throw Error(`Cannot set selection on layer ${k.title} because it is not in 'sources'`);const y=this._selectionMap.get(k);
void 0!==y&&w(y,{selection:v})||(void 0!==y&&this._trashCan.push(y),this._selectionMap.set(k,{selection:[...v]}),k={layer:k,selection:[...v],...b.difference(void 0!==y?y.selection:[],v)},this._onSelectionChange([k]))}};a.__decorate([p.property({readOnly:!0,nonNullable:!0})],d.prototype,"selections",null);a.__decorate([p.property({readOnly:!0,nonNullable:!0})],d.prototype,"count",null);a.__decorate([p.property({constructOnly:!0,nonNullable:!0})],d.prototype,"view",void 0);a.__decorate([p.property({readOnly:!0,
nonNullable:!0})],d.prototype,"hasSelection",null);a.__decorate([p.property()],d.prototype,"showHighlight",void 0);a.__decorate([p.property()],d.prototype,"sources",null);d=a.__decorate([l.subclass("esri.views.SelectionManager")],d);const u=k=>q.isSubtypeSublayer(k)?!0===k.parent?.isTable:k.isTable,w=(k,v)=>{if(null!=k||null!=v){if(null!=k&&null==v||null==k&&null!=v)return!1;if(null!=k&&null!=v&&null!=k.selection&&null!=v.selection){k=[...k.selection];v=[...v.selection];if(k.length!==v.length)return!1;
k.sort();v.sort();for(let y=0;y<k.length;y++)if(k[y]!==v[y])return!1}}return!0},z=async(k,v,y={})=>void 0===k.layer?void 0===k?null:await k.queryFeatures(new x({...y,objectIds:v})).then(B=>({data:B,layer:k})):void 0===k?null:await k.queryFeatures(new x({...y,objectIds:v})).then(B=>({data:B,layer:k.layer}));return d})},"esri/core/ReactiveMap":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class c{constructor(h){this._observable=new b.SimpleObservable;
this._map=new Map(h)}get size(){a.trackAccess(this._observable);return this._map.size}clear(){0<this._map.size&&(this._map.clear(),this._observable.notify())}delete(h){(h=this._map.delete(h))&&this._observable.notify();return h}entries(){a.trackAccess(this._observable);return this._map.entries()}forEach(h,d){a.trackAccess(this._observable);this._map.forEach((n,m)=>h.call(d,n,m,this),d)}get(h){a.trackAccess(this._observable);return this._map.get(h)}has(h){a.trackAccess(this._observable);return this._map.has(h)}keys(){a.trackAccess(this._observable);
return this._map.keys()}set(h,d){this._map.set(h,d);this._observable.notify();return this}values(){a.trackAccess(this._observable);return this._map.values()}[Symbol.iterator](){a.trackAccess(this._observable);return this._map[Symbol.iterator]()}get [Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}return c})},"esri/views/support/selectionUtils":function(){define(["exports"],function(a){a.isSelectableLayer=function(b){return!!(null!=b&&"object"===typeof b&&"createQuery"in b&&b.createQuery&&
"on"in b&&b.on)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/Theme":function(){define("../chunks/tslib.es6 ../Color ../core/Accessor ../core/Clonable ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){c=class extends h.ClonableMixin(c){constructor(f){super(f);this.accentColor=new b([255,127,0]);this.textColor=new b([255,255,255])}};a.__decorate([d.property({type:b,
nonNullable:!0})],c.prototype,"accentColor",void 0);a.__decorate([d.property({type:b,nonNullable:!0})],c.prototype,"textColor",void 0);return c=a.__decorate([g.subclass("esri.views.Theme")],c)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/UpdatingHandles ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u){a.ToolViewManager=class extends c{constructor(w){super(w);this._updatingHandles=new t.UpdatingHandles;this._clock=h.clock;this._manipulatorState=new u.ToolViewManagerManipulatorState;this.tools=new d;this.cursor=null;this._interacting=!1;this._interactingTimeout=1E3;this._interactingTimeoutHandle=null;this._forEachTool=z=>{for(const k of this.tools.items)if(z(k))break}}initialize(){this.addHandles([this.view.on(q.eventTypes,w=>{this._handleInputEvent(w)},
l.ViewEventPriorities.TOOL),...x.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:w})=>{this._updateToolEditableFlag(w)}),this.tools.on("before-remove",({item:w})=>{this._manipulatorState.clearPointers(w,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null;this.tools.drain(w=>w.destroy());this._clearInteractingTimeout();this._interacting=!1;this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:w=>{this.activeTool=w},view:this.view}}set activeTool(w){if(null!=w&&!this.view.ready)m.getLogger(this).error("Cannot set active tool while view is not ready.");else if(w!==this.activeTool){var z=this.activeTool;this._set("activeTool",w);null!=z&&z.deactivate();null!=w&&w.activate();this._removeIncompleteTools(w);for(const k of this.tools)this._updateToolEditableFlag(k),w=x.areToolManipulatorsEditable(k),null!=this.activeTool&&w||this._manipulatorState.clearPointers(k,
this._manipulatorStateEventArgs,!w);this._updateCursor()}}get updating(){return this._updatingHandles.updating||this.tools.some(w=>w.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=e.removeMaybe(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout();this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([g.watch(()=>
{const {state:w}=this.view;return"camera"in w&&w.camera},()=>this._forEachManipulator(w=>w.onViewChange())),this.view.elevationProvider?.on("elevation-change",w=>this._forEachManipulator(z=>z.onElevationChange(w)))],"attached"):this.addHandles(g.watch(()=>this.view.extent,()=>this._forEachManipulator(w=>w.onViewChange())))}detach(){this.activeTool=null;this.tools.removeAll();this.removeHandles("attached");this._clearInteractingTimeout();this._interacting=!1}_forEachManipulator(w){this._forEachTool(z=>
{z.manipulators&&z.manipulators.forEach(({manipulator:k})=>w(k,z))})}_handleInputEvent(w){let z=!1;const k={...w,stopPropagation:()=>{z=!0;w.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(k):this._forEachTool(v=>{!z&&v.visible&&v.handleInputEvent(k)});!z&&"key-down"===w.type&&"Escape"===w.key&&this.activeTool&&(w.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(k,this._manipulatorStateEventArgs);z||null==
this.activeTool||this.activeTool.handleInputEventAfter(k);this._manipulatorState.handleHoverEvent(k,this._forEachTool);this._updateCursor();"pointer-move"===w.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles("tools");this._forEachTool(w=>{if(w instanceof c){const z=g.watch(()=>[w.cursor,w.visible,w.editable],()=>{x.areToolManipulatorsEditable(w)||this._manipulatorState.clearPointers(w,
this._manipulatorStateEventArgs);this._updateCursor()});this.addHandles(z,"tools")}w.manipulators&&this.addHandles([w.manipulators.on("after-remove",z=>{this._manipulatorState.clearPointers(w,this._manipulatorStateEventArgs,!0,z.item.manipulator)}),w.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}_updateToolEditableFlag(w){w.setEditableFlag?.(A.EditableFlag.MANAGER,
null==this.activeTool||w===this.activeTool)}_updateCursor(){let w=this._manipulatorState.cursor;null==w&&this._forEachTool(z=>null!=z.cursor&&z.visible?(w=z.cursor,!0):!1);this._get("cursor")!==w&&this._set("cursor",w)}_removeIncompleteTools(w){this.tools.filter(z=>(null==w||z!==w)&&!z.created&&z.removeIncompleteOnCancel).forEach(z=>{this.tools.remove(z)})}get test(){}};b.__decorate([f.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);b.__decorate([f.property({value:null})],
a.ToolViewManager.prototype,"activeTool",null);b.__decorate([f.property({readOnly:!0,type:d})],a.ToolViewManager.prototype,"tools",void 0);b.__decorate([f.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);b.__decorate([f.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);b.__decorate([f.property()],a.ToolViewManager.prototype,"_interacting",void 0);b.__decorate([f.property({readOnly:!0})],a.ToolViewManager.prototype,"interacting",null);a.ToolViewManager=b.__decorate([r.subclass("esri.views.ToolViewManager")],
a.ToolViewManager);a.interactingTimeout=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/has ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./keys ./handlers/LatestPointer ./handlers/MultiTouch ../support/PropertiesPool".split(" "),function(a,b,c,h,d,n,m,e,g,f,p,r,t){a.InputManager=
class extends c{constructor(w){super(w);this._pointerCaptures=new Map;this._nameToGroup={};this._handlers=[];this._handlersPriority=[];this._currentPropagation=null;this._updateDependenciesAfterPropagation=!1;this._sourceEvents=new Set;this._keyModifiers=new Set;this._activeKeyModifiers=new Set;this._stoppedPropagationEventIds=new Set;this.primaryKey=f.primaryKey;this._latestPointerType="mouse";this._propertiesPool=new t.PropertiesPool({latestPointerLocation:u},this);this.latestPointerLocation=null;
this._paused=!1;this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()}destroy(){const w=Object.keys(this._nameToGroup);for(const z of w)this.uninstallHandlers(z);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(w=>w.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||
this._paused}installHandlers(w,z,k=x.INTERNAL){if(!this._nameToGroup[w]&&0!==z.length){var v={name:w,handlers:z.map(y=>({handler:y,active:!0,removed:!1,priorityIndex:0,groupPriority:k,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[w]=v;for(w=v.handlers.length-1;0<=w;w--){const y=v.handlers[w];this._handlers.push(y);y.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(B,C,L,M,G)=>{this._emitInputEvent(y.priorityIndex+1,B,C,L,G,M)},setPointerCapture:(B,C)=>
{this._setPointerCapture(v,y,B,C)},setEventCallback:B=>{y.eventCallback=B},setUninstallCallback:B=>{y.uninstallCallback=B},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}}uninstallHandlers(w){const z=this._nameToGroup[w];z?(z.handlers.forEach(k=>{k.removed=!0;k.uninstallCallback?.()}),delete this._nameToGroup[w],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):d.getLogger(this).error("There is no InputHandler group registered under the name `"+
w+"`")}hasHandlers(w){return void 0!==this._nameToGroup[w]}isModifierKeyDown(w){return this._activeKeyModifiers.has(w)}updateDependencies(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var w=new Set,z=new Set;this._handlersPriority=[];for(var k=this._handlers.length-1;0<=k;k--){var v=this._handlers[k];v.priorityIndex=k;this._handlersPriority.push(v)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);
for(k=this._handlersPriority.length-1;0<=k;k--){v=this._handlersPriority[k];v.priorityIndex=k;let y=v.handler.hasSideEffects;if(!y)for(const B of v.handler.outgoingEventTypes)if(w.has(B)){y=!0;break}if(y)for(const B of v.handler.incomingEventMatches){w.add(B.eventType);for(const C of B.keyModifiers)f.isSystemModifier(C)||z.add(C)}v.active=y}this._sourceEvents=w;this._keyModifiers=z;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),
this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}_setLatestPointer(w,z,k){this._latestPointerType=w;w=this._get("latestPointerLocation");if(null==w||w.x!==z||w.y!==k)w=this._propertiesPool.get("latestPointerLocation"),w.x=z,w.y=k,this._set("latestPointerLocation",w)}_onEventReceived(w,z){"pointer-capture-lost"===w&&this._pointerCaptures.delete(z.native.pointerId);this._updateKeyModifiers(w,z);this._emitInputEventFromSource(w,z,null!=this.test.timestamp?
this.test.timestamp:z.native?z.native.timestamp:void 0,z.native?z.native.cancelable:void 0)}_updateKeyModifiers(w,z){if(z){var k=!1,v=()=>{k||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),k=!0)},y=(B,C)=>{C&&!this._activeKeyModifiers.has(B)?(v(),this._activeKeyModifiers.add(B)):!C&&this._activeKeyModifiers.has(B)&&(v(),this._activeKeyModifiers.delete(B))};if("key-down"===w||"key-up"===w){const B=z.key;this._keyModifiers.has(B)&&y(B,"key-down"===w)}w=z.native;y("Alt",!!w?.altKey);y("Control",
!!w?.ctrlKey);y("Ctrl",!!w?.ctrlKey);y("Shift",!!w?.shiftKey);y("Meta",!!w?.metaKey);y("Primary",this._activeKeyModifiers.has(this.primaryKey))}}_installRecognizers(){this._latestPointerHandler=new p.LatestPointer((w,z,k)=>this._setLatestPointer(w,z,k));this._multiTouchHandler=new r.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],x.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,x.INTERNAL)}_setPointerCapture(w,
z,k,v){w=w.name+"-"+z.priorityIndex;z=this._pointerCaptures.get(k.pointerId)||new Set;this._pointerCaptures.set(k.pointerId,z);v?(z.add(w),1===z.size&&this.eventSource&&this.eventSource.setPointerCapture(k,!0)):z.has(w)&&(z.delete(w),0===z.size&&(this._pointerCaptures.delete(k.pointerId),this.eventSource&&this.eventSource.setPointerCapture(k,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(w=>!w.removed);this.updateDependencies()}_emitInputEventFromSource(w,z,k,v){this._emitInputEvent(0,
w,z,k,v)}_emitInputEvent(w,z,k,v,y,B){v=void 0!==v?v:this._currentPropagation?this._currentPropagation.timestamp:performance.now();w={event:new l(z,k,v,B||this._activeKeyModifiers,void 0!==y?y:!1),priorityIndex:w};this._currentPropagation?this._currentPropagation.events.push(w):this._doNewPropagation(w)}_doNewPropagation(w){this._currentPropagation={events:new n,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:w.event.timestamp};this._currentPropagation.events.push(w);this._continuePropagation()}_continuePropagation(){this._paused=
!1;const w=this._currentPropagation;if(w){for(;0<w.events.length;){const {event:z,priorityIndex:k}=w.events.pop(),v=z.data?.eventId;if(null==v||!this._stoppedPropagationEventIds.has(v))for(w.currentHandler=this._handlersPriority[k];w.currentHandler;){if(w.currentHandler.removed)w.needsHandlerGarbageCollect=!0;else{w.currentHandler.active&&!z.shouldStopPropagation()&&w.currentHandler.eventCallback?.(z);if(z.shouldStopPropagation()){null!=v&&this._stoppedPropagationEventIds.add(v);break}if(z.shouldPausePropagation(()=>
this._continuePropagation())){this._pausePropagation({event:z,priorityIndex:w.currentHandler.priorityIndex+1});return}}w.currentHandler=this._handlersPriority[w.currentHandler.priorityIndex+1]}}w.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(w){const z=new n;z.push(w);if(w=this._currentPropagation){for(;w.events.length;)z.push(w.events.pop());
w.events=z;w.currentHandler=null;this._paused=!0}}_compareHandlerPriority(w,z){if(w.handler.hasSideEffects!==z.handler.hasSideEffects)return w.handler.hasSideEffects?1:-1;if(w.groupPriority!==z.groupPriority)return w.groupPriority>z.groupPriority?-1:1;for(const k of w.handler.incomingEventMatches)for(const v of z.handler.incomingEventMatches){if(k.eventType!==v.eventType)continue;const y=k.keyModifiers.filter(B=>v.keyModifiers.includes(B));if(y.length===k.keyModifiers.length!==(y.length===v.keyModifiers.length))return k.keyModifiers.length>
v.keyModifiers.length?-1:1}return w.priorityIndex>z.priorityIndex?-1:1}_sortHandlersPriority(w){const z=[];for(const k of w){for(w=0;w<z.length&&0<=this._compareHandlerPriority(k,z[w]);)w++;z.splice(w,0,k)}return z}get debug(){const w=z=>{const k=this._setPointerCapture;this._setPointerCapture=()=>{};z();this._setPointerCapture=k};return{injectEvent:(z,k)=>{w(()=>this._onEventReceived(z,k))},disablePointerCapture:w}}};b.__decorate([m.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",
null);b.__decorate([m.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);b.__decorate([m.property({constructOnly:!0})],a.InputManager.prototype,"recognizers",void 0);b.__decorate([m.property()],a.InputManager.prototype,"_latestPointerType",void 0);b.__decorate([m.property()],a.InputManager.prototype,"latestPointerType",null);b.__decorate([m.property()],a.InputManager.prototype,"multiTouchActive",null);b.__decorate([m.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",
void 0);b.__decorate([m.property()],a.InputManager.prototype,"_paused",void 0);b.__decorate([m.property({readOnly:!0})],a.InputManager.prototype,"updating",null);a.InputManager=b.__decorate([g.subclass("esri.views.input.InputManager")],a.InputManager);class l{constructor(w,z,k,v,y){this.type=w;this.data=z;this.timestamp=k;this.modifiers=v;this.cancelable=y;this._propagationState=q.NONE;this._resumeCallback=null}stopPropagation(){this._propagationState|=q.STOPPED}shouldStopPropagation(){return 0!==
(this._propagationState&q.STOPPED)}async(w){this._propagationState|=q.PAUSED;const z=(k,v)=>{this._propagationState&=~q.PAUSED;const y=this._resumeCallback;this._resumeCallback=null;y&&y();if(v)throw k;return k};return("function"===typeof w?w():w).then(k=>z(k,!1),k=>z(k,!0))}shouldPausePropagation(w){return this._propagationState&q.PAUSED?(this._resumeCallback=w,!0):!1}preventDefault(){this.data.native.preventDefault()}}var q;(function(w){w[w.NONE=0]="NONE";w[w.STOPPED=1]="STOPPED";w[w.PAUSED=2]=
"PAUSED"})(q||={});const x={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class A{}const u=A;a.ViewEventPriorities=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/has"],function(a,b){b=b("mac")?"Meta":"Control";const c=new Set("Alt Control Meta Shift Ctrl Primary".split(" "));a.isSystemModifier=h=>c.has(h);a.primaryKey=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports",
"../InputHandler"],function(a,b){class c extends b.InputHandler{constructor(h){super(!0);this._onChange=h;this._value="mouse";this._y=this._x=null;this.registerIncoming("pointer-move",d=>this._update(d.data))}_update(h){const d="touch"===h.native.pointerType?"touch":"mouse",{x:n,y:m}=h;if(d!==this._value||this._x!==n||this._y!==m)this._value=d,this._x=n,this._y=m,this._onChange(d,n,m)}}a.LatestPointer=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports",
"../../core/has","../../core/Logger","./EventMatch"],function(a,b,c,h){class d{constructor(e){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const g=this._incoming[e];for(const f of g)this._incomingEventMatches.push(f.match)}}return this._incomingEventMatches}get incomingEventTypes(){this._incomingEventTypes||
(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType));return this._incomingEventTypes}get outgoingEventTypes(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(g=>this._handleEvent(g)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,g,f){"function"===
typeof g?(f=g,g=[]):g=g||[];e="string"===typeof e?new h.EventMatch(e,g):e;const p=()=>{this._incomingEventMatches=this._incomingEventTypes=null};g=r=>{const t=this._incoming[r.match.eventType];t&&(r=t.indexOf(r),t.splice(r,1),p(),this._manager&&this._manager.updateDependencies())};f=new n(e,f,{onPause:g,onRemove:g,onResume:r=>{const t=this._incoming[r.match.eventType];t&&!t.includes(r)&&(t.push(r),p(),this._manager&&this._manager.updateDependencies())}});g=this._incoming[e.eventType];g||(g=[],this._incoming[e.eventType]=
g);g.push(f);p();this._manager&&this._manager.updateDependencies();return f}registerOutgoing(e){if(this._outgoing[e])throw Error("There is already a callback registered for this outgoing InputEvent: "+e);const g=new m(e,{onEmit:(f,p,r,t)=>{this._manager?.emit(f.eventType,p,r,t)},onRemove:f=>{delete this._outgoing[f.eventType];this._manager?.updateDependencies()}});this._outgoing[e]=g;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return g}startCapturingPointer(e){this._manager?.setPointerCapture(e,
!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const g=this._incoming[e.type];if(g)for(const f of g)if(f.match.matches(e)&&(f.callback?.(e),e.shouldStopPropagation()))break}}class n{constructor(e,g,f){this.match=e;this._callback=g;this._handler=f}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}
class m{constructor(e,g){this.eventType=e;this._removed=!1;this._handler=g}emit(e,g,f){if(!this._removed)this._handler.onEmit(this,e,g,f)}remove(){this._removed=!0;this._handler.onRemove(this)}}a.InputHandler=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){class b{constructor(c,h=[]){this.eventType=c;this.keyModifiers=h}matches(c){if(c.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;c=
c.modifiers;for(const h of this.keyModifiers)if(!c.has(h))return!1;return!0}}a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports","../../../core/signal","../InputHandler"],function(a,b,c){class h extends c.InputHandler{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0);this._activeTouchPointerIds=new Set;this._multiTouchActive=b.signal(!1);this._onPointerAdd=({data:d})=>{"touch"===
d.pointerType&&(this._activeTouchPointerIds.add(d.native.pointerId),this._update())};this._onPointerRemove=({data:d})=>{"touch"===d.pointerType&&(this._activeTouchPointerIds.delete(d.native.pointerId),this._update())};this.registerIncoming("pointer-down",this._onPointerAdd);this.registerIncoming("pointer-up",this._onPointerRemove);this.registerIncoming("pointer-capture-lost",this._onPointerRemove);this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=
1<this._activeTouchPointerIds.size}}a.MultiTouch=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports","./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b,c,h){class d{constructor(n,m){this._observable=new h.SimpleObservable;this._value=n;this._equalityFunction=m}get value(){c.trackAccess(this._observable);return this._value}set value(n){this._equalityFunction(n,this._value)||(this._value=n,this._observable.notify())}mutate(n){n(this._value);
this._observable.notify()}}a.signal=function(n,m=b.equalsShallow){return new d(n,m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/PropertiesPool":function(){define(["exports","../../core/ReentrantObjectPool","../../core/accessorSupport/watch"],function(a,b,c){class h{constructor(d,n){this._owner=n;this._properties={};this._afterDispatchHandle=null;for(const m in d)n=new b.ReentrantObjectPool(d[m],void 0,void 0,2,2),this._properties[m]={pool:n,acquired:[]};this._afterDispatchHandle=
c.afterDispatch(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const d in this._properties){const n=this._properties[d];for(const m of n.acquired)c.isValueInUse(m)||n.pool.release(m);n.pool.destroy();n.pool=null;n.acquired=null}this._owner=this._properties=null}get(d){const n=this._owner._get(d);d=this._properties[d];let m=d.pool.acquire();for(d.acquired.push(m);m===n;)d.acquired.push(m),m=d.pool.acquire();return m}_release(){for(const d in this._properties){const n=
this._properties[d];let m=0;for(const e of n.acquired)c.isValueInUse(e)?n.acquired[m++]=e:n.pool.release(e);n.acquired.length=m}}}a.PropertiesPool=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../core/has ../../core/handleUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),function(a,b,c,h,d,n,m,e){function g(G){return!!C[G]}function f(G){for(const E of G)if(!g(E))return!1;
return!0}function p(G){return{type:"focus",timestamp:G.timestamp,native:G.data.native,cancelable:G.cancelable,stopPropagation:()=>G.stopPropagation(),async:E=>G.async(E),preventDefault:()=>G.preventDefault()}}function r(G){return{type:"blur",timestamp:G.timestamp,native:G.data.native,cancelable:G.cancelable,stopPropagation:()=>G.stopPropagation(),async:E=>G.async(E),preventDefault:()=>G.preventDefault()}}function t(G,E){const {pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,eventId:N}=E.data,{cancelable:U,
timestamp:Z}=E,fa=d.createScreenPoint(J,K);G=u(G,J,K);return{type:"click",pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,timestamp:Z,screenPoint:fa,mapPoint:G,eventId:N,cancelable:U,stopPropagation:()=>E.stopPropagation(),async:pa=>E.async(pa),preventDefault:()=>E.preventDefault()}}function l(G,E){const {pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,eventId:N}=E.data,{cancelable:U,timestamp:Z}=E;return{type:"double-click",pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,timestamp:Z,mapPoint:u(G,
J,K),eventId:N,cancelable:U,stopPropagation:()=>E.stopPropagation(),async:fa=>E.async(fa),preventDefault:()=>E.preventDefault()}}function q(G,E){const {pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,eventId:N}=E.data,U=Q.pointerId,{cancelable:Z,timestamp:fa}=E;return{type:"immediate-click",pointerId:U,pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,timestamp:fa,mapPoint:u(G,J,K),eventId:N,cancelable:Z,stopPropagation:()=>E.stopPropagation(),async:pa=>E.async(pa),preventDefault:()=>E.preventDefault()}}
function x(G,E){const {pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,eventId:N}=E.data,U=Q.pointerId,{cancelable:Z,timestamp:fa}=E;return{type:"immediate-double-click",pointerId:U,pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,timestamp:fa,mapPoint:u(G,J,K),eventId:N,cancelable:Z,stopPropagation:()=>E.stopPropagation(),async:pa=>E.async(pa),preventDefault:()=>E.preventDefault()}}function A(G,E){const {pointerType:F,button:H,buttons:R,x:J,y:K,native:Q}=E.data,{cancelable:N,timestamp:U}=E;return{type:"hold",
pointerType:F,button:H,buttons:R,x:J,y:K,native:Q,timestamp:U,mapPoint:u(G,J,K),cancelable:N,stopPropagation:()=>E.stopPropagation(),async:Z=>E.async(Z),preventDefault:()=>E.preventDefault()}}function u(G,E,F){return G.toMap(d.createScreenPoint(E,F),{exclude:[]})}function w(G){const {key:E,repeat:F,native:H}=G.data,{cancelable:R,timestamp:J}=G;return{type:"key-down",key:E,repeat:F,native:H,timestamp:J,cancelable:R,stopPropagation:()=>G.stopPropagation(),async:K=>G.async(K),preventDefault:()=>G.preventDefault()}}
function z(G){const {key:E,native:F}=G.data,{cancelable:H,timestamp:R}=G;return{type:"key-up",key:E,native:F,timestamp:R,cancelable:H,stopPropagation:()=>G.stopPropagation(),async:J=>G.async(J),preventDefault:()=>G.preventDefault()}}function k(G,E){const {x:F,y:H,button:R,buttons:J,native:K,eventId:Q}=G.data,N=K.pointerId,U=K.pointerType,{cancelable:Z,timestamp:fa}=G;return{type:E,x:F,y:H,pointerId:N,pointerType:U,button:R,buttons:J,native:K,timestamp:fa,eventId:Q,cancelable:Z,stopPropagation:()=>
G.stopPropagation(),async:pa=>G.async(pa),preventDefault:()=>G.preventDefault()}}function v(G){const {x:E,y:F,buttons:H,native:R,eventId:J}=G.data.currentEvent,{button:K}=G.data.startEvent,Q=G.data.startEvent.native.pointerId,N=G.data.startEvent.native.pointerType,U=G.data.action,Z={x:G.data.startEvent.x,y:G.data.startEvent.y},{cancelable:fa,timestamp:pa}=G;return{type:"pointer-drag",x:E,y:F,pointerId:Q,pointerType:N,button:K,buttons:H,action:U,origin:Z,native:R,timestamp:pa,eventId:J,cancelable:fa,
stopPropagation:()=>G.stopPropagation(),async:xa=>G.async(xa),preventDefault:()=>G.preventDefault()}}function y(G){const {cancelable:E,data:F,timestamp:H}=G,{x:R,y:J,deltaY:K,native:Q}=F;return{type:"mouse-wheel",x:R,y:J,deltaY:K,native:Q,timestamp:H,cancelable:E,stopPropagation:()=>G.stopPropagation(),async:N=>G.async(N),preventDefault:()=>G.preventDefault()}}function B(G){const {action:E,state:F,device:H}=G.data,{cancelable:R,timestamp:J}=G,{buttons:K,axes:Q}=F;return{type:"gamepad",device:H,timestamp:J,
action:E,buttons:K,axes:Q,cancelable:R,stopPropagation:()=>G.stopPropagation(),async:N=>G.async(N),preventDefault:()=>G.preventDefault()}}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const C={};b.forEach(G=>{C[G]=!0});class L{constructor(G){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=G;this.inputManager=
null}connect(G){G&&this.disconnect();this.inputManager=G;this._handlers.forEach(({handler:E,priority:F},H)=>this.inputManager?.installHandlers(H,[E],F))}disconnect(){this.inputManager&&this._handlers.forEach((G,E)=>this.inputManager?.uninstallHandlers(E));this.inputManager=null}destroy(){this.disconnect();this._handlers.clear();this.view=null}on(G,E,F,H){const R=Array.isArray(G)?G:G.split(",");if(!f(R))return R.some(g)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(E))G=E;else{var J=E;G=[]}"function"===typeof F?J=F:H=F;H=null!=H?H:m.ViewEventPriorities.DEFAULT;const K=this._createUniqueGroupName();F=new M(this.view,R,G,J);this._handlers.set(K,{handler:F,priority:H});for(const Q of R)J=this._handlerCounts.get(Q)||0,this._handlerCounts.set(Q,J+1);this.inputManager&&this.inputManager.installHandlers(K,[F],H);return c.makeHandle(()=>this._removeHandler(K,R))}hasHandler(G){return!!this._handlerCounts.get(G)}_removeHandler(G,E){if(this._handlers.has(G)){this._handlers.delete(G);
for(const F of E)E=this._handlerCounts.get(F),void 0!==E&&(1===E?this._handlerCounts.delete(F):this._handlerCounts.set(F,E-1))}this.inputManager&&this.inputManager.uninstallHandlers(G)}_createUniqueGroupName(){this._counter+=1;return`viewEvents_${this._counter}`}}class M extends n.InputHandler{constructor(G,E,F,H){super(!0);this._latestDragStart=void 0;this.view=G;for(const R of E)switch(R){case "click":this.registerIncoming("click",F,J=>H(t(G,J)));break;case "double-click":this.registerIncoming("double-click",
F,J=>H(l(G,J)));break;case "immediate-click":this.registerIncoming("immediate-click",F,J=>H(q(G,J)));break;case "immediate-double-click":this.registerIncoming("immediate-double-click",F,J=>H(x(G,J)));break;case "hold":this.registerIncoming("hold",F,J=>H(A(G,J)));break;case "drag":this.registerIncoming("drag",F,J=>{(J=this._wrapDrag(J))&&H(J)});break;case "key-down":this.registerIncoming("key-down",F,J=>H(w(J)));break;case "key-up":this.registerIncoming("key-up",F,J=>H(z(J)));break;case "pointer-down":this.registerIncoming("pointer-down",
F,J=>H(k(J,"pointer-down")));break;case "pointer-move":this.registerIncoming("pointer-move",F,J=>H(k(J,"pointer-move")));break;case "pointer-up":this.registerIncoming("pointer-up",F,J=>H(k(J,"pointer-up")));break;case "pointer-drag":this.registerIncoming("pointer-drag",F,J=>H(v(J)));break;case "mouse-wheel":this.registerIncoming("mouse-wheel",F,J=>H(y(J)));break;case "pointer-enter":this.registerIncoming("pointer-enter",F,J=>H(k(J,"pointer-enter")));break;case "pointer-leave":this.registerIncoming("pointer-leave",
F,J=>H(k(J,"pointer-leave")));break;case "gamepad":this.registerIncoming("gamepad",F,J=>{H(B(J))});break;case "focus":this.registerIncoming("focus",F,J=>{H(p(J))});break;case "blur":this.registerIncoming("blur",F,J=>{H(r(J))})}}_wrapDrag(G){const E=G.data,{x:F,y:H}=E.center,{action:R,pointerType:J,button:K}=E;"start"===R&&(this._latestDragStart=E);if(this._latestDragStart){var Q=E.pointer.native,N=E.buttons,{cancelable:U,timestamp:Z}=G,fa={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};
"end"===R&&(this._latestDragStart=void 0);return{type:"drag",action:R,x:F,y:H,origin:fa,pointerType:J,button:K,buttons:N,radius:E.radius,angle:h.rad2deg(E.angle),native:Q,timestamp:Z,cancelable:U,stopPropagation:()=>G.stopPropagation(),async:pa=>G.async(pa),preventDefault:()=>G.preventDefault()}}}}Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>e.MouseButton});a.ViewEvents=L;a.eventTypes=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],
function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,c){a.areToolManipulatorsEditable=function(h){return h.visible&&null!=h.getEditableFlag&&h.getEditableFlag(c.EditableFlag.USER)&&h.getEditableFlag(c.EditableFlag.MANAGER)};a.getToolCollectionHandles=
function(h){return[h.on("before-add",d=>{const n=d.item;if(null==n||h.includes(n))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),d.preventDefault();else n.onAdd()}),h.on("after-remove",d=>{d=d.item;d.active&&(d.view.activeTool=null);d.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],function(a){a.EditableFlag=
void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";b[b.Custom3=64]="Custom3";b[b.Custom4=
128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../core/iteratorUtils ../../core/mathUtils ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),
function(a,b,c,h,d,n){function m(f){for(const {manipulator:p}of f.values())if(null!=p&&p.interactive){if(p.grabbing&&p.grabCursor)return p.grabCursor;if(p.cursor)return p.cursor}return null}function e(f,p,r){let t=null;r(l=>{if(null==l.manipulators||!d.areToolManipulatorsEditable(l))return!1;const q=l.manipulators.intersect(f,p);if(null==q)return!1;t={tool:l,manipulator:q};return!0});return t}class g{constructor(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=
new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._externallyDragging=this._stopDrag=!1;this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return 0<this._grabbedManipulators.size||0<this._draggedManipulators.size}handleInputEvent(f,p){var r=()=>f.stopPropagation();switch(f.type){case "pointer-move":"mouse"===f.pointerType&&this._pointerLocations.set(f.pointerId,{x:f.x,y:f.y,pointerType:f.pointerType});break;case "drag":0<this._grabbedManipulators.size?
this._stopDrag=!0:"start"===f.action?this._externallyDragging=!0:"end"===f.action&&(this._externallyDragging=!1);this._stopDrag&&(f.stopPropagation(),"end"===f.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===f.pointerType&&0!==f.button)break;r=n.createScreenPointFromEvent(f);var t=e(r,f.pointerType,p.forEachTool);if(null==t)break;var l=t.manipulator,q=t.tool;null==l||null==q||!l.interactive||l.grabbable&&l.grabbableForEvent(f)||!l.grabbing||l.dragging||this._releaseManipulatorBeforeDragging(l,
f,p);null!=l&&null!=q&&l.interactive&&l.grabbable&&l.grabbableForEvent(f)&&!l.grabbing&&(this._grabbedManipulators.set(f.pointerId,{manipulator:l,tool:q,start:r,pointerType:f.pointerType}),1===this._grabbedManipulators.size&&null==p.activeTool&&(this._revertToNullActiveTool=!0,p.setActiveTool(t.tool)),l.grabbing=!0,l.events.emit("grab-changed",{action:"start",pointerType:f.pointerType,screenPoint:r}),f.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(f.pointerId)||this._handlePointerEnd(f,
p);break;case "pointer-drag":if("mouse"===f.pointerType&&0!==f.button)break;q=this._grabbedManipulators.get(f.pointerId);r=q?.manipulator;t=q?.tool;if(null==r||null==t)break;l=n.createScreenPointFromEvent(f);l.x=c.clamp(l.x,0,p.view.width);l.y=c.clamp(l.y,0,p.view.height);q=q.start;const x=this._draggedManipulators.get(f.pointerId);switch(f.action){case "start":case "update":if("update"===f.action||1===this._grabbedManipulators.size)r.dragging=!0,x?r.events.emit("drag",{action:"update",start:q,screenPoint:l}):
r.events.emit("drag",{action:"start",start:q,screenPoint:l,pointerType:f.pointerType}),this._draggedManipulators.set(f.pointerId,{tool:t,manipulator:r,start:q});break;case "end":r.dragging=!1,x&&r.events.emit("drag",{action:"end",start:q,screenPoint:l}),this._draggedManipulators.delete(f.pointerId),this._handlePointerEnd(f,p)}f.stopPropagation();break;case "immediate-click":t=n.createScreenPointFromEvent(f);const A=e(t,f.pointerType,p.forEachTool);f.native.shiftKey||p.forEachTool(z=>{if((null==A||
A.tool!==z||z.automaticManipulatorSelection)&&z.manipulators){let k=!1;z.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,k=!0)});if(k&&z.onManipulatorSelectionChanged)z.onManipulatorSelectionChanged()}});if(null==A)break;const {manipulator:u,tool:w}=A;if(!u.interactive)break;if(u.selectable&&w.automaticManipulatorSelection&&(u.selected=!u.selected,w.onManipulatorSelectionChanged))w.onManipulatorSelectionChanged();u.events.emit("immediate-click",{screenPoint:t,button:f.button,pointerType:f.pointerType,
shiftKey:f.native.shiftKey,stopPropagation:r});u?.consumesClicks&&f.stopPropagation();break;case "click":r=n.createScreenPointFromEvent(f);t=e(r,f.pointerType,p.forEachTool)?.manipulator;if(null==t||!t.interactive)break;t.events.emit(f.type,{screenPoint:r,button:f.button,pointerType:f.pointerType,shiftKey:f.native.shiftKey});f.stopPropagation();break;case "double-click":t=n.createScreenPointFromEvent(f);l=e(t,f.pointerType,p.forEachTool);l=null!=l?l.manipulator:null;if(null==l||!l.interactive)break;
l.events.emit("double-click",{screenPoint:t,button:f.button,pointerType:f.pointerType,shiftKey:f.native.shiftKey,stopPropagation:r});l?.consumesClicks&&f.stopPropagation();break;case "immediate-double-click":t=n.createScreenPointFromEvent(f),l=e(t,f.pointerType,p.forEachTool),l=null!=l?l.manipulator:null,null!=l&&l.interactive&&(l.events.emit("immediate-double-click",{screenPoint:t,button:f.button,pointerType:f.pointerType,shiftKey:f.native.shiftKey,stopPropagation:r}),"mouse"===f.pointerType&&l?.consumesClicks&&
f.stopPropagation())}this._onFocusChange(p.forEachTool)}_releaseManipulatorBeforeDragging(f,p,r){f.grabbing=!1;f.events.emit("grab-changed",{action:"end",pointerType:p.pointerType,screenPoint:n.createScreenPointFromEvent(p)});this._grabbedManipulators.forEach(({manipulator:t},l)=>{t===f&&this._grabbedManipulators.delete(l)});this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(f,p){const r=this._grabbedManipulators.get(f.pointerId)?.manipulator;null!=r&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",
{action:"end",pointerType:f.pointerType,screenPoint:n.createScreenPointFromEvent(f)}),this._grabbedManipulators.delete(f.pointerId),this._afterManipulatorRelease(p.setActiveTool))}_onFocusChange(f){this._updateCursor();this._updateFocusedManipulatorTools(f)}_updateCursor(){this._cursor=0<this._grabbedManipulators.size?m(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?m(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(f){const p=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:t})=>
{p.add(t)});this._hoveredManipulators.forEach(({tool:t})=>{r.add(t)});f(t=>{t.hasGrabbedManipulators=p.has(t);t.hasHoveredManipulators=r.has(t);var l=this._grabbedManipulators.values();l=b.find(l,({tool:q})=>q===t);t.firstGrabbedManipulator=null!=l?l.manipulator:null})}clearPointers(f,{forEachTool:p,setActiveTool:r},t=!0,l){this._grabbedManipulators.forEach(({tool:q,manipulator:x,pointerType:A},u)=>{q!==f||null!=l&&l!==x||(this._grabbedManipulators.delete(u),x.grabbing=!1,x.events.emit("grab-changed",
{action:"end",screenPoint:null,pointerType:A}))});this._draggedManipulators.forEach(({tool:q,manipulator:x},A)=>{q!==f||null!=l&&l!==x||(this._draggedManipulators.delete(A),x.dragging=!1,x.events.emit("drag",{action:"cancel"}))});t&&this._hoveredManipulators.forEach(({tool:q,manipulator:x},A)=>{q!==f||null!=l&&l!==x||(this._hoveredManipulators.delete(A),x.hovering=!1)});this._afterManipulatorRelease(r);this._onFocusChange(p)}updateHoveredStateFromKnownPointers(f){this._pointerLocations.forEach((p,
r)=>{this._updateHoveredStateForPointerAtScreenPosition(h.createScreenPoint(p.x,p.y),r,p.pointerType,f)})}handleHoverEvent(f,p){const r=f.type;"pointer-up"!==r&&"immediate-click"!==r&&"pointer-move"!==r||"mouse"!==f.pointerType||("pointer-up"!==r&&this._externallyDragging?this._clearHoveredManipulatorStates(f.pointerId):this._updateHoveredStateForPointerAtScreenPosition(n.createScreenPointFromEvent(f),f.pointerId,f.pointerType,p))}_updateHoveredStateForPointerAtScreenPosition(f,p,r,t){f=e(f,r,t);
r=this._hoveredManipulators.get(p)?.manipulator;null==f||f.manipulator.interactive||(f=null);if(null==f||r!==f.manipulator)null!=r&&(r.hovering=!1),null!=f?(f.manipulator.hovering=!0,this._hoveredManipulators.set(p,f)):this._hoveredManipulators.delete(p),this._onFocusChange(t)}_afterManipulatorRelease(f){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(f(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(f){this._hoveredManipulators.forEach(({manipulator:p},r)=>
{f===r&&(this._hoveredManipulators.delete(f),p.hovering=!1)})}}a.ToolViewManagerManipulatorState=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,b,c){function h(n){return c.createScreenPoint(n.x,n.y)}function d(n,m){return(n=(n instanceof HTMLElement?n:n.surface)?.getBoundingClientRect())?c.createScreenPoint(m.clientX-n.left,m.clientY-n.top):c.createScreenPoint(0,0)}
a.createScreenPointArrayFromEvent=function(n){return c.createScreenPointArray(n.x,n.y)};a.createScreenPointFromEvent=h;a.createScreenPointFromNativeEvent=d;a.createScreenPointFromSupportedEvent=function(n,m){return m instanceof Event?d(n,m):h(m)};a.isSupportedScreenPointEvent=function(n){if(n instanceof Event)return!0;if("object"===typeof n&&"type"in n)switch(n.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),function(a,b,c,h,d,n,m,e){b=class extends b{constructor(){super(...arguments);this.gamepad=new e}};a.__decorate([c.property({readOnly:!0})],b.prototype,"gamepad",void 0);
return b=a.__decorate([m.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),function(a,b,c,h,d,n,m,e,g){b=class extends b{constructor(...f){super(...f);this.devices=new c;this.enabledFocusMode=
"document"}};a.__decorate([h.property({type:c.ofType(g),readOnly:!0})],b.prototype,"devices",void 0);a.__decorate([h.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=a.__decorate([e.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,c,h,d,n,m){b=class extends b{constructor(f){super();this.nativeIndex=null;this._detectedDeviceType="unknown";"standard"===f.mapping?this._detectedDeviceType="standard":e.test(f.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown";this.nativeIndex=f.index}get native(){const f=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<f.length?f[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return g[this.deviceType]}};
a.__decorate([c.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);a.__decorate([c.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);a.__decorate([c.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=a.__decorate([m.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const e=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),g={standard:.15,spacemouse:.025,unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/tslib.es6 ../../core/a11yUtils ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,c,h,d,n,m,e,g){c=class extends c{constructor(f){super(f);this.browserTouchPanEnabled=!0;this.gamepad=new g;this.mouseWheelZoomEnabled=this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!b.prefersReducedMotion()}};a.__decorate([h.property({type:Boolean})],c.prototype,"browserTouchPanEnabled",void 0);a.__decorate([h.property({type:g,nonNullable:!0})],c.prototype,"gamepad",void 0);a.__decorate([h.property({type:Boolean})],c.prototype,"momentumEnabled",void 0);
a.__decorate([h.property({type:Boolean})],c.prototype,"mouseWheelZoomEnabled",void 0);return c=a.__decorate([e.subclass("esri.views.navigation.Navigation")],c)})},"esri/core/a11yUtils":function(){define(["exports","../config"],function(a,b){a.prefersReducedMotion=()=>b.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,b,c,h,d,n,m,e){b=class extends b{constructor(g){super(g);this.enabled=!0;this.device=null;this.mode="pan";this.tiltDirection="forward-down";this.velocityFactor=1}};a.__decorate([c.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);a.__decorate([c.property({type:e})],b.prototype,"device",void 0);a.__decorate([c.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);a.__decorate([c.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,
"tiltDirection",void 0);a.__decorate([c.property({type:Number,nonNullable:!0})],b.prototype,"velocityFactor",void 0);return b=a.__decorate([m.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l){a.DefaultsFromMap=class extends c{constructor(x){super(x);this.required={extent:!1,heightModelInfo:!1,tileInfo:!1};this.userSpatialReference=this.defaultSpatialReference=null;this.sourcePreloadCount=10;this.priorityCollection=null;this.requiresExtentInSpatialReference=!0;this.suspended=!1;this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=d.abortMaybe(this._projectExtentTask.task));
this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==
this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const x=this.map?.(),A=[];null!=this.priorityCollection&&A.push(this.priorityCollection);A.push({parent:x?.basemap,layers:x?.basemap?.baseLayers},{layers:x?.layers},{parent:x?.ground,layers:x?.ground?.layers},{parent:x?.basemap,layers:x?.basemap?.referenceLayers});return A}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??
{updating:!1};let x;if(this._collectLayers(this.mapCollections,u=>{u=this._getSupportedSpatialReferences(u);0<u.length&&(u=this._narrowDownSpatialReferenceCandidates(x,u),null!=u&&(x=u));return 1===x?.length?!0:!1})&&1!==x?.length)return{updating:!0};const A=this._pickSpatialReferenceCandidate(x);return{spatialReference:A?.spatialReference??null,viewingMode:A?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};var x=this.map?.();
const A=this.spatialReference;if(!A)return{updating:this._spatialReferenceTask.updating};let u;x=this._collectLayers([{parent:x?.basemap,layers:x?.basemap?.baseLayers},{layers:x?.layers}],w=>"tileInfo"in w&&w.tileInfo?.spatialReference.equals(A)?(u=w,!0):!1,w=>"tileInfo"in w);return u?{tileInfo:u.tileInfo,updating:!1}:{updating:x}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};let x={};const A=this._collectLayers(this.mapCollections,u=>{const w=r.deriveHeightModelInfoFromLayer(u);return w?(x={heightModelInfo:w,vcsWkid:u.spatialReference?.vcsWkid,latestVcsWkid:u.spatialReference?.latestVcsWkid},!0):!1},u=>r.supportsHeightModelInfo(u));return{...x,updating:A}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
const x=[],A=this._collectLayers(this.mapCollections,u=>{const w="fullExtents"in u&&u.fullExtents||(null!=u.fullExtent?[u.fullExtent]:[]);var z=this.requiresExtentInSpatialReference?null:w[0];if(z=w.find(k=>k.spatialReference.equals(this.spatialReference))??z)return x.push({extent:z,layer:u}),!0;if(0<this._getSupportedSpatialReferences(u).length)for(const k of w)x.push({extent:k,layer:u});return!1});return{candidates:x,updating:A}}get _extentTask(){const {candidates:x,updating:A}=this._extentCandidatesTask;
if(A)return{updating:A};if(null==x||0===x.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const u=this._pickExtentCandidate(x),w=this.spatialReference;if(u.extent.equals(this._projectExtentTask.input)&&w.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=
d.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:u.extent.clone(),output:null,spatialReference:w.clone(),task:h.createTask(async z=>{try{const k=await l.projectWithEngineOrService(u.extent,w,"portalItem"in u.layer?u.layer.portalItem:void 0,z);this._projectExtentTask={...this._projectExtentTask,task:null,output:k}}catch(k){n.isAborted(z)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}_narrowDownSpatialReferenceCandidates(x,A){if(null==
x)return A;const u=[];for(const z of x)for(const k of A)if(z.spatialReference.equals(k.spatialReference)){x=z.viewingMode;var w=k.viewingMode;x=null!=x?null!=w?x===w?x:!1:x:w;if(!1!==x){u.push({spatialReference:z.spatialReference,viewingMode:x});break}}return 0<u.length?u:null}_pickSpatialReferenceCandidate(x){const A=this.defaultSpatialReference;if(null==x||1>x.length)return A?{spatialReference:A,viewingMode:null}:null;null!=A&&1<x.length&&x.some(({spatialReference:u})=>u.equals(A))&&(x=x.filter(({spatialReference:u})=>
u.equals(A)));1<x.length&&x.some(({viewingMode:u})=>u!==t.ViewingMode.Local)&&(x=x.filter(({viewingMode:u})=>u!==t.ViewingMode.Local));return x[0]}_getSupportedSpatialReferences(x){var A="supportedSpatialReferences"in x&&x.supportedSpatialReferences||(x.spatialReference?[x.spatialReference]:[]);if(0===A.length)return[];const u=[];for(const w of A)if(A=this.getSpatialReferenceSupport(w,x),null!=A){A=A.constraints??[{spatialReference:w,viewingMode:null}];for(const {spatialReference:z,viewingMode:k}of A)this.requiresExtentInSpatialReference&&
null!=this.userSpatialReference&&!z.equals(this.userSpatialReference)||u.push({spatialReference:z,viewingMode:k})}return u}_pickExtentCandidate(x){const A=this.spatialReference;return x.find(({extent:u})=>A.equals(u.spatialReference))||x[0]}_collectLayers(x,A,u=()=>!0){if("loaded"!==this._loadMaybe(this.map?.()))return!0;A=new q(u,A);for(const w of x)if(this._collectCollection(w,A),A.done||A.preloading===this.sourcePreloadCount)break;return A.updating}_collectCollection(x,A){if(x.layers){switch(this._loadMaybe(x.parent)){case "loading":A.updating=
!0;++A.preloading;return;case "failed":return}for(const u of x.layers)if(A.layerFilter(u)){switch(this._loadMaybe(u)){case "failed":continue;case "loading":A.updating=!0;++A.preloading;break;case "loaded":A.updating||(A.done=A.pushLayer(u)),A.done||A.preloading===this.sourcePreloadCount||"layers"in u&&this._collectCollection({layers:u.layers},A)}if(A.done||A.preloading===this.sourcePreloadCount)break}}}_loadMaybe(x){return x&&"loadStatus"in x&&null!=x.loadStatus?"not-loaded"===x.loadStatus?(x.load().catch(A=>
{n.isAbortError(A)}),"loading"):x.loadStatus:"loaded"}};b.__decorate([m.property()],a.DefaultsFromMap.prototype,"required",void 0);b.__decorate([m.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);b.__decorate([m.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);
b.__decorate([m.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"suspended",void 0);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"ready",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",
null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"latestVcsWkid",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"viewingMode",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);b.__decorate([m.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"_extentTask",null);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=b.__decorate([p.subclass("esri.views.support.DefaultsFromMap")],a.DefaultsFromMap);class q{constructor(x,A){this.layerFilter=x;this.pushLayer=A;this.preloading=-1;this.done=this.updating=!1}}Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports",
"../../core/has","../../core/Error","../HeightModelInfo","../../layers/support/arcgisLayerUrl"],function(a,b,c,h,d){function n(l,q,x){if(!m(l)||!m(q))return r.Unsupported;if(null==l||null==q)return r.Ok;if(!x&&l.heightUnit!==q.heightUnit)return r.Units;if(l.heightModel!==q.heightModel)return r.HeightModel;switch(l.heightModel){case "gravity-related-height":return r.Ok;case "ellipsoidal":return l.vertCRS===q.vertCRS?r.Ok:r.CRS;default:return r.Unsupported}}function m(l){return null==l||null!=l.heightModel&&
null!=l.heightUnit}function e(l){if("integrated-mesh-3dtiles"===l.type)return null;const q=l.url?d.parse(l.url):void 0;return(null!=l.spatialReference?.vcsWkid||null==q||"ImageServer"!==q.serverType)&&"heightModelInfo"in l&&l.heightModelInfo?l.heightModelInfo:f(l)?h.deriveUnitFromSR(t,l.spatialReference):null}function g(l){if("unknown"===l.type||!("capabilities"in l))return!1;switch(l.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;
case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;default:return!1}}function f(l){return g(l)?!!(l.capabilities&&l.capabilities.data&&l.capabilities.data.supportsZ):p(l)}function p(l){switch(l.type){case "building-scene":case "elevation":case "integrated-mesh":case "integrated-mesh-3dtiles":case "point-cloud":case "scene":case "voxel":return!0}return!1}var r;(function(l){l[l.Ok=0]="Ok";l[l.Units=1]="Units";l[l.HeightModel=
2]="HeightModel";l[l.CRS=3]="CRS";l[l.Unsupported=4]="Unsupported"})(r||={});const t=new h({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=e;a.rejectLayerError=function(l,q,x){const A=e(l),u=n(A,q,x);if(A){const w=h.deriveUnitFromSR(A,l.spatialReference).heightUnit;if(!x&&w!==A.heightUnit)return q=new c("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${w})`,{horizontalUnit:w}),new c("layerview:unsupported-height-model-info",
"The vertical coordinate system of the layer is not supported",{heightModelInfo:A,error:q})}if(!("heightModelInfo"in l&&null!=l.heightModelInfo||null!=l.spatialReference)&&f(l)||u===r.Unsupported)return new c("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:A});switch(u){case r.Units:return l=A?.heightUnit||"unknown",x=q?.heightUnit||"unknown",l=new c("layerview:incompatible-height-unit",`The vertical units of the layer (${l}) must match the vertical units of the scene (${x})`,
{layerUnit:l,sceneUnit:x}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:A,sceneHeightModelInfo:q,error:l});case r.HeightModel:return l=A?.heightModel||"unknown",x=q?.heightModel||"unknown",l=new c("layerview:incompatible-height-model",`The height model of the layer (${l}) must match the height model of the scene (${x})`,{layerHeightModel:l,sceneHeightModel:x}),new c("layerview:incompatible-height-model-info",
"The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:A,sceneHeightModelInfo:q,error:l});case r.CRS:return l=A?.vertCRS||"unknown",x=q?.vertCRS||"unknown",l=new c("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${l}) must match the vertical datum of the scene (${x})`,{layerDatum:l,sceneDatum:x}),new c("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:A,
sceneHeightModelInfo:q,error:l})}return null};a.supportsHeightModelInfo=function(l){return null!=l.layers||p(l)||g(l)||"heightModelInfo"in l};a.validateWebSceneError=function(l,q){if(!l)return null;if(!m(l))return new c("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:l});const x=l.heightUnit;l=h.deriveUnitFromSR(l,q).heightUnit;return x!==l?new c("webscene:incompatible-height-unit",`The vertical units of the scene (${x}) must match the horizontal units of the scene (${l})`,
{verticalUnit:x,horizontalUnit:l}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],function(a,b,c,h){async function d(g){m||=(new Promise((f,p)=>a(["../../portal/support/geometryServiceUtils"],f,p))).then(f=>e=f);await m;c.throwIfAborted(g)}async function n(g,f,p,r){if(!g)return null;const t=g.spatialReference;if(h.isLoaded()||h.canProjectWithoutEngine(t,f))return h.project(g,f);if(e)return e.projectGeometry(g,f,p,r);await Promise.race([d(r),
h.load(r)]);return n(g,f,p,r)}let m=null,e;b.projectWithEngineOrService=n;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewAnimation":function(){define("../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,c,h,d,n,m,e,g){c=class extends c.EsriPromise{constructor(f){super(f);this.state="running";
this._resolver=this.target=null}initialize(){this._resolver=h.createResolver();this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new b("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(f,p){p||=h.isPromiseLike(f)?"waiting-for-target":
"running";this._set("target",f);this._set("state",p)}};a.__decorate([d.property({readOnly:!0})],c.prototype,"done",null);a.__decorate([d.property({readOnly:!0,type:String})],c.prototype,"state",void 0);a.__decorate([d.property()],c.prototype,"target",void 0);c=a.__decorate([g.subclass("esri.views.ViewAnimation")],c);(c||={}).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return c})},"esri/views/layers/LayerView":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles ../support/layerViewUtils".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t){b=class extends h.IdentifiableMixin(m.EsriPromiseMixin(c.EventedMixin(b))){constructor(l){super(l);this._updatingHandles=new r.UpdatingHandles;this.parent=this.layer=null}initialize(){this.when().catch(l=>{if("layerview:create-error"!==l.name){const q=this.layer&&this.layer.id||"no id",x=this.layer?.title||"no title";d.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${x}', id: '${q}')`,l)}})}destroy(){this._updatingHandles=n.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??
1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(l){this._overrideIfSome("visible",l)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const l=
this.view.timeExtent,q=this.layer?.visibilityTimeExtent;return!l||!q||!l.intersection(q).isEmpty}canResume(){const l=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&t.validateScaleRange(l)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const l=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(l.viewNotReady=!0);this.layer&&this.layer.loaded||
(l.layerNotLoaded=!0);t.validateScaleRange(this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null)&&this.visibleAtCurrentScale||(l.outsideScaleRange=!0);this.visibleAtCurrentTimeExtent||(l.outsideVisibilityTimeExtent=!0);this.visible||(l.layerInvisible=!0);return l}isUpdating(){return!1}};a.__decorate([e.property()],b.prototype,"view",void 0);a.__decorate([e.property()],b.prototype,"fullOpacity",null);a.__decorate([e.property()],b.prototype,"layer",void 0);a.__decorate([e.property()],
b.prototype,"parent",void 0);a.__decorate([e.property({readOnly:!0})],b.prototype,"suspended",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"suspendInfo",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"legendEnabled",null);a.__decorate([e.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"updatingProgress",null);a.__decorate([e.property()],b.prototype,"updateSuspended",null);a.__decorate([e.property()],
b.prototype,"visible",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"visibleAtCurrentScale",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"visibleAtCurrentTimeExtent",null);return b=a.__decorate([p.subclass("esri.views.layers.LayerView")],b)})},"esri/views/support/layerViewUtils":function(){define(["exports","../../core/Error"],function(a,b){function c(d,n,m){return null==d||d>=m&&(0===n||d<=n)}function h(d,n){return null!=d&&0<d||null!=n&&0<n}a.extractSafeScaleBounds=function(d){d=
d.effectiveScaleRange;return{minScale:d?.minScale??0,maxScale:d?.maxScale??0}};a.highlightsSupported=function(d){return d&&"function"===typeof d.highlight};a.isInEffectiveScaleRange=function(d,n){if(n&&d){const {minScale:m,maxScale:e}=d;if(h(m,e))return c(n,m,e)}return!0};a.isScaleRangeActive=h;a.isSelectableLayerView2D=function(d){return null!=d&&"object"===typeof d&&"createQuery"in d&&"queryFeatures"in d&&"layer"in d&&"view"in d};a.occludeesSupported=function(d){return d&&"function"===typeof d.maskOccludee};
a.scaleBoundsPredicate=c;a.spatialReferenceIncompatibleError=function(d,n,m){return new b("layerview:spatial-reference-incompatible",`The spatial reference of this ${d}${n?`(wkid:${n})`:""} is incompatible with the spatial reference of the view${m?`(wkid:${m})`:""}.`,{})};a.validateScaleRange=function(d){return!d?.minScale||!d.maxScale||d.minScale>=d.maxScale};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/Widget":function(){define("../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/events ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,c,h,d,n,m,e,g,f,p,r,t,l,q,x,A,u,w,z,k,v,y,B,C,L,M,G){function E(J,K){const Q=Object.prototype.hasOwnProperty;for(const N in K)Q.call(K,N)&&Q.call(J,N)&&(null!=J[N]&&null!=K[N]&&"object"===typeof J[N]&&"object"===typeof K[N]?E(J[N],K[N]):J[N]=K[N]);return J}let F=0;const H=z.createAdvancedProjector({postProcessProjectionOptions(J){const K=J.eventHandlerInterceptor,Q=/capture$/i;J.eventHandlerInterceptor=(N,U,Z,fa)=>{const pa=K?.(N,U,Z,fa),xa=Q.test(N);N=N.replace(Q,"");if(!(N.toLowerCase()in
Z)||xa){const ra=N[2].toLowerCase()+N.slice(3),qa=Da=>pa?.call(Z,Da);Z.addEventListener(ra,qa,xa);const za=fa.afterRemoved;fa.afterRemoved=Da=>{za?.(Da);Z.removeEventListener(ra,qa,xa)}}return pa}},handleInterceptedEvent(J,K,Q,N){const {eventPhase:U,type:Z}=N,fa=U===Event.CAPTURING_PHASE;let pa=`on${Z}${fa?"capture":""}`;K=K.properties;if(!(K&&pa in K||(pa=`on${Z[0].toUpperCase()}${Z.slice(1)}${fa?"Capture":""}`,K&&pa in K)))return;C.clearVNodeCache();J.scheduleRender();K[pa].call(K.bind||Q,N)}});
let R=!1;d=class extends p.EsriPromiseMixin(d.EventedAccessor){constructor(J,K){super(J,K);this._attached=!1;this._projector=H;this._readyForTrueRender=!1;this.key=this;this.autoRenderingEnabled=!0;this._loadLocale=r.debounce(async()=>{if(this._messageBundleProps?.length){const fa=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:pa,propertyName:xa})=>{this.destroyed||(pa=await G.fetchMessageBundle(pa),this.uiStrings&&Object.keys(this.uiStrings)&&(pa=E(e.clone(pa),this.uiStrings)),
this[xa]=pa)}));if(this.destroyed)return;for(const pa of fa)"rejected"===pa.status&&g.getLogger(this).error("widget-intl:locale-error",this.declaredClass,pa.reason)}await this.loadLocale()});k.commitAssetPath();const Q="esri-widget-uid-"+l.generateUUID(),N=this.render.bind(this);this._trackingTarget=new w.SimpleTrackingTarget(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const U=()=>({vnodeSelector:"div",properties:{key:`${Q}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,
text:void 0}),Z=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const fa=N()??U(),pa=fa.properties??(fa.properties={});pa.key??(pa.key=Q);if(v.isWidgetConstructor(fa.vnodeSelector)){if(!this.visible)return U()}else{this.visible?pa.styles||(pa.styles={}):(pa.class="",pa.styles={display:"none"});let ra;(ra=pa.styles).display??(ra.display="")}let xa=0;fa.children?.forEach(ra=>{if(!v.isWidgetConstructor(ra.vnodeSelector)){ra.properties??(ra.properties={});var qa;(qa=ra.properties).key??
(qa.key=`${this.id}--${xa++}`)}});return v.processWidgets(this,fa)};this.render=()=>{if(R)return Z();let fa=C.getVNodeCache(this)??null;if(fa)return fa;this._trackingTarget.clear();R=!0;try{fa=u.runTracked(this._trackingTarget,Z)}catch(pa){throw g.getLogger(this).error(pa),pa;}finally{R=!1}fa&&C.setVNodeCache(this,fa);return fa};(J=this.beforeFirstRender())?this._resourcesFetch=J.then(()=>{this._readyForTrueRender=!0;this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),
this._readyForTrueRender=!0);this.addResolvingPromise(this._resourcesFetch);B.registerLoading(this._resourcesFetch)}normalizeCtorArgs(J,K){J={...J};K&&(J.container=K);return J}postInitialize(){}beforeFirstRender(){const J=this.loadDependencies();return this._messageBundleProps?.length||J?Promise.all([J,this._loadLocale()]).then(()=>{}).catch(r.throwIfNotAbortError):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(f.destroyMaybe(this._trackingTarget),f.destroyMaybe(this.viewModel),
this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,C.deleteVNodeCache(this))}set container(J){this._get("container")||this._set("container",J)}castContainer(J){return h.byId(J)}get domNode(){return this.container}set domNode(J){this.container=J}get icon(){return null}set icon(J){this._overrideIfSome("icon",J)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+F++}set id(J){J&&this._set("id",
J)}get label(){return this.declaredClass.split(".").pop()}set label(J){this._overrideIfSome("label",J)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(J){this._set("visible",J)}get [(b=y.widgetSymbol,y.widgetTestDataSymbol)](){return{projector:this._projector}}render(){throw Error("not implemented");}scheduleRender(){this.destroyed||(C.deleteVNodeCache(this),this._projector.scheduleRender())}own(J){c.deprecatedFunction(g.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",
{replacement:"Widget.addHandles()",version:"4.28"});this.addHandles(J)}classes(...J){return L.classes.apply(this,J)}renderNow(){C.deleteVNodeCache(this);this._projector.renderNow()}_postInitialize(){if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this.addHandles(t.watch(()=>this.viewModel,(K,Q)=>{Q&&this.removeHandles("delegated-events");K&&n.isEventedOrEventTarget(K)&&this.addHandles(this._delegatedEventNames.map(N=>n.on(K,N,U=>{this.emit(N,U)})),"delegated-events")},
t.syncAndInitial));this.postInitialize();var J=async()=>{await this._loadLocale().catch(r.throwIfNotAbortError);this.scheduleRender()};this.addHandles([M.onLocaleChange(J),t.watch(()=>this.uiStrings,J),t.when(()=>this.container,K=>{this.destroyed||this._attach(K)},{initial:!0,once:!0})])}}_attach(J){J&&(this._projector.merge(J,this.render),this._attached=!0)}_detach(J){this._attached&&(this._projector.detach(this.render),this._attached=!1);J?.parentNode?.removeChild(J)}};d[b]=!0;d.vnodeSelector="div";
a.__decorate([q.property()],d.prototype,"_readyForTrueRender",void 0);a.__decorate([q.property({value:null})],d.prototype,"container",null);a.__decorate([x.cast("container")],d.prototype,"castContainer",null);a.__decorate([q.property()],d.prototype,"icon",null);a.__decorate([q.property()],d.prototype,"id",null);a.__decorate([q.property()],d.prototype,"label",null);a.__decorate([q.property()],d.prototype,"renderable",null);a.__decorate([q.property()],d.prototype,"uiStrings",void 0);a.__decorate([q.property()],
d.prototype,"viewModel",void 0);a.__decorate([q.property({value:!0})],d.prototype,"visible",null);a.__decorate([q.property()],d.prototype,"key",void 0);a.__decorate([q.property()],d.prototype,"children",void 0);a.__decorate([q.property()],d.prototype,"afterCreate",void 0);a.__decorate([q.property()],d.prototype,"afterUpdate",void 0);a.__decorate([q.property()],d.prototype,"afterRemoved",void 0);return d=a.__decorate([A.subclass("esri.widgets.Widget")],d)})},"esri/core/domUtils":function(){define(["exports"],
function(a){a.byId=function(b){return"string"===typeof b?document.getElementById(b):b??null};a.reparent=function(b,c){for(;;){const h=b.firstChild;if(!h)break;c.appendChild(h)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,c,h,d){const n=(g,f)=>{const p=[];for(;g&&g!==f;)p.push(g),g=g.parentNode;return p},
m=(g,f)=>g.find(f),e=(g,f,p=!1)=>{let r=g;f.forEach((t,l)=>{const q=r?.children?m(r.children,x=>x.domNode===t):void 0;if(!p||q||l===f.length-1)r=q});return r};a.createAdvancedProjector=g=>{let f;const p={...h.defaultAdvancedProjectorOptions,...g},r=d.applyDefaultProjectionOptions(p),t=r.performanceLogger;let l=!0,q,x=!1;const A=[],u=[],w=(k,v,y)=>{let B;r.eventHandlerInterceptor=(L,M,G,E)=>function(F){t("domEvent",F);var H=n(F.currentTarget,B.domNode);const R=H.some(K=>customElements.get(K?.tagName?.toLowerCase()));
F.eventPhase!==Event.CAPTURING_PHASE&&R?(H=F.composedPath(),H=H.slice(H.indexOf(F.currentTarget),H.indexOf(B.domNode)).reverse(),H=e(B.getLastRender(),H,!0)):(H.reverse(),H=e(B.getLastRender(),H));let J;H&&(J=p.handleInterceptedEvent(f,H,this,F));t("domEventProcessed",F);return J};p.postProcessProjectionOptions?.(r);const C=y();B=k(v,C,r);r.eventHandlerInterceptor=void 0;A.push(B);u.push(y);p.afterFirstVNodeRendered&&p.afterFirstVNodeRendered(B,C)};let z=()=>{q=void 0;if(l){l=!1;t("renderStart",void 0);
for(let k=0;k<A.length;k++){const v=u[k]();t("rendered",void 0);try{A[k].update(v)}catch(y){console.error(y)}t("patched",void 0)}t("renderDone",void 0);l=!0}};p.modifyDoRenderImplementation&&(z=p.modifyDoRenderImplementation(z,A,u));return f={renderNow:z,scheduleRender:()=>{q||x||(q=requestAnimationFrame(z))},stop:()=>{q&&(cancelAnimationFrame(q),q=void 0);x=!0},resume:()=>{x=!1;l=!0;f.scheduleRender()},append:(k,v)=>{w(b.dom.append,k,v)},insertBefore:(k,v)=>{w(b.dom.insertBefore,k,v)},merge:(k,v)=>
{w(b.dom.merge,k,v)},replace:(k,v)=>{w(b.dom.replace,k,v)},detach:k=>{for(let v=0;v<u.length;v++)if(u[v]===k)return u.splice(v,1),A.splice(v,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,b){const c={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(h,d,n)=>{"-"===d.charAt(0)?h.style.setProperty(d,n):h.style[d]=
n}};a.applyDefaultProjectionOptions=h=>b.extend(c,h);a.dom={create:(h,d)=>{d=b.extend(c,d);b.createDom(h,document.createElement("div"),void 0,d);return b.createProjection(h,d)},append:(h,d,n)=>{n=b.extend(c,n);b.createDom(d,h,void 0,n);return b.createProjection(d,n)},insertBefore:(h,d,n)=>{n=b.extend(c,n);b.createDom(d,h.parentNode,h,n);return b.createProjection(d,n)},merge:(h,d,n)=>{n=b.extend(c,n);d.domNode=h;b.initPropertiesAndChildren(h,d,n);return b.createProjection(d,n)},replace:(h,d,n)=>{n=
b.extend(c,n);b.createDom(d,h.parentNode,h,n);h.parentNode.removeChild(h);return b.createProjection(d,n)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){function c(z){if(!(z instanceof Element&&z.tagName.includes("-")))return!1;const k=window.customElements.get(z.tagName.toLowerCase());return!!k&&z instanceof k}let h=[],d=(z,k)=>{let v={};Object.keys(z).forEach(y=>{v[y]=
z[y]});k&&Object.keys(k).forEach(y=>{v[y]=k[y]});return v},n=(z,k)=>z.vnodeSelector!==k.vnodeSelector?!1:z.properties&&k.properties?z.properties.key!==k.properties.key?!1:z.properties.bind===k.properties.bind:!z.properties&&!k.properties,m=z=>{if("string"!==typeof z)throw Error("Style values must be strings");},e=(z,k,v,y)=>{let B=z[k];if(""!==B.vnodeSelector){var C=B.properties;if(!(C&&(void 0===C.key?C.bind:C.key)))for(C=0;C<z.length;C++)if(C!==k&&n(z[C],B))throw Error(`${v.vnodeSelector} had a ${B.vnodeSelector} child ${"added"===
y?y:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},g=[],f=!1,p=z=>{(z.children||[]).forEach(p);z.properties&&z.properties.afterRemoved&&z.properties.afterRemoved.apply(z.properties.bind||z.properties,[z.domNode])},r=()=>{f=!1;g.forEach(p);g.length=0},t=z=>{g.push(z);f||(f=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(r,{timeout:16}):setTimeout(r,16))},l=z=>{let k=z.domNode;if(z.properties){let v=
z.properties.exitAnimation;if(v){k.style.pointerEvents="none";v(k,()=>{k.parentNode&&(k.parentNode.removeChild(k),t(z))},z.properties);return}}k.parentNode&&(k.parentNode.removeChild(k),t(z))},q=(z,k,v)=>{if(k){var y=v.eventHandlerInterceptor,B=Object.keys(k),C=B.length;for(let F=0;F<C;F++){var L=B[F];let H=k[L];if("className"===L)throw Error('Property "className" is not supported, use "class".');if("class"===L)w(z,H,!0);else if("classes"===L){L=Object.keys(H);var M=L.length;for(var G=0;G<M;G++){var E=
L[G];H[E]&&z.classList.add(E)}}else if("styles"===L)for(L=Object.keys(H),M=L.length,G=0;G<M;G++){E=L[G];let R=H[E];R&&(m(R),v.styleApplyer(z,E,R))}else"key"!==L&&null!==H&&void 0!==H&&(M=typeof H,"function"===M?(0===L.lastIndexOf("on",0)&&(y&&(H=y(L,H,z,k)),"oninput"===L&&function(){let R=H;H=function(J){R.apply(this,[J]);J.target["oninput-value"]=J.target.value}}()),z[L]=H):"http://www.w3.org/2000/svg"===v.namespace?"href"===L?z.setAttributeNS("http://www.w3.org/1999/xlink",L,H):z.setAttribute(L,
H):"string"===M&&"value"!==L?"innerHTML"===L?z[L]=b.renderingSanitizer.sanitize(H):c(z)&&L in z?z[L]=H:z.setAttribute(L,H):z[L]=H)}}},x=(z,k,v)=>{var y=k.children;if(y)for(let B of y)A(B,z,void 0,v);k.text&&(z.textContent=k.text);q(z,k.properties,v);k.properties&&k.properties.afterCreate&&k.properties.afterCreate.apply(k.properties.bind||k.properties,[z,v,k.vnodeSelector,k.properties,k.children])},A=(z,k,v,y)=>{let B;var C=0;let L=z.vnodeSelector,M=k.ownerDocument;if(""===L)B=z.domNode=M.createTextNode(z.text),
void 0!==v?k.insertBefore(B,v):k.appendChild(B);else{for(let E=0;E<=L.length;++E){var G=L.charAt(E);if(E===L.length||"."===G||"#"===G)G=L.charAt(C-1),C=L.slice(C,E),"."===G?B.classList.add(C):"#"===G?B.id=C:("svg"===C&&(y=d(y,{namespace:"http://www.w3.org/2000/svg"})),void 0!==y.namespace?B=z.domNode=M.createElementNS(y.namespace,C):(B=z.domNode=z.domNode||M.createElement(C),"input"===C&&z.properties&&void 0!==z.properties.type&&B.setAttribute("type",z.properties.type)),void 0!==v?k.insertBefore(B,
v):B.parentNode!==k&&k.appendChild(B)),C=E+1}x(B,z,y)}},u,w=(z,k,v)=>{k&&k.split(" ").forEach(y=>{y&&z.classList.toggle(y,v)})};u=(z,k,v)=>{let y=z.domNode;if(z===k)return!1;let B=!1;if(""===k.vnodeSelector){if(k.text!==z.text)return z=y.ownerDocument.createTextNode(k.text),y.parentNode.replaceChild(z,y),k.domNode=z,!0;k.domNode=y}else{0===k.vnodeSelector.lastIndexOf("svg",0)&&(v=d(v,{namespace:"http://www.w3.org/2000/svg"}));z.text!==k.text&&(B=!0,void 0===k.text?y.removeChild(y.firstChild):y.textContent=
k.text);k.domNode=y;var C=z.children;var L=k.children,M=v;if(C===L)C=!1;else{C=C||h;L=L||h;for(var G=C.length,E=L.length,F=0,H=0,R=!1;H<E;){var J=F<G?C[F]:void 0,K=L[H];if(void 0!==J&&n(J,K))R=u(J,K,M)||R,F++;else{b:{J=C;var Q=K,N=F+1;if(""!==Q.vnodeSelector)for(;N<J.length;N++)if(n(J[N],Q)){J=N;break b}J=-1}if(0<=J){for(;F<J;F++)l(C[F]),e(C,F,k,"removed");R=u(C[J],K,M)||R;F=J+1}else A(K,y,F<G?C[F].domNode:void 0,M),K.properties&&(J=K.properties.enterAnimation)&&J(K.domNode,K.properties),e(L,H,k,
"added")}H++}if(G>F)for(;F<G;F++)l(C[F]),e(C,F,k,"removed");C=R}B=C||B;C=z.properties;L=k.properties;M=v;if(L){G=!1;E=Object.keys(L);H=E.length;for(R=0;R<H;R++)if(J=E[R],K=L[J],F=C[J],"class"===J)F!==K&&(w(y,F,!1),w(y,K,!0));else if("classes"===J){J=y.classList;Q=Object.keys(K);N=Q.length;for(var U=0;U<N;U++){var Z=Q[U];let fa=!!K[Z];fa!==!!F[Z]&&(G=!0,fa?J.add(Z):J.remove(Z))}}else if("styles"===J)for(J=Object.keys(K),Q=J.length,N=0;N<Q;N++)U=J[N],Z=K[U],Z!==F[U]&&(G=!0,Z?(m(Z),M.styleApplyer(y,
U,Z)):M.styleApplyer(y,U,""));else(K||"string"!==typeof F||(K=""),"value"!==J||c(y))?K!==F&&(F=typeof K,"function"===F&&M.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===M.namespace?"href"===J?y.setAttributeNS("http://www.w3.org/1999/xlink",J,K):y.setAttribute(J,K):"string"===F?"innerHTML"===J?y[J]=b.renderingSanitizer.sanitize(K):"role"===J&&""===K?y.removeAttribute(J):c(y)&&J in y?y[J]=K:y.setAttribute(J,K):y[J]!==K&&(y[J]=K),G=!0)):(Q=y[J],Q!==K&&(y["oninput-value"]?Q===y["oninput-value"]:
K!==F)&&(y[J]=K,y["oninput-value"]=void 0),K!==F&&(G=!0));C=G}else C=void 0;B=C||B;k.properties&&k.properties.afterUpdate&&k.properties.afterUpdate.apply(k.properties.bind||k.properties,[y,v,k.vnodeSelector,k.properties,k.children])}B&&k.properties&&k.properties.updateAnimation&&k.properties.updateAnimation(y,k.properties,z.properties);return!1};a.createDom=A;a.createProjection=(z,k)=>({getLastRender:()=>z,update:v=>{if(z.vnodeSelector!==v.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");
let y=z;z=v;u(y,v,k)},domNode:z.domNode});a.extend=d;a.initPropertiesAndChildren=x;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/promiseUtils ../../core/reactiveUtils ../../core/scheduling ./vnodeCache".split(" "),function(a,b,c,h,d,n,m,e,g){function f(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,
"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,
binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,
"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,
"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,
"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,
"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,
"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,
"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,
orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,
quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,
"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,
"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function p(P){P=P||{};var W={},ca;for(ca in P)W[ca]=P[ca];P=W;P.whiteList=P.whiteList||J.whiteList;
P.onAttr=P.onAttr||J.onAttr;P.onIgnoreAttr=P.onIgnoreAttr||J.onIgnoreAttr;P.safeAttrValue=P.safeAttrValue||J.safeAttrValue;this.options=P}function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign",
"span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align",
"valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function t(P){return P.replace(fa,"\x26lt;").replace(pa,"\x26gt;")}function l(P){return P.replace(xa,"\x26quot;")}function q(P){return P.replace(ra,'"')}function x(P){return P.replace(qa,function(W,ca){return"x"===ca[0]||"X"===ca[0]?String.fromCharCode(parseInt(ca.substr(1),
16)):String.fromCharCode(parseInt(ca,10))})}function A(P){return P.replace(za,":").replace(Da," ")}function u(P){for(var W="",ca=0,oa=P.length;ca<oa;ca++)W+=32>P.charCodeAt(ca)?" ":P.charAt(ca);return U.trim(W)}function w(P){P=q(P);P=x(P);P=A(P);return P=u(P)}function z(P){P=l(P);return P=t(P)}function k(P,W){for(;W<P.length;W++){var ca=P[W];if(" "!==ca)return"\x3d"===ca?W:-1}}function v(P,W){for(;W<P.length;W++){var ca=P[W];if(" "!==ca)return"'"===ca||'"'===ca?W:-1}}function y(P,W){for(;0<W;W--){var ca=
P[W];if(" "!==ca)return"\x3d"===ca?W:-1}}function B(P){var W='"'===P[0]&&'"'===P[P.length-1]||"'"===P[0]&&"'"===P[P.length-1]?!0:!1;return W?P.substr(1,P.length-2):P}function C(P){var W=Y.spaceIndex(P);if(-1===W)return{html:"",closing:"/"===P[P.length-2]};P=Y.trim(P.slice(W+1,-1));(W="/"===P[P.length-1])&&(P=Y.trim(P.slice(0,-1)));return{html:P,closing:W}}function L(P){var W={},ca;for(ca in P)Array.isArray(P[ca])?W[ca.toLowerCase()]=P[ca].map(function(oa){return oa.toLowerCase()}):W[ca.toLowerCase()]=
P[ca];return W}function M(P){P=P||{};var W={},ca;for(ca in P)W[ca]=P[ca];P=W;P.stripIgnoreTag&&(P.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),P.onIgnoreTag=da.onIgnoreTagStripAll);P.whiteList=P.whiteList||P.allowList?L(P.whiteList||P.allowList):da.whiteList;P.onTag=P.onTag||da.onTag;P.onTagAttr=P.onTagAttr||da.onTagAttr;P.onIgnoreTag=P.onIgnoreTag||da.onIgnoreTag;P.onIgnoreTagAttr=P.onIgnoreTagAttr||da.onIgnoreTagAttr;P.safeAttrValue=
P.safeAttrValue||da.safeAttrValue;P.escapeHtml=P.escapeHtml||da.escapeHtml;this.options=P;!1===P.css?this.cssFilter=!1:(P.css=P.css||{},this.cssFilter=new T(P.css))}var G=function(){G=Object.assign||function(P){for(var W,ca=1,oa=arguments.length;ca<oa;ca++){W=arguments[ca];for(var Aa in W)Object.prototype.hasOwnProperty.call(W,Aa)&&(P[Aa]=W[Aa])}return P};return G.apply(this,arguments)};h={exports:{}};var E={};d={exports:{}};var F={},H=/javascript\s*:/gim;F.whiteList=f();F.getDefaultWhiteList=f;F.onAttr=
function(P,W,ca){};F.onIgnoreAttr=function(P,W,ca){};F.safeAttrValue=function(P,W){return H.test(W)?"":W};var R={indexOf:function(P,W){var ca;if(Array.prototype.indexOf)return P.indexOf(W);var oa=0;for(ca=P.length;oa<ca;oa++)if(P[oa]===W)return oa;return-1},forEach:function(P,W,ca){var oa;if(Array.prototype.forEach)return P.forEach(W,ca);var Aa=0;for(oa=P.length;Aa<oa;Aa++)W.call(ca,P[Aa],Aa,P)},trim:function(P){return String.prototype.trim?P.trim():P.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(P){return String.prototype.trimRight?
P.trimRight():P.replace(/(\s*$)/g,"")}},J=F,K=function(P,W){function ca(){if(!Aa){var Qa=R.trim(P.slice(Ga,Fa)),Sa=Qa.indexOf(":");if(-1!==Sa){var Ya=R.trim(Qa.slice(0,Sa));Sa=R.trim(Qa.slice(Sa+1));Ya&&(Qa=W(Ga,Pa.length,Ya,Sa,Qa))&&(Pa+=Qa+"; ")}}Ga=Fa+1}P=R.trimRight(P);";"!==P[P.length-1]&&(P+=";");for(var oa=P.length,Aa=!1,Ga=0,Fa=0,Pa="";Fa<oa;Fa++){var Na=P[Fa];if("/"===Na&&"*"===P[Fa+1]){Na=P.indexOf("*/",Fa+2);if(-1===Na)break;Fa=Na+1;Ga=Fa+1;Aa=!1}else"("===Na?Aa=!0:")"===Na?Aa=!1:";"===
Na?Aa||ca():"\n"===Na&&ca()}return R.trim(Pa)};p.prototype.process=function(P){P=(P||"").toString();if(!P)return"";var W=this.options,ca=W.whiteList,oa=W.onAttr,Aa=W.onIgnoreAttr,Ga=W.safeAttrValue;return K(P,function(Fa,Pa,Na,Qa,Sa){var Ya=ca[Na],cb=!1;!0===Ya?cb=Ya:"function"===typeof Ya?cb=Ya(Qa):Ya instanceof RegExp&&(cb=Ya.test(Qa));!0!==cb&&(cb=!1);if(Qa=Ga(Na,Qa)){Fa={position:Pa,sourcePosition:Fa,source:Sa,isWhite:cb};if(cb)return cb=oa(Na,Qa,Fa),void 0===cb||null===cb?Na+":"+Qa:cb;cb=Aa(Na,
Qa,Fa);if(void 0!==cb&&null!==cb)return cb}})};(function(P,W){W=P.exports=function(oa,Aa){return(new p(Aa)).process(oa)};W.FilterCSS=p;for(var ca in F)W[ca]=F[ca]})(d,d.exports);d=d.exports;var Q={indexOf:function(P,W){var ca;if(Array.prototype.indexOf)return P.indexOf(W);var oa=0;for(ca=P.length;oa<ca;oa++)if(P[oa]===W)return oa;return-1},forEach:function(P,W,ca){var oa;if(Array.prototype.forEach)return P.forEach(W,ca);var Aa=0;for(oa=P.length;Aa<oa;Aa++)W.call(ca,P[Aa],Aa,P)},trim:function(P){return String.prototype.trim?
P.trim():P.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(P){return(P=/\s|\n|\t/.exec(P))?P.index:-1}},N=d.getDefaultWhiteList,U=Q,Z=new d.FilterCSS,fa=/</g,pa=/>/g,xa=/"/g,ra=/&quot;/g,qa=/&#([a-zA-Z0-9]*);?/gim,za=/&colon;?/gim,Da=/&newline;?/gim,sa=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,X=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,aa=/u\s*r\s*l\s*\(.*/gi;E.whiteList=r();E.getDefaultWhiteList=r;E.onTag=function(P,W,ca){};E.onIgnoreTag=function(P,
W,ca){};E.onTagAttr=function(P,W,ca){};E.onIgnoreTagAttr=function(P,W,ca){};E.safeAttrValue=function(P,W,ca,oa){ca=w(ca);if("href"===W||"src"===W){ca=U.trim(ca);if("#"===ca)return"#";if("http://"!==ca.substr(0,7)&&"https://"!==ca.substr(0,8)&&"mailto:"!==ca.substr(0,7)&&"tel:"!==ca.substr(0,4)&&"data:image/"!==ca.substr(0,11)&&"ftp://"!==ca.substr(0,6)&&"./"!==ca.substr(0,2)&&"../"!==ca.substr(0,3)&&"#"!==ca[0]&&"/"!==ca[0])return""}else if("background"===W){if(sa.lastIndex=0,sa.test(ca))return""}else if("style"===
W){X.lastIndex=0;if(X.test(ca))return"";aa.lastIndex=0;if(aa.test(ca)&&(sa.lastIndex=0,sa.test(ca)))return"";!1!==oa&&(oa=oa||Z,ca=oa.process(ca))}return ca=z(ca)};E.escapeHtml=t;E.escapeQuote=l;E.unescapeQuote=q;E.escapeHtmlEntities=x;E.escapeDangerHtml5Entities=A;E.clearNonPrintableCharacter=u;E.friendlyAttrValue=w;E.escapeAttrValue=z;E.onIgnoreTagStripAll=function(){return""};E.StripTagBody=function(P,W){"function"!==typeof W&&(W=function(){});var ca=!Array.isArray(P),oa=[],Aa=!1;return{onIgnoreTag:function(Ga,
Fa,Pa){var Na=ca?!0:-1!==U.indexOf(P,Ga);if(Na){if(Pa.isClosing)return oa.push([!1!==Aa?Aa:Pa.position,Pa.position+10]),Aa=!1,"[/removed]";Aa||(Aa=Pa.position);return"[removed]"}return W(Ga,Fa,Pa)},remove:function(Ga){var Fa="",Pa=0;U.forEach(oa,function(Na){Fa+=Ga.slice(Pa,Na[0]);Pa=Na[1]});return Fa+=Ga.slice(Pa)}}};E.stripCommentTag=function(P){for(var W="",ca=0;ca<P.length;){var oa=P.indexOf("\x3c!--",ca);if(-1===oa){W+=P.slice(ca);break}W+=P.slice(ca,oa);ca=P.indexOf("--\x3e",oa);if(-1===ca)break;
ca+=3}return W};E.stripBlankChar=function(P){P=P.split("");P=P.filter(function(W){W=W.charCodeAt(0);return 127===W?!1:31>=W?10===W||13===W?!0:!1:!0});return P.join("")};E.cssFilter=Z;E.getDefaultCSSWhiteList=N;var ha={},I=/[^a-zA-Z0-9\\_:.-]/gim;ha.parseTag=function(P,W,ca){var oa="",Aa=0,Ga=!1,Fa=!1,Pa=0,Na=P.length,Qa="",Sa="";Pa=0;a:for(;Pa<Na;Pa++)if(Sa=P.charAt(Pa),!1===Ga)"\x3c"===Sa&&(Ga=Pa);else if(!1===Fa)if("\x3c"===Sa)oa+=ca(P.slice(Aa,Pa)),Aa=Ga=Pa;else if("\x3e"===Sa)oa+=ca(P.slice(Aa,
Ga)),Sa=P.slice(Ga,Pa+1),Aa=void 0,Aa=Sa,Qa=Q.spaceIndex(Aa),Aa=-1===Qa?Aa.slice(1,-1):Aa.slice(1,Qa+1),Aa=Q.trim(Aa).toLowerCase(),"/"===Aa.slice(0,1)&&(Aa=Aa.slice(1)),"/"===Aa.slice(-1)&&(Aa=Aa.slice(0,-1)),Qa=Aa,oa+=W(Ga,oa.length,Qa,Sa,"\x3c/"===Sa.slice(0,2)),Aa=Pa+1,Ga=!1;else{if('"'===Sa||"'"===Sa){Qa=1;for(var Ya=P.charAt(Pa-Qa);""===Ya.trim()||"\x3d"===Ya;){if("\x3d"===Ya){Fa=Sa;continue a}Ya=P.charAt(Pa-++Qa)}}}else Sa===Fa&&(Fa=!1);Aa<P.length&&(oa+=ca(P.substr(Aa)));return oa};ha.parseAttr=
function(P,W){function ca(Sa,Ya){Sa=Q.trim(Sa);Sa=Sa.replace(I,"").toLowerCase();1>Sa.length||(Sa=W(Sa,Ya||""))&&Ga.push(Sa)}for(var oa=0,Aa=0,Ga=[],Fa=!1,Pa=P.length,Na=0;Na<Pa;Na++){var Qa=P.charAt(Na);if(!1===Fa&&"\x3d"===Qa)Fa=P.slice(oa,Na),oa=Na+1,Aa='"'===P.charAt(oa)||"'"===P.charAt(oa)?oa:v(P,Na+1);else{if(!1!==Fa&&Na===Aa)if(Qa=P.indexOf(Qa,Na+1),-1===Qa)break;else{oa=Q.trim(P.slice(Aa+1,Qa));ca(Fa,oa);Fa=!1;Na=Qa;oa=Na+1;continue}/\s|\n|\t/.test(Qa)&&(P=P.replace(/\s|\n|\t/g," "),!1===
Fa?(Qa=k(P,Na),-1===Qa?(oa=Q.trim(P.slice(oa,Na)),ca(oa),Fa=!1,oa=Na+1):Na=Qa-1):(Qa=y(P,Na-1),-1===Qa&&(oa=Q.trim(P.slice(oa,Na)),oa=B(oa),ca(Fa,oa),Fa=!1,oa=Na+1)))}}oa<P.length&&(!1===Fa?ca(P.slice(oa)):ca(Fa,B(Q.trim(P.slice(oa)))));return Q.trim(Ga.join(" "))};var T=d.FilterCSS,da=E,la=ha.parseTag,ua=ha.parseAttr,Y=Q;M.prototype.process=function(P){P=(P||"").toString();if(!P)return"";var W=this.options,ca=W.whiteList,oa=W.onTag,Aa=W.onIgnoreTag,Ga=W.onTagAttr,Fa=W.onIgnoreTagAttr,Pa=W.safeAttrValue,
Na=W.escapeHtml,Qa=this.cssFilter;W.stripBlankChar&&(P=da.stripBlankChar(P));W.allowCommentTag||(P=da.stripCommentTag(P));var Sa=!1;W.stripIgnoreTagBody&&(Sa=da.StripTagBody(W.stripIgnoreTagBody,Aa),Aa=Sa.onIgnoreTag);P=la(P,function(Ya,cb,ab,nb,ta){Ya={sourcePosition:Ya,position:cb,isClosing:ta,isWhite:Object.prototype.hasOwnProperty.call(ca,ab)};cb=oa(ab,nb,Ya);if(void 0!==cb&&null!==cb)return cb;if(Ya.isWhite){if(Ya.isClosing)return"\x3c/"+ab+"\x3e";Ya=C(nb);var Ba=ca[ab];cb=ua(Ya.html,function(Ra,
$a){var gb=-1!==Y.indexOf(Ba,Ra),qb=Ga(ab,Ra,$a,gb);if(void 0!==qb&&null!==qb)return qb;if(gb)return($a=Pa(ab,Ra,$a,Qa))?Ra+'\x3d"'+$a+'"':Ra;qb=Fa(ab,Ra,$a,gb);if(void 0!==qb&&null!==qb)return qb});nb="\x3c"+ab;cb&&(nb+=" "+cb);Ya.closing&&(nb+=" /");return nb+"\x3e"}cb=Aa(ab,nb,Ya);return void 0!==cb&&null!==cb?cb:Na(nb)},Na);Sa&&(P=Sa.remove(P));return P};(function(P,W){function ca(Aa,Ga){return(new oa(Ga)).process(Aa)}var oa=M;W=P.exports=ca;W.filterXSS=ca;W.FilterXSS=oa;(function(){for(var Aa in E)W[Aa]=
E[Aa];for(var Ga in ha)W[Ga]=ha[Ga]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=P.exports)})(h,h.exports);var ea=h.exports,ja=function(P){if("object"!==typeof P||null===P||"[object Object]"!==Object.prototype.toString.call(P))return!1;var W=Object.getPrototypeOf(P);if(null===W)return!0;for(;null!==Object.getPrototypeOf(W);)W=Object.getPrototypeOf(W);return Object.getPrototypeOf(P)===W};N=function(){function P(W,
ca){var oa=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],
h6:["style"],header:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),
th:"align colspan height nowrap rowspan style valign width".split(" "),time:["style"],u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.arcgisCSSWhiteList=G(G({},ea.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,
"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0});this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Ga,Fa,Pa,Na){return"a"===Ga&&"href"===Fa||("img"===Ga||"source"===Ga)&&"src"===Fa?oa.sanitizeUrl(Pa):ea.safeAttrValue(Ga,Fa,Pa,Na)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(W&&!ca)var Aa=W;else W&&ca?(Aa=Object.create(this.arcgisFilterOptions),Aa.css={whiteList:this.arcgisCSSWhiteList},Object.keys(W).forEach(function(Ga){if("whiteList"===Ga)Aa.whiteList=
oa._extendObjectOfArrays([oa.arcgisWhiteList,W.whiteList||{}]);else if("css"===Ga){var Fa=W.css.whiteList;null!=Fa&&W.css instanceof Object&&Object.keys(Fa).forEach(function(Pa){return Aa.css.whiteList[Pa]=Fa[Pa]})}else Aa[Ga]=W[Ga]})):(Aa=Object.create(this.arcgisFilterOptions),Aa.whiteList=this.arcgisWhiteList,Aa.css={whiteList:this.arcgisCSSWhiteList});this.xssFilterOptions=Aa;this._xssFilter=new ea.FilterXSS(Aa)}P.prototype.sanitize=function(W,ca){void 0===ca&&(ca={});switch(typeof W){case "number":return isNaN(W)||
!isFinite(W)?null:W;case "boolean":return W;case "string":return this._xssFilter.process(W);case "object":return this._iterateOverObject(W,ca);default:if(!ca.allowUndefined||"undefined"!==typeof W)return null}};P.prototype.sanitizeUrl=function(W,ca){ca=(null!==ca&&void 0!==ca?ca:{}).isProtocolRequired;ca=void 0===ca?!0:ca;var oa=this._trim(W.substring(0,W.indexOf(":"))),Aa="/"===W,Ga=/^#/.test(W),Fa=oa&&-1<this.allowedProtocols.indexOf(oa.toLowerCase());return Aa||Ga||Fa?ea.escapeAttrValue(W):oa||
ca?"":ea.escapeAttrValue("https://".concat(W))};P.prototype.sanitizeHTMLAttribute=function(W,ca,oa,Aa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(W,ca,oa,Aa):ea.safeAttrValue(W,ca,oa,Aa)};P.prototype.validate=function(W,ca){void 0===ca&&(ca={});ca=this.sanitize(W,ca);return{isValid:W===ca,sanitized:ca}};P.prototype.encodeHTML=function(W){var ca=this;return String(W).replace(/[&<>"'\/]/g,function(oa){return ca._entityMap[oa]})};P.prototype.encodeAttrValue=
function(W){var ca=/^[a-zA-Z0-9]$/;return String(W).replace(/[\x00-\xFF]/g,function(oa,Aa){return ca.test(oa)?oa:"\x26#x".concat(Number(W.charCodeAt(Aa)).toString(16),";")})};P.prototype._extendObjectOfArrays=function(W){var ca={};W.forEach(function(oa){Object.keys(oa).forEach(function(Aa){Array.isArray(oa[Aa])&&Array.isArray(ca[Aa])?ca[Aa]=ca[Aa].concat(oa[Aa]):ca[Aa]=oa[Aa]})});return ca};P.prototype._iterateOverObject=function(W,ca){var oa=this;void 0===ca&&(ca={});try{var Aa=!1,Ga=void 0;if(Array.isArray(W))Ga=
W.reduce(function(Fa,Pa){var Na=oa.validate(Pa,ca);if(Na.isValid)return Fa.concat([Pa]);Aa=!0;return Fa.concat([Na.sanitized])},[]);else if(ja(W))Ga=Object.keys(W).reduce(function(Fa,Pa){var Na=W[Pa],Qa=oa.validate(Na,ca);Qa.isValid?Fa[Pa]=Na:(Aa=!0,Fa[Pa]=Qa.sanitized);return Fa},{});else return ca.allowUndefined&&"undefined"===typeof W?void 0:null;return Aa?Ga:W}catch(Fa){return null}};P.prototype._trim=function(W){return String.prototype.trim?W.trim():W.replace(/(^\s*)|(\s*$)/g,"")};return P}();
h=(()=>{const P=new Map,W=new ResizeObserver(oa=>{g.clearVNodeCache();for(const Aa of oa)P.get(Aa.target)?.(Aa)}),ca=(oa,Aa,Ga)=>{P.set(oa,Aa);W.observe(oa,Ga);return c.makeHandle(()=>{W.unobserve(oa);P.delete(oa)})};return(oa,Aa,Ga)=>{let Fa=null;return c.handlesGroup([m.watch(()=>"function"===typeof oa?oa():oa,Pa=>{Fa?.remove();Pa&&(Fa=ca(Pa,Aa,Ga))},m.syncAndInitial),c.makeHandle(()=>Fa?.remove())])}})();d="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
const V=d.reduce((P,W)=>{P[W]=[];return P},{}),O="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");N=new N({whiteList:V,onTagAttr:(P,W,ca)=>{P=`${W}="${ca}"`;if(O.includes(W))return P},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},
!0);a.additionalAllowedTags=d;a.classes=function(...P){const W=b.acquire();for(let ca=0;ca<P.length;ca++){const oa=P[ca],Aa=typeof oa;if("string"===Aa)W.push(oa);else if(Array.isArray(oa))W.push.apply(W,oa);else if("object"===Aa)for(const Ga in oa)oa[Ga]&&W.push(Ga)}P=W.join(" ");b.release(W);return P};a.discardNode=function(P){this[P.getAttribute("data-node-ref")]=null};a.isActivationKey=function(P){return"Enter"===P||" "===P};a.isRTL=function(P){P=P?.closest("[dir]");return null!==P&&P instanceof
HTMLElement&&"rtl"===P.dir||"rtl"===document.dir};a.onResize=h;a.renderingSanitizer=N;a.safeAttrs=O;a.setFocus=async function(P,W){await e.waitAnimationFrame(n.signalFromSignalOrOptions(W));(P="function"===typeof P?P():P)&&("setFocus"in P&&"function"===typeof P.setFocus?await P.setFocus():P instanceof HTMLElement&&P.focus())};a.storeNode=function(P){this[P.getAttribute("data-node-ref")]=P};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],
function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(c){b.delete(c)};a.getVNodeCache=function(c){return b.get(c)};a.setVNodeCache=function(c,h){b.set(c,h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let c;c=Array.prototype.find?(n,m)=>n.find(m):(n,m)=>n.filter(m)[0];let h=(n,m)=>{let e=n;m.forEach(g=>{e=e&&e.children?c(e.children,f=>f.domNode===g):void 0});
return e},d=(n,m,e)=>{let g=function(f){e("domEvent",f);var p=m(),r=f.currentTarget,t=p.domNode;let l=[];for(;r&&r!==t;)l.push(r),r=r.parentNode;l.reverse();p=h(p.getLastRender(),l);n.scheduleRender();let q;p&&(q=p.properties[`on${f.type}`].apply(p.properties.bind||this,arguments));e("domEventProcessed",f);return q};return(f,p,r,t)=>g};a.createProjector=n=>{let m,e=b.applyDefaultProjectionOptions(n),g=e.performanceLogger,f=!0,p,r=!1,t=[],l=[],q=(A,u,w)=>{let z;e.eventHandlerInterceptor=d(m,()=>z,
g);z=A(u,w(),e);t.push(z);l.push(w)},x=()=>{p=void 0;if(f){f=!1;g("renderStart",void 0);for(let A=0;A<t.length;A++){let u=l[A]();g("rendered",void 0);t[A].update(u);g("patched",void 0)}g("renderDone",void 0);f=!0}};return m={renderNow:x,scheduleRender:()=>{p||r||(p=requestAnimationFrame(x))},stop:()=>{p&&(cancelAnimationFrame(p),p=void 0);r=!0},resume:()=>{r=!1;f=!0;m.scheduleRender()},append:(A,u)=>{q(b.dom.append,A,u)},insertBefore:(A,u)=>{q(b.dom.insertBefore,A,u)},merge:(A,u)=>{q(b.dom.merge,
A,u)},replace:(A,u)=>{q(b.dom.replace,A,u)},detach:A=>{for(let u=0;u<l.length;u++)if(l[u]===A)return l.splice(u,1),t.splice(u,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,c,h,d)=>{b.scheduleRender();return c.properties[`on${d.type}`].apply(c.properties.bind||
h,[d])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(c,h,d)=>{"-"===h.charAt(0)?c.style.setProperty(h,d):c.style[h]=d}};a.applyDefaultProjectionOptions=c=>({...b,...c});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/componentsUtils":function(){define(["exports","../assets",
"../core/has","../core/urlUtils"],function(a,b,c,h){function d(ma,na){if(ma.isOk)return ma=na(ma.value),ma instanceof Promise?ma.then(Ha=>F(Ha)):F(ma);if(ma.isErr)return H(ma.value);throw"should never get here";}function n(ma){return ma.includes("ref")?[...ma.filter(na=>"ref"!==na),"ref"]:ma}function m(){if(!Ab||!Ab.version){console.info("Using Calcite Components 2.13.0 [Date: 2024-10-01, Revision: 42c132913]");var ma=Ab||globalThis.calciteConfig||{};Object.defineProperty(ma,"version",{value:"2.13.0",
writable:!1});globalThis.calciteConfig=ma}}function e(){const {classList:ma}=document.body,na=window.matchMedia("(prefers-color-scheme: dark)").matches,Ha=Ta=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:Ta}}));let Ca=ma.contains("calcite-mode-dark")||ma.contains("calcite-mode-auto")&&na?"dark":"light";Ha(Ca);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ta=>{Ta=Ta.matches?"dark":"light";Ca!==Ta&&Ha(Ta);Ca=Ta});(new MutationObserver(()=>
{var Ta=ma.contains("calcite-mode-dark")||ma.contains("calcite-mode-auto")&&na?"dark":"light";Ca!==Ta&&Ha(Ta);Ca=Ta})).observe(document.body,{attributes:!0,attributeFilter:["class"]})}var g={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,
hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,
hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},
f=Object.defineProperty,p=new WeakMap,r=new Map,t=[],l="undefined"!==typeof window?window:{},q=l.document||{head:{}};c=l.HTMLElement||class{};var x={$flags$:0,$resourcesUrl$:"",jmp:ma=>ma(),raf:ma=>requestAnimationFrame(ma),ael:(ma,na,Ha,Ca)=>ma.addEventListener(na,Ha,Ca),rel:(ma,na,Ha,Ca)=>ma.removeEventListener(na,Ha,Ca),ce:(ma,na)=>new CustomEvent(ma,na)},A=(()=>{let ma=!1;try{q.addEventListener("e",null,Object.defineProperty({},"passive",{get(){ma=!0}}))}catch(na){}return ma})();a:{try{new CSSStyleSheet;
var u="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(ma){}u=!1}var w=!1,z=[],k=[],v=(ma,na)=>Ha=>{ma.push(Ha);w||(w=!0,na&&x.$flags$&4?(Ha=B,Promise.resolve(void 0).then(Ha)):x.raf(B))},y=ma=>{for(let na=0;na<ma.length;na++)try{ma[na](performance.now())}catch(Ha){(0,console.error)(Ha,void 0)}ma.length=0},B=()=>{y(z);y(k);(w=0<z.length)&&x.raf(B)},C=v(z,!1),L=v(k,!0),M=ma=>{ma=new URL(ma,x.$resourcesUrl$);return ma.origin!==l.location.origin?ma.href:ma.pathname},G={},E=ma=>{ma=typeof ma;
return"object"===ma||"function"===ma};((ma,na)=>{for(var Ha in na)f(ma,Ha,{get:na[Ha],enumerable:!0})})({},{err:()=>H,map:()=>d,ok:()=>F,unwrap:()=>R,unwrapErr:()=>J});var F=ma=>({isOk:!0,isErr:!1,value:ma}),H=ma=>({isOk:!1,isErr:!0,value:ma}),R=ma=>{if(ma.isOk)return ma.value;throw ma.value;},J=ma=>{if(ma.isErr)return ma.value;throw ma.value;},K=(ma,na)=>()=>{},Q=(ma,na,...Ha)=>{let Ca=null,Ta=null,bb=null,ya=!1,Va=!1;const eb=[],hb=ib=>{for(let Ma=0;Ma<ib.length;Ma++)if(Ca=ib[Ma],Array.isArray(Ca))hb(Ca);
else if(null!=Ca&&"boolean"!==typeof Ca){if(ya="function"!==typeof ma&&!E(Ca))Ca=String(Ca);ya&&Va?eb[eb.length-1].$text$+=Ca:eb.push(ya?N(null,Ca):Ca);Va=ya}};hb(Ha);if(na){na.key&&(Ta=na.key);na.name&&(bb=na.name);const ib=na.className||na.class;ib&&(na.class="object"!==typeof ib?ib:Object.keys(ib).filter(Ma=>ib[Ma]).join(" "))}if("function"===typeof ma)return ma(null===na?{}:na,eb,Z);Ha=N(ma,null);Ha.$attrs$=na;0<eb.length&&(Ha.$children$=eb);Ha.$key$=Ta;Ha.$name$=bb;return Ha},N=(ma,na)=>({$flags$:0,
$tag$:ma,$text$:na,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),U={},Z={forEach:(ma,na)=>ma.map(fa).forEach(na),map:(ma,na)=>ma.map(fa).map(na).map(pa)},fa=ma=>({vattrs:ma.$attrs$,vchildren:ma.$children$,vkey:ma.$key$,vname:ma.$name$,vtag:ma.$tag$,vtext:ma.$text$}),pa=ma=>{if("function"===typeof ma.vtag){var na={...ma.vattrs};ma.vkey&&(na.key=ma.vkey);ma.vname&&(na.name=ma.vname);return Q(ma.vtag,na,...(ma.vchildren||[]))}na=N(ma.vtag,ma.vtext);na.$attrs$=ma.vattrs;na.$children$=
ma.vchildren;na.$key$=ma.vkey;na.$name$=ma.vname;return na},xa=ma=>t.map(na=>na(ma)).find(na=>!!na),ra=(ma,na)=>{if(null!=ma&&!E(ma)){if(na&4)return"false"===ma?!1:""===ma||!!ma;if(na&2)return parseFloat(ma);if(na&1)return String(ma)}return ma},qa=new WeakMap,za=(ma,na,Ha)=>{let Ca=r.get(ma);u&&Ha?(Ca=Ca||new CSSStyleSheet,"string"===typeof Ca?Ca=na:Ca.replaceSync(na)):Ca=na;r.set(ma,Ca)},Da=(ma,na)=>"sc-"+(na&&ma.$flags$&32?ma.$tagName$+"-"+na:ma.$tagName$),sa=(ma,na,Ha,Ca,Ta,bb)=>{if(Ha!==Ca){let eb=
na in ma,hb=na.toLowerCase();if("class"===na){ma=ma.classList;const ib=Ha?Ha.split(X):[],Ma=Ca?Ca.split(X):[];ma.remove(...ib.filter(Xa=>Xa&&!Ma.includes(Xa)));ma.add(...Ma.filter(Xa=>Xa&&!ib.includes(Xa)))}else if("style"===na){for(var ya in Ha)Ca&&null!=Ca[ya]||(ya.includes("-")?ma.style.removeProperty(ya):ma.style[ya]="");for(var Va in Ca)Ha&&Ca[Va]===Ha[Va]||(Va.includes("-")?ma.style.setProperty(Va,Ca[Va]):ma.style[Va]=Ca[Va])}else if("key"!==na)if("ref"===na)Ca&&Ca(ma);else if(ma.__lookupSetter__(na)||
"o"!==na[0]||"n"!==na[1]){ya=E(Ca);if((eb||ya&&null!==Ca)&&!Ta)try{if(ma.tagName.includes("-"))ma[na]=Ca;else if(Va=null==Ca?"":Ca,"list"===na)eb=!1;else if(null==Ha||ma[na]!=Va)ma[na]=Va}catch(ib){}Ha=!1;hb!==(hb=hb.replace(/^xlink:?/,""))&&(na=hb,Ha=!0);if(null==Ca||!1===Ca){if(!1!==Ca||""===ma.getAttribute(na))Ha?ma.removeAttributeNS("http://www.w3.org/1999/xlink",na):ma.removeAttribute(na)}else(!eb||bb&4||Ta)&&!ya&&(Ca=!0===Ca?"":Ca,Ha?ma.setAttributeNS("http://www.w3.org/1999/xlink",na,Ca):ma.setAttribute(na,
Ca))}else if(na="-"===na[2]?na.slice(3):hb in l?hb.slice(2):hb[2]+na.slice(3),Ha||Ca)Ta=na.endsWith(aa),na=na.replace(ha,""),Ha&&x.rel(ma,na,Ha,Ta),Ca&&x.ael(ma,na,Ca,Ta)}},X=/\s/,aa="Capture",ha=new RegExp(aa+"$"),I=(ma,na,Ha)=>{const Ca=11===na.$elm$.nodeType&&na.$elm$.host?na.$elm$.host:na.$elm$;ma=ma&&ma.$attrs$||G;const Ta=na.$attrs$||G;for(const bb of n(Object.keys(ma)))bb in Ta||sa(Ca,bb,ma[bb],void 0,Ha,na.$flags$);for(const bb of n(Object.keys(Ta)))sa(Ca,bb,ma[bb],Ta[bb],Ha,na.$flags$)},
T,da,la,ua=!1,Y=!1,ea=!1,ja=!1,V=(ma,na,Ha,Ca)=>{var Ta;na=na.$children$[Ha];let bb=0,ya;ua||(ea=!0,"slot"===na.$tag$&&(T&&Ca.classList.add(T+"-s"),na.$flags$|=na.$children$?2:1));if(null!==na.$text$)ya=na.$elm$=q.createTextNode(na.$text$);else if(na.$flags$&1)ya=na.$elm$=q.createTextNode("");else{ja||="svg"===na.$tag$;ya=na.$elm$=q.createElementNS(ja?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ua&&g.slotRelocation&&na.$flags$&2?"slot-fb":na.$tag$);ja&&"foreignObject"===na.$tag$&&
(ja=!1);I(null,na,ja);ya.getRootNode().querySelector("body")&&g.scoped&&null!=T&&ya["s-si"]!==T&&ya.classList.add(ya["s-si"]=T);cb(ya,Ca);if(na.$children$)for(bb=0;bb<na.$children$.length;++bb)(Ca=V(ma,na,bb,ya))&&ya.appendChild(Ca);"svg"===na.$tag$?ja=!1:"foreignObject"===ya.tagName&&(ja=!0)}ya["s-hn"]=la;na.$flags$&3&&(ya["s-sr"]=!0,ya["s-cr"]=da,ya["s-sn"]=na.$name$||"",ya["s-rf"]=null==(Ta=na.$attrs$)?void 0:Ta.ref,(Ha=ma&&ma.$children$&&ma.$children$[Ha])&&Ha.$tag$===na.$tag$&&ma.$elm$&&O(ma.$elm$,
!1));return ya},O=(ma,na)=>{x.$flags$|=1;const Ha=Array.from(ma.childNodes);if(ma["s-sr"]&&g.experimentalSlotFixes)for(var Ca=ma;Ca=Ca.nextSibling;)Ca&&Ca["s-sn"]===ma["s-sn"]&&Ca["s-sh"]===la&&Ha.push(Ca);for(ma=Ha.length-1;0<=ma;ma--)Ca=Ha[ma],Ca["s-hn"]!==la&&Ca["s-ol"]&&(Sa((Ca["s-ol"]?Ca["s-ol"]:Ca).parentNode,Ca,Ca&&Ca["s-ol"]||Ca),Ca["s-ol"].remove(),Ca["s-ol"]=void 0,Ca["s-sh"]=void 0,ea=!0),na&&O(Ca,na);x.$flags$&=-2},P=(ma,na,Ha,Ca,Ta,bb)=>{let ya=ma["s-cr"]&&ma["s-cr"].parentNode||ma,Va;
ya.shadowRoot&&ya.tagName===la&&(ya=ya.shadowRoot);for(;Ta<=bb;++Ta)Ca[Ta]&&(Va=V(null,Ha,Ta,ma))&&(Ca[Ta].$elm$=Va,Sa(ya,Va,na&&na["s-ol"]||na))},W=(ma,na,Ha)=>{for(;na<=Ha;++na){const Ca=ma[na];if(Ca){const Ta=Ca.$elm$;Qa(Ca);Ta&&(Y=!0,Ta["s-ol"]?Ta["s-ol"].remove():O(Ta,!0),Ta.remove())}}},ca=(ma,na,Ha,Ca,Ta=!1)=>{let bb=0,ya=0;var Va=0,eb=0;let hb=na.length-1,ib=na[0],Ma=na[hb],Xa=Ca.length-1,wa=Ca[0],Ja=Ca[Xa];for(;bb<=hb&&ya<=Xa;)if(null==ib)ib=na[++bb];else if(null==Ma)Ma=na[--hb];else if(null==
wa)wa=Ca[++ya];else if(null==Ja)Ja=Ca[--Xa];else if(oa(ib,wa,Ta))Aa(ib,wa,Ta),ib=na[++bb],wa=Ca[++ya];else if(oa(Ma,Ja,Ta))Aa(Ma,Ja,Ta),Ma=na[--hb],Ja=Ca[--Xa];else if(oa(ib,Ja,Ta))"slot"!==ib.$tag$&&"slot"!==Ja.$tag$||O(ib.$elm$.parentNode,!1),Aa(ib,Ja,Ta),Sa(ma,ib.$elm$,Ma.$elm$.nextSibling),ib=na[++bb],Ja=Ca[--Xa];else if(oa(Ma,wa,Ta))"slot"!==ib.$tag$&&"slot"!==Ja.$tag$||O(Ma.$elm$.parentNode,!1),Aa(Ma,wa,Ta),Sa(ma,Ma.$elm$,ib.$elm$),Ma=na[--hb],wa=Ca[++ya];else{Va=-1;for(eb=bb;eb<=hb;++eb)if(na[eb]&&
null!==na[eb].$key$&&na[eb].$key$===wa.$key$){Va=eb;break}0<=Va?(eb=na[Va],eb.$tag$!==wa.$tag$?Va=V(na&&na[ya],Ha,Va,ma):(Aa(eb,wa,Ta),na[Va]=void 0,Va=eb.$elm$)):Va=V(na&&na[ya],Ha,ya,ma);wa=Ca[++ya];if(Va){var Ua=eb=ib.$elm$;Sa((eb["s-ol"]?eb["s-ol"]:eb).parentNode,Va,Ua&&Ua["s-ol"]||Ua)}}bb>hb?P(ma,null==Ca[Xa+1]?null:Ca[Xa+1].$elm$,Ha,Ca,ya,Xa):ya>Xa&&W(na,bb,hb)},oa=(ma,na,Ha=!1)=>ma.$tag$===na.$tag$?"slot"===ma.$tag$?"$nodeId$"in ma&&Ha&&8!==ma.$elm$.nodeType?!1:ma.$name$===na.$name$:Ha?!0:
ma.$key$===na.$key$:!1,Aa=(ma,na,Ha=!1)=>{const Ca=na.$elm$=ma.$elm$,Ta=ma.$children$,bb=na.$children$,ya=na.$tag$,Va=na.$text$;null===Va?(ja="svg"===ya?!0:"foreignObject"===ya?!1:ja,("slot"!==ya||ua)&&I(ma,na,ja),null!==Ta&&null!==bb?ca(Ca,Ta,na,bb,Ha):null!==bb?(null!==ma.$text$&&(Ca.textContent=""),P(Ca,null,na,bb,0,bb.length-1)):!Ha&&g.updatable&&null!==Ta&&W(Ta,0,Ta.length-1),ja&&"svg"===ya&&(ja=!1)):(na=Ca["s-cr"])?na.parentNode.textContent=Va:ma.$text$!==Va&&(Ca.data=Va)},Ga=ma=>{ma=ma.childNodes;
for(const na of ma)if(1===na.nodeType){if(na["s-sr"]){const Ha=na["s-sn"];na.hidden=!1;for(const Ca of ma)if(Ca!==na)if(Ca["s-hn"]!==na["s-hn"]||""!==Ha){if(1===Ca.nodeType&&(Ha===Ca.getAttribute("slot")||Ha===Ca["s-sn"])||3===Ca.nodeType&&Ha===Ca["s-sn"]){na.hidden=!0;break}}else if(1===Ca.nodeType||3===Ca.nodeType&&""!==Ca.textContent.trim()){na.hidden=!0;break}}Ga(na)}},Fa=[],Pa=ma=>{let na,Ha;for(const Ca of ma.childNodes){if(Ca["s-sr"]&&(na=Ca["s-cr"])&&na.parentNode){ma=na.parentNode.childNodes;
const Ta=Ca["s-sn"];for(Ha=ma.length-1;0<=Ha;Ha--)if(na=ma[Ha],!na["s-cn"]&&!na["s-nr"]&&na["s-hn"]!==Ca["s-hn"]&&!g.experimentalSlotFixes)if(Na(na,Ta)){let bb=Fa.find(ya=>ya.$nodeToRelocate$===na);Y=!0;na["s-sn"]=na["s-sn"]||Ta;bb?(bb.$nodeToRelocate$["s-sh"]=Ca["s-hn"],bb.$slotRefNode$=Ca):(na["s-sh"]=Ca["s-hn"],Fa.push({$slotRefNode$:Ca,$nodeToRelocate$:na}));na["s-sr"]&&Fa.map(ya=>{Na(ya.$nodeToRelocate$,na["s-sn"])&&(bb=Fa.find(Va=>Va.$nodeToRelocate$===na))&&!ya.$slotRefNode$&&(ya.$slotRefNode$=
bb.$slotRefNode$)})}else Fa.some(bb=>bb.$nodeToRelocate$===na)||Fa.push({$nodeToRelocate$:na})}1===Ca.nodeType&&Pa(Ca)}},Na=(ma,na)=>1===ma.nodeType?null===ma.getAttribute("slot")&&""===na||ma.getAttribute("slot")===na?!0:!1:ma["s-sn"]===na?!0:""===na,Qa=ma=>{ma.$attrs$&&ma.$attrs$.ref&&ma.$attrs$.ref(null);ma.$children$&&ma.$children$.map(Qa)},Sa=(ma,na,Ha)=>{Ha=null==ma?void 0:ma.insertBefore(na,Ha);cb(na,ma);return Ha},Ya=ma=>{const na=[];ma&&na.push(...(ma["s-scs"]||[]),ma["s-si"],ma["s-sc"],
...Ya(ma.parentElement));return na},cb=(ma,na,Ha=!1)=>{var Ca;if(ma&&na&&1===ma.nodeType&&(na=new Set(Ya(na).filter(Boolean)),na.size&&(null==(Ca=ma.classList)?void 0:Ca.add(...(ma["s-scs"]=[...na])),ma["s-ol"]||Ha)))for(const Ta of Array.from(ma.childNodes))cb(Ta,ma,!0)},ab=(ma,na,Ha=!1)=>{var Ca,Ta,bb,ya,Va;const eb=ma.$hostElement$,hb=ma.$cmpMeta$;var ib=ma.$vnode$||N(null,null);const Ma=na&&na.$tag$===U?na:Q(null,null,na);la=eb.tagName;hb.$attrsToReflect$&&(Ma.$attrs$=Ma.$attrs$||{},hb.$attrsToReflect$.map(([Ja,
Ua])=>Ma.$attrs$[Ua]=eb[Ja]));if(Ha&&Ma.$attrs$)for(var Xa of Object.keys(Ma.$attrs$))eb.hasAttribute(Xa)&&!["key","ref","style","class"].includes(Xa)&&(Ma.$attrs$[Xa]=eb[Xa]);Ma.$tag$=null;Ma.$flags$|=4;ma.$vnode$=Ma;Ma.$elm$=ib.$elm$=eb.shadowRoot||eb;T=eb["s-sc"];ua=0!==(hb.$flags$&1);da=eb["s-cr"];Y=!1;Aa(ib,Ma,Ha);x.$flags$|=1;if(ea){Pa(Ma.$elm$);for(var wa of Fa)ma=wa.$nodeToRelocate$,ma["s-ol"]||(na=q.createTextNode(""),na["s-nr"]=ma,Sa(ma.parentNode,ma["s-ol"]=na,ma));for(const Ja of Fa)if(wa=
Ja.$nodeToRelocate$,ma=Ja.$slotRefNode$){na=ma.parentNode;ib=ma.nextSibling;for(Xa=null==(Ca=wa["s-ol"])?void 0:Ca.previousSibling;Xa;){let Ua=null!=(Ta=Xa["s-nr"])?Ta:null;if(Ua&&Ua["s-sn"]===wa["s-sn"]&&na===Ua.parentNode){for(Ua=Ua.nextSibling;Ua===wa||(null==Ua?0:Ua["s-sr"]);)Ua=null==Ua?void 0:Ua.nextSibling;if(!Ua||!Ua["s-nr"]){ib=Ua;break}}Xa=Xa.previousSibling}(ib||na===wa.parentNode)&&wa.nextSibling===ib||wa===ib||(!wa["s-hn"]&&wa["s-ol"]&&(wa["s-hn"]=wa["s-ol"].parentNode.nodeName),Sa(na,
wa,ib),1===wa.nodeType&&(wa.hidden=null!=(bb=wa["s-ih"])?bb:!1));wa&&"function"===typeof ma["s-rf"]&&ma["s-rf"](wa)}else 1===wa.nodeType&&(Ha&&(wa["s-ih"]=null!=(ya=wa.hidden)?ya:!1),wa.hidden=!0)}Y&&Ga(Ma.$elm$);x.$flags$&=-2;Fa.length=0;if(g.experimentalScopedSlotChanges&&hb.$flags$&2)for(const Ja of Ma.$elm$.childNodes)Ja["s-hn"]===la||Ja["s-sh"]||(Ha&&null==Ja["s-ih"]&&(Ja["s-ih"]=null!=(Va=Ja.hidden)?Va:!1),Ja.hidden=!0);da=void 0},nb=(ma,na)=>{ma.$flags$|=16;return L(()=>ta(ma,na))},ta=(ma,
na)=>{const Ha=ma.$hostElement$,Ca=K("scheduleUpdate",ma.$cmpMeta$.$tagName$);if(!Ha)throw Error(`Can't render component <${Ha.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Ta;Ta=na?$a(Ha,"componentWillLoad"):$a(Ha,"componentWillUpdate");Ta=Ba(Ta,()=>$a(Ha,"componentWillRender"));Ca();return Ba(Ta,()=>
Ra(ma,Ha,na))},Ba=(ma,na)=>ma instanceof Promise||ma&&ma.then&&"function"===typeof ma.then?ma.then(na).catch(Ha=>{console.error(Ha);na()}):na(),Ra=async(ma,na,Ha)=>{var Ca=ma.$hostElement$,Ta=K("update",ma.$cmpMeta$.$tagName$);Ca["s-rc"];if(Ha){var bb=ma.$cmpMeta$;Ca=ma.$hostElement$;const Ma=bb.$flags$,Xa=K("attachStyles",bb.$tagName$);var ya=Ca.shadowRoot?Ca.shadowRoot:Ca.getRootNode();const wa=Da(bb,ma.$modeName$);var Va=r.get(wa);ya=11===ya.nodeType?ya:q;if(Va)if("string"===typeof Va){ya=ya.head||
ya;let Ja=qa.get(ya),Ua;Ja||qa.set(ya,Ja=new Set);if(!Ja.has(wa)){Ua=q.createElement("style");Ua.innerHTML=Va;if(null==(Va=x.$nonce$)){var eb,hb,ib;Va=null!=(ib=null==(hb=null==(eb=q.head)?void 0:eb.querySelector('meta[name\x3d"csp-nonce"]'))?void 0:hb.getAttribute("content"))?ib:void 0}eb=Va;null!=eb&&Ua.setAttribute("nonce",eb);bb.$flags$&1&&!(bb.$flags$&1&&"HEAD"!==ya.nodeName)||ya.insertBefore(Ua,ya.querySelector("link"));bb.$flags$&4&&(Ua.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}");
Ja&&Ja.add(wa)}}else ya.adoptedStyleSheets.includes(Va)||(ya.adoptedStyleSheets=[...ya.adoptedStyleSheets,Va]);ya=wa;Ma&10&&Ma&2&&(Ca["s-sc"]=ya,Ca.classList.add(ya+"-h"),Ma&2&&Ca.classList.add(ya+"-s"));Xa()}Ca=K("render",ma.$cmpMeta$.$tagName$);try{na=na.render&&na.render(),ma.$flags$&=-17,ma.$flags$|=2,!g.hasRenderFn&&!g.reflect||!g.vdomRender&&!g.reflect||g.hydrateServerSide||ab(ma,na,Ha)}catch(Ma){(0,console.error)(Ma,ma.$hostElement$)}Ca();Ta();Ha=ma.$hostElement$;Ta=K("postUpdate",ma.$cmpMeta$.$tagName$);
ma.$ancestorComponent$;$a(Ha,"componentDidRender");ma.$flags$&64?$a(Ha,"componentDidUpdate"):(ma.$flags$|=64,$a(Ha,"componentDidLoad"));Ta()},$a=(ma,na,Ha)=>{if(ma&&ma[na])try{return ma[na](Ha)}catch(Ca){(0,console.error)(Ca,void 0)}},gb=(ma,na,Ha,Ca)=>{const Ta=p.get(ma),bb=Ta.$instanceValues$.get(na),ya=Ta.$flags$;Ha=ra(Ha,Ca.$members$[na][0]);const Va=Number.isNaN(bb)&&Number.isNaN(Ha);Ha===bb||Va||(Ta.$instanceValues$.set(na,Ha),Ca.$watchers$&&ya&128&&(Ca=Ca.$watchers$[na])&&Ca.map(eb=>{try{ma[eb](Ha,
bb,na)}catch(hb){(0,console.error)(hb,ma)}}),2!==(ya&18)||ma.componentShouldUpdate&&!1===ma.componentShouldUpdate(Ha,bb,na)||nb(Ta,!1))},qb=(ma,na,Ha)=>{var Ca,Ta;const bb=ma.prototype;if(na.$members$||na.$watchers$||ma.watchers){ma.watchers&&!na.$watchers$&&(na.$watchers$=ma.watchers);Ha=Object.entries(null!=(Ca=na.$members$)?Ca:{});Ha.map(([Va,[eb]])=>{(eb&31||eb&32)&&Object.defineProperty(bb,Va,{get(){return p.get(this).$instanceValues$.get(Va)},set(hb){gb(this,Va,hb,na)},configurable:!0,enumerable:!0})});
const ya=new Map;bb.attributeChangedCallback=function(Va,eb,hb){x.jmp(()=>{var ib,Ma=ya.get(Va);if(this.hasOwnProperty(Ma))hb=this[Ma],delete this[Ma];else{if(bb.hasOwnProperty(Ma)&&"number"===typeof this[Ma]&&this[Ma]==hb)return;if(null==Ma){Ma=p.get(this);if((Ma=null==Ma?void 0:Ma.$flags$)&&!(Ma&8)&&Ma&128&&hb!==eb){const Xa=this;Ma=null==(ib=na.$watchers$)?void 0:ib[Va];null==Ma?void 0:Ma.forEach(wa=>{null!=Xa[wa]&&Xa[wa].call(Xa,hb,eb,Va)})}return}}this[Ma]=null===hb&&"boolean"===typeof this[Ma]?
!1:hb})};ma.observedAttributes=Array.from(new Set([...Object.keys(null!=(Ta=na.$watchers$)?Ta:{}),...Ha.filter(([,Va])=>Va[0]&15).map(([Va,eb])=>{var hb;const ib=eb[1]||Va;ya.set(ib,Va);eb[0]&512&&(null==(hb=na.$attrsToReflect$)?void 0:hb.push([Va,ib]));return ib})]))}return ma},ub=async(ma,na,Ha,Ca)=>{if(0===(na.$flags$&32)&&(na.$flags$|=32,Ha.$lazyBundleId$,Ca=ma.constructor,customElements.whenDefined(ma.localName).then(()=>na.$flags$|=128),Ca&&Ca.style)){let Ta;"string"===typeof Ca.style?Ta=Ca.style:
"string"!==typeof Ca.style&&(na.$modeName$=xa(ma),na.$modeName$&&(Ta=Ca.style[na.$modeName$]));ma=Da(Ha,na.$modeName$);r.has(ma)||(Ca=K("registerStyles",Ha.$tagName$),za(ma,Ta,!!(Ha.$flags$&1)),Ca())}na.$ancestorComponent$;nb(na,!0)},ob=ma=>{if(0===(x.$flags$&1)){const na=p.get(ma),Ha=na.$cmpMeta$,Ca=K("connectedCallback",Ha.$tagName$);na.$flags$&1?(Eb(ma,na,Ha.$listeners$),(null==na?0:na.$lazyInstance$)||(null==na?0:na.$onReadyPromise$)&&na.$onReadyPromise$.then(()=>{})):(na.$flags$|=1,Ha.$flags$&
12&&Gb(ma),Ha.$members$&&Object.entries(Ha.$members$).map(([Ta,[bb]])=>{bb&31&&ma.hasOwnProperty(Ta)&&(bb=ma[Ta],delete ma[Ta],ma[Ta]=bb)}),ub(ma,na,Ha));Ca()}},Gb=ma=>{const na=ma["s-cr"]=q.createComment("");na["s-cn"]=!0;Sa(ma,na,ma.firstChild)},Lb=async ma=>{0===(x.$flags$&1)&&(ma=p.get(ma),ma.$rmListeners$&&(ma.$rmListeners$.map(na=>na()),ma.$rmListeners$=void 0))},Eb=(ma,na,Ha,Ca)=>{Ha&&Ha.map(([Ta,bb,ya])=>{const Va=Ta&4?q:Ta&8?l:Ta&16?q.body:ma,eb=Hb(na,ya),hb=A?{passive:0!==(Ta&1),capture:0!==
(Ta&2)}:0!==(Ta&2);x.ael(Va,bb,eb,hb);(na.$rmListeners$=na.$rmListeners$||[]).push(()=>x.rel(Va,bb,eb,hb))})},Hb=(ma,na)=>Ha=>{try{if(!g.lazyLoad)ma.$hostElement$[na](Ha)}catch(Ca){(0,console.error)(Ca,void 0)}};const Ab=globalThis.calciteConfig;v=Ab?.focusTrapStack||[];Ab?.logLevel||"info";const Bb=()=>"undefined"!==typeof navigator&&"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;(function(){Bb()&&
("interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",()=>e(),{once:!0}));m()})();a.CSS_UTILITY={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};
a.DEBOUNCE={filter:250,nextTick:0,resize:150,reposition:100};a.Fragment=(ma,na)=>na;a.H=c;a.Host=U;a.commitAssetPath=function(){try{M(".")}catch{x.$resourcesUrl$=h.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))}};a.createEvent=(ma,na,Ha)=>({emit:Ca=>{Ca=x.ce(na,{bubbles:!!(Ha&4),composed:!!(Ha&2),cancelable:!!(Ha&1),detail:Ca});ma.dispatchEvent(Ca);return Ca}});a.focusTrapStack=v;a.forceUpdate=ma=>{ma=p.get(ma);const na=ma.$hostElement$.isConnected;na&&2===(ma.$flags$&18)&&
nb(ma,!1);return na};a.getAssetPath=M;a.getUserAgentString=function(){if(!Bb())return"";const ma=navigator.userAgentData;return ma?.brands?ma.brands.map(({brand:na,version:Ha})=>`${na}/${Ha}`).join(" "):navigator.userAgent};a.h=Q;a.isBrowser=Bb;a.loadCalciteComponents=function(ma){const na=[];for(const Ha of Object.keys(ma))customElements.get(`calcite-${Ha}`)||na.push(ma[Ha]?.());return 0<na.length?Promise.all(na):null};a.proxyCustomElement=(ma,na)=>{const Ha={$flags$:na[0],$tagName$:na[1]};Ha.$members$=
na[2];Ha.$listeners$=na[3];Ha.$watchers$=ma.$watchers$;Ha.$attrsToReflect$=[];const Ca=ma.prototype.connectedCallback,Ta=ma.prototype.disconnectedCallback;Object.assign(ma.prototype,{__registerHost(){const bb={$flags$:0,$hostElement$:this,$cmpMeta$:Ha,$instanceValues$:new Map};p.set(this,bb)},connectedCallback(){const bb=p.get(this);Eb(this,bb,Ha.$listeners$);ob(this);Ca&&Ca.call(this)},disconnectedCallback(){Lb(this);Ta&&Ta.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",
delegatesFocus:!!(Ha.$flags$&16)});else if("open"!==this.shadowRoot.mode)throw Error(`Unable to re-use existing shadow root for ${Ha.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`);}});ma.is=Ha.$tagName$;return qb(ma,Ha)};a.readTask=C})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,c){function h(r,t){let l=t.children;if(l?.length)for(var q=0;q<l.length;++q)l[q]=h(r,l[q]);else l=
g;q=t.vnodeSelector;if(e(q)){t=t.properties||f;const x=t.key||q;return{vnodeSelector:q.vnodeSelector,properties:{key:x,afterCreate:d,afterUpdate:n,afterRemoved:m,parentWidget:r,widgetConstructor:q,widgetProperties:{...t,key:x,children:l}},children:void 0,text:void 0,domNode:null}}return t}function d(r,t,l,{parentWidget:q,widgetConstructor:x,widgetProperties:A}){const u=new x(A);u.container=r;p.set(r,u);u.afterCreate?.(u,r);q.addHandles(b.makeHandle(()=>m(r)));queueMicrotask(()=>{u[c.widgetTestDataSymbol].projector.renderNow()})}
function n(r,t,l,{widgetProperties:q}){if(t=p.get(r))t.set(q),t.afterUpdate?.(t,r)}function m(r){const t=p.get(r);t&&(t.afterRemoved?.(t,r),t.destroy(),p.delete(r))}function e(r){return"function"===typeof r&&r[c.widgetSymbol]}const g=[],f={},p=new WeakMap;a.isWidgetConstructor=e;a.processWidgets=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),c=Symbol("widget-test-data");a.widgetSymbol=
b;a.widgetTestDataSymbol=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=function(){return 0<b.size};a.registerLoading=function(c){b.add(c);c.finally(()=>b.delete(c))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),
function(a,b,c,h,d,n,m){a.accessibleHandler=b.accessibleHandler;a.messageBundle=c.messageBundle;a.vmEvent=h.vmEvent;a.tsx=d.tsx;a.tsxFragment=d.tsxFragment;a.additionalAllowedTags=n.additionalAllowedTags;a.classes=n.classes;a.discardNode=n.discardNode;a.isActivationKey=n.isActivationKey;a.isRTL=n.isRTL;a.onResize=n.onResize;a.renderingSanitizer=n.renderingSanitizer;a.safeAttrs=n.safeAttrs;a.setFocus=n.setFocus;a.storeNode=n.storeNode;a.getCalciteThemeClass=m.getCalciteThemeClass;a.isDarkTheme=m.isDarkTheme;
a.setCalciteThemeClass=m.setCalciteThemeClass;a.hasDomNode=function(e){return e&&"function"===typeof e.postMixInProperties&&"function"===typeof e.buildRendering&&"function"===typeof e.postCreate&&"function"===typeof e.startup};a.isWidget=function(e){return e&&"function"===typeof e.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function c(h){return function(d,...n){const m=
d?.type;d instanceof KeyboardEvent||"keyup"===m||"keydown"===m||"keypress"===m?b.isActivationKey(d.key)&&(d.preventDefault(),d.stopPropagation(),d.target.click()):h.call(this,d,...n)}}a.accessibleHandler=function(){return function(h,d){if(!h[d])throw new TypeError(`Cannot auto bind undefined function '${String(d)}'`);return{value:c(h[d])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=
function(b){return(c,h)=>{c.hasOwnProperty("_messageBundleProps")||(c._messageBundleProps=c._messageBundleProps?c._messageBundleProps.slice():[]);c._messageBundleProps.push({bundlePath:b,propertyName:h})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(c){return c.split(",").map(h=>h.trim())}a.vmEvent=function(c){return h=>{h.hasOwnProperty("_delegatedEventNames")||(h._delegatedEventNames=
h._delegatedEventNames?h._delegatedEventNames.slice():[]);h=h._delegatedEventNames;const d=Array.isArray(c)?c:b(c);h.push(...d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var c=function(d,n){for(var m=0,e=d.length;m<e;m++){var g=d[m];Array.isArray(g)?c(g,n):null!==g&&void 0!==g&&!1!==g&&(g.hasOwnProperty("vnodeSelector")||(g={vnodeSelector:"",properties:void 0,children:void 0,
text:g.toString(),domNode:null}),n.push(g))}},h=function(d,n){for(var m=[],e=2;e<arguments.length;e++)m[e-2]=arguments[e];if(1===m.length&&"string"===typeof m[0])return{vnodeSelector:d,properties:n||void 0,children:void 0,text:m[0],domNode:null};e=[];c(m,e);return{vnodeSelector:d,properties:n||void 0,children:e,text:void 0,domNode:null}};a.tsx=function(d,n,...m){return"function"!==typeof d||b.isWidgetConstructor(d)?h(d,n,...m):d(n,...m)};a.tsxFragment=function(...d){return d};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function c(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function h(d){Array.from(d.classList).forEach(n=>{n.startsWith("calcite-mode-")&&d.classList.remove(n)})}a.getCalciteThemeClass=c;a.isDarkTheme=b;a.setCalciteThemeClass=function(d){h(d);d.classList.add(c())};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);